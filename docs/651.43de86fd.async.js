(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[651],{40010:function(gt,S,d){"use strict";d.d(S,{sg:function(){return p0},yi:function(){return x0},aC:function(){return C0},x1:function(){return L0},Kj:function(){return k0},Ex:function(){return Y0},Fk:function(){return X0},TZ:function(){return j0},m:function(){return rm},cQ:function(){return im},kB:function(){return lm}});var y={};d.r(y),d.d(y,{Base:function(){return pa},Circle:function(){return Yb},Ellipse:function(){return Xb},Image:function(){return Hb},Line:function(){return jb},Marker:function(){return Kb},Path:function(){return qu},Polygon:function(){return ow},Polyline:function(){return lw},Rect:function(){return cw},Text:function(){return dw}});var L={};d.r(L),d.d(L,{Canvas:function(){return Kc},Event:function(){return ne.Event},Group:function(){return $u},Shape:function(){return y},__esModule:function(){return pw.X},version:function(){return bw}});var I={};d.r(I),d.d(I,{Base:function(){return la},Circle:function(){return _w},Dom:function(){return Pw},Ellipse:function(){return Ow},Image:function(){return Iw},Line:function(){return Bw},Marker:function(){return Fw},Path:function(){return Nw},Polygon:function(){return Yw},Polyline:function(){return Xw},Rect:function(){return Uw},Text:function(){return qw}});var O={};d.r(O),d.d(O,{Canvas:function(){return iv},Event:function(){return ne.Event},Group:function(){return ef},Shape:function(){return I},version:function(){return wS}});var T={};d.r(T),d.d(T,{Chart:function(){return X1},ComponentController:function(){return Do},DIRECTION:function(){return it},Event:function(){return Lr},Facet:function(){return xr},Geometry:function(){return Ga},GeometryLabel:function(){return Ks},Interaction:function(){return ho},InteractionAction:function(){return qr},LAYER:function(){return W},Types:function(){return yb},Util:function(){return Wv},VERSION:function(){return mb},View:function(){return Nu},getActionClass:function(){return Gi},getAnimation:function(){return Yu},getEngine:function(){return U},getFacet:function(){return Hr},getGeometryLabel:function(){return xc},getGeometryLabelLayout:function(){return bc},getInteraction:function(){return co},getShapeFactory:function(){return Xu},getTheme:function(){return St},registerAction:function(){return _r},registerAnimation:function(){return Un},registerComponentController:function(){return Kr},registerEngine:function(){return j},registerFacet:function(){return Fr},registerGeometry:function(){return da},registerGeometryLabel:function(){return hs},registerGeometryLabelLayout:function(){return vo},registerInteraction:function(){return wn},registerShape:function(){return rn},registerShapeFactory:function(){return Qa},registerTheme:function(){return Gt}});var _={};d.r(_),d.d(_,{EVENT_MAP:function(){return Qr},onEvent:function(){return Wn}});var C={};d.r(C),d.d(C,{EVENT_MAP:function(){return Qr},onEvent:function(){return Wn}});var E={};d.r(E),d.d(E,{EVENT_MAP:function(){return Qr},onEvent:function(){return Wn}});var p={};d.r(p),d.d(p,{EVENT_MAP:function(){return Qr},onEvent:function(){return Wn}});var w={};d.r(w),d.d(w,{EVENT_MAP:function(){return Qr},onEvent:function(){return Wn}});var g={};d.r(g),d.d(g,{EVENT_MAP:function(){return Qr},onEvent:function(){return Wn}});var b={};d.r(b),d.d(b,{EVENT_MAP:function(){return Qr},onEvent:function(){return Wn}});var m={};d.r(m),d.d(m,{EVENT_MAP:function(){return Qr},onEvent:function(){return Wn}});var M={};d.r(M),d.d(M,{EVENT_MAP:function(){return Qr},onEvent:function(){return Wn}});var P={};d.r(P),d.d(P,{EVENT_MAP:function(){return Qr},onEvent:function(){return Wn}});var k={};d.r(k),d.d(k,{EVENT_MAP:function(){return Qr},onEvent:function(){return Wn}});var N={};d.r(N),d.d(N,{EVENT_MAP:function(){return Qr},onEvent:function(){return Wn}});var V={};d.r(V),d.d(V,{EVENT_MAP:function(){return Qr},onEvent:function(){return Wn}});var $={};d.r($),d.d($,{EVENT_MAP:function(){return Qr},onEvent:function(){return Wn}});var Z={};d.r(Z),d.d(Z,{EVENT_MAP:function(){return Qr},onEvent:function(){return Wn}});var J={};d.r(J),d.d(J,{EVENT_MAP:function(){return Qr},onEvent:function(){return Wn}});var lt={};d.r(lt),d.d(lt,{EVENT_MAP:function(){return Qr},onEvent:function(){return Wn}});var rt={};d.r(rt),d.d(rt,{EVENT_MAP:function(){return Qr},onEvent:function(){return Wn}});var bt={};d.r(bt),d.d(bt,{EVENT_MAP:function(){return Qr},onEvent:function(){return Wn}});var Ot={};d.r(Ot),d.d(Ot,{EVENT_MAP:function(){return Qr},onEvent:function(){return Wn}});var Bt={};d.r(Bt),d.d(Bt,{EVENT_MAP:function(){return Qr},onEvent:function(){return Wn}});var Et={};d.r(Et),d.d(Et,{calculationItemsBBox:function(){return fm},cloneEvent:function(){return jl},formatPadding:function(){return Sh},isNaN:function(){return ja},isViewportChanged:function(){return um},processParallelEdges:function(){return nR}});var Dt={};d.r(Dt),d.d(Dt,{getColorsWithSubjectColor:function(){return mm},mixColor:function(){return Pa}});var It={};d.r(It),d.d(It,{Line:function(){return Eo},applyMatrix:function(){return Ts},distance:function(){return Os},floydWarshall:function(){return Ah},fractionToLine:function(){return Lh},getAdjMatrix:function(){return Ph},getBBoxBoundLine:function(){return Oh},getCircleCenterByPoints:function(){return _h},getCircleIntersectByPoint:function(){return Im},getDegree:function(){return Ql},getEllipseIntersectByPoint:function(){return km},getLineIntersect:function(){return Ps},getPointsCenter:function(){return Ym},getRectIntersectByPoint:function(){return Lm},intersectBBox:function(){return Nm},invertMatrix:function(){return Bm},isPointInPolygon:function(){return Ls},isPointsOverlap:function(){return Ih},isPolygonsIntersect:function(){return Th},itemIntersectByLine:function(){return Gm},move:function(){return Rm},pointLineSquareDist:function(){return zm},pointRectSquareDist:function(){return Xm},rotate:function(){return FR},scale:function(){return DR},scaleMatrix:function(){return Dm},squareDist:function(){return Jl},translate:function(){return Fm}});var _t={};d.r(_t),d.d(_t,{getClosedSpline:function(){return kh},getControlPoint:function(){return ql},getSpline:function(){return Vm},paddedHull:function(){return Km},pathToPoints:function(){return tu},pointsToPolygon:function(){return Hm},roundedHull:function(){return Zm}});var Xt={};d.r(Xt),d.d(Xt,{getBBox:function(){return ru},getChartRegion:function(){return s3},getComboBBox:function(){return Nh},getLabelPosition:function(){return nu},getLetterWidth:function(){return lx},getLoopCfgs:function(){return ax},getTextSize:function(){return ux},plainCombosToTrees:function(){return Fh},radialLayout:function(){return sx},reconstructTree:function(){return Rh},traverseTree:function(){return Ri},traverseTreeUp:function(){return fa}});var z={};d.r(z),d.d(z,{adjMatrix:function(){return xu},breadthFirstSearch:function(){return Q8},degree:function(){return Hx},depthFirstSearch:function(){return M1},detectAllCycles:function(){return t9},detectAllDirectedCycle:function(){return P1},detectAllUndirectedCycle:function(){return A1},detectDirectedCycle:function(){return e9},findAllPath:function(){return o9},findShortestPath:function(){return a9},floydWarshall:function(){return Zx},getConnectedComponents:function(){return _1},getPageRank:function(){return p9},minimumSpanningTree:function(){return v9}});var R=d(67294),F=d(45687),D=d(60517),u=d(49242),W;(function(i){i.FORE="fore",i.MID="mid",i.BG="bg"})(W||(W={}));var it;(function(i){i.TOP="top",i.TOP_LEFT="top-left",i.TOP_RIGHT="top-right",i.RIGHT="right",i.RIGHT_TOP="right-top",i.RIGHT_BOTTOM="right-bottom",i.LEFT="left",i.LEFT_TOP="left-top",i.LEFT_BOTTOM="left-bottom",i.BOTTOM="bottom",i.BOTTOM_LEFT="bottom-left",i.BOTTOM_RIGHT="bottom-right",i.RADIUS="radius",i.CIRCLE="circle",i.NONE="none"})(it||(it={}));var nt;(function(i){i.AXIS="axis",i.GRID="grid",i.LEGEND="legend",i.TOOLTIP="tooltip",i.ANNOTATION="annotation",i.OTHER="other"})(nt||(nt={}));var mt={FORE:3,MID:2,BG:1},et;(function(i){i.BEFORE_RENDER="beforerender",i.AFTER_RENDER="afterrender",i.BEFORE_PAINT="beforepaint",i.AFTER_PAINT="afterpaint",i.BEFORE_CHANGE_DATA="beforechangedata",i.AFTER_CHANGE_DATA="afterchangedata",i.BEFORE_CLEAR="beforeclear",i.AFTER_CLEAR="afterclear",i.BEFORE_DESTROY="beforedestroy"})(et||(et={}));var ct;(function(i){i.MOUSE_ENTER="plot:mouseenter",i.MOUSE_DOWN="plot:mousedown",i.MOUSE_MOVE="plot:mousemove",i.MOUSE_UP="plot:mouseup",i.MOUSE_LEAVE="plot:mouseleave",i.TOUCH_START="plot:touchstart",i.TOUCH_MOVE="plot:touchmove",i.TOUCH_END="plot:touchend",i.TOUCH_CANCEL="plot:touchcancel",i.CLICK="plot:click",i.DBLCLICK="plot:dblclick",i.CONTEXTMENU="plot:contextmenu",i.LEAVE="plot:leave",i.ENTER="plot:enter"})(ct||(ct={}));var Pt;(function(i){i.ACTIVE="active",i.INACTIVE="inactive",i.SELECTED="selected",i.DEFAULT="default"})(Pt||(Pt={}));var At=["color","shape","size"],ot="_origin",wt=1,st=1,K=.25,tt={};function U(i){var r=tt[i];if(!r)throw new Error("G engine '"+i+"' is not exist, please register it at first.");return r}function j(i,r){tt[i]=r}var at=d(6056),vt=d(45442);function Ft(i){var r=getComputedStyle(i);return{width:(i.clientWidth||parseInt(r.width,10))-parseInt(r.paddingLeft,10)-parseInt(r.paddingRight,10),height:(i.clientHeight||parseInt(r.height,10))-parseInt(r.paddingTop,10)-parseInt(r.paddingBottom,10)}}function Jt(i){return typeof i=="number"&&!isNaN(i)}function le(i,r,t,e){var n=t,a=e;if(r){var o=Ft(i);n=o.width?o.width:n,a=o.height?o.height:a}return{width:Math.max(Jt(n)?n:wt,wt),height:Math.max(Jt(a)?a:st,st)}}function ge(i){var r=i.parentNode;r&&r.removeChild(i)}var Zt=d(90494),kt=function(i){(0,D.__extends)(r,i);function r(t){var e=i.call(this)||this;e.destroyed=!1;var n=t.visible,a=n===void 0?!0:n;return e.visible=a,e}return r.prototype.show=function(){var t=this.visible;t||this.changeVisible(!0)},r.prototype.hide=function(){var t=this.visible;t&&this.changeVisible(!1)},r.prototype.destroy=function(){this.off(),this.destroyed=!0},r.prototype.changeVisible=function(t){this.visible!==t&&(this.visible=t)},r}(Zt.default),zt=kt,ne=d(39014),de=d(28014),Ce=d(24796),De=d(21392),ze=d(50782),er=d(2443),yr=d(51441),tn=yr.Axis.Line,nn=yr.Axis.Circle,gn=yr.Grid.Line,yn=yr.Grid.Circle,jt=yr.Legend.Category,ee=yr.Legend.Continuous,se=yr.Tooltip.Html,fe=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function we(i){var r="linear";return fe.test(i)?r="time":(0,u.isString)(i)&&(r="cat"),r}function Ee(i,r,t){var e=r||[];if((0,u.isNumber)(i)||(0,u.isNil)((0,u.firstValue)(e,i))&&(0,u.isEmpty)(t)){var n=(0,er.getScale)("identity");return new n({field:i.toString(),values:[i]})}var a=(0,u.valuesOfKey)(e,i),o=(0,u.get)(t,"type",we(a[0])),s=(0,er.getScale)(o);return new s((0,D.__assign)({field:i,values:a},t))}function Oe(i,r){if(i.type!=="identity"&&r.type!=="identity"){var t={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e]);i.change(t)}}function Ie(i){return i.alias||i.field}var xe=d(31437);function Ze(i){var r,t;switch(i){case it.TOP:r={x:0,y:1},t={x:1,y:1};break;case it.RIGHT:r={x:1,y:0},t={x:1,y:1};break;case it.BOTTOM:r={x:0,y:0},t={x:1,y:0};break;case it.LEFT:r={x:0,y:0},t={x:0,y:1};break;default:r=t={x:0,y:0}}return{start:r,end:t}}function Ge(i){var r,t;return i.isTransposed?(r={x:0,y:0},t={x:1,y:0}):(r={x:0,y:0},t={x:0,y:1}),{start:r,end:t}}function qe(i,r){var t={start:{x:0,y:0},end:{x:0,y:0}};i.isRect?t=Ze(r):i.isPolar&&(t=Ge(i));var e=t.start,n=t.end;return{start:i.convert(e),end:i.convert(n)}}function or(i,r){if(i.isRect)return i.isTransposed?[DIRECTION.RIGHT,DIRECTION.BOTTOM].includes(r)?1:-1:[DIRECTION.BOTTOM,DIRECTION.RIGHT].includes(r)?-1:1;if(i.isPolar){var t=i.x.start;return t<0?-1:1}return 1}function rr(i){var r=i.start,t=i.end;return r.x===t.x}function ur(i,r){var t=i.start,e=i.end,n=rr(i);return n?(t.y-e.y)*(r.x-t.x)>0?1:-1:(e.x-t.x)*(t.y-r.y)>0?-1:1}function ar(i,r){return(0,u.get)(i,["components","axis",r],{})}function pr(i){var r=i.x,t=i.y,e=i.circleCenter,n=t.start>t.end,a=i.isTransposed?i.convert({x:n?0:1,y:0}):i.convert({x:0,y:n?0:1}),o=[a.x-e.x,a.y-e.y],s=[1,0],l=a.y>e.y?xe.angle(o,s):xe.angle(o,s)*-1,f=l+(r.end-r.start),h=Math.sqrt(Math.pow(a.x-e.x,2)+Math.pow(a.y-e.y,2));return{center:e,radius:h,startAngle:l,endAngle:f}}function tr(i,r){return(0,u.isBoolean)(i)?i===!1?!1:{}:(0,u.get)(i,[r])}function mr(i,r){return(0,u.get)(i,"position",r)}function kr(i,r){return(0,u.get)(r,["title","text"],Ie(i))}var xr=function(){function i(r,t){this.destroyed=!1,this.facets=[],this.view=r,this.cfg=(0,u.deepMix)({},this.getDefaultCfg(),t)}return i.prototype.init=function(){this.container||(this.container=this.createContainer());var r=this.view.getData();this.facets=this.generateFacets(r)},i.prototype.render=function(){this.renderViews()},i.prototype.update=function(){},i.prototype.clear=function(){this.clearFacetViews()},i.prototype.destroy=function(){this.clear(),this.container&&(this.container.remove(!0),this.container=void 0),this.destroyed=!0,this.view=void 0,this.facets=[]},i.prototype.facetToView=function(r){var t=r.region,e=r.data,n=r.padding,a=n===void 0?this.cfg.padding:n,o=this.view.createView({region:t,padding:a});o.data(e||[]),r.view=o,this.beforeEachView(o,r);var s=this.cfg.eachView;return s&&s(o,r),this.afterEachView(o,r),o},i.prototype.createContainer=function(){var r=this.view.getLayer(W.FORE);return r.addGroup()},i.prototype.renderViews=function(){this.createFacetViews()},i.prototype.createFacetViews=function(){var r=this;return this.facets.map(function(t){return r.facetToView(t)})},i.prototype.clearFacetViews=function(){var r=this;(0,u.each)(this.facets,function(t){t.view&&(r.view.removeView(t.view),t.view=void 0)})},i.prototype.getFieldValues=function(r,t){var e=[],n={};return(0,u.each)(r,function(a){var o=a[t];!(0,u.isNil)(o)&&!n[o]&&(e.push(o),n[o]=!0)}),e},i.prototype.getRegion=function(r,t,e,n){var a=1/(t===0?1:t),o=1/(r===0?1:r),s={x:a*e,y:o*n},l={x:a*(e+1),y:o*(n+1)};return{start:s,end:l}},i.prototype.getDefaultCfg=function(){return{eachView:void 0,showTitle:!0,padding:10,fields:[]}},i.prototype.getDefaultTitleCfg=function(){var r=this.view.getTheme().fontFamily;return{style:{fontSize:14,fill:"#666",fontFamily:r}}},i.prototype.processAxis=function(r,t){var e=r.getOptions(),n=e.coordinate,a=r.geometries,o=(0,u.get)(n,"type","rect");if(o==="rect"&&a.length){(0,u.isNil)(e.axes)&&(e.axes={});var s=e.axes,l=a[0].getXYFields(),f=l[0],h=l[1],c=tr(s,f),v=tr(s,h);c!==!1&&(e.axes[f]=this.getXAxisOption(f,s,c,t)),v!==!1&&(e.axes[h]=this.getYAxisOption(h,s,v,t))}},i.prototype.getFacetDataFilter=function(r){return function(t){return(0,u.every)(r,function(e){var n=e.field,a=e.value;return!(0,u.isNil)(a)&&n?t[n]===a:!0})}},i}(),Ir={},Hr=function(i){return Ir[(0,u.lowerCase)(i)]},Fr=function(i,r){Ir[(0,u.lowerCase)(i)]=r},In=function(){function i(r,t){this.context=r,this.cfg=t,r.addAction(this)}return i.prototype.applyCfg=function(r){(0,u.assign)(this,r)},i.prototype.init=function(){this.applyCfg(this.cfg)},i.prototype.destroy=function(){this.context.removeAction(this),this.context=null},i}(),qr=In,Yn=function(i){(0,D.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.execute=function(){this.callback&&this.callback(this.context)},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.callback=null},r}(qr),hi=Yn,Zn={};function Ii(i,r){var t=Zn[i],e=null;if(t){var n=t.ActionClass,a=t.cfg;e=new n(r,a),e.name=i,e.init()}return e}function Gi(i){var r=Zn[i];return(0,u.get)(r,"ActionClass")}function _r(i,r,t){Zn[i]={ActionClass:r,cfg:t}}function ci(i){delete Zn[i]}function Si(i,r){var t=new hi(r);return t.callback=i,t.name="callback",t}function ei(i){if((0,u.isEmpty)(i))return null;var r=i[0].x,t=i[0].x,e=i[0].y,n=i[0].y;return(0,u.each)(i,function(a){r=r>a.x?a.x:r,t=t<a.x?a.x:t,e=e>a.y?a.y:e,n=n<a.y?a.y:n}),{minX:r,maxX:t,minY:e,maxY:n,centerX:(r+t)/2,centerY:(e+n)/2}}function mn(i,r,t,e){return{x:i+t*Math.cos(e),y:r+t*Math.sin(e)}}function Jn(i,r,t,e,n,a){a===void 0&&(a=0);var o=mn(i,r,t,e),s=mn(i,r,t,n),l=mn(i,r,a,e),f=mn(i,r,a,n);if(n-e==Math.PI*2){var h=mn(i,r,t,e+Math.PI),c=mn(i,r,a,e+Math.PI),v=[["M",o.x,o.y],["A",t,t,0,1,1,h.x,h.y],["A",t,t,0,1,1,s.x,s.y],["M",l.x,l.y]];return a&&(v.push(["A",a,a,0,1,0,c.x,c.y]),v.push(["A",a,a,0,1,0,f.x,f.y])),v.push(["M",o.x,o.y]),v.push(["Z"]),v}var x=n-e<=Math.PI?0:1,A=[["M",o.x,o.y],["A",t,t,0,x,1,s.x,s.y],["L",f.x,f.y]];return a&&A.push(["A",a,a,0,x,0,l.x,l.y]),A.push(["L",o.x,o.y]),A.push(["Z"]),A}function ji(i,r,t,e,n){var a=mn(i,r,t,e),o=mn(i,r,t,n);if((0,u.isNumberEqual)(n-e,Math.PI*2)){var s=mn(i,r,t,e+Math.PI);return[["M",a.x,a.y],["A",t,t,0,1,1,s.x,s.y],["A",t,t,0,1,1,a.x,a.y],["A",t,t,0,1,0,s.x,s.y],["A",t,t,0,1,0,a.x,a.y],["Z"]]}var l=n-e<=Math.PI?0:1;return[["M",a.x,a.y],["A",t,t,0,l,1,o.x,o.y]]}function ki(i,r){var t=i.points,e=ei(t),n,a,o=r.startAngle,s=r.endAngle,l=s-o;return r.isTransposed?(n=e.maxY*l,a=e.minY*l):(n=e.maxX*l,a=e.minX*l),n+=o,a+=o,{startAngle:a,endAngle:n}}function Bi(i,r){if((0,u.isNumber)(i)&&(0,u.isNumber)(r))return[i,r];for(var t=-1,e=0,n=0,a,o=i.length-1,s,l=0;++t<i.length;)a=o,o=t,l+=s=i[a]*r[o]-i[o]*r[a],e+=(i[a]+i[o])*s,n+=(r[a]+r[o])*s;return l*=3,[e/l,n/l]}function Vn(i,r){var t=i.attr(),e=r.attr();return(0,u.each)(t,function(n,a){e[a]===void 0&&(e[a]=void 0)}),e}function Ji(i,r,t){var e=Math.min(r,t),n=Math.max(r,t);return i>=e&&i<=n}function ca(i,r,t){if((0,u.isString)(i))return i.padEnd(r,t);if((0,u.isArray)(i)){var e=i.length;if(e<r)for(var n=r-e,a=0;a<n;a++)i.push(t)}return i}function Nt(i,r){return r.forEach(function(t){delete i[t]}),i}function Mt(i,r,t){r===void 0&&(r=[]),t===void 0&&(t={});for(var e=0,n=i;e<n.length;e++){var a=n[e];t[a]||(r.push(a),t[a]=!0)}return r}function dt(i){if(i.isPolar&&!i.isTransposed)return(i.endAngle-i.startAngle)*i.getRadius();var r=i.convert({x:0,y:0}),t=i.convert({x:1,y:0});return Math.sqrt(Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2))}function yt(i){if(i.isPolar){var r=i.startAngle,t=i.endAngle;return t-r==Math.PI*2}return!1}function Vt(i,r){var t=i.getCenter();return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))}function re(i,r){var t=!1;if(i)if(i.type==="theta"){var e=i.start,n=i.end;t=Ji(r.x,e.x,n.x)&&Ji(r.y,e.y,n.y)}else{var a=i.invert(r);t=Ji(a.x,0,1)&&Ji(a.y,0,1)}return t}function ve(i,r){var t=i.getCenter();return Math.atan2(r.y-t.y,r.x-t.x)}function ye(i,r){r===void 0&&(r=0);var t=i.start,e=i.end,n=i.getWidth(),a=i.getHeight();if(i.isPolar){var o=i.startAngle,s=i.endAngle,l=i.getCenter(),f=i.getRadius();return{type:"path",startState:{path:Jn(l.x,l.y,f+r,o,o)},endState:function(c){var v=(s-o)*c+o,x=Jn(l.x,l.y,f+r,o,v);return{path:x}},attrs:{path:Jn(l.x,l.y,f+r,o,s)}}}var h;return i.isTransposed?h={height:a+r*2}:h={width:n+r*2},{type:"rect",startState:{x:t.x-r,y:e.y-r,width:i.isTransposed?n+r*2:0,height:i.isTransposed?0:a+r*2},endState:h,attrs:{x:t.x-r,y:e.y-r,width:n+r*2,height:a+r*2}}}function me(i,r){var t=[];if(i.length){t.push(["M",i[0].x,i[0].y]);for(var e=1,n=i.length;e<n;e+=1){var a=i[e];t.push(["L",a.x,a.y])}r&&t.push(["Z"])}return t}function Ct(i,r){for(var t=[i[0]],e=1,n=i.length;e<n;e=e+2){var a=r.convert({x:i[e],y:i[e+1]});t.push(a.x,a.y)}return t}function Tt(i,r,t){var e=t.isTransposed,n=t.startAngle,a=t.endAngle,o={x:i[1],y:i[2]},s={x:r[1],y:r[2]},l=[],f=e?"y":"x",h=Math.abs(s[f]-o[f])*(a-n),c=s[f]>=o[f]?1:0,v=h>Math.PI?1:0,x=t.convert(s),A=Vt(t,x);if(A>=.5)if(h===Math.PI*2){var B={x:(s.x+o.x)/2,y:(s.y+o.y)/2},G=t.convert(B);l.push(["A",A,A,0,v,c,G.x,G.y]),l.push(["A",A,A,0,v,c,x.x,x.y])}else l.push(["A",A,A,0,v,c,x.x,x.y]);return l}function Lt(i){(0,u.each)(i,function(r,t){var e=r;if(e[0].toLowerCase()==="a"){var n=i[t-1],a=i[t+1];a&&a[0].toLowerCase()==="a"?n&&n[0].toLowerCase()==="l"&&(n[0]="M"):n&&n[0].toLowerCase()==="a"&&a&&a[0].toLowerCase()==="l"&&(a[0]="M")}})}var Ht=function(i,r,t,e){var n=[],a,o,s=!!e,l,f;if(s){l=[Infinity,Infinity],f=[-Infinity,-Infinity];for(var h=0,c=i.length;h<c;h++){var v=i[h];l=xe.min([0,0],l,v),f=xe.max([0,0],f,v)}l=xe.min([0,0],l,e[0]),f=xe.max([0,0],f,e[1])}for(var h=0,x=i.length;h<x;h++){var v=i[h];if(t)a=i[h?h-1:x-1],o=i[(h+1)%x];else if(h===0||h===x-1){n.push(v);continue}else a=i[h-1],o=i[h+1];var A=[0,0];A=xe.sub(A,o,a),A=xe.scale(A,A,r);var B=xe.distance(v,a),G=xe.distance(v,o),H=B+G;H!==0&&(B/=H,G/=H);var X=xe.scale([0,0],A,-B),ut=xe.scale([0,0],A,G),ft=xe.add([0,0],v,X),xt=xe.add([0,0],v,ut);s&&(ft=xe.max([0,0],ft,l),ft=xe.min([0,0],ft,f),xt=xe.max([0,0],xt,l),xt=xe.min([0,0],xt,f)),n.push(ft),n.push(xt)}return t&&n.push(n.shift()),n};function qt(i,r,t){for(var e=!!r,n=[],a=0,o=i.length;a<o;a+=2)n.push([i[a],i[a+1]]);for(var s=Ht(n,.4,e,t),l=n.length,f=[],h,c,v,a=0;a<l-1;a++)h=s[a*2],c=s[a*2+1],v=n[a+1],f.push(["C",h[0],h[1],c[0],c[1],v[0],v[1]]);return e&&(h=s[l],c=s[l+1],v=n[0],f.push(["C",h[0],h[1],c[0],c[1],v[0],v[1]])),f}function Ut(i,r){return me(i,r)}function be(i,r,t){var e=[],n=i[0],a=null;if(i.length<=2)return Ut(i,r);for(var o=0,s=i.length;o<s;o++){var l=i[o];(!a||!(a.x===l.x&&a.y===l.y))&&(e.push(l.x),e.push(l.y),a=l)}var f=t||[[0,0],[1,1]],h=qt(e,r,f);return h.unshift(["M",n.x,n.y]),h}function _e(i,r){var t=[];return(0,u.each)(r,function(e){var n=e[0];switch(n.toLowerCase()){case"m":case"l":case"c":t.push(Ct(e,i));break;case"z":default:t.push(e);break}}),t}function je(i,r){var t=[],e,n,a,o;return(0,u.each)(r,function(s,l){var f=s[0];switch(f.toLowerCase()){case"m":case"c":case"q":t.push(Ct(s,i));break;case"l":e=r[l-1],n=s,a=i.isTransposed,o=a?e[e.length-2]===n[1]:e[e.length-1]===n[2],o?t=t.concat(Tt(e,n,i)):t.push(Ct(s,i));break;case"z":default:t.push(s);break}}),Lt(t),t}var Te=function(){function i(r,t,e,n){r===void 0&&(r=0),t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0),this.x=r,this.y=t,this.height=n,this.width=e}return i.fromRange=function(r,t,e,n){return new i(r,t,e-r,n-t)},Object.defineProperty(i.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(r){return this.x===r.x&&this.y===r.y&&this.width===r.width&&this.height===r.height},i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height)},i.prototype.add=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=this.clone();return(0,u.each)(r,function(n){e.x=Math.min(n.x,e.x),e.y=Math.min(n.y,e.y),e.width=Math.max(n.maxX,e.maxX)-e.x,e.height=Math.max(n.maxY,e.maxY)-e.y}),e},i.prototype.merge=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=this.clone();return(0,u.each)(r,function(n){e.x=Math.max(n.x,e.x),e.y=Math.max(n.y,e.y),e.width=Math.min(n.maxX,e.maxX)-e.x,e.height=Math.min(n.maxY,e.maxY)-e.y}),e},i.prototype.cut=function(r,t){var e=r.width,n=r.height;switch(t){case it.TOP:case it.TOP_LEFT:case it.TOP_RIGHT:return i.fromRange(this.minX,this.minY+n,this.maxX,this.maxY);case it.RIGHT:case it.RIGHT_TOP:case it.RIGHT_BOTTOM:return i.fromRange(this.minX,this.minY,this.maxX-e,this.maxY);case it.BOTTOM:case it.BOTTOM_LEFT:case it.BOTTOM_RIGHT:return i.fromRange(this.minX,this.minY,this.maxX,this.maxY-n);case it.LEFT:case it.LEFT_TOP:case it.LEFT_BOTTOM:return i.fromRange(this.minX+e,this.minY,this.maxX,this.maxY);default:return this}},i.prototype.shrink=function(r){var t=r[0],e=r[1],n=r[2],a=r[3];return new i(this.x+a,this.y+t,this.width-a-e,this.height-t-n)},i.prototype.exceed=function(r){return[Math.max(-this.minY+r.minY,0),Math.max(this.maxX-r.maxX,0),Math.max(this.maxY-r.maxY,0),Math.max(-this.minX+r.minX,0)]},i.prototype.size=function(){return this.width*this.height},i}(),Le=function(i,r){var t=r.start,e=r.end;return new Te(i.x+i.width*t.x,i.y+i.height*t.y,i.width*Math.abs(e.x-t.x),i.height*Math.abs(e.y-t.y))};function Fe(i){return[[i.minX,i.minY],[i.maxX,i.minY],[i.maxX,i.maxY],[i.minX,i.maxY]]}var ir=d(70146);function Or(i,r){var t=i.event,e=t.target,n=e.getCanvasBBox();return n.width>=r||n.height>=r?n:null}function Tr(i,r){var t=i.event,e=t.target,n=e.getCanvasBBox();return n.width>=r||n.height>=r?e.attr("path"):null}function jr(i){var r=i.event,t,e=r.target;return e&&(t=e.get("element")),t}function fn(i){var r=i.event,t=r.target,e;return t&&(e=t.get("delegateObject")),e}function jn(i){var r=i.event.gEvent;return!(r&&r.fromShape&&r.toShape&&r.fromShape.get("element")===r.toShape.get("element"))}function Rn(i){return i&&i.component&&i.component.isList()}function Ui(i){return i&&i.component&&i.component.isSlider()}function vi(i){var r=i.event,t=r.target;return t&&t.get("name")==="mask"}function Ci(i,r){var t=i.event.target;if(t.get("type")==="path"){var e=Tr(i,r);return e?Ma(i.view,e):void 0}var n=Or(i,r);return n?ii(i.view,n):null}function Di(i,r,t){var e=Or(i,t);if(!e)return null;var n=i.view,a=qi(n,r,{x:e.x,y:e.y}),o=qi(n,r,{x:e.maxX,y:e.maxY}),s={minX:a.x,minY:a.y,maxX:o.x,maxY:o.y};return ii(r,s)}function an(i){var r=i.geometries,t=[];return(0,u.each)(r,function(e){var n=e.elements;t=t.concat(n)}),i.views&&i.views.length&&(0,u.each)(i.views,function(e){t=t.concat(an(e))}),t}function ri(i,r,t){var e=an(i);return e.filter(function(n){return Hn(n,r)===t})}function ni(i,r){var t=i.geometries,e=[];return(0,u.each)(t,function(n){var a=n.getElementsBy(function(o){return o.hasState(r)});e=e.concat(a)}),e}function Hn(i,r){var t=i.getModel(),e=t.data,n;return(0,u.isArray)(e)?n=e[0][r]:n=e[r],n}function na(i,r){return!(r.minX>i.maxX||r.maxX<i.minX||r.minY>i.maxY||r.maxY<i.minY)}function ii(i,r){var t=an(i),e=[];return(0,u.each)(t,function(n){var a=n.shape,o=a.getCanvasBBox();na(r,o)&&e.push(n)}),e}function va(i){var r=[];return(0,u.each)(i,function(t){var e=t[0];if(e!=="A")for(var n=1;n<t.length;n=n+2)r.push([t[n],t[n+1]]);else{var a=t.length;r.push([t[a-2],t[a-1]])}}),r}function Ma(i,r){var t=an(i),e=va(r),n=t.filter(function(a){var o=a.shape,s;if(o.get("type")==="path")s=va(o.attr("path"));else{var l=o.getCanvasBBox();s=Fe(l)}return(0,ir.default)(e,s)});return n}function ia(i){return i.getComponents().map(function(r){return r.component})}function di(i,r){var t=r.x-i.x,e=r.y-i.y;return Math.sqrt(t*t+e*e)}function aa(i,r){if(i.length<=2)return Ut(i,!1);var t=i[0],e=[];(0,u.each)(i,function(a){e.push(a.x),e.push(a.y)});var n=qt(e,r,null);return n.unshift(["M",t.x,t.y]),n}function Mi(i,r){return i.x<=r.x&&i.maxX>=r.x&&i.y<=r.y&&i.maxY>r.y}function Kn(i){var r=i.parent,t=null;return r&&(t=r.views.filter(function(e){return e!==i})),t}function Ei(i,r){var t=i.getCoordinate();return t.invert(r)}function qi(i,r,t){var e=Ei(i,t);return r.getCoordinate().convert(e)}function Ea(i,r,t,e){var n=!1;return(0,u.each)(i,function(a){if(a[t]===r[t]&&a[e]===r[e])return n=!0,!1}),n}function _a(i,r){var t=i.getScaleByField(r);return!t&&i.views&&(0,u.each)(i.views,function(e){if(t=_a(e,r),t)return!1}),t}var os=function(){function i(r){this.actions=[],this.event=null,this.cacheMap={},this.view=r}return i.prototype.cache=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];if(r.length===1)return this.cacheMap[r[0]];r.length===2&&(this.cacheMap[r[0]]=r[1])},i.prototype.getAction=function(r){return this.actions.find(function(t){return t.name===r})},i.prototype.addAction=function(r){this.actions.push(r)},i.prototype.removeAction=function(r){var t=this.actions,e=this.actions.indexOf(r);e>=0&&t.splice(e,1)},i.prototype.getCurrentPoint=function(){var r=this.event;if(r)if(r.target instanceof HTMLElement){var t=this.view.getCanvas(),e=t.getPointByClient(r.clientX,r.clientY);return e}else return{x:r.x,y:r.y};return null},i.prototype.getCurrentShape=function(){return(0,u.get)(this.event,["gEvent","shape"])},i.prototype.isInPlot=function(){var r=this.getCurrentPoint();return r?this.view.isPointInPlot(r):!1},i.prototype.isInShape=function(r){var t=this.getCurrentShape();return t?t.get("name")===r:!1},i.prototype.isInComponent=function(r){var t=ia(this.view),e=this.getCurrentPoint();return e?!!t.find(function(n){var a=n.getBBox();return r?n.get("name")===r&&Mi(a,e):Mi(a,e)}):!1},i.prototype.destroy=function(){this.view=null,this.event=null,(0,u.each)(this.actions.slice(),function(r){r.destroy()}),this.actions=null,this.cacheMap=null},i}(),Lo=os,Hs=function(){function i(r,t){this.view=r,this.cfg=t}return i.prototype.init=function(){this.initEvents()},i.prototype.initEvents=function(){},i.prototype.clearEvents=function(){},i.prototype.destroy=function(){this.clearEvents()},i}(),ho=Hs;function Io(i,r){var t=i.split(":"),e=t[0],n=r.getAction(e)||Ii(e,r);if(!n)throw new Error("There is no action named "+e);var a=t[1];return{action:n,methodName:a}}function $a(i){var r=i.action,t=i.methodName;if(r[t])r[t]();else throw new Error("Action("+r.name+") doesn't have a method called "+t)}var _i={START:"start",SHOW_ENABLE:"showEnable",END:"end",ROLLBACK:"rollback",PROCESSING:"processing"},ss=function(i){(0,D.__extends)(r,i);function r(t,e){var n=i.call(this,t,e)||this;return n.callbackCaches={},n.emitCaches={},n.steps=e,n}return r.prototype.init=function(){this.initContext(),i.prototype.init.call(this)},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},r.prototype.initEvents=function(){var t=this;(0,u.each)(this.steps,function(e,n){(0,u.each)(e,function(a){var o=t.getActionCallback(n,a);o&&t.bindEvent(a.trigger,o)})})},r.prototype.clearEvents=function(){var t=this;(0,u.each)(this.steps,function(e,n){(0,u.each)(e,function(a){var o=t.getActionCallback(n,a);o&&t.offEvent(a.trigger,o)})})},r.prototype.initContext=function(){var t=this.view,e=new Lo(t);this.context=e;var n=this.steps;(0,u.each)(n,function(a){(0,u.each)(a,function(o){if((0,u.isFunction)(o.action))o.actionObject={action:Si(o.action,e),methodName:"execute"};else if((0,u.isString)(o.action))o.actionObject=Io(o.action,e);else if((0,u.isArray)(o.action)){var s=o.action;o.actionObject=[],(0,u.each)(s,function(l){o.actionObject.push(Io(l,e))})}})})},r.prototype.isAllowStep=function(t){var e=this.currentStepName,n=this.steps;if(e===t||t===_i.SHOW_ENABLE)return!0;if(t===_i.PROCESSING)return e===_i.START;if(t===_i.START)return e!==_i.PROCESSING;if(t===_i.END)return e===_i.PROCESSING||e===_i.START;if(t===_i.ROLLBACK){if(n[_i.END])return e===_i.END;if(e===_i.START)return!0}return!1},r.prototype.isAllowExcute=function(t,e){if(this.isAllowStep(t)){var n=this.getKey(t,e);return e.once&&this.emitCaches[n]?!1:e.isEnable?e.isEnable(this.context):!0}return!1},r.prototype.enterStep=function(t){this.currentStepName=t,this.emitCaches={}},r.prototype.afterExecute=function(t,e){t!==_i.SHOW_ENABLE&&this.currentStepName!==t&&this.enterStep(t);var n=this.getKey(t,e);this.emitCaches[n]=!0},r.prototype.getKey=function(t,e){return t+e.trigger+e.action},r.prototype.getActionCallback=function(t,e){var n=this,a=this.context,o=this.callbackCaches,s=e.actionObject;if(e.action&&s){var l=this.getKey(t,e);if(!o[l]){var f=function(h){a.event=h,n.isAllowExcute(t,e)?((0,u.isArray)(s)?(0,u.each)(s,function(c){a.event=h,$a(c)}):(a.event=h,$a(s)),n.afterExecute(t,e),e.callback&&(a.event=h,e.callback(a))):a.event=null};e.debounce?o[l]=(0,u.debounce)(f,e.debounce.wait,e.debounce.immediate):e.throttle?o[l]=(0,u.throttle)(f,e.throttle.wait,{leading:e.throttle.leading,trailing:e.throttle.trailing}):o[l]=f}return o[l]}return null},r.prototype.bindEvent=function(t,e){var n=t.split(":");n[0]==="window"?window.addEventListener(n[1],e):n[0]==="document"?document.addEventListener(n[1],e):this.view.on(t,e)},r.prototype.offEvent=function(t,e){var n=t.split(":");n[0]==="window"?window.removeEventListener(n[1],e):n[0]==="document"?document.removeEventListener(n[1],e):this.view.off(t,e)},r}(ho),ls=ss,ko={};function co(i){return ko[(0,u.lowerCase)(i)]}function wn(i,r){ko[(0,u.lowerCase)(i)]=r}function us(i,r,t){var e=co(i);if(!e)return null;if((0,u.isPlainObject)(e)){var n=(0,u.mix)((0,u.clone)(e),t);return new ls(r,n)}else{var a=e;return new a(r,t)}}var pi=d(7755),bn=d(31506);function Bo(i){var r,t={point:{default:{fill:i.pointFillColor,r:i.pointSize,stroke:i.pointBorderColor,lineWidth:i.pointBorder,fillOpacity:i.pointFillOpacity},active:{stroke:i.pointActiveBorderColor,lineWidth:i.pointActiveBorder},selected:{stroke:i.pointSelectedBorderColor,lineWidth:i.pointSelectedBorder},inactive:{fillOpacity:i.pointInactiveFillOpacity,strokeOpacity:i.pointInactiveBorderOpacity}},hollowPoint:{default:{fill:i.hollowPointFillColor,lineWidth:i.hollowPointBorder,stroke:i.hollowPointBorderColor,strokeOpacity:i.hollowPointBorderOpacity,r:i.hollowPointSize},active:{stroke:i.hollowPointActiveBorderColor,strokeOpacity:i.hollowPointActiveBorderOpacity},selected:{lineWidth:i.hollowPointSelectedBorder,stroke:i.hollowPointSelectedBorderColor,strokeOpacity:i.hollowPointSelectedBorderOpacity},inactive:{strokeOpacity:i.hollowPointInactiveBorderOpacity}},area:{default:{fill:i.areaFillColor,fillOpacity:i.areaFillOpacity,stroke:null},active:{fillOpacity:i.areaActiveFillOpacity},selected:{fillOpacity:i.areaSelectedFillOpacity},inactive:{fillOpacity:i.areaInactiveFillOpacity}},hollowArea:{default:{fill:null,stroke:i.hollowAreaBorderColor,lineWidth:i.hollowAreaBorder,strokeOpacity:i.hollowAreaBorderOpacity},active:{fill:null,lineWidth:i.hollowAreaActiveBorder},selected:{fill:null,lineWidth:i.hollowAreaSelectedBorder},inactive:{strokeOpacity:i.hollowAreaInactiveBorderOpacity}},interval:{default:{fill:i.intervalFillColor,fillOpacity:i.intervalFillOpacity},active:{stroke:i.intervalActiveBorderColor,lineWidth:i.intervalActiveBorder},selected:{stroke:i.intervalSelectedBorderColor,lineWidth:i.intervalSelectedBorder},inactive:{fillOpacity:i.intervalInactiveFillOpacity,strokeOpacity:i.intervalInactiveBorderOpacity}},hollowInterval:{default:{fill:i.hollowIntervalFillColor,stroke:i.hollowIntervalBorderColor,lineWidth:i.hollowIntervalBorder,strokeOpacity:i.hollowIntervalBorderOpacity},active:{stroke:i.hollowIntervalActiveBorderColor,lineWidth:i.hollowIntervalActiveBorder,strokeOpacity:i.hollowIntervalActiveBorderOpacity},selected:{stroke:i.hollowIntervalSelectedBorderColor,lineWidth:i.hollowIntervalSelectedBorder,strokeOpacity:i.hollowIntervalSelectedBorderOpacity},inactive:{stroke:i.hollowIntervalInactiveBorderColor,lineWidth:i.hollowIntervalInactiveBorder,strokeOpacity:i.hollowIntervalInactiveBorderOpacity}},line:{default:{stroke:i.lineBorderColor,lineWidth:i.lineBorder,strokeOpacity:i.lineBorderOpacity,fill:null,lineAppendWidth:10},active:{lineWidth:i.lineActiveBorder},selected:{lineWidth:i.lineSelectedBorder},inactive:{strokeOpacity:i.lineInactiveBorderOpacity}}},e={title:{autoRotate:!0,position:"center",style:{fill:i.axisTitleTextFillColor,fontSize:i.axisTitleTextFontSize,lineHeight:i.axisTitleTextLineHeight,textBaseline:"middle",fontFamily:i.fontFamily}},label:{autoRotate:!0,autoEllipsis:!0,autoHide:!0,offset:16,style:{fill:i.axisLabelFillColor,fontSize:i.axisLabelFontSize,lineHeight:i.axisLabelLineHeight,textBaseline:"middle",fontFamily:i.fontFamily}},line:{style:{lineWidth:i.axisLineBorder,stroke:i.axisLineBorderColor}},tickLine:{style:{lineWidth:i.axisTickLineBorder,stroke:i.axisTickLineBorderColor},alignTick:!0,length:i.axisTickLineLength},subTickLine:null,animate:!0},n={line:{type:"line",style:{stroke:i.axisGridBorderColor,lineWidth:i.axisGridBorder,lineDash:i.axisGridLineDash}},alignTick:!0,animate:!0},a={title:null,marker:{symbol:"circle",style:{r:i.legendCircleMarkerSize,fill:i.legendMarkerColor}},itemName:{spacing:5,style:{fill:i.legendItemNameFillColor,fontFamily:i.fontFamily,fontSize:i.legendItemNameFontSize,lineHeight:i.legendItemNameLineHeight,fontWeight:i.legendItemNameFontWeight,textAlign:"start",textBaseline:"middle"}},flipPage:!0,animate:!1,maxItemWidth:.2};return{background:i.backgroundColor,defaultColor:i.brandColor,padding:"auto",fontFamily:i.fontFamily,columnWidthRatio:1/2,maxColumnWidth:null,minColumnWidth:null,roseWidthRatio:.9999999,multiplePieWidthRatio:1/1.3,colors10:i.paletteQualitative10,colors20:i.paletteQualitative20,shapes:{point:["hollow-circle","hollow-square","hollow-bowtie","hollow-diamond","hollow-hexagon","hollow-triangle","hollow-triangle-down","circle","square","bowtie","diamond","hexagon","triangle","triangle-down","cross","tick","plus","hyphen","line"],line:["line","dash","dot","smooth"],area:["area","smooth","line","smooth-line"],interval:["rect","hollow-rect","line","tick"]},sizes:[1,10],geometries:{interval:{rect:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:function(o){var s=o.geometry.coordinate;if(s.isPolar&&s.isTransposed){var l=ki(o.getModel(),s),f=l.startAngle,h=l.endAngle,c=(f+h)/2,v=7.5,x=v*Math.cos(c),A=v*Math.sin(c);return{matrix:bn.transform(null,[["t",x,A]])}}return t.interval.selected}}},"hollow-rect":{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},line:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},tick:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},funnel:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}},pyramid:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},line:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},dot:{default:{style:(0,D.__assign)((0,D.__assign)({},t.line.default),{lineDash:[1,1]})},active:{style:(0,D.__assign)((0,D.__assign)({},t.line.active),{lineDash:[1,1]})},inactive:{style:(0,D.__assign)((0,D.__assign)({},t.line.inactive),{lineDash:[1,1]})},selected:{style:(0,D.__assign)((0,D.__assign)({},t.line.selected),{lineDash:[1,1]})}},dash:{default:{style:(0,D.__assign)((0,D.__assign)({},t.line.default),{lineDash:[5.5,1]})},active:{style:(0,D.__assign)((0,D.__assign)({},t.line.active),{lineDash:[5.5,1]})},inactive:{style:(0,D.__assign)((0,D.__assign)({},t.line.inactive),{lineDash:[5.5,1]})},selected:{style:(0,D.__assign)((0,D.__assign)({},t.line.selected),{lineDash:[5.5,1]})}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hvh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}},polygon:{polygon:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},point:{circle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},square:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},bowtie:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},diamond:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},hexagon:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},triangle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"triangle-down":{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"hollow-circle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-square":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-bowtie":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-diamond":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-hexagon":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle-down":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},cross:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},tick:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},plus:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},hyphen:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},line:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}}},area:{area:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},smooth:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},line:{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}},"smooth-line":{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}}},schema:{candle:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},box:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}}},edge:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},arc:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}}},components:{axis:{top:(0,u.deepMix)({},e,{position:"top",grid:null,title:null,verticalLimitLength:1/2}),bottom:(0,u.deepMix)({},e,{position:"bottom",grid:null,title:null,verticalLimitLength:1/2}),left:(0,u.deepMix)({},e,{position:"left",label:{offset:8},title:null,line:null,tickLine:null,grid:n,verticalLimitLength:1/3}),right:(0,u.deepMix)({},e,{position:"right",label:{offset:8},title:null,line:null,tickLine:null,grid:n,verticalLimitLength:1/3}),circle:(0,u.deepMix)({},e,{title:null,label:{offset:8},grid:(0,u.deepMix)({},n,{line:{type:"line"}})}),radius:(0,u.deepMix)({},e,{title:null,label:{offset:8},grid:(0,u.deepMix)({},n,{line:{type:"circle"}})})},legend:{right:(0,u.deepMix)({},a,{layout:"vertical"}),left:(0,u.deepMix)({},a,{layout:"vertical"}),top:(0,u.deepMix)({},a,{layout:"horizontal"}),bottom:(0,u.deepMix)({},a,{layout:"horizontal"}),continuous:{title:null,background:null,track:{},rail:{type:"color",size:i.sliderRailHeight,defaultLength:i.sliderRailWidth,style:{fill:i.sliderRailFillColor,stroke:i.sliderRailBorderColor,lineWidth:i.sliderRailBorder}},label:{align:"rail",spacing:4,formatter:null,style:{fill:i.sliderLabelTextFillColor,fontSize:i.sliderLabelTextFontSize,lineHeight:i.sliderLabelTextLineHeight,textBaseline:"middle",fontFamily:i.fontFamily}},handler:{size:i.sliderHandlerWidth,style:{fill:i.sliderHandlerFillColor,stroke:i.sliderHandlerBorderColor}},slidable:!0},margin:[0,0,0,0]},tooltip:{showContent:!0,follow:!0,showCrosshairs:!1,showMarkers:!0,shared:!1,enterable:!1,position:"auto",marker:{symbol:"circle",stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffSetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,r:4},crosshairs:{line:{style:{stroke:i.tooltipCrosshairsBorderColor,lineWidth:i.tooltipCrosshairsBorder}},text:null,textBackground:{padding:2,style:{fill:"rgba(0, 0, 0, 0.25)",lineWidth:0,stroke:null}},follow:!1},domStyles:(r={},r[""+pi.CONTAINER_CLASS]={position:"absolute",visibility:"hidden",zIndex:8,transition:"left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s",backgroundColor:i.tooltipContainerFillColor,opacity:i.tooltipContainerFillOpacity,boxShadow:i.tooltipContainerShadow,borderRadius:i.tooltipContainerBorderRadius+"px",color:i.tooltipTextFillColor,fontSize:i.tooltipTextFontSize+"px",fontFamily:i.fontFamily,lineHeight:i.tooltipTextLineHeight+"px",padding:"0 12px 0 12px"},r[""+pi.TITLE_CLASS]={marginBottom:"12px",marginTop:"12px"},r[""+pi.LIST_CLASS]={margin:0,listStyleType:"none",padding:0},r[""+pi.LIST_ITEM_CLASS]={listStyleType:"none",padding:0,marginBottom:"12px",marginTop:"12px",marginLeft:0,marginRight:0},r[""+pi.MARKER_CLASS]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},r[""+pi.VALUE_CLASS]={display:"inline-block",float:"right",marginLeft:"30px"},r)},annotation:{arc:{style:{stroke:i.annotationArcBorderColor,lineWidth:i.annotationArcBorder},animate:!0},line:{style:{stroke:i.annotationLineBorderColor,lineDash:i.annotationLineDash,lineWidth:i.annotationLineBorder},text:{position:"start",autoRotate:!0,style:{fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,textAlign:"start",fontFamily:i.fontFamily,textBaseline:"bottom"}},animate:!0},text:{style:{fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,textBaseline:"middle",textAlign:"start",fontFamily:i.fontFamily},animate:!0},region:{top:!1,style:{lineWidth:i.annotationRegionBorder,stroke:i.annotationRegionBorderColor,fill:i.annotationRegionFillColor,fillOpacity:i.annotationRegionFillOpacity},animate:!0},image:{top:!1,animate:!0},dataMarker:{top:!0,point:{style:{r:3,stroke:i.brandColor,lineWidth:2}},line:{style:{stroke:i.annotationLineBorderColor,lineWidth:i.annotationLineBorder},length:i.annotationDataMarkerLineLength},text:{style:{textAlign:"start",fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,fontFamily:i.fontFamily}},direction:"upward",autoAdjust:!0,animate:!0},dataRegion:{style:{region:{fill:i.annotationRegionFillColor,fillOpacity:i.annotationRegionFillOpacity},text:{textAlign:"center",textBaseline:"bottom",fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,fontFamily:i.fontFamily}},animate:!0}}},labels:{offset:12,style:{fill:i.labelFillColor,fontSize:i.labelFontSize,fontFamily:i.fontFamily,stroke:i.labelBorderColor,lineWidth:i.labelBorder},autoRotate:!0},innerLabels:{style:{fill:i.innerLabelFillColor,fontSize:i.innerLabelFontSize,fontFamily:i.fontFamily,stroke:i.innerLabelBorderColor,lineWidth:i.innerLabelBorder},autoRotate:!0},pieLabels:{labelHeight:14,offset:30,labelLine:{style:{lineWidth:i.labelLineBorder}},autoRotate:!0}}}var vn={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},Na={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},Qt=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],pt=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],Y={backgroundColor:"transparent",brandColor:Qt[0],paletteQualitative10:Qt,paletteQualitative20:pt,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",fontFamily:`"-apple-system", "Segoe UI", Roboto, "Helvetica Neue", Arial,
  "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
  "Noto Color Emoji"`,axisLineBorderColor:vn[25],axisLineBorder:.5,axisLineDash:null,axisTitleTextFillColor:vn[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTickLineBorderColor:vn[25],axisTickLineLength:4,axisTickLineBorder:.5,axisSubTickLineBorderColor:vn[15],axisSubTickLineLength:2,axisSubTickLineBorder:.5,axisLabelFillColor:vn[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisGridBorderColor:vn[15],axisGridBorder:.5,axisGridLineDash:null,legendTitleTextFillColor:vn[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:Qt[0],legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:vn[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",sliderRailFillColor:vn[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:vn[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:vn[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:vn[25],annotationArcBorderColor:vn[15],annotationArcBorder:.5,annotationLineBorderColor:vn[25],annotationLineBorder:.5,annotationLineDash:null,annotationTextFillColor:vn[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:Na[95],annotationTextBorder:1.5,annotationRegionFillColor:vn[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:vn[25],tooltipCrosshairsBorder:.5,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"rgb(255, 255, 255)",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 0px 10px #aeaeae",tooltipContainerBorderRadius:3,tooltipTextFillColor:vn[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:vn[65],labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:Na[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,labelLineBorder:.5,labelLineBorderColor:vn[25],pointFillColor:Qt[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:Na[100],pointBorderOpacity:1,pointActiveBorderColor:vn[100],pointSelectedBorder:2,pointSelectedBorderColor:vn[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:Qt[0],hollowPointBorderOpacity:.95,hollowPointFillColor:Na[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:vn[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:vn[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:Qt[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:Qt[0],areaFillOpacity:.25,areaActiveFillColor:Qt[0],areaActiveFillOpacity:.5,areaSelectedFillColor:Qt[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:Qt[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:vn[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:vn[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:Qt[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:vn[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:vn[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:Qt[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:Na[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:vn[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:vn[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3},Q=Bo(Y),ht={default:Q};function St(i){return(0,u.get)(ht,(0,u.lowerCase)(i),ht.default)}function Gt(i,r){ht[(0,u.lowerCase)(i)]=(0,u.deepMix)({},ht.default,r)}function $t(i,r,t){var e=t.translate(i),n=t.translate(r);return(0,u.isNumberEqual)(e,n)}function oe(i,r){var t=r.coordinate,e=r.getXScale(),n=e.range,a=n[n.length-1],o=n[0],s=t.invert(i),l=s.x;return t.isPolar&&l>(1+a)/2&&(l=o),e.translate(e.invert(l))}function ue(i,r,t){var e=t.coordinate,n=t.getYScale(),a=n.field,o=e.invert(r),s=n.invert(o.y),l=(0,u.find)(i,function(f){var h=f[ot];return h[a][0]<=s&&h[a][1]>=s});return l||i[i.length-1]}var Se=(0,u.memoize)(function(i){if(i.isCategory)return 1;for(var r=i.values,t=r.length,e=i.translate(r[0]),n=e,a=0;a<t;a++){var o=r[a],s=i.translate(o);s<e&&(e=s),s>n&&(n=s)}return(n-e)/(t-1)});function Ae(i,r,t){var e=t;if(!t){var n=r.getAttribute("position"),a=n.getFields();e=a[0]}var o=r.scales;return o[e]?o[e].getText(i[e]):(0,u.hasKey)(i,e)?i[e]:e}function Ye(i){var r=(0,u.values)(i.attributes);return(0,u.filter)(r,function(t){return(0,u.contains)(At,t.type)})}function Ue(i){for(var r=Ye(i),t,e=0,n=r;e<n.length;e++){var a=n[e],o=a.getScale(a.type);if(o&&o.isLinear){t=o;break}}var s=i.getXScale(),l=i.getYScale();return t||l||s}function fr(i,r){var t=r.field,e=i[t];if((0,u.isArray)(e)){var n=e.map(function(a){return r.getText(a)});return n.join("-")}return r.getText(e)}function Ar(i,r){var t,e=r.getGroupScales();if(e.length&&(t=e[0]),t){var n=t.field;return t.getText(i[n])}var a=Ue(r);return Ie(a)}function wr(i,r,t){if(r.length===0)return null;var e=t.type,n=t.getXScale(),a=t.getYScale(),o=n.field,s=a.field,l=null;if(e==="heatmap"||e==="point"){for(var f=t.coordinate,h=f.invert(i),c=n.invert(h.x),v=a.invert(h.y),x=Infinity,A=0;A<r.length;A++){var B=r[A],G=B[ot],H=Math.pow(G[o]-c,2)+Math.pow(G[s]-v,2);H<x&&(x=H,l=B)}return l}var X=r[0],ut=r[r.length-1],ft=oe(i,t),xt=X[ot][o],Yt=X[ot][s],Kt=ut[ot][o],te=a.isLinear&&(0,u.isArray)(Yt);if((0,u.isArray)(xt)){for(var A=0;A<r.length;A++){var Wt=r[A],G=Wt[ot];if(n.translate(G[o][0])<=ft&&n.translate(G[o][1])>=ft)if(te)(0,u.isArray)(l)||(l=[]),l.push(Wt);else{l=Wt;break}}(0,u.isArray)(l)&&(l=ue(l,i,t))}else{var ae=void 0;if(!n.isLinear&&n.type!=="timeCat"){for(var A=0;A<r.length;A++){var Wt=r[A],G=Wt[ot];if($t(G[o],ft,n))if(te)(0,u.isArray)(l)||(l=[]),l.push(Wt);else{l=Wt;break}else n.translate(G[o])<=ft&&(ut=Wt,ae=r[A+1])}(0,u.isArray)(l)&&(l=ue(l,i,t))}else{if((ft>n.translate(Kt)||ft<n.translate(xt))&&(ft>n.max||ft<n.min))return null;for(var ce=0,he=r.length-1,Pe=void 0;ce<=he;){Pe=Math.floor((ce+he)/2);var Be=r[Pe][ot][o];if($t(Be,ft,n))return r[Pe];n.translate(Be)<=n.translate(ft)?(ce=Pe+1,ut=r[Pe],ae=r[Pe+1]):(he===0&&(ut=r[0]),he=Pe-1)}}ut&&ae&&Math.abs(n.translate(ut[ot][o])-ft)>Math.abs(n.translate(ae[ot][o])-ft)&&(ut=ae)}var ke=Se(t.getXScale());return!l&&Math.abs(n.translate(ut[ot][o])-ft)<=ke/2&&(l=ut),l}function Zr(i,r,t){t===void 0&&(t="");var e=i[ot],n=Ae(e,r,t),a=r.tooltipOption,o=r.theme.defaultColor,s=[],l,f;function h(Yt,Kt){if(!(0,u.isNil)(Kt)&&Kt!==""){var te={title:n,data:e,mappingData:i,name:Yt,value:Kt,color:i.color||o,marker:!0};s.push(te)}}if((0,u.isObject)(a)){var c=a.fields,v=a.callback;if(v){var x=c.map(function(Yt){return i[ot][Yt]}),A=v.apply(void 0,x),B=(0,D.__assign)({data:i[ot],mappingData:i,title:n,color:i.color||o,marker:!0},A);s.push(B)}else for(var G=r.scales,H=0,X=c;H<X.length;H++){var ut=X[H];if(!(0,u.isNil)(e[ut])){var ft=G[ut];l=Ie(ft),f=ft.getText(e[ut]),h(l,f)}}}else{var xt=Ue(r);(0,u.isNil)(e[xt.field])||(f=fr(e,xt),l=Ar(e,r),h(l,f))}return s}var $r={};function Kr(i,r){$r[i]=r}function Rt(i){delete $r[i]}function ie(){return Object.keys($r)}function pe(i){return $r[i]}var Me=function(){function i(r){this.option=this.wrapperOption(r)}return i.prototype.update=function(r){return this.option=this.wrapperOption(r),this},i.prototype.hasAction=function(r){var t=this.option.actions;return(0,u.some)(t,function(e){return e[0]===r})},i.prototype.create=function(r,t){var e=this.option,n=e.type,a=e.cfg,o=n==="theta",s=(0,D.__assign)({start:r,end:t},a),l=(0,ze.getCoordinate)(o?"polar":n);return this.coordinate=new l(s),this.coordinate.type=n,o&&(this.hasAction("transpose")||this.transpose()),this.execActions(),this.coordinate},i.prototype.adjust=function(r,t){return this.coordinate.update({start:r,end:t}),this.coordinate.resetMatrix(),this.execActions(["scale","rotate","translate"]),this.coordinate},i.prototype.rotate=function(r){return this.option.actions.push(["rotate",r]),this},i.prototype.reflect=function(r){return this.option.actions.push(["reflect",r]),this},i.prototype.scale=function(r,t){return this.option.actions.push(["scale",r,t]),this},i.prototype.transpose=function(){return this.option.actions.push(["transpose"]),this},i.prototype.getOption=function(){return this.option},i.prototype.getCoordinate=function(){return this.coordinate},i.prototype.wrapperOption=function(r){return(0,D.__assign)({type:"rect",actions:[],cfg:{}},r)},i.prototype.execActions=function(r){var t=this,e=this.option.actions;(0,u.each)(e,function(n){var a,o=n[0],s=n.slice(1),l=(0,u.isNil)(r)?!0:r.includes(o);l&&(a=t.coordinate)[o].apply(a,s)})},i}(),Ne=Me,nr=function(){function i(r,t,e){this.view=r,this.gEvent=t,this.data=e,this.type=t.type}return Object.defineProperty(i.prototype,"target",{get:function(){return this.gEvent.target},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"event",{get:function(){return this.gEvent.originalEvent},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"x",{get:function(){return this.gEvent.x},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"y",{get:function(){return this.gEvent.y},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"clientX",{get:function(){return this.gEvent.clientX},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"clientY",{get:function(){return this.gEvent.clientY},enumerable:!1,configurable:!0}),i.prototype.toString=function(){return"[Event (type="+this.type+")]"},i.prototype.clone=function(){return new i(this.view,this.gEvent,this.data)},i}(),Lr=nr;function hn(i){return!(0,u.isNumber)(i)&&!(0,u.isArray)(i)}function ai(i){i===void 0&&(i=0);var r=(0,u.isArray)(i)?i:[i];switch(r.length){case 0:r=[0,0,0,0];break;case 1:r=new Array(4).fill(r[0]);break;case 2:r=(0,D.__spreadArrays)(r,r);break;case 3:r=(0,D.__spreadArrays)(r,[r[1]]);break;default:r=r.slice(0,4);break}return r}var Zi=function(){function i(r,t,e,n){r===void 0&&(r=0),t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0),this.top=r,this.right=t,this.bottom=e,this.left=n}return i.prototype.shrink=function(r){var t=r[0],e=r[1],n=r[2],a=r[3];return this.top+=t,this.right+=e,this.bottom+=n,this.left+=a,this},i.prototype.inc=function(r,t){var e=r.width,n=r.height;switch(t){case it.TOP:case it.TOP_LEFT:case it.TOP_RIGHT:this.top+=n;break;case it.RIGHT:case it.RIGHT_TOP:case it.RIGHT_BOTTOM:this.right+=e;break;case it.BOTTOM:case it.BOTTOM_LEFT:case it.BOTTOM_RIGHT:this.bottom+=n;break;case it.LEFT:case it.LEFT_TOP:case it.LEFT_BOTTOM:this.left+=e;break;default:break}return this},i.prototype.getPadding=function(){return[this.top,this.right,this.bottom,this.left]},i}();function ta(i){var r=i.padding;if(!hn(r))return ai(r);var t=i.viewBBox,e=i.autoPadding,n=new Zi;(0,u.each)(i.getComponents(),function(s){var l=s.component,f=s.type;if(!(f===nt.GRID||f===nt.TOOLTIP)){var h=l.getLayoutBBox(),c=new Te(h.x,h.y,h.width,h.height);if(f===nt.AXIS){var v=c.exceed(t);n.shrink(v)}else{var x=s.direction;n.inc(c,x)}}});var a=n.getPadding();if(e){var o=ai(i.appendPadding);return[Math.max(e[0]-o[0],a[0]),Math.max(e[1]-o[1],a[1]),Math.max(e[2]-o[2],a[2]),Math.max(e[3]-o[3],a[3])]}return a}function fs(i){var r=i.getController("axis"),t=i.getController("legend"),e=i.getController("annotation"),n=i.getController("slider"),a=ta(i);i.coordinateBBox=i.viewBBox.shrink(a).shrink(ai(i.appendPadding)),i.adjustCoordinate(),[r,n,t,e].forEach(function(o){o&&o.layout()})}var Y1=function(){function i(){this.scales=new Map,this.syncScales=new Map}return i.prototype.createScale=function(r,t,e,n){var a=e,o=this.getScaleMeta(n);if(t.length===0&&o){var s=o.scale,l={type:s.type};s.isCategory&&(l.values=s.values),a=(0,u.deepMix)(l,o.scaleDef,e)}var f=Ee(r,t,a);return this.cacheScale(f,e,n),f},i.prototype.sync=function(){var r=this;this.syncScales.forEach(function(t,e){var n=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER,o=[];(0,u.each)(t,function(s){var l=r.getScale(s);a=(0,u.isNumber)(l.max)?Math.max(a,l.max):a,n=(0,u.isNumber)(l.min)?Math.min(n,l.min):n,(0,u.each)(l.values,function(f){o.includes(f)||o.push(f)})}),(0,u.each)(t,function(s){var l=r.getScale(s);l.isContinuous?l.change({min:n,max:a,values:o}):l.isCategory&&l.change({values:o})})})},i.prototype.cacheScale=function(r,t,e){var n=this.getScaleMeta(e);n&&n.scale.type===r.type?(Oe(n.scale,r),n.scaleDef=t):(n={key:e,scale:r,scaleDef:t},this.scales.set(e,n));var a=this.getSyncKey(n);if(n.syncKey=a,this.removeFromSyncScales(e),a){var o=this.syncScales.get(a);o||(o=[],this.syncScales.set(a,o)),o.push(e)}},i.prototype.getScale=function(r){var t=this.getScaleMeta(r);if(!t){var e=(0,u.last)(r.split("-")),n=this.syncScales.get(e);n&&n.length&&(t=this.getScaleMeta(n[0]))}return t&&t.scale},i.prototype.deleteScale=function(r){var t=this.getScaleMeta(r);if(t){var e=t.syncKey,n=this.syncScales.get(e);if(n&&n.length){var a=n.indexOf(r);a!==-1&&n.splice(a,1)}}this.scales.delete(r)},i.prototype.clear=function(){this.scales.clear(),this.syncScales.clear()},i.prototype.removeFromSyncScales=function(r){var t=this;this.syncScales.forEach(function(e,n){var a=e.indexOf(r);if(a!==-1)return e.splice(a,1),e.length===0&&t.syncScales.delete(n),!1})},i.prototype.getSyncKey=function(r){var t=r.scale,e=r.scaleDef,n=t.field,a=(0,u.get)(e,["sync"]);return a===!0?n:a===!1?void 0:a},i.prototype.getScaleMeta=function(r){return this.scales.get(r)},i}(),uc=function(i){(0,D.__extends)(r,i);function r(t){var e=i.call(this,{visible:t.visible})||this;e.id=(0,u.uniqueId)("view"),e.views=[],e.geometries=[],e.controllers=[],e.interactions={},e.limitInPlot=!1,e.options={data:[],animate:!0},e.usedControllers=ie(),e.scalePool=new Y1,e.layoutFunc=fs,e.isPreMouseInPlot=!1,e.isDataChanged=!1,e.isCoordinateChanged=!1,e.createdScaleKeys=new Map,e.onCanvasEvent=function(G){var H=G.name;if(!H.includes(":")){var X=e.createViewEvent(G);e.doPlotEvent(X),e.emit(H,X)}},e.onDelegateEvents=function(G){var H=G.name;if(!!H.includes(":")){var X=e.createViewEvent(G);e.emit(H,X)}};var n=t.parent,a=t.canvas,o=t.backgroundGroup,s=t.middleGroup,l=t.foregroundGroup,f=t.region,h=f===void 0?{start:{x:0,y:0},end:{x:1,y:1}}:f,c=t.padding,v=t.appendPadding,x=t.theme,A=t.options,B=t.limitInPlot;return e.parent=n,e.canvas=a,e.backgroundGroup=o,e.middleGroup=s,e.foregroundGroup=l,e.region=h,e.padding=c,e.appendPadding=v,e.options=(0,D.__assign)((0,D.__assign)({},e.options),A),e.limitInPlot=B,e.themeObject=(0,u.isObject)(x)?(0,u.deepMix)({},St("default"),x):St(x),e.init(),e}return r.prototype.setLayout=function(t){this.layoutFunc=t},r.prototype.init=function(){this.calculateViewBBox(),this.initEvents(),this.initComponentController(),this.coordinateController=new Ne(this.options.coordinate),this.initOptions();for(var t=this.views,e=0;e<t.length;e++)t[e].init()},r.prototype.render=function(t){t===void 0&&(t=!1),this.emit(et.BEFORE_RENDER),this.paint(t),this.emit(et.AFTER_RENDER),this.visible===!1&&this.changeVisible(!1)},r.prototype.clear=function(){var t=this;this.emit(et.BEFORE_CLEAR),this.filteredData=[],this.coordinateInstance=void 0,this.isDataChanged=!1,this.isCoordinateChanged=!1;for(var e=this.geometries,n=0;n<e.length;n++)e[n].clear();this.geometries=[];for(var a=this.controllers,n=0;n<a.length;n++)a[n].clear();this.createdScaleKeys.forEach(function(s,l){t.getRootView().scalePool.deleteScale(l)}),this.createdScaleKeys.clear();for(var o=this.views,n=0;n<o.length;n++)o[n].clear();this.emit(et.AFTER_CLEAR)},r.prototype.destroy=function(){this.emit(et.BEFORE_DESTROY);var t=this.interactions;(0,u.each)(t,function(s){s&&s.destroy()}),this.clear();for(var e=this.controllers,n=0,a=e.length;n<a;n++){var o=e[n];o.destroy()}this.backgroundGroup.remove(!0),this.middleGroup.remove(!0),this.foregroundGroup.remove(!0),i.prototype.destroy.call(this)},r.prototype.changeVisible=function(t){i.prototype.changeVisible.call(this,t);for(var e=this.geometries,n=0,a=e.length;n<a;n++){var o=e[n];o.changeVisible(t)}for(var s=this.controllers,n=0,a=s.length;n<a;n++){var l=s[n];l.changeVisible(t)}return this.foregroundGroup.set("visible",t),this.middleGroup.set("visible",t),this.backgroundGroup.set("visible",t),this.getCanvas().draw(),this},r.prototype.data=function(t){return(0,u.set)(this.options,"data",t),this.isDataChanged=!0,this},r.prototype.source=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.data() instead."),this.data(t)},r.prototype.filter=function(t,e){return(0,u.isFunction)(e)?((0,u.set)(this.options,["filters",t],e),this):(!e&&(0,u.get)(this.options,["filters",t])&&delete this.options.filters[t],this)},r.prototype.axis=function(t,e){return(0,u.isBoolean)(t)?(0,u.set)(this.options,["axes"],t):(0,u.set)(this.options,["axes",t],e),this},r.prototype.legend=function(t,e){return(0,u.isBoolean)(t)?(0,u.set)(this.options,["legends"],t):(0,u.isString)(t)?(0,u.set)(this.options,["legends",t],e):(0,u.set)(this.options,["legends"],t),this},r.prototype.scale=function(t,e){var n=this;return(0,u.isString)(t)?(0,u.set)(this.options,["scales",t],e):(0,u.isObject)(t)&&(0,u.each)(t,function(a,o){(0,u.set)(n.options,["scales",o],a)}),this},r.prototype.tooltip=function(t){return(0,u.set)(this.options,"tooltip",t),this},r.prototype.annotation=function(){return this.getController("annotation")},r.prototype.guide=function(){return console.warn("This method will be removed at G2 V4.1. Please use chart.annotation() instead."),this.annotation()},r.prototype.coordinate=function(t,e){return(0,u.isString)(t)?(0,u.set)(this.options,"coordinate",{type:t,cfg:e}):(0,u.set)(this.options,"coordinate",t),this.coordinateController.update(this.options.coordinate),this.coordinateController},r.prototype.coord=function(t,e){return console.warn("This method will be removed at G2 V4.1. Please use chart.coordinate() instead."),this.coordinate(t,e)},r.prototype.facet=function(t,e){this.facetInstance&&this.facetInstance.destroy();var n=Hr(t);if(!n)throw new Error("facet '"+t+"' is not exist!");return this.facetInstance=new n(this,(0,D.__assign)((0,D.__assign)({},e),{type:t})),this},r.prototype.animate=function(t){return(0,u.set)(this.options,"animate",t),this},r.prototype.updateOptions=function(t){return this.clear(),(0,u.mix)(this.options,t),this.initOptions(),this},r.prototype.option=function(t,e){if(r.prototype[t])throw new Error(`Can't use built in variable name "`+t+'", please change another one.');return(0,u.set)(this.options,t,e),this},r.prototype.theme=function(t){return this.themeObject=(0,u.isObject)(t)?(0,u.deepMix)({},this.themeObject,t):St(t),this},r.prototype.interaction=function(t,e){var n=this.interactions[t];n&&n.destroy();var a=us(t,this,e);return a&&(a.init(),this.interactions[t]=a),this},r.prototype.removeInteraction=function(t){var e=this.interactions[t];e&&(e.destroy(),this.interactions[t]=void 0)},r.prototype.changeData=function(t){this.isDataChanged=!0,this.emit(et.BEFORE_CHANGE_DATA),this.data(t),this.paint(!0);for(var e=this.views,n=0,a=e.length;n<a;n++){var o=e[n];o.changeData(t)}this.emit(et.AFTER_CHANGE_DATA)},r.prototype.createView=function(t){var e={data:this.options.data,scales:(0,u.clone)(this.options.scales),axes:(0,u.clone)(this.options.axes),coordinate:(0,u.clone)(this.coordinateController.getOption()),tooltip:(0,u.clone)(this.options.tooltip),legends:(0,u.clone)(this.options.legends),animate:this.options.animate,visible:this.visible},n=new r((0,D.__assign)((0,D.__assign)({parent:this,canvas:this.canvas,backgroundGroup:this.backgroundGroup.addGroup({zIndex:mt.BG}),middleGroup:this.middleGroup.addGroup({zIndex:mt.MID}),foregroundGroup:this.foregroundGroup.addGroup({zIndex:mt.FORE}),theme:this.themeObject,padding:this.padding},t),{options:(0,D.__assign)((0,D.__assign)({},e),(0,u.get)(t,"options",{}))}));return this.views.push(n),n},r.prototype.view=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.createView() instead."),this.createView(t)},r.prototype.removeView=function(t){var e=(0,u.remove)(this.views,function(n){return n===t})[0];return e&&e.destroy(),e},r.prototype.getCoordinate=function(){return this.coordinateInstance},r.prototype.getTheme=function(){return this.themeObject},r.prototype.getXScale=function(){var t=this.geometries[0];return t?t.getXScale():null},r.prototype.getYScales=function(){var t={};return this.geometries.map(function(e){var n=e.getYScale(),a=n.field;if(!t[a])return t[a]=!0,n})},r.prototype.getScalesByDim=function(t){for(var e=this.geometries,n={},a=0,o=e.length;a<o;a++){var s=e[a],l=t==="x"?s.getXScale():s.getYScale();l&&!n[l.field]&&(n[l.field]=l)}return n},r.prototype.getScaleByField=function(t,e){var n=e||this.getScaleKey(t);return this.getRootView().scalePool.getScale(n)},r.prototype.getOptions=function(){return this.options},r.prototype.getData=function(){return this.filteredData},r.prototype.getLayer=function(t){return t===W.BG?this.backgroundGroup:t===W.MID?this.middleGroup:t===W.FORE?this.foregroundGroup:this.foregroundGroup},r.prototype.isPointInPlot=function(t){return re(this.getCoordinate(),t)},r.prototype.getLegendAttributes=function(){return(0,u.flatten)(this.geometries.map(function(t){return t.getGroupAttributes()}))},r.prototype.getGroupScales=function(){var t=this.geometries.map(function(e){return e.getGroupScales()});return Mt((0,u.flatten)(t))},r.prototype.getCanvas=function(){return this.getRootView().canvas},r.prototype.getRootView=function(){for(var t=this;;){if(t.parent){t=t.parent;continue}break}return t},r.prototype.getXY=function(t){var e=this.getCoordinate(),n=this.getScalesByDim("x"),a=this.getScalesByDim("y"),o,s;if((0,u.each)(t,function(l,f){n[f]&&(o=n[f].scale(l)),a[f]&&(s=a[f].scale(l))}),!(0,u.isNil)(o)&&!(0,u.isNil)(s))return e.convert({x:o,y:s})},r.prototype.getController=function(t){return(0,u.find)(this.controllers,function(e){return e.name===t})},r.prototype.showTooltip=function(t){var e=this.getController("tooltip");return e&&e.showTooltip(t),this},r.prototype.hideTooltip=function(){var t=this.getController("tooltip");return t&&t.hideTooltip(),this},r.prototype.lockTooltip=function(){var t=this.getController("tooltip");return t&&t.lockTooltip(),this},r.prototype.unlockTooltip=function(){var t=this.getController("tooltip");return t&&t.unlockTooltip(),this},r.prototype.isTooltipLocked=function(){var t=this.getController("tooltip");return t&&t.isTooltipLocked()},r.prototype.getTooltipItems=function(t){var e=this.getController("tooltip");return e?e.getTooltipItems(t):[]},r.prototype.getSnapRecords=function(t){for(var e=this.geometries,n=[],a=0,o=e.length;a<o;a++){var s=e[a],l=s.dataArray;s.sort(l);for(var f=void 0,h=0,c=l.length;h<c;h++){var v=l[h];f=wr(t,v,s),f&&n.push(f)}}for(var x=this.views,a=0,o=x.length;a<o;a++){var A=x[a],B=A.getSnapRecords(t);n=n.concat(B)}return n},r.prototype.getComponents=function(){for(var t=[],e=this.controllers,n=0,a=e.length;n<a;n++){var o=e[n];t=t.concat(o.getComponents())}return t},r.prototype.filterData=function(t){var e=this.options.filters;return(0,u.size)(e)===0?t:(0,u.filter)(t,function(n,a){var o=Object.keys(e);return o.every(function(s){var l=e[s];return l(n[s],n,a)})})},r.prototype.filterFieldData=function(t,e){var n=this.options.filters,a=(0,u.get)(n,t);return(0,u.isUndefined)(a)?e:e.filter(function(o,s){return a(o[t],o,s)})},r.prototype.adjustCoordinate=function(){var t=this.getCoordinate(),e=t.start,n=t.end,a=this.coordinateBBox.bl,o=this.coordinateBBox.tr;if((0,u.isEqual)(e,a)&&(0,u.isEqual)(n,o)){this.isCoordinateChanged=!1;return}this.isCoordinateChanged=!0,this.coordinateInstance=this.coordinateController.adjust(a,o)},r.prototype.paint=function(t){this.renderDataRecursive(t),this.syncScale(),this.emit(et.BEFORE_PAINT),this.renderBackgroundStyleShape(),this.renderLayoutRecursive(t),this.renderPaintRecursive(t),this.emit(et.AFTER_PAINT),this.isDataChanged=!1},r.prototype.renderBackgroundStyleShape=function(){if(!this.parent){var t=(0,u.get)(this.themeObject,"background");if(t){this.backgruondStyleRectShape||(this.backgruondStyleRectShape=this.backgroundGroup.addShape("rect",{attrs:{zIndex:-1}}));var e=this.viewBBox,n=e.x,a=e.y,o=e.width,s=e.height;this.backgruondStyleRectShape.attr({fill:t,x:n,y:a,width:o,height:s})}else this.backgruondStyleRectShape&&(this.backgruondStyleRectShape.remove(!0),this.backgruondStyleRectShape=void 0)}},r.prototype.renderLayoutRecursive=function(t){this.calculateViewBBox(),this.adjustCoordinate(),this.initComponents(t),this.doLayout();var e=this.viewBBox,n=this.coordinateBBox;hn(this.padding)&&(this.autoPadding=[n.tl.y-e.tl.y,e.tr.x-n.tr.x,e.bl.y-n.bl.y,n.tl.x-e.tl.x]);for(var a=this.views,o=0,s=a.length;o<s;o++){var l=a[o];l.renderLayoutRecursive(t)}},r.prototype.renderPaintRecursive=function(t){if(this.limitInPlot){var e=this.middleGroup,n=ye(this.coordinateInstance),a=n.type,o=n.attrs;e.setClip({type:a,attrs:o})}this.paintGeometries(t),this.renderComponents(t);for(var s=this.views,l=0,f=s.length;l<f;l++){var h=s[l];h.renderPaintRecursive(t)}},r.prototype.createScale=function(t,e,n,a){var o=(0,u.get)(this.options.scales,[t]),s=(0,D.__assign)((0,D.__assign)({},o),n);return this.parent?this.parent.createScale(t,e,s,a):this.scalePool.createScale(t,e,s,a)},r.prototype.renderDataRecursive=function(t){this.doFilterData(),this.createCoordinate(),this.initGeometries(t),this.renderFacet(t);for(var e=this.views,n=0,a=e.length;n<a;n++){var o=e[n];o.renderDataRecursive(t)}},r.prototype.calculateViewBBox=function(){var t,e,n,a;if(this.parent){var o=this.parent.coordinateBBox;t=o.x,e=o.y,n=o.width,a=o.height}else t=0,e=0,n=this.canvas.get("width"),a=this.canvas.get("height");var s=this.region,l=s.start,f=s.end,h=new Te(t+n*l.x,e+a*l.y,n*(f.x-l.x),a*(f.y-l.y));(!this.viewBBox||!this.viewBBox.isEqual(h))&&(this.viewBBox=new Te(t+n*l.x,e+a*l.y,n*(f.x-l.x),a*(f.y-l.y)),this.coordinateBBox=this.viewBBox)},r.prototype.initEvents=function(){this.foregroundGroup.on("*",this.onDelegateEvents),this.middleGroup.on("*",this.onDelegateEvents),this.backgroundGroup.on("*",this.onDelegateEvents),this.canvas.on("*",this.onCanvasEvent)},r.prototype.initComponentController=function(){for(var t=this.usedControllers,e=0,n=t.length;e<n;e++){var a=t[e],o=pe(a);o&&this.controllers.push(new o(this))}},r.prototype.createViewEvent=function(t){var e=t.shape,n=t.name,a=e?e.get("origin"):null,o=new Lr(this,t,a);return o.type=n,o},r.prototype.doPlotEvent=function(t){var e=t.type,n=t.x,a=t.y,o={x:n,y:a},s=["mousedown","mouseup","mousemove","mouseleave","mousewheel","touchstart","touchmove","touchend","touchcancel","click","dblclick","contextmenu"];if(s.includes(e)){var l=this.isPointInPlot(o);if(l){var f="plot:"+e;t.type=f,this.emit(f,t),(e==="mouseleave"||e==="touchend")&&(this.isPreMouseInPlot=!1)}e==="mousemove"||e==="touchmove"?(this.isPreMouseInPlot&&!l?(e==="mousemove"&&(t.type=ct.MOUSE_LEAVE,this.emit(ct.MOUSE_LEAVE,t)),t.type=ct.LEAVE,this.emit(ct.LEAVE,t)):!this.isPreMouseInPlot&&l&&(e==="mousemove"&&(t.type=ct.MOUSE_ENTER,this.emit(ct.MOUSE_ENTER,t)),t.type=ct.ENTER,this.emit(ct.ENTER,t)),this.isPreMouseInPlot=l):(e==="mouseleave"||e==="touchend")&&this.isPreMouseInPlot&&(e==="mouseleave"&&(t.type=ct.MOUSE_LEAVE,this.emit(ct.MOUSE_LEAVE,t)),t.type=ct.LEAVE,this.emit(ct.LEAVE,t),this.isPreMouseInPlot=!1)}},r.prototype.doFilterData=function(){var t=this.options.data;this.filteredData=this.filterData(t)},r.prototype.initGeometries=function(t){this.createOrUpdateScales();for(var e=this.getCoordinate(),n=(0,u.get)(this.options,"scales",{}),a=this.geometries,o=0,s=a.length;o<s;o++){var l=a[o];l.scales=this.getGeometryScales();var f={coordinate:e,scaleDefs:n,data:this.filteredData,theme:this.themeObject,isDataChanged:this.isDataChanged,isCoordinateChanged:this.isCoordinateChanged};t?l.update(f):l.init(f)}this.adjustScales()},r.prototype.createOrUpdateScales=function(){for(var t=this.getScaleFields(),e=this.getGroupedFields(),n=this.getOptions(),a=n.data,o=n.scales,s=o===void 0?{}:o,l=this.filteredData,f=0,h=t.length;f<h;f++){var c=t[f],v=s[c],x=this.getScaleKey(c);this.createScale(c,e.includes(c)?a:l,v,x),this.createdScaleKeys.set(x,!0)}},r.prototype.syncScale=function(){this.getRootView().scalePool.sync()},r.prototype.getGeometryScales=function(){for(var t=this.getScaleFields(),e={},n=0;n<t.length;n++){var a=t[n];e[a]=this.getScaleByField(a)}return e},r.prototype.getScaleFields=function(){for(var t=[],e={},n=this.geometries,a=0;a<n.length;a++){var o=n[a],s=o.getScaleFields();Mt(s,t,e)}return t},r.prototype.getGroupedFields=function(){for(var t=[],e={},n=this.geometries,a=0;a<n.length;a++){var o=n[a],s=o.getGroupFields();Mt(s,t,e)}return t},r.prototype.adjustScales=function(){this.adjustCategoryScaleRange()},r.prototype.adjustCategoryScaleRange=function(){var t=this,e=(0,D.__spreadArrays)([this.getXScale()],this.getYScales()).filter(function(o){return!!o}),n=this.getCoordinate(),a=this.options.scales;(0,u.each)(e,function(o){var s=o.field,l=o.values,f=o.isCategory,h=o.isIdentity;if((f||h)&&l&&!(0,u.get)(a,[s,"range"])){var c=l.length,v=void 0;if(c===1)v=[.5,1];else{var x=1,A=0;yt(n)?n.isTransposed?(x=(0,u.get)(t.theme,"widthRatio.multiplePie",1/1.3),A=1/c*x,v=[A/2,1-A/2]):v=[0,1-1/c]:(A=1/c/2,v=[A,1-A])}o.range=v}})},r.prototype.initComponents=function(t){for(var e=this.controllers,n=0;n<e.length;n++){var a=e[n];t?a.update():(a.clear(),a.render())}},r.prototype.doLayout=function(){this.layoutFunc(this)},r.prototype.createCoordinate=function(){var t=this.coordinateBBox.bl,e=this.coordinateBBox.tr;this.coordinateInstance=this.coordinateController.create(t,e)},r.prototype.paintGeometries=function(t){for(var e=this.options.animate,n=this.getCoordinate(),a={x:this.viewBBox.x,y:this.viewBBox.y,minX:this.viewBBox.minX,minY:this.viewBBox.minY,maxX:this.viewBBox.maxX,maxY:this.viewBBox.maxY,width:this.viewBBox.width,height:this.viewBBox.height},o=this.geometries,s=0;s<o.length;s++){var l=o[s];l.coordinate=n,l.canvasRegion=a,e||l.animate(!1),l.paint(t)}},r.prototype.renderComponents=function(t){for(var e=0;e<this.getComponents().length;e++){var n=this.getComponents()[e];n.component.render()}},r.prototype.renderFacet=function(t){this.facetInstance&&(t?this.facetInstance.update():(this.facetInstance.clear(),this.facetInstance.init(),this.facetInstance.render()))},r.prototype.initOptions=function(){for(var t=this.options,e=t.geometries,n=e===void 0?[]:e,a=t.interactions,o=a===void 0?[]:a,s=t.views,l=s===void 0?[]:s,f=t.annotations,h=f===void 0?[]:f,c=0;c<n.length;c++){var v=n[c];this.createGeometry(v)}for(var x=0;x<o.length;x++){var A=o[x],B=A.type,G=A.cfg;this.interaction(B,G)}for(var H=0;H<l.length;H++){var X=l[H];this.createView(X)}for(var ut=this.getController("annotation"),ft=0;ft<h.length;ft++){var xt=h[ft];ut.annotation(xt)}},r.prototype.createGeometry=function(t){var e=t.type,n=t.cfg,a=n===void 0?{}:n;if(this[e]){var o=this[e](a);(0,u.each)(t,function(s,l){(0,u.isFunction)(o[l])&&o[l](s)})}},r.prototype.getScaleKey=function(t){return this.id+"-"+t},r}(zt);function da(i,r){uc.prototype[i.toLowerCase()]=function(t){t===void 0&&(t={});var e=(0,D.__assign)({container:this.middleGroup.addGroup(),labelsContainer:this.foregroundGroup.addGroup()},t),n=new r(e);return this.geometries.push(n),n}}var Nu=uc,z1=function(i){(0,D.__extends)(r,i);function r(t){var e=this,n=t.container,a=t.width,o=t.height,s=t.autoFit,l=s===void 0?!1:s,f=t.padding,h=t.appendPadding,c=t.renderer,v=c===void 0?"canvas":c,x=t.pixelRatio,A=t.localRefresh,B=A===void 0?!0:A,G=t.visible,H=G===void 0?!0:G,X=t.defaultInteractions,ut=X===void 0?["tooltip","legend-filter","legend-active","continuous-filter","ellipsis-text"]:X,ft=t.options,xt=t.limitInPlot,Yt=t.theme,Kt=(0,u.isString)(n)?document.getElementById(n):n,te=(0,at.Z)('<div style="position:relative;"></div>');Kt.appendChild(te);var Wt=le(Kt,l,a,o),ae=U(v),ce=new ae.Canvas((0,D.__assign)({container:te,pixelRatio:x,localRefresh:B},Wt));return e=i.call(this,{parent:null,canvas:ce,backgroundGroup:ce.addGroup({zIndex:mt.BG}),middleGroup:ce.addGroup({zIndex:mt.MID}),foregroundGroup:ce.addGroup({zIndex:mt.FORE}),padding:f,appendPadding:h,visible:H,options:ft,limitInPlot:xt,theme:Yt})||this,e.onResize=(0,u.debounce)(function(){e.forceFit()},300),e.ele=Kt,e.canvas=ce,e.width=Wt.width,e.height=Wt.height,e.autoFit=l,e.localRefresh=B,e.renderer=v,e.wrapperElement=te,e.updateCanvasStyle(),e.bindAutoFit(),e.initDefaultInteractions(ut),e}return r.prototype.initDefaultInteractions=function(t){var e=this;(0,u.each)(t,function(n){e.interaction(n)})},r.prototype.changeSize=function(t,e){return this.width===t&&this.height===e?this:(this.width=t,this.height=e,this.canvas.changeSize(t,e),this.render(!0),this)},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.unbindAutoFit(),this.canvas.destroy(),ge(this.wrapperElement),this.wrapperElement=null},r.prototype.changeVisible=function(t){return i.prototype.changeVisible.call(this,t),this.wrapperElement.style.display=t?"":"none",this},r.prototype.forceFit=function(){if(!this.destroyed){var t=le(this.ele,!0,this.width,this.height),e=t.width,n=t.height;this.changeSize(e,n)}},r.prototype.updateCanvasStyle=function(){(0,vt.Z)(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},r.prototype.bindAutoFit=function(){this.autoFit&&window.addEventListener("resize",this.onResize)},r.prototype.unbindAutoFit=function(){this.autoFit&&window.removeEventListener("resize",this.onResize)},r}(Nu),X1=z1,Do=function(){function i(r){this.visible=!0,this.components=[],this.view=r}return i.prototype.clear=function(){(0,u.each)(this.components,function(r){r.component.destroy()}),this.components=[]},i.prototype.destroy=function(){this.clear()},i.prototype.getComponents=function(){return this.components},i.prototype.changeVisible=function(r){this.visible!==r&&(this.components.forEach(function(t){r?t.component.show():t.component.hide()}),this.visible=r)},i}(),fc=0,V1=1/2,H1=1/2,W1=.05,j1=function(){function i(r){var t=r.xField,e=r.yField,n=r.adjustNames,a=n===void 0?["x","y"]:n,o=r.dimValuesMap;this.adjustNames=a,this.xField=t,this.yField=e,this.dimValuesMap=o}return i.prototype.isAdjust=function(r){return this.adjustNames.indexOf(r)>=0},i.prototype.getAdjustRange=function(r,t,e){var n=this.yField,a=e.indexOf(t),o=e.length,s,l;return!n&&this.isAdjust("y")?(s=0,l=1):o>1?(s=e[a===0?0:a-1],l=e[a===o-1?o-1:a+1],a!==0?s+=(t-s)/2:s-=(l-t)/2,a!==o-1?l-=(l-t)/2:l+=(t-e[o-2])/2):(s=t===0?0:t-.5,l=t===0?1:t+.5),{pre:s,next:l}},i.prototype.adjustData=function(r,t){var e=this,n=this.getDimValues(t);u.each(r,function(a,o){u.each(n,function(s,l){e.adjustDim(l,s,a,o)})})},i.prototype.groupData=function(r,t){return u.each(r,function(e){e[t]===void 0&&(e[t]=fc)}),u.groupBy(r,t)},i.prototype.adjustDim=function(r,t,e,n){},i.prototype.getDimValues=function(r){var t=this,e=t.xField,n=t.yField,a=u.assign({},this.dimValuesMap),o=[];if(e&&this.isAdjust("x")&&o.push(e),n&&this.isAdjust("y")&&o.push(n),o.forEach(function(l){a&&a[l]||(a[l]=u.valuesOfKey(r,l).sort(function(f,h){return f-h}))}),!n&&this.isAdjust("y")){var s="y";a[s]=[fc,1]}return a},i}(),Ws=j1,hc={},cc=function(i){return hc[i.toLowerCase()]},js=function(i,r){if(cc(i))throw new Error("Adjust type '"+i+"' existed.");hc[i.toLowerCase()]=r},q=d(60153),U1=function(i){(0,q.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.cacheMap={},e.adjustDataArray=[],e.mergeData=[];var n=t.marginRatio,a=n===void 0?V1:n,o=t.dodgeRatio,s=o===void 0?H1:o,l=t.dodgeBy,f=t.intervalPadding,h=t.dodgePadding,c=t.xDimensionLength,v=t.groupNum,x=t.defaultSize,A=t.maxColumnWidth,B=t.minColumnWidth,G=t.columnWidthRatio,H=t.customOffset;return e.marginRatio=a,e.dodgeRatio=s,e.dodgeBy=l,e.intervalPadding=f,e.dodgePadding=h,e.xDimensionLegenth=c,e.groupNum=v,e.defaultSize=x,e.maxColumnWidth=A,e.minColumnWidth=B,e.columnWidthRatio=G,e.customOffset=H,e}return r.prototype.process=function(t){var e=u.clone(t),n=u.flatten(e),a=this.dodgeBy,o=a?u.group(n,a):e;return this.cacheMap={},this.adjustDataArray=o,this.mergeData=n,this.adjustData(o,n),this.adjustDataArray=[],this.mergeData=[],e},r.prototype.adjustDim=function(t,e,n,a){var o=this,s=this.customOffset,l=this.getDistribution(t),f=this.groupData(n,t);return u.each(f,function(h,c){var v;e.length===1?v={pre:e[0]-1,next:e[0]+1}:v=o.getAdjustRange(t,parseFloat(c),e),u.each(h,function(x){var A=x[t],B=l[A],G=B.indexOf(a);if(u.isNil(s))x[t]=o.getDodgeOffset(v,G,B.length);else{var H=v.pre,X=v.next;x[t]=u.isFunction(s)?s(x,v):(H+X)/2+s}})}),[]},r.prototype.getDodgeOffset=function(t,e,n){var a=this,o=a.dodgeRatio,s=a.marginRatio,l=a.intervalPadding,f=a.dodgePadding,h=t.pre,c=t.next,v=c-h,x;if(!u.isNil(l)&&u.isNil(f)&&l>=0){var A=this.getIntervalOnlyOffset(n,e);x=h+A}else if(!u.isNil(f)&&u.isNil(l)&&f>=0){var A=this.getDodgeOnlyOffset(n,e);x=h+A}else if(!u.isNil(l)&&!u.isNil(f)&&l>=0&&f>=0){var A=this.getIntervalAndDodgeOffset(n,e);x=h+A}else{var B=v*o/n,G=s*B,A=1/2*(v-n*B-(n-1)*G)+((e+1)*B+e*G)-1/2*B-1/2*v;x=(h+c)/2+A}return x},r.prototype.getIntervalOnlyOffset=function(t,e){var n=this,a=n.defaultSize,o=n.intervalPadding,s=n.xDimensionLegenth,l=n.groupNum,f=n.dodgeRatio,h=n.maxColumnWidth,c=n.minColumnWidth,v=n.columnWidthRatio,x=o/s,A=(1-(l-1)*x)/l*f/(t-1),B=((1-x*(l-1))/l-A*(t-1))/t;if(B=u.isNil(v)?B:1/l/t*v,!u.isNil(h)){var G=h/s;B=Math.min(B,G)}if(!u.isNil(c)){var H=c/s;B=Math.max(B,H)}B=a?a/s:B,A=((1-(l-1)*x)/l-t*B)/(t-1);var X=((1/2+e)*B+e*A+1/2*x)*l-x/2;return X},r.prototype.getDodgeOnlyOffset=function(t,e){var n=this,a=n.defaultSize,o=n.dodgePadding,s=n.xDimensionLegenth,l=n.groupNum,f=n.marginRatio,h=n.maxColumnWidth,c=n.minColumnWidth,v=n.columnWidthRatio,x=o/s,A=1*f/(l-1),B=((1-A*(l-1))/l-x*(t-1))/t;if(B=v?1/l/t*v:B,!u.isNil(h)){var G=h/s;B=Math.min(B,G)}if(!u.isNil(c)){var H=c/s;B=Math.max(B,H)}B=a?a/s:B,A=(1-(B*t+x*(t-1))*l)/(l-1);var X=((1/2+e)*B+e*x+1/2*A)*l-A/2;return X},r.prototype.getIntervalAndDodgeOffset=function(t,e){var n=this,a=n.intervalPadding,o=n.dodgePadding,s=n.xDimensionLegenth,l=n.groupNum,f=a/s,h=o/s,c=((1-f*(l-1))/l-h*(t-1))/t,v=((1/2+e)*c+e*h+1/2*f)*l-f/2;return v},r.prototype.getDistribution=function(t){var e=this.adjustDataArray,n=this.cacheMap,a=n[t];return a||(a={},u.each(e,function(o,s){var l=u.valuesOfKey(o,t);l.length||l.push(0),u.each(l,function(f){a[f]||(a[f]=[]),a[f].push(s)})}),n[t]=a),a},r}(Ws),Z1=U1;function K1(i,r){return(r-i)*Math.random()+i}var $1=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.process=function(t){var e=u.clone(t),n=u.flatten(e);return this.adjustData(e,n),e},r.prototype.adjustDim=function(t,e,n){var a=this,o=this.groupData(n,t);return u.each(o,function(s,l){return a.adjustGroup(s,t,parseFloat(l),e)})},r.prototype.getAdjustOffset=function(t){var e=t.pre,n=t.next,a=(n-e)*W1;return K1(e+a,n-a)},r.prototype.adjustGroup=function(t,e,n,a){var o=this,s=this.getAdjustRange(e,n,a);return u.each(t,function(l){l[e]=o.getAdjustOffset(s)}),t},r}(Ws),Q1=$1,Gu=u.Cache,J1=function(i){(0,q.__extends)(r,i);function r(t){var e=i.call(this,t)||this,n=t.adjustNames,a=n===void 0?["y"]:n,o=t.height,s=o===void 0?NaN:o,l=t.size,f=l===void 0?10:l,h=t.reverseOrder,c=h===void 0?!1:h;return e.adjustNames=a,e.height=s,e.size=f,e.reverseOrder=c,e}return r.prototype.process=function(t){var e=this,n=e.yField,a=e.reverseOrder,o=n?this.processStack(t):this.processOneDimStack(t);return a?this.reverse(o):o},r.prototype.reverse=function(t){return t.slice(0).reverse()},r.prototype.processStack=function(t){var e=this,n=e.xField,a=e.yField,o=e.reverseOrder,s=o?this.reverse(t):t,l=new Gu,f=new Gu;return s.map(function(h){return h.map(function(c){var v,x=u.get(c,n,0),A=u.get(c,[a]),B=x.toString();if(A=u.isArray(A)?A[1]:A,!u.isNil(A)){var G=A>=0?l:f;G.has(B)||G.set(B,0);var H=G.get(B),X=A+H;return G.set(B,X),(0,q.__assign)((0,q.__assign)({},c),(v={},v[a]=[H,X],v))}return c})})},r.prototype.processOneDimStack=function(t){var e=this,n=this,a=n.xField,o=n.height,s=n.reverseOrder,l="y",f=s?this.reverse(t):t,h=new Gu;return f.map(function(c){return c.map(function(v){var x,A=e.size,B=v[a],G=A*2/o;h.has(B)||h.set(B,G/2);var H=h.get(B);return h.set(B,H+G),(0,q.__assign)((0,q.__assign)({},v),(x={},x[l]=H,x))})})},r}(Ws),q1=J1,tb=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.process=function(t){var e=u.flatten(t),n=this,a=n.xField,o=n.yField,s=this.getXValuesMaxMap(e),l=Math.max.apply(Math,Object.keys(s).map(function(f){return s[f]}));return u.map(t,function(f){return u.map(f,function(h){var c,v,x=h[o],A=h[a];if(u.isArray(x)){var B=(l-s[A])/2;return(0,q.__assign)((0,q.__assign)({},h),(c={},c[o]=u.map(x,function(H){return B+H}),c))}var G=(l-x)/2;return(0,q.__assign)((0,q.__assign)({},h),(v={},v[o]=[G,x+G],v))})})},r.prototype.getXValuesMaxMap=function(t){var e=this,n=this,a=n.xField,o=n.yField,s=u.groupBy(t,function(l){return l[a]});return u.mapValues(s,function(l){return e.getDimMaxValue(l,o)})},r.prototype.getDimMaxValue=function(t,e){var n=u.map(t,function(o){return u.get(o,e,[])}),a=u.flatten(n);return Math.max.apply(Math,a)},r}(Ws),eb=tb;js("Dodge",Z1),js("Jitter",Q1),js("Stack",q1),js("Symmetric",eb);var vc={};function Yu(i){return vc[i.toLowerCase()]}function Un(i,r){vc[i.toLowerCase()]=r}var Fo={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},rb={interval:function(i){return{enter:{animation:i.isRect?i.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:i.isPolar&&i.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},dc={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(i){var r;return i.isRect?r=i.isTransposed?"grow-in-x":"grow-in-y":(r="grow-in-xy",i.isPolar&&i.isTransposed&&(r="wave-in")),{animation:r}},schema:function(i){var r;return i.isRect?r=i.isTransposed?"grow-in-x":"grow-in-y":r="grow-in-xy",{animation:r}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function nb(i,r){return{delay:(0,u.isFunction)(i.delay)?i.delay(r):i.delay,easing:(0,u.isFunction)(i.easing)?i.easing(r):i.easing,duration:(0,u.isFunction)(i.duration)?i.duration(r):i.duration,callback:i.callback}}function pc(i,r,t){var e=rb[i];return e&&((0,u.isFunction)(e)&&(e=e(r)),e=(0,u.deepMix)({},Fo,e),t)?e[t]:e}function Ro(i,r,t){var e=(0,u.get)(i.get("origin"),"data",ot),n=r.animation,a=nb(r,e);if(n){var o=Yu(n);o&&o(i,a,t)}else i.animate(t.toAttrs,a)}function ib(i,r,t,e,n){if(dc[t]){var a=dc[t](e),o=Yu((0,u.get)(a,"animation",""));if(o){var s=(0,D.__assign)((0,D.__assign)((0,D.__assign)({},Fo.appear),a),r);i.stopAnimate(),o(i,s,{coordinate:e,minYPoint:n,toAttrs:null})}}}var ab=d(31207),ob=function(i){(0,D.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.states=[];var n=t.shapeFactory,a=t.container,o=t.offscreenGroup,s=t.visible,l=s===void 0?!0:s;return e.shapeFactory=n,e.container=a,e.offscreenGroup=o,e.visible=l,e}return r.prototype.draw=function(t,e){e===void 0&&(e=!1),this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.drawShape(t,e),this.visible===!1&&this.changeVisible(!1)},r.prototype.update=function(t){var e=this,n=e.shapeFactory,a=e.shape;if(!!a){this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.setShapeInfo(a,t);var o=this.getOffscreenGroup(),s=n.drawShape(this.shapeType,t,o);s.cfg.data=this.data,s.cfg.origin=t,this.syncShapeStyle(a,s,"",this.getAnimateCfg("update"))}},r.prototype.destroy=function(){var t=this,e=t.shapeFactory,n=t.shape;if(n){var a=this.getAnimateCfg("leave");a?Ro(n,a,{coordinate:e.coordinate,toAttrs:(0,D.__assign)({},n.attr())}):n.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=void 0,this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,i.prototype.destroy.call(this)},r.prototype.changeVisible=function(t){i.prototype.changeVisible.call(this,t),t?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(e){e.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(e){e.hide()}))},r.prototype.setState=function(t,e){var n=this,a=this,o=a.states,s=a.shapeFactory,l=a.model,f=a.shape,h=a.shapeType,c=o.indexOf(t);if(e){if(c>-1)return;o.push(t),(t==="active"||t==="selected")&&f.toFront()}else{if(c===-1)return;o.splice(c,1),(t==="active"||t==="selected")&&f.toBack()}var v=s.drawShape(h,l,this.getOffscreenGroup());o.length?o.forEach(function(A){n.syncShapeStyle(f,v,A,null)}):this.syncShapeStyle(f,v,"reset",null),v.remove(!0);var x={state:t,stateStatus:e,element:this,target:this.container};this.container.emit("statechange",x),(0,ab.propagationDelegate)(this.shape,"statechange",x)},r.prototype.clearStates=function(){var t=this,e=this.states;(0,u.each)(e,function(n){t.setState(n,!1)}),this.states=[]},r.prototype.hasState=function(t){return this.states.includes(t)},r.prototype.getStates=function(){return this.states},r.prototype.getData=function(){return this.data},r.prototype.getModel=function(){return this.model},r.prototype.getBBox=function(){var t=this,e=t.shape,n=t.labelShape,a={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return e&&(a=e.getCanvasBBox()),n&&n.forEach(function(o){var s=o.getCanvasBBox();a.x=Math.min(s.x,a.x),a.y=Math.min(s.y,a.y),a.minX=Math.min(s.minX,a.minX),a.minY=Math.min(s.minY,a.minY),a.maxX=Math.max(s.maxX,a.maxX),a.maxY=Math.max(s.maxY,a.maxY)}),a.width=a.maxX-a.minX,a.height=a.maxY-a.minY,a},r.prototype.getStatesStyle=function(){if(!this.statesStyle){var t=this,e=t.shapeType,n=t.geometry,a=t.shapeFactory,o=n.stateOption,s=a.defaultShapeType,l=a.theme[e]||a.theme[s];this.statesStyle=(0,u.deepMix)({},l,o)}return this.statesStyle},r.prototype.getStateStyle=function(t,e){var n=this.getStatesStyle(),a=(0,u.get)(n,[t,"style"],{}),o=a[e]||a;return(0,u.isFunction)(o)?o(this):o},r.prototype.getAnimateCfg=function(t){var e=this.animate;return e?e[t]:null},r.prototype.drawShape=function(t,e){e===void 0&&(e=!1);var n=this,a=n.shapeFactory,o=n.container,s=n.shapeType;if(this.shape=a.drawShape(s,t,o),this.shape){this.setShapeInfo(this.shape,t);var l=this.shape.cfg.name;l?(0,u.isString)(l)&&(this.shape.cfg.name=["element",l]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var f=e?"enter":"appear",h=this.getAnimateCfg(f);h&&Ro(this.shape,h,{coordinate:a.coordinate,toAttrs:(0,D.__assign)({},this.shape.attr())})}},r.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},r.prototype.setShapeInfo=function(t,e){var n=this;if(t.cfg.origin=e,t.cfg.element=this,t.isGroup()){var a=t.get("children");a.forEach(function(o){n.setShapeInfo(o,e)})}},r.prototype.syncShapeStyle=function(t,e,n,a,o){if(n===void 0&&(n=""),o===void 0&&(o=0),t.isGroup())for(var s=t.get("children"),l=e.get("children"),f=0;f<s.length;f++)this.syncShapeStyle(s[f],l[f],n,a,o+f);else{if(n&&n!=="reset"){var h=t.get("name");(0,u.isArray)(h)&&(h=h[1]);var c=this.getStateStyle(n,h||o);e.attr(c)}var v=Vn(t,e);this.animate?a?Ro(t,a,{coordinate:this.shapeFactory.coordinate,toAttrs:v,shapeModel:this.model}):n?(t.stopAnimate(),t.animate(v,{duration:300})):t.attr(v):t.attr(v)}},r.prototype.getShapeType=function(t){var e=(0,u.get)(t,"shape");return(0,u.isArray)(e)?e[0]:e},r}(zt),gc=ob,yc={},mc={};function xc(i){return yc[i.toLowerCase()]}function hs(i,r){yc[i.toLowerCase()]=r}function bc(i){return mc[i.toLowerCase()]}function vo(i,r){mc[i.toLowerCase()]=r}var Us=d(57350),sb={coordinate:null,defaultShapeType:null,theme:null,getShapePoints:function(i,r){var t=this.getShape(i);return t.getPoints?t.getPoints(r):this.getDefaultPoints(r)},getShape:function(i){var r=this[i]||this[this.defaultShapeType];return r.coordinate=this.coordinate,r},getDefaultPoints:function(){return[]},getMarker:function(i,r){var t=this.getShape(i);if(!t.getMarker){var e=this.defaultShapeType;t=this.getShape(e)}var n=this.theme,a=(0,u.get)(n,[i,"default"],{}),o=t.getMarker(r);return(0,u.deepMix)({},a,o)},drawShape:function(i,r,t){var e=this.getShape(i);return e.draw(r,t)}},lb={coordinate:null,parsePath:function(i){var r=this.coordinate,t=(0,Us.parsePathString)(i);return r.isPolar?t=je(r,t):t=_e(r,t),t},parsePoint:function(i){var r=this.coordinate;return r.convert(i)},parsePoints:function(i){var r=this.coordinate;return i.map(function(t){return r.convert(t)})},draw:function(i,r){}},zu={};function Qa(i,r){var t=(0,u.upperFirst)(i),e=(0,D.__assign)((0,D.__assign)((0,D.__assign)({},sb),r),{geometryType:i});return zu[t]=e,e}function rn(i,r,t){var e=(0,u.upperFirst)(i),n=zu[e],a=(0,D.__assign)((0,D.__assign)({},lb),t);return n[r]=a,a}function Xu(i){var r=(0,u.upperFirst)(i);return zu[r]}function ub(i,r,t){if(t===void 0&&(t={}),!r)return[i];var e=(0,u.groupToMap)(i,r),n=[];if(r.length===1&&t[r[0]])for(var a=t[r[0]],o=0,s=a;o<s.length;o++){var l=s[o],f=e["_"+l];f&&n.push(f)}else for(var h in e)if(e.hasOwnProperty(h)){var c=e[h];n.push(c)}return n}function wc(i,r){return(0,u.some)(["color","shape","size","x","y","isInCircle","data","style","defaultStyle","points","mappingData"],function(t){return!(0,u.isEqual)(i[t],r[t])})}function cs(i){return(0,u.isArray)(i)?i:i.split("*")}function fb(i,r){var t=[];return(0,u.each)(r,function(e,n){var a=n.split(" ")[0];a===i&&t.push(e)}),t}var hb=function(i){(0,D.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.type="base",e.attributes={},e.elements=[],e.elementsMap={},e.animateOption=!0,e.attributeOption={},e.lastElementsMap={},e.generatePoints=!1,e.beforeMappingData=null,e.adjusts={},e.idFields=[],e.hasSorted=!1,e.isCoordinateChanged=!1;var n=t.container,a=t.labelsContainer,o=t.coordinate,s=t.data,l=t.sortable,f=l===void 0?!1:l,h=t.visible,c=h===void 0?!0:h,v=t.theme,x=t.scales,A=x===void 0?{}:x,B=t.scaleDefs,G=B===void 0?{}:B;return e.container=n,e.labelsContainer=a,e.coordinate=o,e.data=s,e.sortable=f,e.visible=c,e.userTheme=v,e.scales=A,e.scaleDefs=G,e}return r.prototype.position=function(t){var e=t;(0,u.isPlainObject)(t)||(e={fields:cs(t)});var n=(0,u.get)(e,"fields");return n.length===1&&(n.unshift("1"),(0,u.set)(e,"fields",n)),(0,u.set)(this.attributeOption,"position",e),this},r.prototype.color=function(t,e){return this.createAttrOption("color",t,e),this},r.prototype.shape=function(t,e){return this.createAttrOption("shape",t,e),this},r.prototype.size=function(t,e){return this.createAttrOption("size",t,e),this},r.prototype.adjust=function(t){var e=t;return((0,u.isString)(t)||(0,u.isPlainObject)(t))&&(e=[t]),(0,u.each)(e,function(n,a){(0,u.isObject)(n)||(e[a]={type:n})}),this.adjustOption=e,this},r.prototype.style=function(t,e){if((0,u.isString)(t)){var n=cs(t);this.styleOption={fields:n,callback:e}}else{var a=t,n=a.fields,o=a.callback,s=a.cfg;n||o||s?this.styleOption=t:this.styleOption={cfg:t}}return this},r.prototype.tooltip=function(t,e){if((0,u.isString)(t)){var n=cs(t);this.tooltipOption={fields:n,callback:e}}else this.tooltipOption=t;return this},r.prototype.animate=function(t){return this.animateOption=t,this},r.prototype.label=function(t,e,n){if((0,u.isString)(t)){var a={},o=cs(t);a.fields=o,(0,u.isFunction)(e)?a.callback=e:(0,u.isPlainObject)(e)&&(a.cfg=e),n&&(a.cfg=n),this.labelOption=a}else this.labelOption=t;return this},r.prototype.state=function(t){return this.stateOption=t,this},r.prototype.init=function(t){t===void 0&&(t={}),this.setCfg(t),this.initAttributes(),this.processData(this.data),this.adjustScale()},r.prototype.update=function(t){t===void 0&&(t={});var e=t.data,n=t.isDataChanged,a=t.isCoordinateChanged,o=this,s=o.attributeOption,l=o.lastAttributeOption;(0,u.isEqual)(s,l)?e&&(n||!(0,u.isEqual)(e,this.data))?(this.setCfg(t),this.processData(e)):this.setCfg(t):this.init(t),this.adjustScale(),this.isCoordinateChanged=a},r.prototype.paint=function(t){var e=this;t===void 0&&(t=!1),this.animateOption&&(this.animateOption=(0,u.deepMix)({},pc(this.type,this.coordinate),this.animateOption)),this.defaultSize=void 0,this.elements=[],this.elementsMap={};var n=this.getOffscreenGroup();n.clear();for(var a=this.beforeMappingData,o=this.beforeMapping(a),s=[],l=0,f=o.length;l<f;l++){var h=o[l],c=this.mapping(h);s.push(c),this.createElements(c,l,t)}if(this.canDoGroupAnimation(t)){var v=this.container,x=this.type,A=this.coordinate,B=(0,u.get)(this.animateOption,"appear"),G=this.getYScale(),H=A.convert({x:0,y:G.scale(this.getYMinValue())});ib(v,B,x,A,H)}this.labelOption&&this.renderLabels((0,u.flatten)(s),t),this.dataArray=s,(0,u.each)(this.lastElementsMap,function(X){X.animate=e.animateOption,X.destroy()}),this.lastElementsMap=this.elementsMap,this.lastAttributeOption=(0,D.__assign)({},this.attributeOption),this.visible===!1&&this.changeVisible(!1)},r.prototype.clear=function(){var t=this,e=t.container,n=t.geometryLabel,a=t.offscreenGroup;e&&e.clear(),n&&n.clear(),a&&a.clear(),this.scaleDefs=void 0,this.attributes={},this.scales={},this.elementsMap={},this.lastElementsMap={},this.elements=[],this.adjusts={},this.dataArray=null,this.beforeMappingData=null,this.lastAttributeOption=void 0,this.defaultSize=void 0,this.idFields=[],this.groupScales=void 0,this.hasSorted=!1,this.isCoordinateChanged=!1},r.prototype.destroy=function(){this.clear();var t=this.container;t.remove(!0),this.offscreenGroup&&(this.offscreenGroup.remove(!0),this.offscreenGroup=null),this.geometryLabel&&(this.geometryLabel.destroy(),this.geometryLabel=null),this.theme=void 0,this.shapeFactory=void 0,i.prototype.destroy.call(this)},r.prototype.getGroupScales=function(){return this.groupScales},r.prototype.getAttribute=function(t){return this.attributes[t]},r.prototype.getXScale=function(){return this.getAttribute("position").scales[0]},r.prototype.getYScale=function(){return this.getAttribute("position").scales[1]},r.prototype.getGroupAttributes=function(){var t=[];return(0,u.each)(this.attributes,function(e){At.includes(e.type)&&t.push(e)}),t},r.prototype.getDefaultValue=function(t){var e,n=this.getAttribute(t);return n&&(0,u.isEmpty)(n.scales)&&(e=n.values[0]),e},r.prototype.getAttributeValues=function(t,e){for(var n=[],a=t.scales,o=0,s=a.length;o<s;o++){var l=a[o],f=l.field;l.isIdentity?n.push(l.values):n.push(e[f])}return t.mapping.apply(t,n)},r.prototype.getAdjust=function(t){return this.adjusts[t]},r.prototype.getShapeMarker=function(t,e){var n=this.getShapeFactory();return n.getMarker(t,e)},r.prototype.getElementsBy=function(t){return this.elements.filter(function(e){return t(e)})},r.prototype.getElementId=function(t){t=(0,u.isArray)(t)?t[0]:t;var e=t[ot];if(this.idFields.length){for(var n=e[this.idFields[0]],a=1;a<this.idFields.length;a++)n+="-"+e[this.idFields[a]];return n}var o=this.type,s=this.getXScale(),l=this.getYScale(),f=s.field||"x",h=l.field||"y",c=e[h],v;s.type==="identity"?v=s.values[0]:v=e[f];var x;o==="interval"||o==="schema"?x=v:o==="line"||o==="area"||o==="path"?x=o:x=v+"-"+c;for(var A=this.groupScales,a=0,B=A.length;a<B;a++){var G=A[a],H=G.field;x=x+"-"+e[H]}var X=this.getAdjust("dodge");if(X){var ut=X.dodgeBy;ut&&(x=x+"-"+e[ut])}return this.getAdjust("jitter")&&(x=x+"-"+t.x+"-"+t.y),x},r.prototype.getScaleFields=function(){var t=[],e={},n=this,a=n.attributeOption,o=n.labelOption,s=n.tooltipOption;for(var l in a)if(a.hasOwnProperty(l)){var f=a[l];f.fields?Mt(f.fields,t,e):f.values&&Mt(f.values,t,e)}return o&&o.fields&&Mt(o.fields,t,e),(0,u.isObject)(s)&&s.fields&&Mt(s.fields,t,e),t},r.prototype.changeVisible=function(t){i.prototype.changeVisible.call(this,t);for(var e=this.elements,n=0,a=e.length;n<a;n++){var o=e[n];o.changeVisible(t)}t?(this.container&&this.container.show(),this.labelsContainer&&this.labelsContainer.show()):(this.container&&this.container.hide(),this.labelsContainer&&this.labelsContainer.hide())},r.prototype.getGroupFields=function(){for(var t=[],e={},n=0,a=At.length;n<a;n++){var o=At[n],s=this.attributeOption[o];s&&s.fields&&Mt(s.fields,t,e)}return t},r.prototype.getXYFields=function(){var t=this.attributeOption.position.fields,e=t[0],n=t[1];return[e,n]},r.prototype.getShapes=function(){return this.elements.map(function(t){return t.shape})},r.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},r.prototype.sort=function(t){if(!this.hasSorted)for(var e=this.getXScale(),n=e.field,a=0;a<t.length;a++){var o=t[a];o.sort(function(s,l){return e.translate(s[ot][n])-e.translate(l[ot][n])})}this.hasSorted=!0},r.prototype.adjustScale=function(){var t=this.getYScale();t&&this.getAdjust("stack")&&this.updateStackRange(t,this.beforeMappingData)},r.prototype.getShapeFactory=function(){var t=this.shapeType;if(!!Xu(t))return this.shapeFactory||(this.shapeFactory=(0,u.clone)(Xu(t))),this.shapeFactory.coordinate=this.coordinate,this.shapeFactory.theme=this.theme.geometries[t]||{},this.shapeFactory},r.prototype.createShapePointsCfg=function(t){var e=this.getXScale(),n=this.getYScale(),a=this.normalizeValues(t[e.field],e),o;return n?o=this.normalizeValues(t[n.field],n):o=t.y?t.y:.1,{x:a,y:o,y0:n?n.scale(this.getYMinValue()):void 0}},r.prototype.createElement=function(t,e){e===void 0&&(e=!1);var n=this.container,a=this.getDrawCfg(t),o=this.getShapeFactory(),s=new gc({shapeFactory:o,container:n,offscreenGroup:this.getOffscreenGroup()});return s.animate=this.animateOption,s.geometry=this,s.draw(a,e),s},r.prototype.getDrawCfg=function(t){var e=t[ot],n={mappingData:t,data:e,x:t.x,y:t.y,color:t.color,size:t.size,isInCircle:this.coordinate.isPolar},a=t.shape;!a&&this.getShapeFactory()&&(a=this.getShapeFactory().defaultShapeType),n.shape=a;var o=this.theme.geometries[this.shapeType];n.defaultStyle=(0,u.get)(o,[a,"default"],{}).style;var s=this.styleOption;return s&&(n.style=this.getStyleCfg(s,e)),this.generatePoints&&(n.points=t.points,n.nextPoints=t.nextPoints),n},r.prototype.createElements=function(t,e,n){n===void 0&&(n=!1);for(var a=this,o=a.lastElementsMap,s=a.elementsMap,l=a.elements,f=0,h=t.length;f<h;f++){var c=t[f],v=this.getElementId(c);s[v]&&(v=v+"-"+e+"-"+f);var x=o[v];if(!x)x=this.createElement(c,n);else{var A=this.getDrawCfg(c),B=x.getModel();(this.isCoordinateChanged||wc(A,B))&&(x.animate=this.animateOption,x.update(A)),delete o[v]}l.push(x),s[v]=x}return l},r.prototype.getLabelType=function(){var t=this,e=t.labelOption,n=t.coordinate,a=t.type,o=n.type,s=(0,u.get)(e,["cfg","type"]);return s||(o==="polar"?s="polar":o==="theta"?s="pie":a==="interval"||a==="polygon"?s="interval":s="base"),s},r.prototype.getYMinValue=function(){var t=this.getYScale(),e=t.min,n=t.max,a;return e>=0?a=e:n<=0?a=n:a=0,a},r.prototype.createAttrOption=function(t,e,n){if((0,u.isNil)(e)||(0,u.isObject)(e))(0,u.isObject)(e)&&(0,u.isEqual)(Object.keys(e),["values"])?(0,u.set)(this.attributeOption,t,{fields:e.values}):(0,u.set)(this.attributeOption,t,e);else{var a={};(0,u.isNumber)(e)?a.values=[e]:a.fields=cs(e),n&&((0,u.isFunction)(n)?a.callback=n:a.values=n),(0,u.set)(this.attributeOption,t,a)}},r.prototype.initAttributes=function(){var t=this,e=this,n=e.attributes,a=e.attributeOption,o=e.theme,s=e.shapeType;this.groupScales=[];var l={},f=function(v){if(a.hasOwnProperty(v)){var x=a[v];if(!x)return{value:void 0};var A=(0,D.__assign)({},x),B=A.callback,G=A.values,H=A.fields,X=H===void 0?[]:H,ut=X.map(function(xt){var Yt=t.scales[xt];return Yt.isCategory&&!l[xt]&&At.includes(v)&&(t.groupScales.push(Yt),l[xt]=!0),Yt});A.scales=ut,v!=="position"&&ut.length===1&&ut[0].type==="identity"?A.values=ut[0].values:!B&&!G&&(v==="size"?A.values=o.sizes:v==="shape"?A.values=o.shapes[s]||[]:v==="color"&&(ut.length?A.values=ut[0].values.length<=10?o.colors10:o.colors20:A.values=o.colors10));var ft=(0,De.getAttribute)(v);n[v]=new ft(A)}};for(var h in a){var c=f(h);if(typeof c=="object")return c.value}},r.prototype.processData=function(t){this.hasSorted=!1;for(var e=this.getAttribute("position").scales,n=e.filter(function(xt){return xt.isCategory}),a=this.groupData(t),o=[],s=0,l=a.length;s<l;s++){for(var f=a[s],h=[],c=0,v=f.length;c<v;c++){var x=f[c],A={};for(var B in x)A[B]=x[B];A[ot]=x;for(var G=0,H=n;G<H.length;G++){var X=H[G],ut=X.field;A[ut]=X.translate(A[ut])}h.push(A)}o.push(h)}var ft=this.adjustData(o);return this.beforeMappingData=ft,ft},r.prototype.adjustData=function(t){var e=this.adjustOption,n=t;if(e)for(var a=this.getXScale(),o=this.getYScale(),s=a.field,l=o?o.field:null,f=0,h=e.length;f<h;f++){var c=e[f],v=(0,D.__assign)({xField:s,yField:l},c),x=c.type;if(x==="dodge"){var A=[];if(a.isCategory||a.type==="identity")A.push("x");else if(!o)A.push("y");else throw new Error("dodge is not support linear attribute, please use category attribute!");v.adjustNames=A,v.dodgeRatio=this.theme.columnWidthRatio}else if(x==="stack"){var B=this.coordinate;if(!o){v.height=B.getHeight();var G=this.getDefaultValue("size")||3;v.size=G}!B.isTransposed&&(0,u.isNil)(v.reverseOrder)&&(v.reverseOrder=!0)}var H=cc(x),X=new H(v);n=X.process(n),this.adjusts[x]=X}return n},r.prototype.groupData=function(t){for(var e=this.getGroupScales(),n=this.scaleDefs,a={},o=[],s=0;s<e.length;s++){var l=e[s],f=l.field;o.push(f),(0,u.get)(n,[f,"values"])&&(a[f]=n[f].values)}return ub(t,o,a)},r.prototype.updateStackRange=function(t,e){for(var n=(0,u.flatten)(e),a=t.field,o=t.min,s=t.max,l=0;l<n.length;l++){var f=n[l],h=Math.min.apply(null,f[a]),c=Math.max.apply(null,f[a]);h<o&&(o=h),c>s&&(s=c)}var v=this.scaleDefs,x={};o<t.min&&!(0,u.get)(v,[a,"min"])&&(x.min=o),s>t.max&&!(0,u.get)(v,[a,"max"])&&(x.max=s),t.change(x)},r.prototype.beforeMapping=function(t){var e=t;if(this.sortable&&this.sort(e),this.generatePoints)for(var n=0,a=e.length;n<a;n++){var o=e[n];this.generateShapePoints(o);var s=e[n+1];s&&(this.generateShapePoints(s),o[0].nextPoints=s[0].points)}return e},r.prototype.generateShapePoints=function(t){for(var e=this.getShapeFactory(),n=this.getAttribute("shape"),a=0;a<t.length;a++){var o=t[a],s=this.createShapePointsCfg(o),l=n?this.getAttributeValues(n,o):null,f=e.getShapePoints(l,s);o.points=f}},r.prototype.normalizeValues=function(t,e){var n=[];if((0,u.isArray)(t))for(var a=0;a<t.length;a++){var o=t[a];n.push(e.scale(o))}else n=e.scale(t);return n},r.prototype.mapping=function(t){for(var e=this.attributes,n=[],a=0;a<t.length;a++){var o=t[a],s={_origin:o[ot],points:o.points,nextPoints:o.nextPoints};for(var l in e)if(e.hasOwnProperty(l)){var f=e[l],h=f.names,c=this.getAttributeValues(f,o);if(h.length>1)for(var v=0;v<c.length;v+=1){var x=c[v],A=h[v];s[A]=(0,u.isArray)(x)&&x.length===1?x[0]:x}else s[h[0]]=c.length===1?c[0]:c}this.convertPoint(s),n.push(s)}return n},r.prototype.convertPoint=function(t){var e=t.x,n=t.y,a,o,s,l=this.coordinate;if((0,u.isArray)(e)&&(0,u.isArray)(n)){a=[],o=[];for(var f=0,h=0,c=e.length,v=n.length;f<c&&h<v;f+=1,h+=1)s=l.convert({x:e[f],y:n[h]}),a.push(s.x),o.push(s.y)}else if((0,u.isArray)(n)){o=[];for(var x=0;x<n.length;x++){var A=n[x];s=l.convert({x:e,y:A}),a&&a!==s.x?((0,u.isArray)(a)||(a=[a]),a.push(s.x)):a=s.x,o.push(s.y)}}else if((0,u.isArray)(e)){a=[];for(var x=0;x<e.length;x++){var B=e[x];s=l.convert({x:B,y:n}),o&&o!==s.y?((0,u.isArray)(o)||(o=[o]),o.push(s.y)):o=s.y,a.push(s.x)}}else{var G=l.convert({x:e,y:n});a=G.x,o=G.y}t.x=a,t.y=o},r.prototype.getStyleCfg=function(t,e){var n=t.fields,a=n===void 0?[]:n,o=t.callback,s=t.cfg;if(s)return s;var l=a.map(function(f){return e[f]});return o.apply(void 0,l)},r.prototype.setCfg=function(t){var e=this,n=t.coordinate,a=t.data,o=t.theme,s=t.scaleDefs;n&&(this.coordinate=n),a&&(this.data=a),s&&(this.scaleDefs=s,this.idFields=[],(0,u.each)(s,function(l,f){l&&l.key&&e.idFields.push(f)})),o&&(this.theme=this.userTheme?(0,u.deepMix)({},o,this.userTheme):o)},r.prototype.renderLabels=function(t,e){e===void 0&&(e=!1);var n=this.geometryLabel;if(!n){var a=this.getLabelType(),o=xc(a);n=new o(this),this.geometryLabel=n}n.render(t,e);var s=n.labelsRenderer.shapesMap;(0,u.each)(this.elementsMap,function(l,f){var h=fb(f,s);if(h.length){l.labelShape=h;for(var c=0;c<h.length;c++)for(var v=h[c],x=v.getChildren(),A=0;A<x.length;A++){var B=x[A];B.cfg.name=["element","label"],B.cfg.element=l}}})},r.prototype.canDoGroupAnimation=function(t){return!t&&this.animateOption&&((0,u.get)(this.animateOption,"appear")===void 0||(0,u.get)(this.animateOption,"appear")&&(0,u.get)(this.animateOption,["appear","animation"])===void 0)},r}(zt),Ga=hb,Zs=bn.transform;function Vu(i,r,t){var e=Zs(i.getMatrix(),[["t",r,t]]);i.setMatrix(e)}function Sc(i,r){var t=i.attr(),e=t.x,n=t.y,a=Zs(i.getMatrix(),[["t",-e,-n],["r",r],["t",e,n]]);i.setMatrix(a)}function tG(){return[1,0,0,0,1,0,0,0,1]}function cb(i,r){var t=i.getBBox(),e=(t.minX+t.maxX)/2,n=(t.minY+t.maxY)/2;i.applyToMatrix([e,n,1]);var a=Zs(i.getMatrix(),[["t",-e,-n],["s",r,r],["t",e,n]]);i.setMatrix(a)}var vb=function(){function i(r){this.shapesMap={},this.lastShapesMap={};var t=r.layout,e=r.container;this.layout=t,this.container=e}return i.prototype.render=function(r,t,e){var n=this;e===void 0&&(e=!1),this.shapesMap={};var a=this.container,o=this.createOffscreenGroup();if(r.length){for(var s=0,l=r;s<l.length;s++){var f=l[s];f&&this.renderLabel(f,o)}this.doLayout(r,t),this.renderLabelLine(r),this.adjustLabel(r)}var h=this.lastShapesMap,c=this.shapesMap;(0,u.each)(c,function(v,x){if(v.destroyed)delete c[x];else{if(h[x]){var A=v.get("data"),B=v.get("origin"),G=v.get("coordinate"),H=h[x],X=v.get("animateCfg");H.set("data",A),H.set("origin",B),H.set("animateCfg",X),H.set("coordinate",G);var ut=(0,u.get)(X,"update"),ft=H.getChildren();v.getChildren().map(function(Yt,Kt){var te=ft[Kt];te.set("data",A),te.set("origin",B),te.set("animateCfg",X),te.set("coordinate",G);var Wt=Vn(te,Yt);ut?Ro(te,ut,{toAttrs:Wt,coordinate:G}):te.attr(Wt)}),n.shapesMap[x]=H}else{a.add(v);var xt=(0,u.get)(v.get("animateCfg"),e?"enter":"appear");xt&&Ro(v,xt,{toAttrs:(0,D.__assign)({},v.attr()),coordinate:v.get("coordinate")})}delete h[x]}}),(0,u.each)(h,function(v){var x=(0,u.get)(v.get("animateCfg"),"leave");x?Ro(v,x,{toAttrs:null,coordinate:v.get("coordinate")}):v.remove(!0)}),this.lastShapesMap=c,o.destroy()},i.prototype.clear=function(){this.container.clear(),this.shapesMap={},this.lastShapesMap={}},i.prototype.destroy=function(){this.container.destroy(),this.shapesMap=null,this.lastShapesMap=null},i.prototype.renderLabel=function(r,t){var e=r.id,n=r.data,a=r.mappingData,o=r.coordinate,s=r.animate,l=r.content,f={id:e,data:n,origin:a,coordinate:o},h=t.addGroup((0,D.__assign)({name:"label",animateCfg:this.animate===!1||s===null||s===!1?!1:(0,u.deepMix)({},this.animate,s)},f)),c;if(l.isGroup&&l.isGroup()||l.isShape&&l.isShape()){var v=l.getCanvasBBox(),x=v.width,A=v.height,B=(0,u.get)(r,"textAlign","left"),G=r.x,H=r.y-A/2;B==="center"?G=G-x/2:(B==="right"||B==="end")&&(G=G-x),Vu(l,G,H),c=l,h.add(l)}else c=h.addShape("text",(0,D.__assign)({attrs:(0,D.__assign)({x:r.x,y:r.y,textAlign:r.textAlign,textBaseline:(0,u.get)(r,"textBaseline","middle"),text:r.content},r.style)},f));r.rotate&&Sc(c,r.rotate),this.shapesMap[e]=h},i.prototype.doLayout=function(r,t){var e=this;if(this.layout){var n=(0,u.isArray)(this.layout)?this.layout:[this.layout];(0,u.each)(n,function(a){var o=bc((0,u.get)(a,"type",""));if(o){var s=[],l=[];(0,u.each)(e.shapesMap,function(f,h){s.push(f),l.push(t[h])}),o(r,s,l,e.region,a.cfg)}})}},i.prototype.renderLabelLine=function(r){var t=this;(0,u.each)(r,function(e){var n=(0,u.get)(e,"coordinate");if(!(!e||!n)){var a=n.getCenter(),o=n.getRadius();if(!!e.labelLine){var s=(0,u.get)(e,"labelLine",{}),l=e.id,f=s.path;if(!f){var h=mn(a.x,a.y,o,e.angle);f=[["M",h.x,h.y],["L",e.x,e.y]]}var c=t.shapesMap[l];c.destroyed||c.addShape("path",{capture:!1,attrs:(0,D.__assign)({path:f,stroke:e.color?e.color:(0,u.get)(e,["style","fill"],"#000"),fill:null},s.style),id:l,origin:e.mappingData,data:e.data,coordinate:e.coordinate})}}})},i.prototype.createOffscreenGroup=function(){var r=this.container,t=r.getGroupBase(),e=new t({});return e},i.prototype.adjustLabel=function(r){var t=this;(0,u.each)(r,function(e){if(e){var n=e.id,a=t.shapesMap[n];if(!a.destroyed){var o=a.find(function(s){return s.get("type")==="text"});o&&(e.offsetX&&o.attr("x",o.attr("x")+e.offsetX),e.offsetY&&o.attr("y",o.attr("y")+e.offsetY))}}})},i}(),db=vb;function pb(i){var r=0;return(0,u.each)(i,function(t){r+=t}),r/i.length}var gb=function(){function i(r){this.geometry=r}return i.prototype.getLabelItems=function(r){var t=this,e=[],n=this.getLabelCfgs(r);return(0,u.each)(r,function(a,o){var s=n[o];if(!s||(0,u.isNil)(a.x)||(0,u.isNil)(a.y)){e.push(null);return}var l=(0,u.isArray)(s.content)?s.content:[s.content];s.content=l;var f=l.length;(0,u.each)(l,function(h,c){if((0,u.isNil)(h)||h===""){e.push(null);return}var v=(0,D.__assign)((0,D.__assign)({},s),t.getLabelPoint(s,a,c));v.textAlign||(v.textAlign=t.getLabelAlign(v,c,f)),v.offset<=0&&(v.labelLine=null),e.push(v)})}),e},i.prototype.render=function(r,t){t===void 0&&(t=!1);var e=this.getLabelItems(r),n=this.getLabelsRenderer(),a=this.getGeometryShapes();n.render(e,a,t)},i.prototype.clear=function(){var r=this.labelsRenderer;r&&r.clear()},i.prototype.destroy=function(){var r=this.labelsRenderer;r&&r.destroy(),this.labelsRenderer=null},i.prototype.getCoordinate=function(){return this.geometry.coordinate},i.prototype.getDefaultLabelCfg=function(){return(0,u.get)(this.geometry.theme,"labels",{})},i.prototype.setLabelPosition=function(r,t,e,n){},i.prototype.getDefaultOffset=function(r){var t=this.getCoordinate(),e=this.getOffsetVector(r);return t.isTransposed?e[0]:e[1]},i.prototype.getLabelOffset=function(r,t,e){var n=this.getDefaultOffset(r.offset),a=this.getCoordinate(),o=a.isTransposed,s=o?"x":"y",l=o?1:-1,f={x:0,y:0};return t>0||e===1?f[s]=n*l:f[s]=n*l*-1,f},i.prototype.getLabelPoint=function(r,t,e){var n=this.getCoordinate(),a=r.content.length;function o(B,G){var H=B;return(0,u.isArray)(H)&&(r.content.length===1?H.length<=2?H=H[B.length-1]:H=pb(H):H=H[G]),H}var s={content:r.content[e],x:0,y:0,start:{x:0,y:0},color:"#fff"};if(t&&this.geometry.type==="polygon"){var l=Bi(t.x,t.y);s.x=l[0],s.y=l[1]}else s.x=o(t.x,e),s.y=o(t.y,e);var f=(0,u.isArray)(t.shape)?t.shape[0]:t.shape;if(f==="funnel"||f==="pyramid"){var h=(0,u.get)(t,"nextPoints"),c=(0,u.get)(t,"points");if(h){var v=n.convert(c[1]),x=n.convert(h[1]);s.x=(v.x+x.x)/2,s.y=(v.y+x.y)/2}else if(f==="pyramid"){var v=n.convert(c[1]),x=n.convert(c[2]);s.x=(v.x+x.x)/2,s.y=(v.y+x.y)/2}}r.position&&this.setLabelPosition(s,t,e,r.position);var A=this.getLabelOffset(r,e,a);return s.start={x:s.x,y:s.y},s.x+=A.x,s.y+=A.y,s.color=t.color,s},i.prototype.getLabelAlign=function(r,t,e){var n="center",a=this.getCoordinate();if(a.isTransposed){var o=this.getDefaultOffset(r.offset);o<0?n="right":o===0?n="center":n="left",e>1&&t===0&&(n==="right"?n="left":n==="left"&&(n="right"))}return n},i.prototype.getLabelId=function(r){var t=this.geometry,e=t.type,n=t.getXScale(),a=t.getYScale(),o=r[ot],s=t.getElementId(r);return e==="line"||e==="area"?s+=" "+o[n.field]:e==="path"&&(s+=" "+o[n.field]+"-"+o[a.field]),s},i.prototype.getLabelsRenderer=function(){var r=this.geometry,t=r.labelsContainer,e=r.labelOption,n=r.canvasRegion,a=r.animateOption,o=this.geometry.coordinate,s=this.labelsRenderer;return s||(s=new db({container:t,layout:(0,u.get)(e,["cfg","layout"],{type:this.defaultLayout})}),this.labelsRenderer=s),s.region=n,s.animate=a?pc("label",o):!1,s},i.prototype.getLabelCfgs=function(r){var t=this,e=this.geometry,n=this.getDefaultLabelCfg(),a=e.type,o=e.theme,s=e.labelOption,l=e.scales,f=e.coordinate,h=s,c=h.fields,v=h.callback,x=h.cfg,A=c.map(function(G){return l[G]}),B=[];return(0,u.each)(r,function(G,H){var X=G[ot],ut=t.getLabelText(X,A),ft;if(v){var xt=c.map(function(te){return X[te]});if(ft=v.apply(void 0,xt),(0,u.isNil)(ft)){B.push(null);return}}var Yt=(0,D.__assign)((0,D.__assign)({id:t.getLabelId(G),data:X,mappingData:G,coordinate:f},x),ft),Kt=Yt.content;(0,u.isFunction)(Kt)?Yt.content=Kt(X,G,H):(0,u.isUndefined)(Kt)&&(Yt.content=ut[0]),(0,u.isFunction)(Yt.position)&&(Yt.position=Yt.position(X,G,H)),a==="polygon"||Yt.offset<0&&!["line","point","path"].includes(a)?Yt=(0,u.deepMix)({},n,o.innerLabels,Yt):Yt=(0,u.deepMix)({},n,o.labels,Yt),B.push(Yt)}),B},i.prototype.getLabelText=function(r,t){var e=[];return(0,u.each)(t,function(n){var a=r[n.field];(0,u.isArray)(a)?a=a.map(function(o){return n.getText(o)}):a=n.getText(a),(0,u.isNil)(a)||a===""?e.push(null):e.push(a)}),e},i.prototype.getOffsetVector=function(r){r===void 0&&(r=0);var t=this.getCoordinate();return t.isTransposed?t.applyMatrix(r,0):t.applyMatrix(0,r)},i.prototype.getGeometryShapes=function(){var r=this.geometry,t={};return(0,u.each)(r.elementsMap,function(e,n){t[n]=e.shape}),(0,u.each)(r.getOffscreenGroup().getChildren(),function(e){var n=r.getElementId(e.get("origin").mappingData);t[n]=e}),t},i}(),Ks=gb,yb=d(66002),mb="4.0.15",po={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},Pn={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},oa=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],xb=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],bb={backgroundColor:"#141414",brandColor:oa[0],paletteQualitative10:oa,paletteQualitative20:xb,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",fontFamily:`"-apple-system", "Segoe UI", Roboto, "Helvetica Neue", Arial,
  "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
  "Noto Color Emoji"`,axisLineBorderColor:Pn[25],axisLineBorder:.5,axisLineDash:null,axisTitleTextFillColor:Pn[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTickLineBorderColor:Pn[25],axisTickLineLength:4,axisTickLineBorder:.5,axisSubTickLineBorderColor:Pn[15],axisSubTickLineLength:2,axisSubTickLineBorder:.5,axisLabelFillColor:Pn[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisGridBorderColor:Pn[15],axisGridBorder:.5,axisGridLineDash:null,legendTitleTextFillColor:Pn[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:oa[0],legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:Pn[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",sliderRailFillColor:Pn[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:Pn[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:po[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:po[25],annotationArcBorderColor:Pn[15],annotationArcBorder:.5,annotationLineBorderColor:Pn[25],annotationLineBorder:.5,annotationLineDash:null,annotationTextFillColor:Pn[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:po[95],annotationTextBorder:1.5,annotationRegionFillColor:Pn[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:Pn[25],tooltipCrosshairsBorder:.5,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"#1f1f1f",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 2px 4px rgba(0,0,0,.5)",tooltipContainerBorderRadius:3,tooltipTextFillColor:Pn[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:Pn[65],labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:po[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,labelLineBorder:.5,labelLineBorderColor:Pn[25],pointFillColor:oa[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:po[100],pointBorderOpacity:1,pointActiveBorderColor:Pn[100],pointSelectedBorder:2,pointSelectedBorderColor:Pn[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:oa[0],hollowPointBorderOpacity:.95,hollowPointFillColor:po[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:Pn[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:Pn[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:oa[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:oa[0],areaFillOpacity:.25,areaActiveFillColor:oa[0],areaActiveFillOpacity:.5,areaSelectedFillColor:oa[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:oa[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:Pn[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:Pn[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:oa[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:Pn[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:Pn[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:oa[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:po[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:Pn[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:Pn[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3},gi=d(73890),un=d(21830),$s=d(46812),yi=d(66631),xn=d(27154),wb=d(9217),Sb=d(5253),eG=d(39984),Cb=d(98229),Mb=d(35755);function Eb(){return window?window.devicePixelRatio:1}function Cc(i,r,t,e){var n=i-t,a=r-e;return Math.sqrt(n*n+a*a)}function go(i,r,t,e,n,a){return n>=i&&n<=i+t&&a>=r&&a<=r+e}function Hu(i,r){return!(r.minX>i.maxX||r.maxX<i.minX||r.minY>i.maxY||r.maxY<i.minY)}function _b(i,r){return!i||!r?i||r:{minX:Math.min(i.minX,r.minX),minY:Math.min(i.minY,r.minY),maxX:Math.max(i.maxX,r.maxX),maxY:Math.max(i.maxY,r.maxY)}}function Mc(i,r){return i[0]===r[0]&&i[1]===r[1]}var rG=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,nG=/[^\s\,]+/gi,Ab=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Pb=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Tb=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,Ec=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function _c(i,r){var t=i.match(Ec);(0,xn.default)(t,function(e){var n=e.split(":");r.addColorStop(n[0],n[1])})}function Ob(i,r,t){var e=Ab.exec(t),n=parseFloat(e[1])%360*(Math.PI/180),a=e[2],o=r.getBBox(),s,l;n>=0&&n<1/2*Math.PI?(s={x:o.minX,y:o.minY},l={x:o.maxX,y:o.maxY}):1/2*Math.PI<=n&&n<Math.PI?(s={x:o.maxX,y:o.minY},l={x:o.minX,y:o.maxY}):Math.PI<=n&&n<3/2*Math.PI?(s={x:o.maxX,y:o.maxY},l={x:o.minX,y:o.minY}):(s={x:o.minX,y:o.maxY},l={x:o.maxX,y:o.minY});var f=Math.tan(n),h=f*f,c=(l.x-s.x+f*(l.y-s.y))/(h+1)+s.x,v=f*(l.x-s.x+f*(l.y-s.y))/(h+1)+s.y,x=i.createLinearGradient(s.x,s.y,c,v);return _c(a,x),x}function Lb(i,r,t){var e=Pb.exec(t),n=parseFloat(e[1]),a=parseFloat(e[2]),o=parseFloat(e[3]),s=e[4];if(o===0){var l=s.match(Ec);return l[l.length-1].split(":")[1]}var f=r.getBBox(),h=f.maxX-f.minX,c=f.maxY-f.minY,v=Math.sqrt(h*h+c*c)/2,x=i.createRadialGradient(f.minX+h*n,f.minY+c*a,0,f.minX+h/2,f.minY+c/2,o*v);return _c(s,x),x}function Ib(i,r,t){if(r.get("patternSource")&&r.get("patternSource")===t)return r.get("pattern");var e,n,a=Tb.exec(t),o=a[1],s=a[2];function l(){e=i.createPattern(n,o),r.set("pattern",e),r.set("patternSource",t)}switch(o){case"a":o="repeat";break;case"x":o="repeat-x";break;case"y":o="repeat-y";break;case"n":o="no-repeat";break;default:o="no-repeat"}return n=new Image,s.match(/^data:/i)||(n.crossOrigin="Anonymous"),n.src=s,n.complete?l():(n.onload=l,n.src=n.src),e}function kb(i,r,t){if((0,un.default)(t)){if(t[1]==="("||t[2]==="("){if(t[0]==="l")return Ob(i,r,t);if(t[0]==="r")return Lb(i,r,t);if(t[0]==="p")return Ib(i,r,t)}return t}}function Bb(i){var r=0,t=0,e=0,n=0;return(0,yi.default)(i)?i.length===1?r=t=e=n=i[0]:i.length===2?(r=e=i[0],t=n=i[1]):i.length===3?(r=i[0],t=n=i[1],e=i[2]):(r=i[0],t=i[1],e=i[2],n=i[3]):r=t=e=n=i,[r,t,e,n]}function Qs(i){return Math.sqrt(i[0]*i[0]+i[1]*i[1])}function Wu(i,r){return Qs(i)*Qs(r)?(i[0]*r[0]+i[1]*r[1])/(Qs(i)*Qs(r)):1}function Ac(i,r){return(i[0]*r[1]<i[1]*r[0]?-1:1)*Math.acos(Wu(i,r))}function Pc(i,r){var t=r[1],e=r[2],n=(0,Sb.default)((0,wb.default)(r[3]),Math.PI*2),a=r[4],o=r[5],s=i[0],l=i[1],f=r[6],h=r[7],c=Math.cos(n)*(s-f)/2+Math.sin(n)*(l-h)/2,v=-1*Math.sin(n)*(s-f)/2+Math.cos(n)*(l-h)/2,x=c*c/(t*t)+v*v/(e*e);x>1&&(t*=Math.sqrt(x),e*=Math.sqrt(x));var A=t*t*(v*v)+e*e*(c*c),B=A?Math.sqrt((t*t*(e*e)-A)/A):1;a===o&&(B*=-1),isNaN(B)&&(B=0);var G=e?B*t*v/e:0,H=t?B*-e*c/t:0,X=(s+f)/2+Math.cos(n)*G-Math.sin(n)*H,ut=(l+h)/2+Math.sin(n)*G+Math.cos(n)*H,ft=[(c-G)/t,(v-H)/e],xt=[(-1*c-G)/t,(-1*v-H)/e],Yt=Ac([1,0],ft),Kt=Ac(ft,xt);return Wu(ft,xt)<=-1&&(Kt=Math.PI),Wu(ft,xt)>=1&&(Kt=0),o===0&&Kt>0&&(Kt=Kt-2*Math.PI),o===1&&Kt<0&&(Kt=Kt+2*Math.PI),{cx:X,cy:ut,rx:Mc(i,[f,h])?0:t,ry:Mc(i,[f,h])?0:e,startAngle:Yt,endAngle:Yt+Kt,xRotation:n,arcFlag:a,sweepFlag:o}}var Js=Math.sin,qs=Math.cos,ju=Math.atan2,tl=Math.PI;function Tc(i,r,t,e,n,a,o){var s=r.stroke,l=r.lineWidth,f=t-n,h=e-a,c=ju(h,f),v=new qu({type:"path",canvas:i.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*qs(tl/6)+","+10*Js(tl/6)+" L0,0 L"+10*qs(tl/6)+",-"+10*Js(tl/6),stroke:s,lineWidth:l}});v.translate(n,a),v.rotateAtPoint(n,a,c),i.set(o?"startArrowShape":"endArrowShape",v)}function Oc(i,r,t,e,n,a,o){var s=r.startArrow,l=r.endArrow,f=r.stroke,h=r.lineWidth,c=o?s:l,v=c.d,x=c.fill,A=c.stroke,B=c.lineWidth,G=(0,q.__rest)(c,["d","fill","stroke","lineWidth"]),H=t-n,X=e-a,ut=ju(X,H);v&&(n=n-qs(ut)*v,a=a-Js(ut)*v);var ft=new qu({type:"path",canvas:i.get("canvas"),isArrowShape:!0,attrs:(0,q.__assign)((0,q.__assign)({},G),{stroke:A||f,lineWidth:B||h,fill:x})});ft.translate(n,a),ft.rotateAtPoint(n,a,ut),i.set(o?"startArrowShape":"endArrowShape",ft)}function yo(i,r,t,e,n){var a=ju(e-r,t-i);return{dx:qs(a)*n,dy:Js(a)*n}}function Uu(i,r,t,e,n,a){typeof r.startArrow=="object"?Oc(i,r,t,e,n,a,!0):r.startArrow?Tc(i,r,t,e,n,a,!0):i.set("startArrowShape",null)}function Zu(i,r,t,e,n,a){typeof r.endArrow=="object"?Oc(i,r,t,e,n,a,!1):r.endArrow?Tc(i,r,t,e,n,a,!1):i.set("startArrowShape",null)}var Lc={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function No(i,r){var t=r.attr();for(var e in t){var n=t[e],a=Lc[e]?Lc[e]:e;a==="matrix"&&n?i.transform(n[0],n[1],n[3],n[4],n[6],n[7]):a==="lineDash"&&i.setLineDash?(0,u.isArray)(n)&&i.setLineDash(n):(a==="strokeStyle"||a==="fillStyle"?n=kb(i,r,n):a==="globalAlpha"&&(n=n*i.globalAlpha),i[a]=n)}}function Ku(i,r,t){for(var e=0;e<r.length;e++){var n=r[e];n.get("visible")?n.draw(i,t):n.skipDraw()}}function Ic(i,r,t,e){var n=t.path,a=t.startArrow,o=t.endArrow,s=[0,0],l=[0,0],f={dx:0,dy:0};r.beginPath();for(var h=0;h<n.length;h++){var c=n[h],v=c[0];if(h===0&&a&&a.d){var x=i.getStartTangent();f=yo(x[0][0],x[0][1],x[1][0],x[1][1],a.d)}else if(h===n.length-2&&n[h+1][0]==="Z"&&o&&o.d){var A=n[h+1];if(A[0]==="Z"){var x=i.getEndTangent();f=yo(x[0][0],x[0][1],x[1][0],x[1][1],o.d)}}else if(h===n.length-1&&o&&o.d&&n[0]!=="Z"){var x=i.getEndTangent();f=yo(x[0][0],x[0][1],x[1][0],x[1][1],o.d)}var B=f.dx,G=f.dy;switch(v){case"M":r.moveTo(c[1]-B,c[2]-G),l=[c[1],c[2]];break;case"L":r.lineTo(c[1]-B,c[2]-G);break;case"Q":r.quadraticCurveTo(c[1],c[2],c[3]-B,c[4]-G);break;case"C":r.bezierCurveTo(c[1],c[2],c[3],c[4],c[5]-B,c[6]-G);break;case"A":{var H=void 0;e?(H=e[h],H||(H=Pc(s,c),e[h]=H)):H=Pc(s,c);var X=H.cx,ut=H.cy,ft=H.rx,xt=H.ry,Yt=H.startAngle,Kt=H.endAngle,te=H.xRotation,Wt=H.sweepFlag;if(r.ellipse)r.ellipse(X,ut,ft,xt,te,Yt,Kt,1-Wt);else{var ae=ft>xt?ft:xt,ce=ft>xt?1:ft/xt,he=ft>xt?xt/ft:1;r.translate(X,ut),r.rotate(te),r.scale(ce,he),r.arc(0,0,ae,Yt,Kt,1-Wt),r.scale(1/ce,1/he),r.rotate(-te),r.translate(-X,-ut)}break}case"Z":r.closePath();break;default:break}if(v==="Z")s=l;else{var Pe=c.length;s=[c[Pe-2],c[Pe-1]]}}}function kc(i,r){var t=i.get("canvas");t&&(r==="remove"&&(i._cacheCanvasBBox=i.get("cacheCanvasBBox")),i.get("hasChanged")||(t.refreshElement(i,r,t),t.get("autoDraw")&&t.draw(),i.set("hasChanged",!0)))}function Db(i){var r;if(i.destroyed)r=i._cacheCanvasBBox;else{var t=i.get("cacheCanvasBBox"),e=t&&!!(t.width&&t.height),n=i.getCanvasBBox(),a=n&&!!(n.width&&n.height);e&&a?r=_b(t,n):e?r=t:a&&(r=n)}return r}function Bc(i){if(!i.length)return null;var r=[],t=[],e=[],n=[];return(0,u.each)(i,function(a){var o=Db(a);o&&(r.push(o.minX),t.push(o.minY),e.push(o.maxX),n.push(o.maxY))}),{minX:Math.min.apply(null,r),minY:Math.min.apply(null,t),maxX:Math.max.apply(null,e),maxY:Math.max.apply(null,n)}}function Fb(i,r){return!i||!r||!Hu(i,r)?null:{minX:Math.max(i.minX,r.minX),minY:Math.max(i.minY,r.minY),maxX:Math.min(i.maxX,r.maxX),maxY:Math.min(i.maxY,r.maxY)}}var Dc=d(41056),Rb=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.onCanvasChange=function(t){kc(this,t)},r.prototype.getShapeBase=function(){return y},r.prototype.getGroupBase=function(){return r},r.prototype._applyClip=function(t,e){e&&(t.save(),No(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},r.prototype.draw=function(t,e){var n=this.getChildren();n.length&&(t.save(),No(t,this),this._applyClip(t,this.getClip()),Ku(t,n,e),t.restore()),this.set("cacheCanvasBBox",this.getCanvasBBox()),this.set("hasChanged",!1)},r.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},r}(ne.AbstractGroup),$u=Rb,Nb=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,q.__assign)((0,q.__assign)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},r.prototype.getShapeBase=function(){return y},r.prototype.getGroupBase=function(){return $u},r.prototype.onCanvasChange=function(t){kc(this,t)},r.prototype.calculateBBox=function(){var t=this.get("type"),e=this.getHitLineWidth(),n=(0,Dc.b)(t),a=n(this),o=e/2,s=a.x-o,l=a.y-o,f=a.x+a.width+o,h=a.y+a.height+o;return{x:s,minX:s,y:l,minY:l,width:a.width+e,height:a.height+e,maxX:f,maxY:h}},r.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},r.prototype.isStroke=function(){return!!this.attrs.stroke},r.prototype._applyClip=function(t,e){e&&(t.save(),No(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},r.prototype.draw=function(t,e){var n=this.getClip();if(e){var a=n?Bc([this,n]):this.getCanvasBBox();if(!Hu(e,a)){this.set("hasChanged",!1);return}}t.save(),No(t,this),this._applyClip(t,this.getClip()),this.drawPath(t),t.restore(),this._afterDraw()},r.prototype._afterDraw=function(){var t=this.getCanvasBBox(),e=this.getCanvas();if(this.set("cacheCanvasBBox",t),e){var n=e.getViewRange();this.set("isInView",Hu(t,n))}this.set("hasChanged",!1)},r.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},r.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},r.prototype.fill=function(t){t.fill()},r.prototype.stroke=function(t){t.stroke()},r.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,a=e.opacity,o=e.strokeOpacity,s=e.fillOpacity;this.isFill()&&(!(0,gi.default)(s)&&s!==1?(t.globalAlpha=s,this.fill(t),t.globalAlpha=a):this.fill(t)),this.isStroke()&&n>0&&(!(0,gi.default)(o)&&o!==1&&(t.globalAlpha=o),this.stroke(t)),this.afterDrawPath(t)},r.prototype.createPath=function(t){},r.prototype.afterDrawPath=function(t){},r.prototype.isInShape=function(t,e){var n=this.isStroke(),a=this.isFill(),o=this.getHitLineWidth();return this.isInStrokeOrPath(t,e,n,a,o)},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){return!1},r.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t.lineWidth+t.lineAppendWidth},r}(ne.AbstractShape),pa=Nb,Gb=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,q.__assign)((0,q.__assign)({},t),{x:0,y:0,r:0})},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.attr(),l=s.x,f=s.y,h=s.r,c=o/2,v=Cc(l,f,t,e);return a&&n?v<=h+c:a?v<=h:n?v>=h-c&&v<=h+c:!1},r.prototype.createPath=function(t){var e=this.attr(),n=e.x,a=e.y,o=e.r;t.beginPath(),t.arc(n,a,o,0,Math.PI*2,!1),t.closePath()},r}(pa),Yb=Gb;function el(i,r,t,e){return i/(t*t)+r/(e*e)}var zb=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,q.__assign)((0,q.__assign)({},t),{x:0,y:0,rx:0,ry:0})},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.attr(),l=o/2,f=s.x,h=s.y,c=s.rx,v=s.ry,x=(t-f)*(t-f),A=(e-h)*(e-h);return a&&n?el(x,A,c+l,v+l)<=1:a?el(x,A,c,v)<=1:n?el(x,A,c-l,v-l)>=1&&el(x,A,c+l,v+l)<=1:!1},r.prototype.createPath=function(t){var e=this.attr(),n=e.x,a=e.y,o=e.rx,s=e.ry;if(t.beginPath(),t.ellipse)t.ellipse(n,a,o,s,0,0,Math.PI*2,!1);else{var l=o>s?o:s,f=o>s?1:o/s,h=o>s?s/o:1;t.save(),t.translate(n,a),t.scale(f,h),t.arc(0,0,l,0,Math.PI*2),t.restore(),t.closePath()}},r}(pa),Xb=zb;function Fc(i){return i instanceof HTMLElement&&(0,un.default)(i.nodeName)&&i.nodeName.toUpperCase()==="CANVAS"}var Vb=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,q.__assign)((0,q.__assign)({},t),{x:0,y:0,width:0,height:0})},r.prototype.initAttrs=function(t){this._setImage(t.img)},r.prototype.isStroke=function(){return!1},r.prototype.isOnlyHitBox=function(){return!0},r.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var t=this.get("canvas");t?t.draw():this.createPath(this.get("context"))}},r.prototype._setImage=function(t){var e=this,n=this.attrs;if((0,un.default)(t)){var a=new Image;a.onload=function(){if(e.destroyed)return!1;e.attr("img",a),e.set("loading",!1),e._afterLoading();var o=e.get("callback");o&&o.call(e)},a.crossOrigin="Anonymous",a.src=t,this.set("loading",!0)}else t instanceof Image?(n.width||(n.width=t.width),n.height||(n.height=t.height)):Fc(t)&&(n.width||(n.width=Number(t.getAttribute("width"))),n.height||(n.height,Number(t.getAttribute("height"))))},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),t==="img"&&this._setImage(e)},r.prototype.createPath=function(t){if(this.get("loading")){this.set("toDraw",!0),this.set("context",t);return}var e=this.attr(),n=e.x,a=e.y,o=e.width,s=e.height,l=e.sx,f=e.sy,h=e.swidth,c=e.sheight,v=e.img;(v instanceof Image||Fc(v))&&(!(0,gi.default)(l)&&!(0,gi.default)(f)&&!(0,gi.default)(h)&&!(0,gi.default)(c)?t.drawImage(v,l,f,h,c,n,a,o,s):t.drawImage(v,n,a,o,s))},r}(pa),Hb=Vb,Ya=d(23646);function Ja(i,r,t,e,n,a,o){var s=Math.min(i,t),l=Math.max(i,t),f=Math.min(r,e),h=Math.max(r,e),c=n/2;return a>=s-c&&a<=l+c&&o>=f-c&&o<=h+c?Ya.default.pointToLine(i,r,t,e,a,o)<=n/2:!1}var Wb=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,q.__assign)((0,q.__assign)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this.setArrow()},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),this.setArrow()},r.prototype.setArrow=function(){var t=this.attr(),e=t.x1,n=t.y1,a=t.x2,o=t.y2,s=t.startArrow,l=t.endArrow;s&&Uu(this,t,a,o,e,n),l&&Zu(this,t,e,n,a,o)},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){if(!n||!o)return!1;var s=this.attr(),l=s.x1,f=s.y1,h=s.x2,c=s.y2;return Ja(l,f,h,c,o,t,e)},r.prototype.createPath=function(t){var e=this.attr(),n=e.x1,a=e.y1,o=e.x2,s=e.y2,l=e.startArrow,f=e.endArrow,h={dx:0,dy:0},c={dx:0,dy:0};l&&l.d&&(h=yo(n,a,o,s,e.startArrow.d)),f&&f.d&&(c=yo(n,a,o,s,e.endArrow.d)),t.beginPath(),t.moveTo(n+h.dx,a+h.dy),t.lineTo(o-c.dx,s-c.dy)},r.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},r.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,a=t.x2,o=t.y2;return Ya.default.length(e,n,a,o)},r.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,a=e.y1,o=e.x2,s=e.y2;return Ya.default.pointAt(n,a,o,s,t)},r}(pa),jb=Wb,Rc=d(74479),Ub={circle:function(i,r,t){return[["M",i-t,r],["A",t,t,0,1,0,i+t,r],["A",t,t,0,1,0,i-t,r]]},square:function(i,r,t){return[["M",i-t,r-t],["L",i+t,r-t],["L",i+t,r+t],["L",i-t,r+t],["Z"]]},diamond:function(i,r,t){return[["M",i-t,r],["L",i,r-t],["L",i+t,r],["L",i,r+t],["Z"]]},triangle:function(i,r,t){var e=t*Math.sin(1/3*Math.PI);return[["M",i-t,r+e],["L",i,r-e],["L",i+t,r+e],["Z"]]},"triangle-down":function(i,r,t){var e=t*Math.sin(1/3*Math.PI);return[["M",i-t,r-e],["L",i+t,r-e],["L",i,r+e],["Z"]]}},Zb=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.initAttrs=function(t){this._resetParamsCache()},r.prototype._resetParamsCache=function(){this.set("paramsCache",{})},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),["symbol","x","y","r","radius"].indexOf(t)!==-1&&this._resetParamsCache()},r.prototype.isOnlyHitBox=function(){return!0},r.prototype._getR=function(t){return(0,u.isNil)(t.r)?t.radius:t.r},r.prototype._getPath=function(){var t=this.attr(),e=t.x,n=t.y,a=t.symbol||"circle",o=this._getR(t),s,l;return(0,$s.default)(a)?(s=a,l=s(e,n,o),l=(0,Rc.Z)(l)):(s=r.Symbols[a],l=s(e,n,o)),s?l:(console.warn(a+" marker is not supported."),null)},r.prototype.createPath=function(t){var e=this._getPath(),n=this.get("paramsCache");Ic(this,t,{path:e},n)},r.Symbols=Ub,r}(pa),Kb=Zb,rl=d(15730),$b=d(49274),Qb=d(26632);function Nc(i,r,t){var e=(0,Qb.getOffScreenContext)();return i.createPath(e),e.isPointInPath(r,t)}var Jb=1e-6;function Qu(i){return Math.abs(i)<Jb?0:i<0?-1:1}function qb(i,r,t){return(t[0]-i[0])*(r[1]-i[1])==(r[0]-i[0])*(t[1]-i[1])&&Math.min(i[0],r[0])<=t[0]&&t[0]<=Math.max(i[0],r[0])&&Math.min(i[1],r[1])<=t[1]&&t[1]<=Math.max(i[1],r[1])}function Gc(i,r,t){var e=!1,n=i.length;if(n<=2)return!1;for(var a=0;a<n;a++){var o=i[a],s=i[(a+1)%n];if(qb(o,s,[r,t]))return!0;Qu(o[1]-t)>0!=Qu(s[1]-t)>0&&Qu(r-(t-o[1])*(o[0]-s[0])/(o[1]-s[1])-o[0])<0&&(e=!e)}return e}var tw=d(2879);function vs(i,r,t,e,n,a,o,s){var l=(Math.atan2(s-r,o-i)+Math.PI*2)%(Math.PI*2);if(l<e||l>n)return!1;var f={x:i+t*Math.cos(l),y:r+t*Math.sin(l)};return Cc(f.x,f.y,o,s)<=a/2}var Ju=d(35600),Yc=d(77160);function ew(i){for(var r=!1,t=i.length,e=0;e<t;e++){var n=i[e],a=n[0];if(a==="C"||a==="A"||a==="Q"){r=!0;break}}return r}function rw(i,r,t,e){for(var n=!1,a=r/2,o=0;o<i.length;o++){var s=i[o],l=s.currentPoint,f=s.params,h=s.prePoint,c=s.box;if(!(c&&!go(c.x-a,c.y-a,c.width+r,c.height+r,t,e))){switch(s.command){case"L":case"Z":n=Ja(h[0],h[1],l[0],l[1],r,t,e);break;case"Q":var v=tw.default.pointDistance(h[0],h[1],f[1],f[2],f[3],f[4],t,e);n=v<=r/2;break;case"C":var x=rl.default.pointDistance(h[0],h[1],f[1],f[2],f[3],f[4],f[5],f[6],t,e);n=x<=r/2;break;case"A":var A=s.arcParams,B=A.cx,G=A.cy,H=A.rx,X=A.ry,ut=A.startAngle,ft=A.endAngle,xt=A.xRotation,Yt=[t,e,1],Kt=[1,0,0,0,1,0,0,0,1],te=H>X?H:X,Wt=H>X?1:H/X,ae=H>X?X/H:1;Ju.translate(Kt,Kt,[-B,-G]),Ju.rotate(Kt,Kt,-xt),Ju.scale(Kt,Kt,[1/Wt,1/ae]),Yc.transformMat3(Yt,Yt,Kt),n=vs(0,0,te,ut,ft,r,Yt[0],Yt[1]);break;default:break}if(n)break}}return n}function nw(i){for(var r=i.length,t=[],e=[],n=[],a=0;a<r;a++){var o=i[a],s=o[0];s==="M"?(n.length&&(e.push(n),n=[]),n.push([o[1],o[2]])):s==="Z"?n.length&&(t.push(n),n=[]):n.push([o[1],o[2]])}return n.length>0&&e.push(n),{polygons:t,polylines:e}}var nl=(0,q.__assign)({hasArc:ew,extractPolygons:nw,isPointInStroke:rw},ne.PathUtil);function zc(i,r,t){for(var e=!1,n=0;n<i.length;n++){var a=i[n];if(e=Gc(a,r,t),e)break}return e}var iw=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,q.__assign)((0,q.__assign)({},t),{startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),t==="path"&&this._setPathArr(e),this.setArrow()},r.prototype._setPathArr=function(t){this.attrs.path=(0,Rc.Z)(t);var e=nl.hasArc(t);this.set("hasArc",e),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},r.prototype.getSegments=function(){var t=this.get("segements");return t||(t=(0,$b.default)(this.attr("path")),this.set("segments",t)),t},r.prototype.setArrow=function(){var t=this.attr(),e=t.startArrow,n=t.endArrow;if(e){var a=this.getStartTangent();Uu(this,t,a[0][0],a[0][1],a[1][0],a[1][1])}if(n){var a=this.getEndTangent();Zu(this,t,a[0][0],a[0][1],a[1][0],a[1][1])}},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.getSegments(),l=this.get("hasArc"),f=!1;if(n&&(f=nl.isPointInStroke(s,o,t,e)),!f&&a)if(l)f=Nc(this,t,e);else{var h=this.attr("path"),c=nl.extractPolygons(h);f=zc(c.polygons,t,e)||zc(c.polylines,t,e)}return f},r.prototype.createPath=function(t){var e=this.attr(),n=this.get("paramsCache");Ic(this,t,e,n)},r.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},r.prototype.getTotalLength=function(){var t=this.get("totalLength");return(0,u.isNil)(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},r.prototype.getPoint=function(t){var e=this.get("tCache");e||(this._calculateCurve(),this._setTcache(),e=this.get("tCache"));var n,a,o=this.get("curve");if(!e||e.length===0)return o?{x:o[0][1],y:o[0][2]}:null;(0,u.each)(e,function(h,c){t>=h[0]&&t<=h[1]&&(n=(t-h[0])/(h[1]-h[0]),a=c)});var s=o[a];if((0,u.isNil)(s)||(0,u.isNil)(a))return null;var l=s.length,f=o[a+1];return rl.default.pointAt(s[l-2],s[l-1],f[1],f[2],f[3],f[4],f[5],f[6],n)},r.prototype._calculateCurve=function(){var t=this.attr().path;this.set("curve",nl.pathToCurve(t))},r.prototype._setTcache=function(){var t=0,e=0,n=[],a,o,s,l,f=this.get("curve");if(!!f){if((0,u.each)(f,function(h,c){s=f[c+1],l=h.length,s&&(t+=rl.default.length(h[l-2],h[l-1],s[1],s[2],s[3],s[4],s[5],s[6])||0)}),this.set("totalLength",t),t===0){this.set("tCache",[]);return}(0,u.each)(f,function(h,c){s=f[c+1],l=h.length,s&&(a=[],a[0]=e/t,o=rl.default.length(h[l-2],h[l-1],s[1],s[2],s[3],s[4],s[5],s[6]),e+=o||0,a[1]=e/t,n.push(a))}),this.set("tCache",n)}},r.prototype.getStartTangent=function(){var t=this.getSegments(),e;if(t.length>1){var n=t[0].currentPoint,a=t[1].currentPoint,o=t[1].startTangent;e=[],o?(e.push([n[0]-o[0],n[1]-o[1]]),e.push([n[0],n[1]])):(e.push([a[0],a[1]]),e.push([n[0],n[1]]))}return e},r.prototype.getEndTangent=function(){var t=this.getSegments(),e=t.length,n;if(e>1){var a=t[e-2].currentPoint,o=t[e-1].currentPoint,s=t[e-1].endTangent;n=[],s?(n.push([o[0]-s[0],o[1]-s[1]]),n.push([o[0],o[1]])):(n.push([a[0],a[1]]),n.push([o[0],o[1]]))}return n},r}(pa),qu=iw;function Xc(i,r,t,e,n){var a=i.length;if(a<2)return!1;for(var o=0;o<a-1;o++){var s=i[o][0],l=i[o][1],f=i[o+1][0],h=i[o+1][1];if(Ja(s,l,f,h,r,t,e))return!0}if(n){var c=i[0],v=i[a-1];if(Ja(c[0],c[1],v[0],v[1],r,t,e))return!0}return!1}var aw=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.attr().points,l=!1;return n&&(l=Xc(s,o,t,e,!0)),!l&&a&&(l=Gc(s,t,e)),l},r.prototype.createPath=function(t){var e=this.attr(),n=e.points;if(!(n.length<2)){t.beginPath();for(var a=0;a<n.length;a++){var o=n[a];a===0?t.moveTo(o[0],o[1]):t.lineTo(o[0],o[1])}t.closePath()}},r}(pa),ow=aw,Vc=d(65386),sw=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,q.__assign)((0,q.__assign)({},t),{startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this.setArrow()},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),this.setArrow(),["points"].indexOf(t)!==-1&&this._resetCache()},r.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},r.prototype.setArrow=function(){var t=this.attr(),e=this.attrs,n=e.points,a=e.startArrow,o=e.endArrow,s=n.length,l=n[0][0],f=n[0][1],h=n[s-1][0],c=n[s-1][1];a&&Uu(this,t,n[1][0],n[1][1],l,f),o&&Zu(this,t,n[s-2][0],n[s-2][1],h,c)},r.prototype.isFill=function(){return!1},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){if(!n||!o)return!1;var s=this.attr().points;return Xc(s,o,t,e,!1)},r.prototype.isStroke=function(){return!0},r.prototype.createPath=function(t){var e=this.attr(),n=e.points,a=e.startArrow,o=e.endArrow,s=n.length;if(!(n.length<2)){var l=n[0][0],f=n[0][1],h=n[s-1][0],c=n[s-1][1];if(a&&a.d){var v=yo(l,f,n[1][0],n[1][1],a.d);l+=v.dx,f+=v.dy}if(o&&o.d){var v=yo(n[s-2][0],n[s-2][1],h,c,o.d);h-=v.dx,c-=v.dy}t.beginPath(),t.moveTo(l,f);for(var x=0;x<s-1;x++){var A=n[x];t.lineTo(A[0],A[1])}t.lineTo(h,c)}},r.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},r.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return(0,u.isNil)(e)?(this.set("totalLength",Vc.Z.length(t)),this.get("totalLength")):e},r.prototype.getPoint=function(t){var e=this.attr().points,n=this.get("tCache");n||(this._setTcache(),n=this.get("tCache"));var a,o;return(0,u.each)(n,function(s,l){t>=s[0]&&t<=s[1]&&(a=(t-s[0])/(s[1]-s[0]),o=l)}),Ya.default.pointAt(e[o][0],e[o][1],e[o+1][0],e[o+1][1],a)},r.prototype._setTcache=function(){var t=this.attr().points;if(!(!t||t.length===0)){var e=this.getTotalLength();if(!(e<=0)){var n=0,a=[],o,s;(0,u.each)(t,function(l,f){t[f+1]&&(o=[],o[0]=n/e,s=Ya.default.length(l[0],l[1],t[f+1][0],t[f+1][1]),n+=s,o[1]=n/e,a.push(o))}),this.set("tCache",a)}}},r.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},r.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},r}(pa),lw=sw;function uw(i,r,t,e,n,a,o){var s=n/2;return go(i-s,r-s,t,n,a,o)||go(i+t-s,r-s,n,e,a,o)||go(i+s,r+e-s,t,n,a,o)||go(i-s,r+s,n,e,a,o)}function fw(i,r,t,e,n,a,o,s){var l=a/2;return Ja(i+n,r,i+t-n,r,a,o,s)||Ja(i+t,r+n,i+t,r+e-n,a,o,s)||Ja(i+t-n,r+e,i+n,r+e,a,o,s)||Ja(i,r+e-n,i,r+n,a,o,s)||vs(i+t-n,r+n,n,1.5*Math.PI,2*Math.PI,a,o,s)||vs(i+t-n,r+e-n,n,0,.5*Math.PI,a,o,s)||vs(i+n,r+e-n,n,.5*Math.PI,Math.PI,a,o,s)||vs(i+n,r+n,n,Math.PI,1.5*Math.PI,a,o,s)}var hw=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,q.__assign)((0,q.__assign)({},t),{x:0,y:0,width:0,height:0,radius:0})},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.attr(),l=s.x,f=s.y,h=s.width,c=s.height,v=s.radius;if(v){var A=!1;return n&&(A=fw(l,f,h,c,v,o,t,e)),!A&&a&&(A=Nc(this,t,e)),A}else{var x=o/2;if(a&&n)return go(l-x,f-x,h+x,c+x,t,e);if(a)return go(l,f,h,c,t,e);if(n)return uw(l,f,h,c,o,t,e)}},r.prototype.createPath=function(t){var e=this.attr(),n=e.x,a=e.y,o=e.width,s=e.height,l=e.radius;if(t.beginPath(),l===0)t.rect(n,a,o,s);else{var f=Bb(l),h=f[0],c=f[1],v=f[2],x=f[3];t.moveTo(n+h,a),t.lineTo(n+o-c,a),c!==0&&t.arc(n+o-c,a+c,c,-Math.PI/2,0),t.lineTo(n+o,a+s-v),v!==0&&t.arc(n+o-v,a+s-v,v,0,Math.PI/2),t.lineTo(n+x,a+s),x!==0&&t.arc(n+x,a+s-x,x,Math.PI/2,Math.PI),t.lineTo(n,a+h),h!==0&&t.arc(n+h,a+h,h,Math.PI,Math.PI*1.5),t.closePath()}},r}(pa),cw=hw,Hc=d(8914),vw=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,q.__assign)((0,q.__assign)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},r.prototype.isOnlyHitBox=function(){return!0},r.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},r.prototype._assembleFont=function(){var t=this.attrs;t.font=(0,Hc.assembleFont)(t)},r.prototype._setText=function(t){var e=null;(0,un.default)(t)&&t.indexOf(`
`)!==-1&&(e=t.split(`
`)),this.set("textArr",e)},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),t.startsWith("font")&&this._assembleFont(),t==="text"&&this._setText(e)},r.prototype._getSpaceingY=function(){var t=this.attrs,e=t.lineHeight,n=t.fontSize*1;return e?e-n:n*.14},r.prototype._drawTextArr=function(t,e,n){var a=this.attrs,o=a.textBaseline,s=a.x,l=a.y,f=a.fontSize*1,h=this._getSpaceingY(),c=(0,Hc.getTextHeight)(a.text,a.fontSize,a.lineHeight),v;(0,xn.default)(e,function(x,A){v=l+A*(h+f)-c+f,o==="middle"&&(v+=c-f-(c-f)/2),o==="top"&&(v+=c-f),n?t.fillText(x,s,v):t.strokeText(x,s,v)})},r.prototype._drawText=function(t,e){var n=this.attr(),a=n.x,o=n.y,s=this.get("textArr");if(s)this._drawTextArr(t,s,e);else{var l=n.text;e?t.fillText(l,a,o):t.strokeText(l,a,o)}},r.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,a=e.opacity,o=e.strokeOpacity,s=e.fillOpacity;this.isStroke()&&n>0&&(!(0,gi.default)(o)&&o!==1&&(t.globalAlpha=a),this.stroke(t)),this.isFill()&&(!(0,gi.default)(s)&&s!==1?(t.globalAlpha=s,this.fill(t),t.globalAlpha=a):this.fill(t)),this.afterDrawPath(t)},r.prototype.fill=function(t){this._drawText(t,!0)},r.prototype.stroke=function(t){this._drawText(t,!1)},r}(pa),dw=vw,pw=d(4555),iG=d(85424),gw=d(22487),Wc=d(6052);function yw(i,r){if(r){var t=(0,Wc.U_)(r);return(0,Wc.rG)(t,i)}return i}function jc(i,r,t){var e=i.getTotalMatrix();if(e){var n=yw([r,t,1],e),a=n[0],o=n[1];return[a,o]}return[r,t]}function Uc(i,r,t){if(i.isCanvas&&i.isCanvas())return!0;if(!(0,gw.isAllowCapture)(i)&&i.cfg.isInView===!1)return!1;if(i.cfg.clipShape){var e=jc(i,r,t),n=e[0],a=e[1];if(i.isClipped(n,a))return!1}var o=i.cfg.cacheCanvasBBox;return o||(o=i.getCanvasBBox()),r>=o.minX&&r<=o.maxX&&t>=o.minY&&t<=o.maxY}function Zc(i,r,t){if(!Uc(i,r,t))return null;for(var e=null,n=i.getChildren(),a=n.length,o=a-1;o>=0;o--){var s=n[o];if(s.isGroup())e=Zc(s,r,t);else if(Uc(s,r,t)){var l=s,f=jc(s,r,t),h=f[0],c=f[1];l.isInShape(h,c)&&(e=s)}if(e)break}return e}var mw=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return t.renderer="canvas",t.autoDraw=!0,t.localRefresh=!0,t.refreshElements=[],t.clipView=!0,t.quickHit=!1,t},r.prototype.onCanvasChange=function(t){(t==="attr"||t==="sort"||t==="changeSize")&&(this.set("refreshElements",[this]),this.draw())},r.prototype.getShapeBase=function(){return y},r.prototype.getGroupBase=function(){return $u},r.prototype.getPixelRatio=function(){var t=this.get("pixelRatio")||Eb();return t>=1?Math.ceil(t):1},r.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.get("width"),maxY:this.get("height")}},r.prototype.createDom=function(){var t=document.createElement("canvas"),e=t.getContext("2d");return this.set("context",e),t},r.prototype.setDOMSize=function(t,e){i.prototype.setDOMSize.call(this,t,e);var n=this.get("context"),a=this.get("el"),o=this.getPixelRatio();a.width=o*t,a.height=o*e,o>1&&n.scale(o,o)},r.prototype.clear=function(){i.prototype.clear.call(this),this._clearFrame();var t=this.get("context"),e=this.get("el");t.clearRect(0,0,e.width,e.height)},r.prototype.getShape=function(t,e){return this.get("quickHit")?Zc(this,t,e):i.prototype.getShape.call(this,t,e,null)},r.prototype._getRefreshRegion=function(){var t=this.get("refreshElements"),e=this.getViewRange(),n;if(t.length&&t[0]===this)n=e;else if(n=Bc(t),n){n.minX=Math.floor(n.minX),n.minY=Math.floor(n.minY),n.maxX=Math.ceil(n.maxX),n.maxY=Math.ceil(n.maxY);var a=this.get("clipView");a&&(n=Fb(n,e))}return n},r.prototype.refreshElement=function(t){var e=this.get("refreshElements");e.push(t)},r.prototype._clearFrame=function(){var t=this.get("drawFrame");t&&((0,Mb.default)(t),this.set("drawFrame",null),this.set("refreshElements",[]))},r.prototype.draw=function(){var t=this.get("drawFrame");this.get("autoDraw")&&t||this._startDraw()},r.prototype._drawAll=function(){var t=this.get("context"),e=this.get("el"),n=this.getChildren();t.clearRect(0,0,e.width,e.height),No(t,this),Ku(t,n),this.set("refreshElements",[])},r.prototype._drawRegion=function(){var t=this.get("context"),e=this.get("refreshElements"),n=this.getChildren(),a=this._getRefreshRegion();a&&(t.clearRect(a.minX,a.minY,a.maxX-a.minX,a.maxY-a.minY),t.save(),t.beginPath(),t.rect(a.minX,a.minY,a.maxX-a.minX,a.maxY-a.minY),t.clip(),No(t,this),Ku(t,n,a),t.restore()),(0,xn.default)(e,function(o){o.get("hasChanged")&&o.set("hasChanged",!1)}),this.set("refreshElements",[])},r.prototype._startDraw=function(){var t=this,e=this.get("drawFrame");e||(e=(0,Cb.default)(function(){t.get("localRefresh")?t._drawRegion():t._drawAll(),t.set("drawFrame",null)}),this.set("drawFrame",e))},r.prototype.skipDraw=function(){},r}(ne.AbstractCanvas),Kc=mw,xw=d(71270),bw=xw.version,tf={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},on={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},aG=null;function sa(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function $c(i){var r=tf[i.type],t=i.getParent();if(!r)throw new Error("the type "+i.type+" is not supported by svg");var e=sa(r);if(i.get("id")&&(e.id=i.get("id")),i.set("el",e),i.set("attrs",{}),t){var n=t.get("el");n||(n=t.createDom(),t.set("el",n)),n.appendChild(e)}return e}function Qc(i,r){var t=i.get("el"),e=(0,u.toArray)(t.children).sort(r),n=document.createDocumentFragment();e.forEach(function(a){n.appendChild(a)}),t.appendChild(n)}function ww(i,r){var t=i.parentNode,e=Array.from(t.childNodes).filter(function(s){return s.nodeType===1&&s.nodeName.toLowerCase()!=="defs"}),n=e[r],a=e.indexOf(i);if(n){if(a>r)t.insertBefore(i,n);else if(a<r){var o=e[r+1];o?t.insertBefore(i,o):t.appendChild(i)}}else t.appendChild(i)}function Sw(i,r){var t=i.cfg.el,e=i.attr(),n={dx:e.shadowOffsetX,dy:e.shadowOffsetY,blur:e.shadowBlur,color:e.shadowColor};if(!n.dx&&!n.dy&&!n.blur&&!n.color)t.removeAttribute("filter");else{var a=r.find("filter",n);a||(a=r.addShadow(n)),t.setAttribute("filter","url(#"+a+")")}}function ds(i){var r=i.attr().matrix;if(r){for(var t=i.cfg.el,e=[],n=0;n<9;n+=3)e.push(r[n]+","+r[n+1]);e=e.join(","),e.indexOf("NaN")===-1?t.setAttribute("transform","matrix("+e+")"):console.warn("invalid matrix:",r)}}function ps(i,r){var t=i.getClip(),e=i.get("el");if(!t)e.removeAttribute("clip-path");else if(t&&!e.hasAttribute("clip-path")){$c(t),t.createPath(r);var n=r.addClip(t);e.setAttribute("clip-path","url(#"+n+")")}}function Jc(i,r){r.forEach(function(t){t.draw(i)})}function qc(i,r){var t=i.get("canvas");if(t&&t.get("autoDraw")){var e=t.get("context"),n=i.getParent(),a=n?n.getChildren():[t],o=i.get("el");if(r==="remove"){var s=i.get("isClipShape");if(s){var l=o&&o.parentNode,f=l&&l.parentNode;l&&f&&f.removeChild(l)}else o&&o.parentNode&&o.parentNode.removeChild(o)}else if(r==="show")o.setAttribute("visibility","visible");else if(r==="hide")o.setAttribute("visibility","hidden");else if(r==="zIndex")ww(o,a.indexOf(i));else if(r==="sort"){var h=i.get("children");h&&h.length&&Qc(i,function(c,v){return h.indexOf(c)-h.indexOf(v)?1:0})}else r==="clear"?o&&(o.innerHTML=""):r==="matrix"?ds(i):r==="clip"?ps(i,e):r==="attr"||r==="add"&&i.draw(e)}}var Cw=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.isEntityGroup=function(){return!0},r.prototype.createDom=function(){var t=sa("g");this.set("el",t);var e=this.getParent();if(e){var n=e.get("el");n||(n=e.createDom(),e.set("el",n)),n.appendChild(t)}return t},r.prototype.afterAttrsChange=function(t){i.prototype.afterAttrsChange.call(this,t);var e=this.get("canvas");if(e&&e.get("autoDraw")){var n=e.get("context");this.createPath(n,t)}},r.prototype.onCanvasChange=function(t){qc(this,t)},r.prototype.getShapeBase=function(){return I},r.prototype.getGroupBase=function(){return r},r.prototype.draw=function(t){var e=this.getChildren(),n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||this.createDom(),ps(this,t),this.createPath(t),e.length&&Jc(t,e))},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,u.each)(e||n,function(o,s){on[s]&&a.setAttribute(on[s],o)}),ds(this)},r}(ne.AbstractGroup),ef=Cw,Mw=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="svg",t.canFill=!1,t.canStroke=!1,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,q.__assign)((0,q.__assign)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},r.prototype.afterAttrsChange=function(t){i.prototype.afterAttrsChange.call(this,t);var e=this.get("canvas");if(e&&e.get("autoDraw")){var n=e.get("context");this.draw(n,t)}},r.prototype.getShapeBase=function(){return I},r.prototype.getGroupBase=function(){return ef},r.prototype.onCanvasChange=function(t){qc(this,t)},r.prototype.calculateBBox=function(){var t=this.get("el"),e=null;if(t)e=t.getBBox();else{var n=(0,Dc.b)(this.get("type"));n&&(e=n(this))}if(e){var a=e.x,o=e.y,s=e.width,l=e.height,f=this.getHitLineWidth(),h=f/2,c=a-h,v=o-h,x=a+s+h,A=o+l+h;return{x:c,y:v,minX:c,minY:v,maxX:x,maxY:A,width:s+f,height:l+f}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},r.prototype.isFill=function(){var t=this.attr(),e=t.fill,n=t.fillStyle;return(e||n||this.isClipShape())&&this.canFill},r.prototype.isStroke=function(){var t=this.attr(),e=t.stroke,n=t.strokeStyle;return(e||n)&&this.canStroke},r.prototype.draw=function(t,e){var n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||$c(this),ps(this,t),this.createPath(t,e),this.shadow(t,e),this.strokeAndFill(t,e),this.transform(e))},r.prototype.createPath=function(t,e){},r.prototype.strokeAndFill=function(t,e){var n=e||this.attr(),a=n.fill,o=n.fillStyle,s=n.stroke,l=n.strokeStyle,f=n.fillOpacity,h=n.strokeOpacity,c=n.lineWidth,v=this.get("el");this.canFill&&(e?"fill"in n?this._setColor(t,"fill",a):"fillStyle"in n&&this._setColor(t,"fill",o):this._setColor(t,"fill",a||o),f&&v.setAttribute(on.fillOpacity,f)),this.canStroke&&c>0&&(e?"stroke"in n?this._setColor(t,"stroke",s):"strokeStyle"in n&&this._setColor(t,"stroke",l):this._setColor(t,"stroke",s||l),h&&v.setAttribute(on.strokeOpacity,h),c&&v.setAttribute(on.lineWidth,c))},r.prototype._setColor=function(t,e,n){var a=this.get("el");if(!n){a.setAttribute(on[e],"none");return}if(n=n.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(n)){var o=t.find("gradient",n);o||(o=t.addGradient(n)),a.setAttribute(on[e],"url(#"+o+")")}else if(/^[p,P]{1}[\s]*\(/.test(n)){var o=t.find("pattern",n);o||(o=t.addPattern(n)),a.setAttribute(on[e],"url(#"+o+")")}else a.setAttribute(on[e],n)},r.prototype.shadow=function(t,e){var n=this.attr(),a=e||n,o=a.shadowOffsetX,s=a.shadowOffsetY,l=a.shadowBlur,f=a.shadowColor;(o||s||l||f)&&Sw(this,t)},r.prototype.transform=function(t){var e=this.attr(),n=(t||e).matrix;n&&ds(this)},r.prototype.isInShape=function(t,e){return this.isPointInPath(t,e)},r.prototype.isPointInPath=function(t,e){var n=this.get("el"),a=this.get("canvas"),o=a.get("el").getBoundingClientRect(),s=t+o.left,l=e+o.top,f=document.elementFromPoint(s,l);return!!(f&&f.isEqualNode(n))},r.prototype.getHitLineWidth=function(){var t=this.attrs,e=t.lineWidth,n=t.lineAppendWidth;return this.isStroke()?e+n:0},r}(ne.AbstractShape),la=Mw,Ew=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="circle",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,q.__assign)((0,q.__assign)({},t),{x:0,y:0,r:0})},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,u.each)(e||n,function(o,s){s==="x"||s==="y"?a.setAttribute("c"+s,o):on[s]&&a.setAttribute(on[s],o)})},r}(la),_w=Ew,Aw=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="dom",t.canFill=!1,t.canStroke=!1,t}return r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,u.each)(e||n,function(o,s){on[s]&&a.setAttribute(on[s],o)}),a.innerHTML=n.html},r}(la),Pw=Aw,Tw=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="ellipse",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,q.__assign)((0,q.__assign)({},t),{x:0,y:0,rx:0,ry:0})},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,u.each)(e||n,function(o,s){s==="x"||s==="y"?a.setAttribute("c"+s,o):on[s]&&a.setAttribute(on[s],o)})},r}(la),Ow=Tw,Lw=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="image",t.canFill=!1,t.canStroke=!1,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,q.__assign)((0,q.__assign)({},t),{x:0,y:0,width:0,height:0})},r.prototype.createPath=function(t,e){var n=this,a=this.attr(),o=this.get("el");(0,u.each)(e||a,function(s,l){l==="img"?n._setImage(a.img):on[l]&&o.setAttribute(on[l],s)})},r.prototype.setAttr=function(t,e){this.attrs[t]=e,t==="img"&&this._setImage(e)},r.prototype._setImage=function(t){var e=this.attr(),n=this.get("el");if((0,u.isString)(t))n.setAttribute("href",t);else if(t instanceof window.Image)e.width||(n.setAttribute("width",t.width),this.attr("width",t.width)),e.height||(n.setAttribute("height",t.height),this.attr("height",t.height)),n.setAttribute("href",t.src);else if(t instanceof HTMLElement&&(0,u.isString)(t.nodeName)&&t.nodeName.toUpperCase()==="CANVAS")n.setAttribute("href",t.toDataURL());else if(t instanceof ImageData){var a=document.createElement("canvas");a.setAttribute("width",""+t.width),a.setAttribute("height",""+t.height),a.getContext("2d").putImageData(t,0,0),e.width||(n.setAttribute("width",""+t.width),this.attr("width",t.width)),e.height||(n.setAttribute("height",""+t.height),this.attr("height",t.height)),n.setAttribute("href",a.toDataURL())}},r}(la),Iw=Lw,kw=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="line",t.canFill=!1,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,q.__assign)((0,q.__assign)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,u.each)(e||n,function(o,s){if(s==="startArrow"||s==="endArrow")if(o){var l=(0,u.isObject)(o)?t.addArrow(n,on[s]):t.getDefaultArrow(n,on[s]);a.setAttribute(on[s],"url(#"+l+")")}else a.removeAttribute(on[s]);else on[s]&&a.setAttribute(on[s],o)})},r.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,a=t.x2,o=t.y2;return Ya.default.length(e,n,a,o)},r.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,a=e.y1,o=e.x2,s=e.y2;return Ya.default.pointAt(n,a,o,s,t)},r}(la),Bw=kw,il={circle:function(i,r,t){return[["M",i,r],["m",-t,0],["a",t,t,0,1,0,t*2,0],["a",t,t,0,1,0,-t*2,0]]},square:function(i,r,t){return[["M",i-t,r-t],["L",i+t,r-t],["L",i+t,r+t],["L",i-t,r+t],["Z"]]},diamond:function(i,r,t){return[["M",i-t,r],["L",i,r-t],["L",i+t,r],["L",i,r+t],["Z"]]},triangle:function(i,r,t){var e=t*Math.sin(1/3*Math.PI);return[["M",i-t,r+e],["L",i,r-e],["L",i+t,r+e],["z"]]},triangleDown:function(i,r,t){var e=t*Math.sin(1/3*Math.PI);return[["M",i-t,r-e],["L",i+t,r-e],["L",i,r+e],["Z"]]}},tv={get:function(i){return il[i]},register:function(i,r){il[i]=r},remove:function(i){delete il[i]},getAll:function(){return il}},Dw=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="marker",t.canFill=!0,t.canStroke=!0,t}return r.prototype.createPath=function(t){var e=this.get("el");e.setAttribute("d",this._assembleMarker())},r.prototype._assembleMarker=function(){var t=this._getPath();return(0,u.isArray)(t)?t.map(function(e){return e.join(" ")}).join(""):t},r.prototype._getPath=function(){var t=this.attr(),e=t.x,n=t.y,a=t.r||t.radius,o=t.symbol||"circle",s;return(0,u.isFunction)(o)?s=o:s=tv.get(o),s?s(e,n,a):(console.warn(s+" symbol is not exist."),null)},r.symbolsFactory=tv,r}(la),Fw=Dw,Rw=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="path",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,q.__assign)((0,q.__assign)({},t),{startArrow:!1,endArrow:!1})},r.prototype.createPath=function(t,e){var n=this,a=this.attr(),o=this.get("el");(0,u.each)(e||a,function(s,l){if(l==="path"&&(0,u.isArray)(s))o.setAttribute("d",n._formatPath(s));else if(l==="startArrow"||l==="endArrow")if(s){var f=(0,u.isObject)(s)?t.addArrow(a,on[l]):t.getDefaultArrow(a,on[l]);o.setAttribute(on[l],"url(#"+f+")")}else o.removeAttribute(on[l]);else on[l]&&o.setAttribute(on[l],s)})},r.prototype._formatPath=function(t){var e=t.map(function(n){return n.join(" ")}).join("");return~e.indexOf("NaN")?"":e},r.prototype.getTotalLength=function(){var t=this.get("el");return t?t.getTotalLength():null},r.prototype.getPoint=function(t){var e=this.get("el"),n=this.getTotalLength(),a=e?e.getPointAtLength(t*n):null;return a?{x:a.x,y:a.y}:null},r}(la),Nw=Rw,Gw=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="polygon",t.canFill=!0,t.canStroke=!0,t}return r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,u.each)(e||n,function(o,s){s==="points"&&(0,u.isArray)(o)&&o.length>=2?a.setAttribute("points",o.map(function(l){return l[0]+","+l[1]}).join(" ")):on[s]&&a.setAttribute(on[s],o)})},r}(la),Yw=Gw,zw=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="polyline",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,q.__assign)((0,q.__assign)({},t),{startArrow:!1,endArrow:!1})},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),["points"].indexOf(t)!==-1&&this._resetCache()},r.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,u.each)(e||n,function(o,s){s==="points"&&(0,u.isArray)(o)&&o.length>=2?a.setAttribute("points",o.map(function(l){return l[0]+","+l[1]}).join(" ")):on[s]&&a.setAttribute(on[s],o)})},r.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return(0,u.isNil)(e)?(this.set("totalLength",Vc.Z.length(t)),this.get("totalLength")):e},r.prototype.getPoint=function(t){var e=this.attr().points,n=this.get("tCache");n||(this._setTcache(),n=this.get("tCache"));var a,o;return(0,u.each)(n,function(s,l){t>=s[0]&&t<=s[1]&&(a=(t-s[0])/(s[1]-s[0]),o=l)}),Ya.default.pointAt(e[o][0],e[o][1],e[o+1][0],e[o+1][1],a)},r.prototype._setTcache=function(){var t=this.attr().points;if(!(!t||t.length===0)){var e=this.getTotalLength();if(!(e<=0)){var n=0,a=[],o,s;(0,u.each)(t,function(l,f){t[f+1]&&(o=[],o[0]=n/e,s=Ya.default.length(l[0],l[1],t[f+1][0],t[f+1][1]),n+=s,o[1]=n/e,a.push(o))}),this.set("tCache",a)}}},r.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},r.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},r}(la),Xw=zw,Vw=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,Hw=/[^\s\,]+/gi;function Ww(i){var r=0,t=0,e=0,n=0;return(0,u.isArray)(i)?i.length===1?r=t=e=n=i[0]:i.length===2?(r=e=i[0],t=n=i[1]):i.length===3?(r=i[0],t=n=i[1],e=i[2]):(r=i[0],t=i[1],e=i[2],n=i[3]):r=t=e=n=i,{r1:r,r2:t,r3:e,r4:n}}function oG(i){if(i=i||[],isArray(i))return i;if(isString(i))return i=i.match(Vw),each(i,function(r,t){if(r=r.match(Hw),r[0].length>1){var e=r[0].charAt(0);r.splice(1,0,r[0].substr(1)),r[0]=e}each(r,function(n,a){isNaN(n)||(r[a]=+n)}),i[t]=r}),i}var jw=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="rect",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,q.__assign)((0,q.__assign)({},t),{x:0,y:0,width:0,height:0,radius:0})},r.prototype.createPath=function(t,e){var n=this,a=this.attr(),o=this.get("el"),s=!1,l=["x","y","width","height","radius"];(0,u.each)(e||a,function(f,h){l.indexOf(h)!==-1&&!s?(o.setAttribute("d",n._assembleRect(a)),s=!0):l.indexOf(h)===-1&&on[h]&&o.setAttribute(on[h],f)})},r.prototype._assembleRect=function(t){var e=t.x,n=t.y,a=t.width,o=t.height,s=t.radius;if(!s)return"M "+e+","+n+" l "+a+",0 l 0,"+o+" l"+-a+" 0 z";var l=Ww(s);(0,u.isArray)(s)?s.length===1?l.r1=l.r2=l.r3=l.r4=s[0]:s.length===2?(l.r1=l.r3=s[0],l.r2=l.r4=s[1]):s.length===3?(l.r1=s[0],l.r2=l.r4=s[1],l.r3=s[2]):(l.r1=s[0],l.r2=s[1],l.r3=s[2],l.r4=s[3]):l.r1=l.r2=l.r3=l.r4=s;var f=[["M "+(e+l.r1)+","+n],["l "+(a-l.r1-l.r2)+",0"],["a "+l.r2+","+l.r2+",0,0,1,"+l.r2+","+l.r2],["l 0,"+(o-l.r2-l.r3)],["a "+l.r3+","+l.r3+",0,0,1,"+-l.r3+","+l.r3],["l "+(l.r3+l.r4-a)+",0"],["a "+l.r4+","+l.r4+",0,0,1,"+-l.r4+","+-l.r4],["l 0,"+(l.r4+l.r1-o)],["a "+l.r1+","+l.r1+",0,0,1,"+l.r1+","+-l.r1],["z"]];return f.join(" ")},r}(la),Uw=jw,Zw=d(56463),ev=.3,Kw={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},$w={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},Qw={left:"left",start:"left",center:"middle",right:"end",end:"end"},Jw=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="text",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,q.__assign)((0,q.__assign)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},r.prototype.createPath=function(t,e){var n=this,a=this.attr(),o=this.get("el");this._setFont(),(0,u.each)(e||a,function(s,l){l==="text"?n._setText(""+s):l==="matrix"&&s?ds(n):on[l]&&o.setAttribute(on[l],s)}),o.setAttribute("paint-order","stroke"),o.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},r.prototype._setFont=function(){var t=this.get("el"),e=this.attr(),n=e.textBaseline,a=e.textAlign,o=(0,Zw.detect)();o&&o.name==="firefox"?t.setAttribute("dominant-baseline",$w[n]||"alphabetic"):t.setAttribute("alignment-baseline",Kw[n]||"baseline"),t.setAttribute("text-anchor",Qw[a]||"left")},r.prototype._setText=function(t){var e=this.get("el"),n=this.attr(),a=n.x,o=n.textBaseline,s=o===void 0?"bottom":o;if(!t)e.innerHTML="";else if(~t.indexOf(`
`)){var l=t.split(`
`),f=l.length-1,h="";(0,u.each)(l,function(c,v){v===0?s==="alphabetic"?h+='<tspan x="'+a+'" dy="'+-f+'em">'+c+"</tspan>":s==="top"?h+='<tspan x="'+a+'" dy="0.9em">'+c+"</tspan>":s==="middle"?h+='<tspan x="'+a+'" dy="'+-(f-1)/2+'em">'+c+"</tspan>":s==="bottom"?h+='<tspan x="'+a+'" dy="-'+(f+ev)+'em">'+c+"</tspan>":s==="hanging"&&(h+='<tspan x="'+a+'" dy="'+(-(f-1)-ev)+'em">'+c+"</tspan>"):h+='<tspan x="'+a+'" dy="1em">'+c+"</tspan>"}),e.innerHTML=h}else e.innerHTML=t},r}(la),qw=Jw,tS=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,eS=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,rS=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function rv(i){var r=i.match(rS);if(!r)return"";var t="";return r.sort(function(e,n){return e=e.split(":"),n=n.split(":"),Number(e[0])-Number(n[0])}),(0,u.each)(r,function(e){e=e.split(":"),t+='<stop offset="'+e[0]+'" stop-color="'+e[1]+'"></stop>'}),t}function nS(i,r){var t=tS.exec(i),e=(0,u.mod)((0,u.toRadian)(parseFloat(t[1])),Math.PI*2),n=t[2],a,o;e>=0&&e<.5*Math.PI?(a={x:0,y:0},o={x:1,y:1}):.5*Math.PI<=e&&e<Math.PI?(a={x:1,y:0},o={x:0,y:1}):Math.PI<=e&&e<1.5*Math.PI?(a={x:1,y:1},o={x:0,y:0}):(a={x:0,y:1},o={x:1,y:0});var s=Math.tan(e),l=s*s,f=(o.x-a.x+s*(o.y-a.y))/(l+1)+a.x,h=s*(o.x-a.x+s*(o.y-a.y))/(l+1)+a.y;r.setAttribute("x1",a.x),r.setAttribute("y1",a.y),r.setAttribute("x2",f),r.setAttribute("y2",h),r.innerHTML=rv(n)}function iS(i,r){var t=eS.exec(i),e=parseFloat(t[1]),n=parseFloat(t[2]),a=parseFloat(t[3]),o=t[4];r.setAttribute("cx",e),r.setAttribute("cy",n),r.setAttribute("r",a),r.innerHTML=rv(o)}var aS=function(){function i(r){this.cfg={};var t=null,e=(0,u.uniqueId)("gradient_");return r.toLowerCase()[0]==="l"?(t=sa("linearGradient"),nS(r,t)):(t=sa("radialGradient"),iS(r,t)),t.setAttribute("id",e),this.el=t,this.id=e,this.cfg=r,this}return i.prototype.match=function(r,t){return this.cfg===t},i}(),oS=aS,sS={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},lS={x:"-40%",y:"-40%",width:"200%",height:"200%"},uS=function(){function i(r){this.type="filter",this.cfg={},this.type="filter";var t=sa("filter");return(0,u.each)(lS,function(e,n){t.setAttribute(n,e)}),this.el=t,this.id=(0,u.uniqueId)("filter_"),this.el.id=this.id,this.cfg=r,this._parseShadow(r,t),this}return i.prototype.match=function(r,t){if(this.type!==r)return!1;var e=!0,n=this.cfg;return(0,u.each)(Object.keys(n),function(a){if(n[a]!==t[a])return e=!1,!1}),e},i.prototype.update=function(r,t){var e=this.cfg;return e[sS[r]]=t,this._parseShadow(e,this.el),this},i.prototype._parseShadow=function(r,t){var e=`<feDropShadow
      dx="`+(r.dx||0)+`"
      dy="`+(r.dy||0)+`"
      stdDeviation="`+(r.blur?r.blur/10:0)+`"
      flood-color="`+(r.color?r.color:"#000")+`"
      flood-opacity="`+(r.opacity?r.opacity:1)+`"
      />`;t.innerHTML=e},i}(),fS=uS,hS=function(){function i(r,t){this.cfg={};var e=sa("marker"),n=(0,u.uniqueId)("marker_");e.setAttribute("id",n);var a=sa("path");a.setAttribute("stroke",r.stroke||"none"),a.setAttribute("fill",r.fill||"none"),e.appendChild(a),e.setAttribute("overflow","visible"),e.setAttribute("orient","auto-start-reverse"),this.el=e,this.child=a,this.id=n;var o=r[t==="marker-start"?"startArrow":"endArrow"];return this.stroke=r.stroke||"#000",o===!0?this._setDefaultPath(t,a):(this.cfg=o,this._setMarker(r.lineWidth,a)),this}return i.prototype.match=function(){return!1},i.prototype._setDefaultPath=function(r,t){var e=this.el;t.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),e.setAttribute("refX",""+10*Math.cos(Math.PI/6)),e.setAttribute("refY",""+5)},i.prototype._setMarker=function(r,t){var e=this.el,n=this.cfg.path,a=this.cfg.d;(0,u.isArray)(n)&&(n=n.map(function(o){return o.join(" ")}).join("")),t.setAttribute("d",n),e.appendChild(t),a&&e.setAttribute("refX",""+a/r)},i.prototype.update=function(r){var t=this.child;t.attr?t.attr("fill",r):t.setAttribute("fill",r)},i}(),nv=hS,cS=function(){function i(r){this.type="clip",this.cfg={};var t=sa("clipPath");this.el=t,this.id=(0,u.uniqueId)("clip_"),t.id=this.id;var e=r.cfg.el;return t.appendChild(e),this.cfg=r,this}return i.prototype.match=function(){return!1},i.prototype.remove=function(){var r=this.el;r.parentNode.removeChild(r)},i}(),vS=cS,dS=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,pS=function(){function i(r){this.cfg={};var t=sa("pattern");t.setAttribute("patternUnits","userSpaceOnUse");var e=sa("image");t.appendChild(e);var n=(0,u.uniqueId)("pattern_");t.id=n,this.el=t,this.id=n,this.cfg=r;var a=dS.exec(r),o=a[2];e.setAttribute("href",o);var s=new Image;o.match(/^data:/i)||(s.crossOrigin="Anonymous"),s.src=o;function l(){t.setAttribute("width",""+s.width),t.setAttribute("height",""+s.height)}return s.complete?l():(s.onload=l,s.src=s.src),this}return i.prototype.match=function(r,t){return this.cfg===t},i}(),gS=pS,yS=function(){function i(r){var t=sa("defs"),e=(0,u.uniqueId)("defs_");t.id=e,r.appendChild(t),this.children=[],this.defaultArrow={},this.el=t,this.canvas=r}return i.prototype.find=function(r,t){for(var e=this.children,n=null,a=0;a<e.length;a++)if(e[a].match(r,t)){n=e[a].id;break}return n},i.prototype.findById=function(r){for(var t=this.children,e=null,n=0;n<t.length;n++)if(t[n].id===r){e=t[n];break}return e},i.prototype.add=function(r){this.children.push(r),r.canvas=this.canvas,r.parent=this},i.prototype.getDefaultArrow=function(r,t){var e=r.stroke||r.strokeStyle;if(this.defaultArrow[e])return this.defaultArrow[e].id;var n=new nv(r,t);return this.defaultArrow[e]=n,this.el.appendChild(n.el),this.add(n),n.id},i.prototype.addGradient=function(r){var t=new oS(r);return this.el.appendChild(t.el),this.add(t),t.id},i.prototype.addArrow=function(r,t){var e=new nv(r,t);return this.el.appendChild(e.el),this.add(e),e.id},i.prototype.addShadow=function(r){var t=new fS(r);return this.el.appendChild(t.el),this.add(t),t.id},i.prototype.addPattern=function(r){var t=new gS(r);return this.el.appendChild(t.el),this.add(t),t.id},i.prototype.addClip=function(r){var t=new vS(r);return this.el.appendChild(t.el),this.add(t),t.id},i}(),mS=yS,xS=function(i){(0,q.__extends)(r,i);function r(t){return i.call(this,(0,q.__assign)((0,q.__assign)({},t),{autoDraw:!0,renderer:"svg"}))||this}return r.prototype.getShapeBase=function(){return I},r.prototype.getGroupBase=function(){return ef},r.prototype.getShape=function(t,e,n){var a=n.target||n.srcElement;if(!tf[a.tagName]){for(var o=a.parentNode;o&&!tf[o.tagName];)o=o.parentNode;a=o}return this.find(function(s){return s.get("el")===a})},r.prototype.createDom=function(){var t=sa("svg"),e=new mS(t);return t.setAttribute("width",""+this.get("width")),t.setAttribute("height",""+this.get("height")),this.set("context",e),t},r.prototype.onCanvasChange=function(t){var e=this.get("context"),n=this.get("el");if(t==="sort"){var a=this.get("children");a&&a.length&&Qc(this,function(s,l){return a.indexOf(s)-a.indexOf(l)?1:0})}else if(t==="clear"){if(n){n.innerHTML="";var o=e.el;o.innerHTML="",n.appendChild(o)}}else t==="matrix"?ds(this):t==="clip"?ps(this,e):t==="changeSize"&&(n.setAttribute("width",""+this.get("width")),n.setAttribute("height",""+this.get("height")))},r.prototype.draw=function(){var t=this.get("context"),e=this.getChildren();ps(this,t),e.length&&Jc(t,e)},r}(ne.AbstractCanvas),iv=xS,bS=d(23231),wS=bS.version;function rf(i){return i?!1:i==null||isNaN(i)}function av(i){if((0,u.isArray)(i))return rf(i[1].y);var r=i.y;return(0,u.isArray)(r)?rf(r[0]):rf(r)}function nf(i,r,t){if(r===void 0&&(r=!1),t===void 0&&(t=!0),!i.length||i.length===1&&!t)return[];if(r){for(var e=[],n=0,a=i.length;n<a;n++){var o=i[n];av(o)||e.push(o)}return[e]}for(var s=[],l=[],n=0,a=i.length;n<a;n++){var o=i[n];av(o)?l.length&&(l.length===1&&!t||s.push(l),l=[]):l.push(o)}return l.length&&s.push(l),s}function oi(i,r,t,e){e===void 0&&(e="");var n=i.style,a=n===void 0?{}:n,o=i.defaultStyle,s=i.color,l=i.size,f=(0,D.__assign)((0,D.__assign)({},o),a);return s&&(r&&(a.stroke||(f.stroke=s)),t&&(a.fill||(f.fill=s))),e&&(0,u.isNil)(a[e])&&!(0,u.isNil)(l)&&(f[e]=l),f}function af(i){var r=i.x,t=(0,u.isArray)(i.y)?i.y:[i.y];return t.map(function(e,n){return{x:(0,u.isArray)(r)?r[n]:r,y:e}})}var SS={line:function(i,r,t){return[["M",i-t,r],["L",i+t,r]]},dot:function(i,r,t){return[["M",i-t,r],["L",i+t,r]]},dash:function(i,r,t){return[["M",i-t,r],["L",i+t,r]]},smooth:function(i,r,t){return[["M",i-t,r],["A",t/2,t/2,0,1,1,i,r],["A",t/2,t/2,0,1,0,i+t,r]]},hv:function(i,r,t){return[["M",i-t-1,r-2.5],["L",i,r-2.5],["L",i,r+2.5],["L",i+t+1,r+2.5]]},vh:function(i,r,t){return[["M",i-t-1,r+2.5],["L",i,r+2.5],["L",i,r-2.5],["L",i+t+1,r-2.5]]},hvh:function(i,r,t){return[["M",i-(t+1),r+2.5],["L",i-t/2,r+2.5],["L",i-t/2,r-2.5],["L",i+t/2,r-2.5],["L",i+t/2,r+2.5],["L",i+t+1,r+2.5]]},vhv:function(i,r){return[["M",i-5,r+2.5],["L",i-5,r],["L",i,r],["L",i,r-3],["L",i,r+3],["L",i+6.5,r+3]]}};function ov(i,r){var t=i.color;return{symbol:SS[r],style:{lineWidth:2,r:6,stroke:t}}}function CS(i,r,t){for(var e=i.isStack,n=i.connectNulls,a=i.isInCircle,o=i.showSinglePoint,s=oi(i,!0,!1,"lineWidth"),l=nf(i.points,n,o),f=[],h=0,c=l.length;h<c;h++){var v=l[h];f=f.concat(ES(v,a,e,r,t,s))}return s.path=f,s}function of(i,r,t,e,n){if(i.length===1)return[["M",i[0].x,i[0].y-n.lineWidth/2],["L",i[0].x,i[0].y],["L",i[0].x,i[0].y+n.lineWidth/2]];var a;return t?(r&&i.length&&i.push({x:i[0].x,y:i[0].y}),a=be(i,!1,e)):(a=Ut(i,!1),r&&a.push(["Z"])),a}function MS(i,r,t,e,n,a){var o=[],s=[];(0,u.each)(i,function(h){var c=af(h);o.push(c[1]),s.push(c[0])});var l=of(o,r,e,n,a),f=of(s,r,e,n,a);return t?l:l.concat(f)}function ES(i,r,t,e,n,a){if(i.length){var o=i[0];return(0,u.isArray)(o.y)?MS(i,r,t,e,n,a):of(i,r,e,n,a)}return[]}var sG=Qa("line",{defaultShapeType:"line"});(0,u.each)(["line","dot","dash","smooth"],function(i){rn("line",i,{draw:function(r,t){var e=i==="smooth",n;if(e){var a=this.coordinate,o=a.start,s=a.end;n=[[o.x,s.y],[s.x,o.y]]}var l=CS(r,e,n),f=t.addShape({type:"path",attrs:l,name:"line"});return f},getMarker:function(r){return ov(r,i)}})});var lG=null,_S=function(i){(0,D.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.type="path",e.shapeType="line";var n=t.connectNulls,a=n===void 0?!1:n,o=t.showSinglePoint,s=o===void 0?!0:o;return e.connectNulls=a,e.showSinglePoint=s,e}return r.prototype.createElements=function(t,e,n){n===void 0&&(n=!1);var a=this,o=a.lastElementsMap,s=a.elementsMap,l=a.elements,f=a.container,h=this.getElementId(t),c=this.getShapeInfo(t),v=o[h];if(v){var A=v.getModel();(this.isCoordinateChanged||wc(A,c))&&(v.animate=this.animateOption,v.update(c)),delete o[h]}else{var x=this.getShapeFactory();v=new gc({shapeFactory:x,container:f,offscreenGroup:this.getOffscreenGroup()}),v.geometry=this,v.animate=this.animateOption,v.draw(c,n)}return l.push(v),s[h]=v,l},r.prototype.getPointsAndData=function(t){for(var e=[],n=[],a=0,o=t.length;a<o;a++){var s=t[a];e.push({x:s.x,y:s.y}),n.push(s[ot])}return{points:e,data:n}},r.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]),n=this.getPointsAndData(t),a=n.points,o=n.data;return e.mappingData=t,e.data=o,e.isStack=!!this.getAdjust("stack"),e.points=a,e.connectNulls=this.connectNulls,e.showSinglePoint=this.showSinglePoint,e},r}(Ga),sf=_S;function AS(i,r,t,e,n){var a=[];if(i.length){for(var o=[],s=[],l=0,f=i.length;l<f;l++){var h=i[l];o.push(h[1]),s.push(h[0])}s=s.reverse(),(0,u.each)([o,s],function(c,v){var x=[],A=e.parsePoints(c),B=A[0];o.length===1&&s.length===1?x=v===0?[["M",B.x-.5,B.y],["L",B.x+.5,B.y]]:[["L",B.x+.5,B.y],["L",B.x-.5,B.y]]:(r&&A.push({x:B.x,y:B.y}),t?x=be(A,!1,n):x=Ut(A,!1),v>0&&(x[0][0]="L")),a=a.concat(x)}),a.push(["Z"])}return a}function al(i,r,t,e,n){for(var a=oi(i,r,!r,"lineWidth"),o=i.connectNulls,s=i.isInCircle,l=i.points,f=i.showSinglePoint,h=nf(l,o,f),c=[],v=0,x=h.length;v<x;v++){var A=h[v];c=c.concat(AS(A,s,t,e,n))}return a.path=c,a}function sv(i){var r=i.start,t=i.end;return[[r.x,t.y],[t.x,r.y]]}var uG=Qa("area",{defaultShapeType:"area",getDefaultPoints:function(i){var r=i.x,t=i.y0,e=(0,u.isArray)(i.y)?i.y:[t,i.y];return e.map(function(n){return{x:r,y:n}})}});rn("area","area",{draw:function(i,r){var t=al(i,!1,!1,this),e=r.addShape({type:"path",attrs:t,name:"area"});return e},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return n===void 0&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,fill:r}}}});var fG=null,PS=function(i){(0,D.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.type="area",e.shapeType="area",e.generatePoints=!0,e.startOnZero=!0;var n=t.startOnZero,a=n===void 0?!0:n,o=t.sortable,s=o===void 0?!0:o,l=t.showSinglePoint,f=l===void 0?!1:l;return e.startOnZero=a,e.sortable=s,e.showSinglePoint=f,e}return r.prototype.getPointsAndData=function(t){for(var e=[],n=[],a=0,o=t.length;a<o;a++){var s=t[a];e.push(s.points),n.push(s[ot])}return{points:e,data:n}},r.prototype.getYMinValue=function(){if(this.startOnZero)return i.prototype.getYMinValue.call(this);var t=this.getYScale();return t.min},r}(sf),TS=PS,hG=Qa("edge",{defaultShapeType:"line",getDefaultPoints:function(i){return af(i)}});rn("edge","line",{draw:function(i,r){var t=oi(i,!0,!1,"lineWidth"),e=Ut(this.parsePoints(i.points),this.coordinate.isPolar);return r.addShape("path",{attrs:(0,D.__assign)((0,D.__assign)({},t),{path:e})})},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}});var cG=null,OS=function(i){(0,D.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="edge",t.shapeType="edge",t.generatePoints=!0,t}return r}(Ga),LS=OS,IS=d(55223),kS=function(i){(0,D.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="heatmap",t.paletteCache={},t}return r.prototype.createElements=function(t,e,n){n===void 0&&(n=!1);var a=this.prepareRange(t),o=this.prepareSize(),s=(0,u.get)(this.styleOption,["style","shadowBlur"]);return(0,u.isNumber)(s)||(s=o/2),this.prepareGreyScaleBlurredCircle(o,s),this.drawWithRange(t,a,o,s),null},r.prototype.clear=function(){i.prototype.clear.call(this),this.clearShadowCanvasCtx(),this.paletteCache={}},r.prototype.prepareRange=function(t){var e=this.getAttribute("color"),n=e.getFields()[0],a=Infinity,o=-Infinity;return t.forEach(function(s){var l=s[ot][n];l>o&&(o=l),l<a&&(a=l)}),a===o&&(a=o-1),[a,o]},r.prototype.prepareSize=function(){var t=this.getDefaultValue("size");return(0,u.isNumber)(t)||(t=this.getDefaultSize()),t},r.prototype.prepareGreyScaleBlurredCircle=function(t,e){var n=this.getGrayScaleBlurredCanvas(),a=t+e,o=n.getContext("2d");n.width=n.height=a*2,o.clearRect(0,0,n.width,n.height),o.shadowOffsetX=o.shadowOffsetY=a*2,o.shadowBlur=e,o.shadowColor="black",o.beginPath(),o.arc(-a,-a,t,0,Math.PI*2,!0),o.closePath(),o.fill()},r.prototype.drawWithRange=function(t,e,n,a){var o=this.coordinate,s=o.start,l=o.end,f=this.coordinate.getWidth(),h=this.coordinate.getHeight(),c=this.getAttribute("color"),v=c.getFields()[0];this.clearShadowCanvasCtx();var x=this.getShadowCanvasCtx();e&&(t=t.filter(function(te){return te[ot][v]<=e[1]&&te[ot][v]>=e[0]}));for(var A=this.scales[v],B=0,G=t;B<G.length;B++){var H=G[B],X=this.getDrawCfg(H),ut=X.x,ft=X.y,xt=A.scale(H[ot][v]);this.drawGrayScaleBlurredCircle(ut-s.x,ft-l.y,n+a,xt,x)}var Yt=x.getImageData(0,0,f,h);this.clearShadowCanvasCtx(),this.colorize(Yt),x.putImageData(Yt,0,0);var Kt=this.getImageShape();Kt.attr("x",s.x),Kt.attr("y",l.y),Kt.attr("width",f),Kt.attr("height",h),Kt.attr("img",x.canvas),Kt.set("origin",this.getShapeInfo(t))},r.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),e=this.coordinate;return Math.min(e.getWidth()/(t.scales[0].ticks.length*4),e.getHeight()/(t.scales[1].ticks.length*4))},r.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},r.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;return t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight(),t.getContext("2d")},r.prototype.getGrayScaleBlurredCanvas=function(){return this.grayScaleBlurredCanvas||(this.grayScaleBlurredCanvas=document.createElement("canvas")),this.grayScaleBlurredCanvas},r.prototype.drawGrayScaleBlurredCircle=function(t,e,n,a,o){var s=this.getGrayScaleBlurredCanvas();o.globalAlpha=a,o.drawImage(s,t-n,e-n)},r.prototype.colorize=function(t){for(var e=this.getAttribute("color"),n=t.data,a=this.paletteCache,o=3;o<n.length;o+=4){var s=n[o];if((0,u.isNumber)(s)){var l=a[s]?a[s]:IS.default.rgb2arr(e.gradient(s/256));n[o-3]=l[0],n[o-2]=l[1],n[o-1]=l[2],n[o]=s}}},r.prototype.getImageShape=function(){var t=this.imageShape;if(t)return t;var e=this.container;return t=e.addShape({type:"image",attrs:{}}),this.imageShape=t,t},r.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]);return(0,D.__assign)((0,D.__assign)({},e),{mappingData:t,data:this.getData(t)})},r.prototype.getData=function(t){return t.map(function(e){return e[ot]})},r}(Ga),BS=kS;function lf(i,r){r===void 0&&(r=!1);var t=i.x,e=i.y,n=i.y0,a=i.size,o,s;(0,u.isArray)(e)?(o=e[0],s=e[1]):(o=n,s=e);var l,f;(0,u.isArray)(t)?(l=t[0],f=t[1]):(l=t-a/2,f=t+a/2);var h=[{x:l,y:o},{x:l,y:s}];return r?h.push({x:f,y:(s+o)/2}):h.push({x:f,y:s},{x:f,y:o}),h}function uf(i,r){r===void 0&&(r=!0);var t=[],e=i[0];t.push(["M",e.x,e.y]);for(var n=1,a=i.length;n<a;n++)t.push(["L",i[n].x,i[n].y]);return r&&(t.push(["L",e.x,e.y]),t.push(["z"])),t}function lv(i,r,t){var e=[];return(0,u.isNil)(r)?t?e.push(["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",i[2].x,i[2].y],["L",i[2].x,i[2].y],["Z"]):e.push(["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",i[2].x,i[2].y],["L",i[3].x,i[3].y],["Z"]):e.push(["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",r[1].x,r[1].y],["L",r[0].x,r[0].y],["Z"]),e}var vG=Qa("interval",{defaultShapeType:"rect",getDefaultPoints:function(i){return lf(i)}});rn("interval","rect",{draw:function(i,r){var t=oi(i,!1,!0),e=this.parsePath(uf(i.points)),n=r.addShape("path",{attrs:(0,D.__assign)((0,D.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color,t=i.isInPolar;return t?{symbol:"circle",style:{r:4.5,fill:r}}:{symbol:"square",style:{r:4,fill:r}}}});var dG=null;function DS(i,r){var t=i.length,e=i;(0,u.isString)(e[0])&&(e=i.map(function(s){return r.translate(s)}));for(var n=e[1]-e[0],a=2;a<t;a++){var o=e[a]-e[a-1];n>o&&(n=o)}return n}function FS(i,r){if(r){var t=(0,u.flatten)(i),e=(0,u.valuesOfKey)(t,r);return e.length}return i.length}function uv(i){var r=i.theme,t=i.coordinate,e=i.getXScale(),n=e.values,a=i.beforeMappingData,o=n.length;if(e.isLinear&&n.length>1){n.sort();var s=DS(n,e);o=(e.max-e.min)/s,n.length>o&&(o=n.length)}var l=e.range,f=1/o,h=1;if(t.isPolar?t.isTransposed&&o>1?h=r.multiplePieWidthRatio:h=r.roseWidthRatio:(e.isLinear&&(f*=l[1]-l[0]),h=r.columnWidthRatio),f*=h,i.getAdjust("dodge")){var c=i.getAdjust("dodge"),v=c.dodgeBy,x=FS(a,v);f=f/x}var A=r.maxColumnWidth,B=r.minColumnWidth,G=dt(i.coordinate);if(A){var H=A/G;f>H&&(f=H)}if(B){var X=B/G;f<X&&(f=X)}return f}var RS=function(i){(0,D.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="interval",t.shapeType="interval",t.generatePoints=!0,t}return r.prototype.createShapePointsCfg=function(t){var e=i.prototype.createShapePointsCfg.call(this,t),n,a=this.getAttribute("size");if(a){n=this.getAttributeValues(a,t)[0];var o=this.coordinate,s=dt(o);n=n/s}else this.defaultSize||(this.defaultSize=uv(this)),n=this.defaultSize;return e.size=n,e},r.prototype.adjustScale=function(){i.prototype.adjustScale.call(this);var t=this.getYScale();if(this.coordinate.type==="theta")t.change({nice:!1,min:0,max:Math.max(Math.max.apply(null,t.values),t.max)});else{var e=this.scaleDefs,n=t.field,a=t.min,o=t.max,s=t.type;s!=="time"&&(a>0&&!(0,u.get)(e,[n,"min"])&&t.change({min:0}),o<=0&&!(0,u.get)(e,[n,"max"])&&t.change({max:0}))}},r}(Ga),NS=RS,GS=function(i){(0,D.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.type="line";var n=t.sortable,a=n===void 0?!0:n;return e.sortable=a,e}return r}(sf),YS=GS,mo={hexagon:function(i,r,t){var e=t/2*Math.sqrt(3);return[["M",i,r-t],["L",i+e,r-t/2],["L",i+e,r+t/2],["L",i,r+t],["L",i-e,r+t/2],["L",i-e,r-t/2],["Z"]]},bowtie:function(i,r,t){var e=t-1.5;return[["M",i-t,r-e],["L",i+t,r+e],["L",i+t,r-e],["L",i-t,r+e],["Z"]]},cross:function(i,r,t){return[["M",i-t,r-t],["L",i+t,r+t],["M",i+t,r-t],["L",i-t,r+t]]},tick:function(i,r,t){return[["M",i-t/2,r-t],["L",i+t/2,r-t],["M",i,r-t],["L",i,r+t],["M",i-t/2,r+t],["L",i+t/2,r+t]]},plus:function(i,r,t){return[["M",i-t,r],["L",i+t,r],["M",i,r-t],["L",i,r+t]]},hyphen:function(i,r,t){return[["M",i-t,r],["L",i+t,r]]},line:function(i,r,t){return[["M",i,r-t],["L",i,r+t]]}},fv=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],zS=["cross","tick","plus","hyphen","line"];function ff(i,r,t,e,n){var a=oi(r,n,!n,"r"),o=i.parsePoints(r.points),s=o[0];if(r.isStack)s=o[1];else if(o.length>1){for(var l=t.addGroup(),f=0,h=o;f<h.length;f++){var c=h[f];l.addShape({type:"marker",attrs:(0,D.__assign)((0,D.__assign)((0,D.__assign)({},a),{symbol:mo[e]||e}),c)})}return l}return t.addShape({type:"marker",attrs:(0,D.__assign)((0,D.__assign)((0,D.__assign)({},a),{symbol:mo[e]||e}),s)})}var pG=Qa("point",{defaultShapeType:"hollow-circle",getDefaultPoints:function(i){return af(i)}});(0,u.each)(fv,function(i){rn("point","hollow-"+i,{draw:function(r,t){return ff(this,r,t,i,!0)},getMarker:function(r){var t=r.color;return{symbol:mo[i]||i,style:{r:4.5,stroke:t,fill:null}}}})});var gG=null,XS=function(i){(0,D.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="point",t.shapeType="point",t.generatePoints=!0,t}return r.prototype.getDrawCfg=function(t){var e=i.prototype.getDrawCfg.call(this,t);return(0,D.__assign)((0,D.__assign)({},e),{isStack:!!this.getAdjust("stack")})},r}(Ga),VS=XS;function HS(i){for(var r=i[0],t=1,e=[["M",r.x,r.y]];t<i.length;){var n=i[t];(n.x!==i[t-1].x||n.y!==i[t-1].y)&&(e.push(["L",n.x,n.y]),n.x===r.x&&n.y===r.y&&t<i.length-1&&(r=i[t+1],e.push(["Z"]),e.push(["M",r.x,r.y]),t++)),t++}return(0,u.isEqual)((0,u.last)(e),r)||e.push(["L",r.x,r.y]),e.push(["Z"]),e}var yG=Qa("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(i){var r=[];return(0,u.each)(i.x,function(t,e){var n=i.y[e];r.push({x:t,y:n})}),r}});rn("polygon","polygon",{draw:function(i,r){if(!(0,u.isEmpty)(i.points)){var t=oi(i,!0,!0),e=this.parsePath(HS(i.points));return r.addShape("path",{attrs:(0,D.__assign)((0,D.__assign)({},t),{path:e}),name:"polygon"})}},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}});var mG=null,WS=function(i){(0,D.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="polygon",t.shapeType="polygon",t.generatePoints=!0,t}return r.prototype.createShapePointsCfg=function(t){var e=i.prototype.createShapePointsCfg.call(this,t),n=e.x,a=e.y,o;if(!((0,u.isArray)(n)&&(0,u.isArray)(a))){var s=this.getXScale(),l=this.getYScale(),f=s.values.length,h=l.values.length,c=.5*1/f,v=.5*1/h;s.isCategory&&l.isCategory?(n=[n-c,n-c,n+c,n+c],a=[a-v,a+v,a+v,a-v]):(0,u.isArray)(n)?(o=n,n=[o[0],o[0],o[1],o[1]],a=[a-v/2,a+v/2,a+v/2,a-v/2]):(0,u.isArray)(a)&&(o=a,a=[o[0],o[1],o[1],o[0]],n=[n-c/2,n-c/2,n+c/2,n+c/2]),e.x=n,e.y=a}return e},r}(Ga),jS=WS,xG=Qa("schema",{defaultShapeType:""}),bG=null,US=function(i){(0,D.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="schema",t.shapeType="schema",t.generatePoints=!0,t}return r.prototype.createShapePointsCfg=function(t){var e=i.prototype.createShapePointsCfg.call(this,t),n,a=this.getAttribute("size");if(a){n=this.getAttributeValues(a,t)[0];var o=this.coordinate,s=dt(o);n=n/s}else this.defaultSize||(this.defaultSize=uv(this)),n=this.defaultSize;return e.size=n,e},r}(Ga),ZS=US;rn("area","line",{draw:function(i,r){var t=al(i,!0,!1,this),e=r.addShape({type:"path",attrs:t,name:"area"});return e},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return n===void 0&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,stroke:r,fill:null}}}}),rn("area","smooth",{draw:function(i,r){var t=this.coordinate,e=al(i,!1,!0,this,sv(t)),n=r.addShape({type:"path",attrs:e,name:"area"});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return n===void 0&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,fill:r}}}}),rn("area","smooth-line",{draw:function(i,r){var t=this.coordinate,e=al(i,!0,!0,this,sv(t)),n=r.addShape({type:"path",attrs:e,name:"area"});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return n===void 0&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,stroke:r,fill:null}}}});function hf(i,r){var t=[];t.push({x:i.x,y:i.y*1/2+r.y*1/2}),t.push({x:r.x,y:i.y*1/2+r.y*1/2}),t.push(r);var e=["C"];return(0,u.each)(t,function(n){e.push(n.x,n.y)}),e}function cf(i,r){var t=[];t.push({x:r.x,y:r.y}),t.push(i);var e=["Q"];return(0,u.each)(t,function(n){e.push(n.x,n.y)}),e}function KS(i,r,t){var e=cf(r,t),n=[["M",i.x,i.y]];return n.push(e),n}function $S(i,r){var t=cf(i[1],r),e=cf(i[3],r),n=[["M",i[0].x,i[0].y]];return n.push(e),n.push(["L",i[3].x,i[3].y]),n.push(["L",i[2].x,i[2].y]),n.push(t),n.push(["L",i[1].x,i[1].y]),n.push(["L",i[0].x,i[0].y]),n.push(["Z"]),n}rn("edge","arc",{draw:function(i,r){var t=oi(i,!0,!1,"lineWidth"),e=i.points,n=e.length>2?"weight":"normal",a;if(i.isInCircle){var o={x:0,y:1};return n==="normal"?a=KS(e[0],e[1],o):(t.fill=t.stroke,a=$S(e,o)),a=this.parsePath(a),r.addShape("path",{attrs:(0,D.__assign)((0,D.__assign)({},t),{path:a})})}else{if(n==="normal")return e=this.parsePoints(e),a=ji((e[1].x+e[0].x)/2,e[0].y,Math.abs(e[1].x-e[0].x)/2,Math.PI,Math.PI*2),r.addShape("path",{attrs:(0,D.__assign)((0,D.__assign)({},t),{path:a})});var s=hf(e[1],e[3]),l=hf(e[2],e[0]);return a=[["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],s,["L",e[3].x,e[3].y],["L",e[2].x,e[2].y],l,["Z"]],a=this.parsePath(a),t.fill=t.stroke,r.addShape("path",{attrs:(0,D.__assign)((0,D.__assign)({},t),{path:a})})}},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}});function QS(i,r){var t=hf(i,r),e=[["M",i.x,i.y]];return e.push(t),e}rn("edge","smooth",{draw:function(i,r){var t=oi(i,!0,!1,"lineWidth"),e=i.points,n=this.parsePath(QS(e[0],e[1]));return r.addShape("path",{attrs:(0,D.__assign)((0,D.__assign)({},t),{path:n})})},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}});var ol=1/3;function JS(i,r){var t=[];t.push({x:i.x,y:i.y*(1-ol)+r.y*ol}),t.push({x:r.x,y:i.y*(1-ol)+r.y*ol}),t.push(r);var e=[["M",i.x,i.y]];return(0,u.each)(t,function(n){e.push(["L",n.x,n.y])}),e}rn("edge","vhv",{draw:function(i,r){var t=oi(i,!0,!1,"lineWidth"),e=i.points,n=this.parsePath(JS(e[0],e[1]));return r.addShape("path",{attrs:(0,D.__assign)((0,D.__assign)({},t),{path:n})})},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}}),rn("interval","funnel",{getPoints:function(i){return i.size=i.size*2,lf(i)},draw:function(i,r){var t=oi(i,!1,!0),e=this.parsePath(lv(i.points,i.nextPoints,!1)),n=r.addShape("path",{attrs:(0,D.__assign)((0,D.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}}),rn("interval","hollow-rect",{draw:function(i,r){var t=oi(i,!0,!1),e=this.parsePath(uf(i.points)),n=r.addShape("path",{attrs:(0,D.__assign)((0,D.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color,t=i.isInPolar;return t?{symbol:"circle",style:{r:4.5,stroke:r,fill:null}}:{symbol:"square",style:{r:4,stroke:r,fill:null}}}});function qS(i){var r=i.x,t=i.y,e=i.y0;return(0,u.isArray)(t)?t.map(function(n,a){return{x:(0,u.isArray)(r)?r[a]:r,y:n}}):[{x:r,y:e},{x:r,y:t}]}rn("interval","line",{getPoints:function(i){return qS(i)},draw:function(i,r){var t=oi(i,!0,!1,"lineWidth"),e=this.parsePath(uf(i.points,!1)),n=r.addShape("path",{attrs:(0,D.__assign)((0,D.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return[["M",t,e-n],["L",t,e+n]]},style:{r:5,stroke:r}}}}),rn("interval","pyramid",{getPoints:function(i){return i.size=i.size*2,lf(i,!0)},draw:function(i,r){var t=oi(i,!1,!0),e=this.parsePath(lv(i.points,i.nextPoints,!0)),n=r.addShape("path",{attrs:(0,D.__assign)((0,D.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}});function tC(i){var r=i.x,t=i.y,e=i.y0,n=i.size,a,o;(0,u.isArray)(t)?(a=t[0],o=t[1]):(a=e,o=t);var s=r+n/2,l=r-n/2;return[{x:r,y:a},{x:r,y:o},{x:l,y:a},{x:s,y:a},{x:l,y:o},{x:s,y:o}]}function eC(i){return[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["M",i[4].x,i[4].y],["L",i[5].x,i[5].y]]}rn("interval","tick",{getPoints:function(i){return tC(i)},draw:function(i,r){var t=oi(i,!0,!1),e=this.parsePath(eC(i.points)),n=r.addShape("path",{attrs:(0,D.__assign)((0,D.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return[["M",t-n/2,e-n],["L",t+n/2,e-n],["M",t,e-n],["L",t,e+n],["M",t-n/2,e+n],["L",t+n/2,e+n]]},style:{r:5,stroke:r}}}});var rC=function(i,r,t){var e=i.x,n=i.y,a=r.x,o=r.y,s;switch(t){case"hv":s=[{x:a,y:n}];break;case"vh":s=[{x:e,y:o}];break;case"hvh":var l=(a+e)/2;s=[{x:l,y:n},{x:l,y:o}];break;case"vhv":var f=(n+o)/2;s=[{x:e,y:f},{x:a,y:f}];break;default:break}return s};function nC(i,r){var t=[];return(0,u.each)(i,function(e,n){var a=i[n+1];if(t.push(e),a){var o=rC(e,a,r);t=t.concat(o)}}),t}function iC(i){return i.map(function(r,t){return t===0?["M",r.x,r.y]:["L",r.x,r.y]})}function aC(i,r){var t=nf(i.points,i.connectNulls,i.showSinglePoint),e=[];return(0,u.each)(t,function(n){var a=nC(n,r);e=e.concat(iC(a))}),(0,D.__assign)((0,D.__assign)({},oi(i,!0,!1,"lineWidth")),{path:e})}(0,u.each)(["hv","vh","hvh","vhv"],function(i){rn("line",i,{draw:function(r,t){var e=aC(r,i),n=t.addShape({type:"path",attrs:e,name:"line"});return n},getMarker:function(r){return ov(r,i)}})}),(0,u.each)(zS,function(i){rn("point",i,{draw:function(r,t){return ff(this,r,t,i,!0)},getMarker:function(r){var t=r.color;return{symbol:mo[i],style:{r:4.5,stroke:t,fill:null}}}})}),rn("point","image",{draw:function(i,r){var t=oi(i,!1,!1,"r").r,e=this.parsePoints(i.points),n=e[0];if(i.isStack)n=e[1];else if(e.length>1){for(var a=r.addGroup(),o=0,s=e;o<s.length;o++){var l=s[o];a.addShape("image",{attrs:{x:l.x-t/2,y:l.y-t,width:t,height:t,img:i.shape[1]}})}return a}return r.addShape("image",{attrs:{x:n.x-t/2,y:n.y-t,width:t,height:t,img:i.shape[1]}})},getMarker:function(i){var r=i.color;return{symbol:"circle",style:{r:4.5,fill:r}}}}),(0,u.each)(fv,function(i){rn("point",i,{draw:function(r,t){return ff(this,r,t,i,!1)},getMarker:function(r){var t=r.color;return{symbol:mo[i]||i,style:{r:4.5,fill:t}}}})});function hv(i){var r=(0,u.isArray)(i)?i:[i],t=r[0],e=r[r.length-1],n=r.length>1?r[1]:t,a=r.length>3?r[3]:e,o=r.length>2?r[2]:n;return{min:t,max:e,min1:n,max1:a,median:o}}function cv(i,r,t){var e=t/2,n;if((0,u.isArray)(r)){var a=hv(r),o=a.min,s=a.max,l=a.median,f=a.min1,h=a.max1,c=i-e,v=i+e;n=[[c,s],[v,s],[i,s],[i,h],[c,f],[c,h],[v,h],[v,f],[i,f],[i,o],[c,o],[v,o],[c,l],[v,l]]}else{r=(0,u.isNil)(r)?.5:r;var x=hv(i),o=x.min,s=x.max,l=x.median,f=x.min1,h=x.max1,A=r-e,B=r+e;n=[[o,A],[o,B],[o,r],[f,r],[f,A],[f,B],[h,B],[h,A],[h,r],[s,r],[s,A],[s,B],[l,A],[l,B]]}return n.map(function(G){return{x:G[0],y:G[1]}})}function oC(i){return[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["M",i[4].x,i[4].y],["L",i[5].x,i[5].y],["L",i[6].x,i[6].y],["L",i[7].x,i[7].y],["L",i[4].x,i[4].y],["Z"],["M",i[8].x,i[8].y],["L",i[9].x,i[9].y],["M",i[10].x,i[10].y],["L",i[11].x,i[11].y],["M",i[12].x,i[12].y],["L",i[13].x,i[13].y]]}rn("schema","box",{getPoints:function(i){var r=i.x,t=i.y,e=i.size;return cv(r,t,e)},draw:function(i,r){var t=oi(i,!0,!1),e=this.parsePath(oC(i.points)),n=r.addShape("path",{attrs:(0,D.__assign)((0,D.__assign)({},t),{path:e,name:"schema"})});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){var a=[e-6,e-3,e,e+3,e+6],o=cv(t,a,n);return[["M",o[0].x+1,o[0].y],["L",o[1].x-1,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["M",o[4].x,o[4].y],["L",o[5].x,o[5].y],["L",o[6].x,o[6].y],["L",o[7].x,o[7].y],["L",o[4].x,o[4].y],["Z"],["M",o[8].x,o[8].y],["L",o[9].x,o[9].y],["M",o[10].x+1,o[10].y],["L",o[11].x-1,o[11].y],["M",o[12].x,o[12].y],["L",o[13].x,o[13].y]]},style:{r:6,lineWidth:1,stroke:r}}}});function sC(i){var r=(0,u.isArray)(i)?i:[i],t=r.sort(function(e,n){return n-e});return ca(t,4,t[t.length-1])}function vv(i,r,t){var e=sC(r);return[{x:i,y:e[0]},{x:i,y:e[1]},{x:i-t/2,y:e[2]},{x:i-t/2,y:e[1]},{x:i+t/2,y:e[1]},{x:i+t/2,y:e[2]},{x:i,y:e[2]},{x:i,y:e[3]}]}function lC(i){return[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["L",i[4].x,i[4].y],["L",i[5].x,i[5].y],["Z"],["M",i[6].x,i[6].y],["L",i[7].x,i[7].y]]}rn("schema","candle",{getPoints:function(i){var r=i.x,t=i.y,e=i.size;return vv(r,t,e)},draw:function(i,r){var t=oi(i,!0,!0),e=this.parsePath(lC(i.points)),n=r.addShape("path",{attrs:(0,D.__assign)((0,D.__assign)({},t),{path:e,name:"schema"})});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){var a=[e+7.5,e+3,e-3,e-7.5],o=vv(t,a,n);return[["M",o[0].x,o[0].y],["L",o[1].x,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["L",o[4].x,o[4].y],["L",o[5].x,o[5].y],["Z"],["M",o[6].x,o[6].y],["L",o[7].x,o[7].y]]},style:{lineWidth:1,stroke:r,fill:r,r:6}}}});function uC(i,r){var t=Math.abs(i[0].x-i[2].x),e=Math.abs(i[0].y-i[2].y),n=Math.min(t,e);r&&(n=(0,u.clamp)(r,0,Math.min(t,e))),n=n/2;var a=(i[0].x+i[2].x)/2,o=(i[0].y+i[2].y)/2;return{x:a-n,y:o-n,width:n*2,height:n*2}}rn("polygon","square",{draw:function(i,r){if(!(0,u.isEmpty)(i.points)){var t=oi(i,!0,!0),e=this.parsePoints(i.points);return r.addShape("rect",{attrs:(0,D.__assign)((0,D.__assign)({},t),uC(e,i.size)),name:"polygon"})}},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}});var fC=function(i){(0,D.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setLabelPosition=function(t,e,n,a){var o=this.getCoordinate(),s=o.isTransposed,l=e.points,f=o.convert(l[0]),h=o.convert(l[2]),c=s?-1:1,v=(f.x-h.x)/2*c,x=(f.y-h.y)/2*c;switch(a){case"right":s||(t.x-=v,t.y+=x),t.textAlign=(0,u.get)(t,"textAlign","left");break;case"left":s?t.x-=v*2:(t.x+=v,t.y+=x),t.textAlign=(0,u.get)(t,"textAlign","right");break;case"bottom":s?(t.x-=v,t.y-=x):t.y+=x*2,t.textAlign=(0,u.get)(t,"textAlign","center"),t.textBaseline=(0,u.get)(t,"textBaseline","top");break;case"middle":s?t.x-=v:t.y+=x,t.textAlign=(0,u.get)(t,"textAlign","center");break;case"top":s&&(t.x-=v,t.y+=x),t.textAlign=(0,u.get)(t,"textAlign","center"),t.textBaseline=(0,u.get)(t,"textBaseline","bottom");break;default:break}},r}(Ks),hC=fC,sl=Math.PI/2,cC=function(i){(0,D.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getLabelAlign=function(t){var e=this.getCoordinate(),n;if(t.labelEmit)n=t.angle<=Math.PI/2&&t.angle>=-Math.PI/2?"left":"right";else if(!e.isTransposed)n="center";else{var a=e.getCenter(),o=this.getDefaultOffset(t.offset);Math.abs(t.x-a.x)<1?n="center":t.angle>Math.PI||t.angle<=0?n=o>0?"left":"right":n=o>0?"right":"left"}return n},r.prototype.getLabelPoint=function(t,e,n){var a=1,o,s=t.content[n];this.isToMiddle(e)?o=this.getMiddlePoint(e.points):(t.content.length===1&&n===0?n=1:n===0&&(a=-1),o=this.getArcPoint(e,n));var l=this.getDefaultOffset(t.offset)*a,f=this.getPointAngle(o),h=t.labelEmit,c=this.getCirclePoint(f,l,o,h);return c.r===0?c.content="":(c.content=s,c.angle=f,c.color=e.color),c.rotate=t.autoRotate?this.getLabelRotate(f,l,h):t.rotate,c.start={x:o.x,y:o.y},c},r.prototype.getArcPoint=function(t,e){return e===void 0&&(e=0),!(0,u.isArray)(t.x)&&!(0,u.isArray)(t.y)?{x:t.x,y:t.y}:{x:(0,u.isArray)(t.x)?t.x[e]:t.x,y:(0,u.isArray)(t.y)?t.y[e]:t.y}},r.prototype.getPointAngle=function(t){return ve(this.getCoordinate(),t)},r.prototype.getCirclePoint=function(t,e,n,a){var o=this.getCoordinate(),s=o.getCenter(),l=Vt(o,n);if(l===0)return(0,D.__assign)((0,D.__assign)({},s),{r:l});var f=t;if(o.isTransposed&&l>e&&!a){var h=Math.asin(e/(2*l));f=t+h*2}else l=l+e;return{x:s.x+l*Math.cos(f),y:s.y+l*Math.sin(f),r:l}},r.prototype.getLabelRotate=function(t,e,n){var a=t+sl;return n&&(a-=sl),a&&(a>sl?a=a-Math.PI:a<-sl&&(a=a+Math.PI)),a},r.prototype.getMiddlePoint=function(t){var e=this.getCoordinate(),n=t.length,a={x:0,y:0};return(0,u.each)(t,function(o){a.x+=o.x,a.y+=o.y}),a.x/=n,a.y/=n,a=e.convert(a),a},r.prototype.isToMiddle=function(t){return t.x.length>2},r}(Ks),dv=cC,vC=function(i){(0,D.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.defaultLayout="distribute",e}return r.prototype.getDefaultLabelCfg=function(){return(0,u.get)(this.geometry.theme,"pieLabels",{})},r.prototype.getDefaultOffset=function(t){return t||0},r.prototype.getLabelRotate=function(t,e,n){var a;return e<0&&(a=t,a>Math.PI/2&&(a=a-Math.PI),a<-Math.PI/2&&(a=a+Math.PI)),a},r.prototype.getLabelAlign=function(t){var e=this.getCoordinate(),n=e.getCenter(),a;t.angle<=Math.PI/2&&t.x>=n.x?a="left":a="right";var o=this.getDefaultOffset(t.offset);return o<=0&&(a==="right"?a="left":a="right"),a},r.prototype.getArcPoint=function(t){return t},r.prototype.getPointAngle=function(t){var e=this.getCoordinate(),n={x:(0,u.isArray)(t.x)?t.x[0]:t.x,y:t.y[0]},a={x:(0,u.isArray)(t.x)?t.x[1]:t.x,y:t.y[1]},o,s=ve(e,n);if(t.points&&t.points[0].y===t.points[1].y)o=s;else{var l=ve(e,a);s>=l&&(l=l+Math.PI*2),o=s+(l-s)/2}return o},r.prototype.getCirclePoint=function(t,e,n){var a=this.getCoordinate(),o=a.getCenter(),s=a.getRadius()+e;return(0,D.__assign)((0,D.__assign)({},mn(o.x,o.y,s,t)),{angle:t,r:s})},r}(dv),dC=vC,pv=4;function pC(i,r,t,e,n,a){var o=!0,s=e.start,l=e.end,f=Math.min(s.y,l.y),h=Math.abs(s.y-l.y),c,v=0,x=Number.MIN_VALUE,A=r.map(function(xt){return xt.y>v&&(v=xt.y),xt.y<x&&(x=xt.y),{size:t,targets:[xt.y-f]}});for(x-=f,v-f>h&&(h=v-f);o;)for(A.forEach(function(xt){var Yt=(Math.min.apply(x,xt.targets)+Math.max.apply(x,xt.targets))/2;xt.pos=Math.min(Math.max(x,Yt-xt.size/2),h-xt.size)}),o=!1,c=A.length;c--;)if(c>0){var B=A[c-1],G=A[c];B.pos+B.size>G.pos&&(B.size+=G.size,B.targets=B.targets.concat(G.targets),B.pos+B.size>h&&(B.pos=h-B.size),A.splice(c,1),o=!0)}c=0,A.forEach(function(xt){var Yt=f+t/2;xt.targets.forEach(function(){r[c].y=xt.pos+Yt,Yt+=t,c++})});for(var H={},X=0,ut=i;X<ut.length;X++){var ft=ut[X];H[ft.get("id")]=ft}r.forEach(function(xt){var Yt=xt.r*xt.r,Kt=Math.pow(Math.abs(xt.y-n.y),2);if(Yt<Kt)xt.x=n.x;else{var te=Math.sqrt(Yt-Kt);a?xt.x=n.x+te:xt.x=n.x-te}var Wt=H[xt.id];Wt.attr("x",xt.x),Wt.attr("y",xt.y);var ae=(0,u.find)(Wt.getChildren(),function(ce){return ce.get("type")==="text"});ae&&(ae.attr("y",xt.y),ae.attr("x",xt.x))})}function gC(i,r,t,e){var n=i[0]?i[0].offset:0,a=r[0].get("coordinate"),o=a.getRadius(),s=a.getCenter();if(n>0){var l=14,f=o+n,h=f*2+l*2,c={start:a.start,end:a.end},v=[[],[]];i.forEach(function(x){!x||(x.textAlign==="right"?v[0].push(x):v[1].push(x))}),v.forEach(function(x,A){var B=h/l;x.length>B&&(x.sort(function(G,H){return H["..percent"]-G["..percent"]}),x.splice(B,x.length-B)),x.sort(function(G,H){return G.y-H.y}),pC(r,x,l,c,s,A)})}(0,u.each)(i,function(x){if(x&&x.labelLine){var A=x.offset,B=x.angle,G=mn(s.x,s.y,o,B),H=mn(s.x,s.y,o+A/2,B),X=x.x+(0,u.get)(x,"offsetX",0),ut=x.y+(0,u.get)(x,"offsetY",0),ft={x:X-Math.cos(B)*pv,y:ut-Math.sin(B)*pv};(0,u.isObject)(x.labelLine)||(x.labelLine={}),x.labelLine.path=["M "+G.x,G.y+" Q"+H.x,H.y+" "+ft.x,ft.y].join(",")}})}var gv=4;function yC(i,r,t,e,n,a,o){r.sort(function(Wt,ae){return Wt.y-ae.y});var s=e.start,l=e.end,f=Math.min(s.y,l.y),h=Math.max(s.y,l.y),c,v=r.map(function(Wt){return{content:Wt.content,size:t,pos:Wt.y,targets:[Wt.y]}}),x=Math.max.apply(Math,v.map(function(Wt){return Wt.pos})),A=Math.min.apply(Math,v.map(function(Wt){return Wt.pos}));if(o){for(var B=Math.min(A,h-(v.length-1)*t),G=Math.max(B+v.length*t,x+t),H=!0;H;)for(H=!1,c=v.length;c--;)if(c>0){var X=v[c-1],ut=v[c];X.pos+X.size>ut.pos&&(ut.pos+c*t<G?(X.size+=ut.size,X.targets=X.targets.concat(ut.targets),v.splice(c,1)):X.pos=ut.pos-X.size,H=!0)}}else for(var G=Math.max(f+(v.length-1)*t,x),B=Math.min(A,G-(v.length-1)*t),H=!0;H;)for(H=!1,c=v.length;c--;)if(c>0){var X=v[c-1],ut=v[c];X.pos+X.size>ut.pos&&(X.pos-B>c*t?X.pos-=X.size:(X.size+=ut.size,X.targets=X.targets.concat(ut.targets),v.splice(c,1)),H=!0)}c=0,v.forEach(function(Wt){var ae=Wt.pos;Wt.targets.forEach(function(){r[c].y=ae,ae+=t,c++})});for(var ft={},xt=0,Yt=i;xt<Yt.length;xt++){var Kt=Yt[xt];ft[Kt.get("id")]=Kt}var te=(Math.max.apply(Math,r.map(function(Wt){return Wt.y}))-Math.min.apply(Math,r.map(function(Wt){return Wt.y})))/2;te=Math.max(te,a),r.forEach(function(Wt){var ae=ft[Wt.id],ce=ae.find(function(ke){return ke.get("type")==="text"});if(ce&&ce.attr("y")!==Wt.y){var he=te*te,Pe=Math.pow(Math.abs(Wt.y-n.y),2);if(he<Pe)Wt.x=n.x;else{var Be=Math.sqrt(he-Pe);o?Wt.x=n.x+Be:Wt.x=n.x-Be}}ae.attr("x",Wt.x),ae.attr("y",Wt.y),ce&&(ce.attr("y",Wt.y),ce.attr("x",Wt.x))})}function mC(i,r,t,e){var n=i[0]?i[0].offset:0,a=r[0].get("coordinate"),o=a.getRadius(),s=a.getCenter();if(n>0){var l=(0,u.get)(i[0],"labelHeight",14),f=o+n,h=f*2+l*2,c={start:a.start,end:a.end},v=[[],[]];i.forEach(function(x){!x||(x.x<s.x?v[0].push(x):v[1].push(x))}),v.forEach(function(x,A){var B=h/l;if(x.length>B){x.sort(function(H,X){return X["data.percent"]-H["data.percent"]});var G=x.splice(B,x.length-B+1);G.forEach(function(H){var X=r.findIndex(function(ut){return ut.get("id")===H.id});r[X]&&(r[X].remove(!0),r.splice(X,1))})}yC(r,x,l,c,s,f,A===1)})}(0,u.each)(i,function(x){if(x&&x.labelLine){var A=x.angle,B=mn(s.x,s.y,o,A),G=x.x+(0,u.get)(x,"offsetX",0)*(Math.cos(A)>0?1:-1),H=x.y+(0,u.get)(x,"offsetY",0)*(Math.sin(A)>0?1:-1),X={x:G-Math.cos(A)*gv,y:H-Math.sin(A)*gv},ut=x.labelLine.smooth,ft=[],xt=X.x-s.x,Yt=X.y-s.y,Kt=Math.atan(Yt/xt);if(xt<0&&(Kt+=Math.PI),ut===!1){(0,u.isObject)(x.labelLine)||(x.labelLine={});var te=0;(A<0&&A>-Math.PI/2||A>Math.PI*1.5)&&X.y>B.y&&(te=1),A>=0&&A<Math.PI/2&&X.y>B.y&&(te=1),A>=Math.PI/2&&A<Math.PI&&B.y>X.y&&(te=1),(A<-Math.PI/2||A>=Math.PI&&A<Math.PI*1.5)&&B.y>X.y&&(te=1);var Wt=n/2>4?4:Math.max(n/2-1,0),ae=mn(s.x,s.y,o+Wt,A),ce=mn(s.x,s.y,o+n/2,Kt),he=0;ft.push("M "+B.x+" "+B.y),ft.push("L "+ae.x+" "+ae.y),ft.push("A "+s.x+" "+s.y+" 0 "+he+" "+te+" "+ce.x+" "+ce.y),ft.push("L "+X.x+" "+X.y)}else{var ae=mn(s.x,s.y,o+(n/2>4?4:Math.max(n/2-1,0)),A),Pe=B.x<s.x?1:-1;ft.push("M "+X.x+" "+X.y);var Be=(B.y-s.y)/(B.x-s.x),ke=(X.y-s.y)/(X.x-s.x);Math.abs(Be-ke)>Math.pow(Math.E,-16)&&ft.push.apply(ft,["C",X.x+Pe*4,X.y,2*ae.x-B.x,2*ae.y-B.y,B.x,B.y]),ft.push("L "+B.x+" "+B.y)}x.labelLine.path=ft.join(" ")}})}function xC(i,r,t,e){(0,u.each)(r,function(n){var a=e.minX,o=e.minY,s=e.maxX,l=e.maxY,f=n.getCanvasBBox(),h=f.minX,c=f.minY,v=f.maxX,x=f.maxY,A=f.x,B=f.y,G=f.width,H=f.height,X=A,ut=B;(h<a||v<a)&&(X=a),(c<o||x<o)&&(ut=o),h>s?X=s-G:v>s&&(X=X-(v-s)),c>l?ut=l-H:x>l&&(ut=ut-(x-l)),(X!==A||ut!==B)&&Vu(n,X-A,ut-B)})}function bC(i,r,t,e){(0,u.each)(r,function(n,a){var o=n.getCanvasBBox(),s=t[a].getBBox();(o.minX<s.minX||o.minY<s.minY||o.maxX>s.maxX||o.maxY>s.maxY)&&n.remove(!0)})}var wC=100,yv=function(){function i(r){r===void 0&&(r={}),this.bitmap={};var t=r.xGap,e=t===void 0?1:t,n=r.yGap,a=n===void 0?8:n;this.xGap=e,this.yGap=a}return i.prototype.hasGap=function(r){for(var t=!0,e=this.bitmap,n=Math.round(r.minX),a=Math.round(r.maxX),o=Math.round(r.minY),s=Math.round(r.maxY),l=n;l<=a;l+=1){if(!e[l]){e[l]={};continue}if(l===n||l===a){for(var f=o;f<=s;f++)if(e[l][f]){t=!1;break}}else if(e[l][o]||e[l][s]){t=!1;break}}return t},i.prototype.fillGap=function(r){for(var t=this.bitmap,e=Math.round(r.minX),n=Math.round(r.maxX),a=Math.round(r.minY),o=Math.round(r.maxY),s=e;s<=n;s+=1)t[s]||(t[s]={});for(var s=e;s<=n;s+=this.xGap){for(var l=a;l<=o;l+=this.yGap)t[s][l]=!0;t[s][o]=!0}if(this.yGap!==1)for(var s=a;s<=o;s+=1)t[e][s]=!0,t[n][s]=!0;if(this.xGap!==1)for(var s=e;s<=n;s+=1)t[s][a]=!0,t[s][o]=!0},i.prototype.destroy=function(){this.bitmap={}},i}();function SC(i,r,t){t===void 0&&(t=wC);var e=-1,n=i.attr(),a=n.x,o=n.y,s=i.getCanvasBBox(),l=Math.sqrt(s.width*s.width+s.height*s.height),f,h=-e,c=0,v=0,x=function(H){var X=H*.1;return[X*Math.cos(X),X*Math.sin(X)]};if(r.hasGap(s))return r.fillGap(s),!0;for(var A=!1,B=0,G={};Math.min(Math.abs(c),Math.abs(v))<l&&B<t;)if(f=x(h+=e),c=~~f[0],v=~~f[1],!(!c&&!v||G[c+"-"+v])&&(i.attr({x:a+c,y:o+v}),c+v<0&&i.attr("textAlign","right"),B++,r.hasGap(i.getCanvasBBox()))){r.fillGap(i.getCanvasBBox()),A=!0,G[c+"-"+v]=!0;break}return A}function CC(i,r,t,e){var n=i.getCanvasBBox(),a=n.width,o=n.height,s={x:r,y:t,textAlign:"center"};switch(e){case 0:s.y-=o+1,s.x+=1,s.textAlign="left";break;case 1:s.y-=o+1,s.x-=1,s.textAlign="right";break;case 2:s.y+=o+1,s.x-=1,s.textAlign="right";break;case 3:s.y+=o+1,s.x+=1,s.textAlign="left";break;case 5:s.y-=o*2+2;break;case 6:s.y+=o*2+2;break;case 7:s.x+=a+1,s.textAlign="left";break;case 8:s.x-=a+1,s.textAlign="right";break;default:break}return i.attr(s),i.getCanvasBBox()}function MC(i,r,t,e){var n=new yv;(0,u.each)(r,function(a){var o=a.find(function(s){return s.get("type")==="text"});SC(o,n)||a.remove(!0)}),n.destroy()}function EC(i,r,t,e){var n=new yv;(0,u.each)(r,function(a){for(var o=a.find(function(x){return x.get("type")==="text"}),s=o.attr(),l=s.x,f=s.y,h=!1,c=0;c<=8;c++){var v=CC(o,l,f,c);if(n.hasGap(v)){n.fillGap(v),h=!0;break}}h||a.remove(!0)}),n.destroy()}function _C(i,r,t){var e={fillOpacity:(0,u.isNil)(i.attr("fillOpacity"))?1:i.attr("fillOpacity"),strokeOpacity:(0,u.isNil)(i.attr("strokeOpacity"))?1:i.attr("strokeOpacity"),opacity:(0,u.isNil)(i.attr("opacity"))?1:i.attr("opacity")};i.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),i.animate(e,r)}function AC(i,r,t){var e={fillOpacity:0,strokeOpacity:0,opacity:0},n=r.easing,a=r.duration,o=r.delay;i.animate(e,a,n,function(){i.remove(!0)},o)}function PC(i,r,t){var e,n=r[0],a=r[1];return i.applyToMatrix([n,a,1]),t==="x"?(i.setMatrix(bn.transform(i.getMatrix(),[["t",-n,-a],["s",.01,1],["t",n,a]])),e=bn.transform(i.getMatrix(),[["t",-n,-a],["s",100,1],["t",n,a]])):t==="y"?(i.setMatrix(bn.transform(i.getMatrix(),[["t",-n,-a],["s",1,.01],["t",n,a]])),e=bn.transform(i.getMatrix(),[["t",-n,-a],["s",1,100],["t",n,a]])):t==="xy"&&(i.setMatrix(bn.transform(i.getMatrix(),[["t",-n,-a],["s",.01,.01],["t",n,a]])),e=bn.transform(i.getMatrix(),[["t",-n,-a],["s",100,100],["t",n,a]])),e}function vf(i,r,t,e,n){var a=t.start,o=t.end,s=t.getWidth(),l=t.getHeight(),f,h;n==="y"?(f=a.x+s/2,h=e.y<a.y?e.y:a.y):n==="x"?(f=e.x>a.x?e.x:a.x,h=a.y+l/2):n==="xy"&&(t.isPolar?(f=t.getCenter().x,h=t.getCenter().y):(f=(a.x+o.x)/2,h=(a.y+o.y)/2));var c=PC(i,[f,h],n);i.animate({matrix:c},r)}function TC(i,r,t){var e=t.coordinate,n=t.minYPoint;vf(i,r,e,n,"x")}function OC(i,r,t){var e=t.coordinate,n=t.minYPoint;vf(i,r,e,n,"y")}function LC(i,r,t){var e=t.coordinate,n=t.minYPoint;vf(i,r,e,n,"xy")}function IC(i,r,t){var e=i.getTotalLength();i.attr("lineDash",[e]),i.animate(function(n){return{lineDashOffset:(1-n)*e}},r)}function kC(i,r,t){var e=t.toAttrs,n=e.x,a=e.y;delete e.x,delete e.y,i.attr(e),i.animate({x:n,y:a},r)}function BC(i,r,t){var e=i.getBBox(),n=i.get("origin").mappingData,a=n.points,o=a[0].y-a[1].y>0?e.maxX:e.minX,s=(e.minY+e.maxY)/2;i.applyToMatrix([o,s,1]);var l=bn.transform(i.getMatrix(),[["t",-o,-s],["s",.01,1],["t",o,s]]);i.setMatrix(l),i.animate({matrix:bn.transform(i.getMatrix(),[["t",-o,-s],["s",100,1],["t",o,s]])},r)}function DC(i,r,t){var e=i.getBBox(),n=i.get("origin").mappingData,a=(e.minX+e.maxX)/2,o=n.points,s=o[0].y-o[1].y<=0?e.maxY:e.minY;i.applyToMatrix([a,s,1]);var l=bn.transform(i.getMatrix(),[["t",-a,-s],["s",1,.01],["t",a,s]]);i.setMatrix(l),i.animate({matrix:bn.transform(i.getMatrix(),[["t",-a,-s],["s",1,100],["t",a,s]])},r)}var FC=d(84909);function mv(i,r){var t,e=(0,FC.Z)(i,r),n=e.startAngle,a=e.endAngle;return!(0,u.isNumberEqual)(n,-Math.PI*.5)&&n<-Math.PI*.5&&(n+=Math.PI*2),!(0,u.isNumberEqual)(a,-Math.PI*.5)&&a<-Math.PI*.5&&(a+=Math.PI*2),r[5]===0&&(t=[a,n],n=t[0],a=t[1]),(0,u.isNumberEqual)(n,Math.PI*1.5)&&(n=Math.PI*-.5),(0,u.isNumberEqual)(a,Math.PI*-.5)&&(a=Math.PI*1.5),{startAngle:n,endAngle:a}}function xv(i){var r;return i[0]==="M"||i[0]==="L"?r=[i[1],i[2]]:(i[0]==="a"||i[0]==="A")&&(r=[i[i.length-2],i[i.length-1]]),r}function bv(i){var r,t,e,n=i.filter(function(ut){return ut[0]==="A"||ut[0]==="a"}),a=n[0],o=n.length>1?n[1]:n[0],s=i.indexOf(a),l=i.indexOf(o),f=xv(i[s-1]),h=xv(i[l-1]),c=mv(f,a),v=c.startAngle,x=c.endAngle,A=mv(h,o),B=A.startAngle,G=A.endAngle;(0,u.isNumberEqual)(v,B)&&(0,u.isNumberEqual)(x,G)?(t=v,e=x):(t=Math.min(v,B),e=Math.max(x,G));var H=a[1],X=n[n.length-1][1];return H<X?(r=[X,H],H=r[0],X=r[1]):H===X&&(X=0),{startAngle:t,endAngle:e,radius:H,innerRadius:X}}function RC(i,r,t){var e=t.toAttrs,n=t.coordinate,a=e.path,o=a.map(function(X){return X[0]}),s=bv(a),l=s.startAngle,f=s.endAngle,h=s.radius,c=s.innerRadius,v=bv(i.attr("path")),x=v.startAngle,A=v.endAngle,B=n.getCenter(),G=l-x,H=f-A;i.animate(function(X){var ut=x+X*G,ft=A+X*H;return(0,D.__assign)((0,D.__assign)({},e),{path:(0,u.isEqual)(o,["M","A","A","Z"])?ji(B.x,B.y,h,ut,ft):Jn(B.x,B.y,h,ut,ft,c)})},(0,D.__assign)((0,D.__assign)({},r),{callback:function(){i.attr("path",a)}}))}function NC(i,r,t){var e=ye(t.coordinate,20),n=e.type,a=e.startState,o=e.endState,s=i.setClip({type:n,attrs:a});s.animate(o,(0,D.__assign)((0,D.__assign)({},r),{callback:function(){i&&!i.get("destroyed")&&i.set("clipShape",null),s.remove(!0)}}))}function df(i,r,t){if(i.isGroup())(0,u.each)(i.getChildren(),function(s){df(s,r,t)});else{var e=i.getBBox(),n=(e.minX+e.maxX)/2,a=(e.minY+e.maxY)/2;if(i.applyToMatrix([n,a,1]),t==="zoomIn"){var o=bn.transform(i.getMatrix(),[["t",-n,-a],["s",.01,.01],["t",n,a]]);i.setMatrix(o),i.animate({matrix:bn.transform(i.getMatrix(),[["t",-n,-a],["s",100,100],["t",n,a]])},r)}else i.animate({matrix:bn.transform(i.getMatrix(),[["t",-n,-a],["s",.01,.01],["t",n,a]])},(0,D.__assign)((0,D.__assign)({},r),{callback:function(){i.remove(!0)}}))}}function GC(i,r,t){df(i,r,"zoomIn")}function YC(i,r,t){df(i,r,"zoomOut")}function za(i){return[it.TOP,it.BOTTOM].includes(i)?{offsetX:0,offsetY:i===it.TOP?-8:8,style:{textAlign:"center",textBaseline:i===it.TOP?"bottom":"top"}}:[it.LEFT,it.RIGHT].includes(i)?{offsetX:i===it.LEFT?-8:8,offsetY:0,style:{textAlign:i===it.LEFT?"right":"left",textBaseline:"middle",rotate:Math.PI/2}}:{}}function pf(i,r,t){return{x:i.x+r*Math.cos(t),y:i.y+r*Math.sin(t)}}var zC=function(i){(0,D.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return(0,u.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"circle",showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this)})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.getRegion=function(t,e){var n=1/2,a={x:.5,y:.5},o=Math.PI*2/t,s=-1*Math.PI/2+o*e,l=n/(1+1/Math.sin(o/2)),f=pf(a,n-l,s),h=Math.PI*5/4,c=Math.PI*1/4;return{start:pf(f,l,h),end:pf(f,l,c)}},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.generateFacets=function(t){var e=this,n=this.cfg,a=n.fields,o=n.type,s=a[0];if(!s)throw new Error("No `fields` specified!");var l=this.getFieldValues(t,s),f=l.length,h=[];return l.forEach(function(c,v){var x=[{field:s,value:c,values:l}],A=(0,u.filter)(t,e.getFacetDataFilter(x)),B={type:o,data:A,region:e.getRegion(f,v),columnValue:c,columnField:s,columnIndex:v,columnValuesLength:f,rowValue:null,rowField:null,rowIndex:0,rowValuesLength:1};h.push(B)}),h},r.prototype.getXAxisOption=function(t,e,n,a){return n},r.prototype.getYAxisOption=function(t,e,n,a){return n},r.prototype.renderTitle=function(){var t=this;(0,u.each)(this.facets,function(e){var n=e.columnValue,a=e.view,o=(0,u.get)(t.cfg.title,"formatter"),s=(0,u.deepMix)({position:["50%","0%"],content:o?o(n):n},za(it.TOP),t.cfg.title);a.annotation().text(s)})},r}(xr),XC=zC,VC=function(i){(0,D.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return(0,u.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"list",cols:null,showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this)})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.generateFacets=function(t){var e=this,n=this.cfg.fields,a=this.cfg.cols,o=n[0];if(!o)throw new Error("No `fields` specified!");var s=this.getFieldValues(t,o),l=s.length;a=a||l;var f=this.getPageCount(l,a),h=[];return s.forEach(function(c,v){var x=e.getRowCol(v,a),A=x.row,B=x.col,G=[{field:o,value:c,values:s}],H=(0,u.filter)(t,e.getFacetDataFilter(G)),X={type:e.cfg.type,data:H,region:e.getRegion(f,a,B,A),columnValue:c,rowValue:c,columnField:o,rowField:null,columnIndex:B,rowIndex:A,columnValuesLength:a,rowValuesLength:f,total:l};h.push(X)}),h},r.prototype.getXAxisOption=function(t,e,n,a){return a.rowIndex!==a.rowValuesLength-1&&a.columnValuesLength*a.rowIndex+a.columnIndex+1+a.columnValuesLength<=a.total?(0,D.__assign)((0,D.__assign)({},n),{label:null,title:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return a.columnIndex!==0?(0,D.__assign)((0,D.__assign)({},n),{title:null,label:null}):n},r.prototype.renderTitle=function(){var t=this;(0,u.each)(this.facets,function(e){var n=e.columnValue,a=e.view,o=(0,u.get)(t.cfg.title,"formatter"),s=(0,u.deepMix)({position:["50%","0%"],content:o?o(n):n},za(it.TOP),t.cfg.title);a.annotation().text(s)})},r.prototype.getPageCount=function(t,e){return Math.floor((t+e-1)/e)},r.prototype.getRowCol=function(t,e){var n=Math.floor(t/e),a=t%e;return{row:n,col:a}},r}(xr),HC=VC,WC=function(i){(0,D.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return(0,u.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"matrix",showTitle:!1,columnTitle:(0,D.__assign)({},i.prototype.getDefaultTitleCfg.call(this)),rowTitle:(0,D.__assign)({},i.prototype.getDefaultTitleCfg.call(this))})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.generateFacets=function(t){for(var e=this.cfg,n=e.fields,a=e.type,o=n.length,s=o,l=[],f=0;f<s;f++)for(var h=n[f],c=0;c<o;c++){var v=n[c],x={type:a,data:t,region:this.getRegion(o,s,f,c),columnValue:h,rowValue:v,columnField:h,rowField:v,columnIndex:f,rowIndex:c,columnValuesLength:s,rowValuesLength:o};l.push(x)}return l},r.prototype.getXAxisOption=function(t,e,n,a){return a.rowIndex!==a.rowValuesLength-1?(0,D.__assign)((0,D.__assign)({},n),{label:null,title:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return a.columnIndex!==0?(0,D.__assign)((0,D.__assign)({},n),{title:null,label:null}):n},r.prototype.renderTitle=function(){var t=this;(0,u.each)(this.facets,function(e,n){var a=e.columnIndex,o=e.rowIndex,s=e.columnValuesLength,l=e.rowValuesLength,f=e.columnValue,h=e.rowValue,c=e.view;if(o===0){var v=(0,u.get)(t.cfg.columnTitle,"formatter"),x=(0,u.deepMix)({position:["50%","0%"],content:v?v(f):f},za(it.TOP),t.cfg.columnTitle);c.annotation().text(x)}if(a===s-1){var v=(0,u.get)(t.cfg.rowTitle,"formatter"),x=(0,u.deepMix)({position:["100%","50%"],content:v?v(h):h},za(it.RIGHT),t.cfg.rowTitle);c.annotation().text(x)}})},r}(xr),jC=WC,UC=function(i){(0,D.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return(0,u.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"mirror",showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this),transpose:!1})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.beforeEachView=function(t,e){this.cfg.transpose?e.columnIndex%2==0?t.coordinate().transpose().reflect("x"):t.coordinate().transpose():e.rowIndex%2!=0&&t.coordinate().reflect("y")},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.generateFacets=function(t){var e=this,n=this.cfg.fields[0],a=[],o=1,s=1,l=[""],f=[""],h,c;return this.cfg.transpose?(h=n,l=this.getFieldValues(t,h).slice(0,2),o=l.length):(c=n,f=this.getFieldValues(t,c).slice(0,2),s=f.length),l.forEach(function(v,x){f.forEach(function(A,B){var G=[{field:h,value:v,values:l},{field:c,value:A,values:f}],H=(0,u.filter)(t,e.getFacetDataFilter(G)),X={type:e.cfg.type,data:H,region:e.getRegion(s,o,x,B),columnValue:v,rowValue:A,columnField:h,rowField:c,columnIndex:x,rowIndex:B,columnValuesLength:o,rowValuesLength:s};a.push(X)})}),a},r.prototype.getXAxisOption=function(t,e,n,a){return a.columnIndex===1||a.rowIndex===1?(0,D.__assign)((0,D.__assign)({},n),{label:null,title:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return n},r.prototype.renderTitle=function(){var t=this;(0,u.each)(this.facets,function(e,n){var a=e.columnValue,o=e.rowValue,s=e.view,l=(0,u.get)(t.cfg.title,"formatter");if(t.cfg.transpose){var f=(0,u.deepMix)({position:["50%","0%"],content:l?l(a):a},za(it.TOP),t.cfg.title);s.annotation().text(f)}else{var f=(0,u.deepMix)({position:["100%","50%"],content:l?l(o):o},za(it.RIGHT),t.cfg.title);s.annotation().text(f)}})},r}(xr),ZC=UC,KC=function(i){(0,D.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.getDefaultCfg=function(){return(0,u.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"rect",columnTitle:(0,D.__assign)({},i.prototype.getDefaultTitleCfg.call(this)),rowTitle:(0,D.__assign)({},i.prototype.getDefaultTitleCfg.call(this))})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.generateFacets=function(t){var e=this,n=this.cfg.fields,a=n[0],o=n[1],s=[],l=1,f=1,h=[""],c=[""];return a&&(h=this.getFieldValues(t,a),l=h.length),o&&(c=this.getFieldValues(t,o),f=c.length),h.forEach(function(v,x){c.forEach(function(A,B){var G=[{field:a,value:v,values:h},{field:o,value:A,values:c}],H=(0,u.filter)(t,e.getFacetDataFilter(G)),X={type:e.cfg.type,data:H,region:e.getRegion(f,l,x,B),columnValue:v,rowValue:A,columnField:a,rowField:o,columnIndex:x,rowIndex:B,columnValuesLength:l,rowValuesLength:f};s.push(X)})}),s},r.prototype.renderTitle=function(){var t=this;(0,u.each)(this.facets,function(e,n){var a=e.columnIndex,o=e.rowIndex,s=e.columnValuesLength,l=e.columnValue,f=e.rowValue,h=e.view;if(o===0){var c=(0,u.get)(t.cfg.columnTitle,"formatter"),v=(0,u.deepMix)({position:["50%","0%"],content:c?c(l):l},za(it.TOP),t.cfg.columnTitle);h.annotation().text(v)}if(a===s-1){var c=(0,u.get)(t.cfg.rowTitle,"formatter"),v=(0,u.deepMix)({position:["100%","50%"],content:c?c(f):f},za(it.RIGHT),t.cfg.rowTitle);h.annotation().text(v)}})},r.prototype.getXAxisOption=function(t,e,n,a){return a.rowIndex!==a.rowValuesLength-1?(0,D.__assign)((0,D.__assign)({},n),{title:null,label:null}):a.columnIndex!==Math.floor((a.columnValuesLength-1)/2)?(0,D.__assign)((0,D.__assign)({},n),{title:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return a.columnIndex!==0?(0,D.__assign)((0,D.__assign)({},n),{title:null,label:null}):a.rowIndex!==Math.floor((a.rowValuesLength-1)/2)?(0,D.__assign)((0,D.__assign)({},n),{title:null}):n},r}(xr),$C=KC,QC=function(i){(0,D.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.afterChartRender=function(){t.facets&&t.cfg.line&&(t.container.clear(),t.drawLines(t.facets))},t}return r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.init=function(){i.prototype.init.call(this),this.view.on(et.AFTER_RENDER,this.afterChartRender)},r.prototype.getDefaultCfg=function(){return(0,u.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"tree",line:{style:{lineWidth:1,stroke:"#ddd"},smooth:!1},showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this)})},r.prototype.generateFacets=function(t){var e=this.cfg.fields;if(!e.length)throw new Error("Please specify for the fields for rootFacet!");var n=[],a={type:this.cfg.type,data:t,region:null,rowValuesLength:this.getRows(),columnValuesLength:1,rowIndex:0,columnIndex:0,rowField:"",columnField:"",rowValue:"",columnValue:""};return n.push(a),a.children=this.getChildFacets(t,1,n),this.setRegion(n),n},r.prototype.setRegion=function(t){var e=this;this.forceColIndex(t),t.forEach(function(n){n.region=e.getRegion(n.rowValuesLength,n.columnValuesLength,n.columnIndex,n.rowIndex)})},r.prototype.getRegion=function(t,e,n,a){var o=1/e,s=1/t,l={x:o*n,y:s*a},f={x:l.x+o,y:l.y+s*2/3};return{start:l,end:f}},r.prototype.forceColIndex=function(t){var e=this,n=[],a=0;t.forEach(function(v){e.isLeaf(v)&&(n.push(v),v.columnIndex=a,a++)}),n.forEach(function(v){v.columnValuesLength=n.length});for(var o=this.cfg.fields.length,s=o-1;s>=0;s--)for(var l=this.getFacetsByLevel(t,s),f=0,h=l;f<h.length;f++){var c=h[f];this.isLeaf(c)||(c.originColIndex=c.columnIndex,c.columnIndex=this.getRegionIndex(c.children),c.columnValuesLength=n.length)}},r.prototype.getFacetsByLevel=function(t,e){var n=[];return t.forEach(function(a){a.rowIndex===e&&n.push(a)}),n},r.prototype.getRegionIndex=function(t){var e=t[0],n=t[t.length-1];return(n.columnIndex-e.columnIndex)/2+e.columnIndex},r.prototype.isLeaf=function(t){return!t.children||!t.children.length},r.prototype.getRows=function(){return this.cfg.fields.length+1},r.prototype.getChildFacets=function(t,e,n){var a=this,o=this.cfg.fields,s=o.length;if(!(s<e)){var l=[],f=o[e-1],h=this.getFieldValues(t,f);return h.forEach(function(c,v){var x=[{field:f,value:c,values:h}],A=t.filter(a.getFacetDataFilter(x));if(A.length){var B={type:a.cfg.type,data:A,region:null,columnValue:c,rowValue:"",columnField:f,rowField:"",columnIndex:v,rowValuesLength:a.getRows(),columnValuesLength:1,rowIndex:e,children:a.getChildFacets(A,e+1,n)};l.push(B),n.push(B)}}),l}},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.renderTitle=function(){var t=this;(0,u.each)(this.facets,function(e){var n=e.columnValue,a=e.view,o=(0,u.get)(t.cfg.title,"formatter"),s=(0,u.deepMix)({position:["50%","0%"],content:o?o(n):n},za(it.TOP),t.cfg.title);a.annotation().text(s)})},r.prototype.drawLines=function(t){var e=this;t.forEach(function(n){if(!e.isLeaf(n)){var a=n.children;e.addFacetLines(n,a)}})},r.prototype.addFacetLines=function(t,e){var n=this,a=t.view,o=a.coordinateBBox,s={x:o.x+o.width/2,y:o.y+o.height};e.forEach(function(l){var f=l.view.coordinateBBox,h={x:f.bl.x+(f.tr.x-f.bl.x)/2,y:f.tr.y},c={x:s.x,y:s.y+(h.y-s.y)/2},v={x:h.x,y:c.y};n.drawLine([s,c,v,h])})},r.prototype.getPath=function(t){var e=[],n=this.cfg.line.smooth;return n?(e.push(["M",t[0].x,t[0].y]),e.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y])):t.forEach(function(a,o){o===0?e.push(["M",a.x,a.y]):e.push(["L",a.x,a.y])}),e},r.prototype.drawLine=function(t){var e=this.getPath(t),n=this.cfg.line.style;this.container.addShape("path",{attrs:(0,u.assign)({path:e},n)})},r.prototype.getXAxisOption=function(t,e,n,a){return a.rowIndex!==a.rowValuesLength-1?(0,D.__assign)((0,D.__assign)({},n),{title:null,label:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return a.originColIndex!==0&&a.columnIndex!==0?(0,D.__assign)((0,D.__assign)({},n),{title:null,label:null}):n},r}(xr),JC=QC,qC=function(i){(0,D.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.cache=new Map,e.foregroundContainer=e.view.getLayer(W.FORE).addGroup(),e.backgroundContainer=e.view.getLayer(W.BG).addGroup(),e.option=[],e}return Object.defineProperty(r.prototype,"name",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.layout=function(){var t=this,e=this.getComponents(),n=function(o){var s=o.component,l=o.extra,f=l.type,h=t.getAnnotationTheme(f);s.update(t.getAnnotationCfg(f,l,h))},a=function(o){var s=t.createAnnotation(o);s&&(s.component.init(),o.type==="regionFilter"&&s.component.render(),t.cache.set(o,s))};e.length?(0,u.each)(e,function(o){var s=o.component;s.get("type")==="regionFilter"?t.view.getRootView().once(et.AFTER_RENDER,function(){n(o)}):n(o)}):(0,u.each)(this.option,function(o){o.type==="regionFilter"?t.view.getRootView().once(et.AFTER_RENDER,function(){a(o)}):a(o)})},r.prototype.render=function(){},r.prototype.update=function(){var t=this,e=new WeakMap,n=function(a){var o=a.type,s=t.getAnnotationTheme(o),l=t.getAnnotationCfg(o,a,s),f=t.cache.get(a);if(f)Nt(l,["container"]),f.component.update(l),e.set(a,!0);else{var h=t.createAnnotation(a);h&&(h.component.init(),a.type==="regionFilter"&&h.component.render(),t.cache.set(a,h),e.set(a,!0))}};this.view.once(et.AFTER_RENDER,function(){(0,u.each)(t.option,function(o){o.type==="regionFilter"&&n(o)});var a=new Map;t.cache.forEach(function(o,s){e.has(s)?a.set(s,o):o.component.destroy()}),t.cache=a}),(0,u.each)(this.option,function(a){a.type!=="regionFilter"&&n(a)})},r.prototype.clear=function(t){t===void 0&&(t=!1),i.prototype.clear.call(this),this.cache.clear(),this.foregroundContainer.clear(),this.backgroundContainer.clear(),t&&(this.option=[])},r.prototype.destroy=function(){this.clear(!0),this.foregroundContainer.remove(!0),this.backgroundContainer.remove(!0)},r.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(e){t.push(e)}),t},r.prototype.createAnnotation=function(t){var e=t.type,n=yr.Annotation[(0,u.upperFirst)(e)];if(n){var a=this.getAnnotationTheme(e),o=this.getAnnotationCfg(e,t,a),s=new n(o);return{component:s,layer:this.isTop(o)?W.FORE:W.BG,direction:it.NONE,type:nt.ANNOTATION,extra:t}}},r.prototype.annotation=function(t){this.option.push(t)},r.prototype.arc=function(t){return this.annotation((0,D.__assign)({type:"arc"},t)),this},r.prototype.image=function(t){return this.annotation((0,D.__assign)({type:"image"},t)),this},r.prototype.line=function(t){return this.annotation((0,D.__assign)({type:"line"},t)),this},r.prototype.region=function(t){return this.annotation((0,D.__assign)({type:"region"},t)),this},r.prototype.text=function(t){return this.annotation((0,D.__assign)({type:"text"},t)),this},r.prototype.dataMarker=function(t){return this.annotation((0,D.__assign)({type:"dataMarker"},t)),this},r.prototype.dataRegion=function(t){this.annotation((0,D.__assign)({type:"dataRegion"},t))},r.prototype.regionFilter=function(t){this.annotation((0,D.__assign)({type:"regionFilter"},t))},r.prototype.parsePosition=function(t){var e=this.view.getXScale(),n=this.view.getScalesByDim("y"),a=(0,u.isFunction)(t)?t.call(null,e,n):t,o=0,s=0;if((0,u.isArray)(a)){var l=a[0],f=a[1];if((0,u.isString)(l)&&l.indexOf("%")!==-1&&!isNaN(l.slice(0,-1)))return this.parsePercentPosition(a);o=this.getNormalizedValue(l,e),s=this.getNormalizedValue(f,Object.values(n)[0])}else if(!(0,u.isNil)(a))for(var h=0,c=(0,u.keys)(a);h<c.length;h++){var v=c[h],x=a[v];v===e.field&&(o=this.getNormalizedValue(x,e)),n[v]&&(s=this.getNormalizedValue(x,n[v]))}return this.view.getCoordinate().convert({x:o,y:s})},r.prototype.getRegionPoints=function(t,e){var n=this,a=this.view.getXScale(),o=this.view.getScalesByDim("y"),s=Object.values(o)[0],l=a.field,f=this.view.getData(),h=(0,u.isArray)(t)?t[0]:t[l],c=(0,u.isArray)(e)?e[0]:e[l],v=[],x;return(0,u.each)(f,function(A,B){if(A[l]===h&&(x=B),B>=x){var G=n.parsePosition([A[l],A[s.field]]);G&&v.push(G)}if(A[l]===c)return!1}),v},r.prototype.getNormalizedValue=function(t,e){var n,a;switch(t){case"start":n=0;break;case"end":n=1;break;case"median":{a=e.isCategory?(e.values.length-1)/2:(e.min+e.max)/2,n=e.scale(a);break}case"min":case"max":e.isCategory?a=t==="min"?0:e.values.length-1:a=e[t],n=e.scale(a);break;default:n=e.scale(t)}return n},r.prototype.parsePercentPosition=function(t){var e=parseFloat(t[0])/100,n=parseFloat(t[1])/100,a=this.view.getCoordinate(),o=a.start,s=a.end,l={x:Math.min(o.x,s.x),y:Math.min(o.y,s.y)},f=a.getWidth()*e+l.x,h=a.getHeight()*n+l.y;return{x:f,y:h}},r.prototype.getCoordinateBBox=function(){var t=this.view.getCoordinate(),e=t.start,n=t.end,a=t.getWidth(),o=t.getHeight(),s={x:Math.min(e.x,n.x),y:Math.min(e.y,n.y)};return{x:s.x,y:s.y,minX:s.x,minY:s.y,maxX:s.x+a,maxY:s.y+o,width:a,height:o}},r.prototype.getAnnotationCfg=function(t,e,n){var a=this.view.getCoordinate(),o={};if((0,u.isNil)(e))return null;if(t==="arc"){var s=e,l=s.start,f=s.end,h=this.parsePosition(l),c=this.parsePosition(f),v=ve(a,h),x=ve(a,c);v>x&&(x=Math.PI*2+x),o={center:a.getCenter(),radius:Vt(a,h),startAngle:v,endAngle:x}}else if(t==="image"){var A=e,l=A.start,f=A.end;o={start:this.parsePosition(l),end:this.parsePosition(f),src:e.src}}else if(t==="line"){var B=e,l=B.start,f=B.end;o={start:this.parsePosition(l),end:this.parsePosition(f),text:(0,u.get)(e,"text",null)}}else if(t==="region"){var G=e,l=G.start,f=G.end;o={start:this.parsePosition(l),end:this.parsePosition(f)}}else if(t==="text"){var H=this.view.getData(),X=e,ut=X.position,ft=X.content,xt=(0,D.__rest)(X,["position","content"]),Yt=ft;(0,u.isFunction)(ft)&&(Yt=ft(H)),o=(0,D.__assign)((0,D.__assign)((0,D.__assign)({},this.parsePosition(ut)),xt),{content:Yt})}else if(t==="dataMarker"){var Kt=e,ut=Kt.position,te=Kt.point,Wt=Kt.line,ae=Kt.text,ce=Kt.autoAdjust,he=Kt.direction;o=(0,D.__assign)((0,D.__assign)({},this.parsePosition(ut)),{coordinateBBox:this.getCoordinateBBox(),point:te,line:Wt,text:ae,autoAdjust:ce,direction:he})}else if(t==="dataRegion"){var Pe=e,l=Pe.start,f=Pe.end,Be=Pe.region,ae=Pe.text,ke=Pe.lineLength;o={points:this.getRegionPoints(l,f),region:Be,text:ae,lineLength:ke}}else if(t==="regionFilter"){var We=e,l=We.start,f=We.end,Ke=We.apply,$e=We.color,Ve=this.view.geometries,He=[],lr=function(hr){!hr||(hr.isGroup()?hr.getChildren().forEach(function(Sr){return lr(Sr)}):He.push(hr))};(0,u.each)(Ve,function(hr){Ke?(0,u.contains)(Ke,hr.type)&&(0,u.each)(hr.elements,function(Sr){lr(Sr.shape)}):(0,u.each)(hr.elements,function(Sr){lr(Sr.shape)})}),o={color:$e,shapes:He,start:this.parsePosition(l),end:this.parsePosition(f)}}var sr=(0,u.deepMix)({},n,(0,D.__assign)((0,D.__assign)({},o),{top:e.top,style:e.style,offsetX:e.offsetX,offsetY:e.offsetY}));return sr.container=this.getComponentContainer(sr),sr.animate=this.view.getOptions().animate&&sr.animate&&(0,u.get)(e,"animate",sr.animate),sr.animateOption=(0,u.deepMix)({},Fo,sr.animateOption,e.animateOption),sr},r.prototype.isTop=function(t){return(0,u.get)(t,"top",!0)},r.prototype.getComponentContainer=function(t){return this.isTop(t)?this.foregroundContainer:this.backgroundContainer},r.prototype.getAnnotationTheme=function(t){return(0,u.get)(this.view.getTheme(),["components","annotation",t],{})},r}(Do),t2=qC;function wv(i,r){return(0,u.get)(i,["components","axis",r,"grid"],{})}function ll(i,r,t,e){var n=[],a=r.getTicks();return i.isPolar&&a.push({value:1,text:"",tickValue:""}),a.reduce(function(o,s,l){var f=s.value;if(e)n.push({points:[i.convert(t==="y"?{x:0,y:f}:{x:f,y:0}),i.convert(t==="y"?{x:1,y:f}:{x:f,y:1})]});else if(l){var h=o.value,c=(h+f)/2;n.push({points:[i.convert(t==="y"?{x:0,y:c}:{x:c,y:0}),i.convert(t==="y"?{x:1,y:c}:{x:c,y:1})]})}return s},a[0]),n}function gf(i,r,t,e,n){var a=r.values.length,o=[],s=t.getTicks();return s.reduce(function(l,f){var h=l?l.value:f.value,c=f.value,v=(h+c)/2;return n==="x"?o.push({points:[i.convert({x:e?c:v,y:0}),i.convert({x:e?c:v,y:1})]}):o.push({points:(0,u.map)(Array(a+1),function(x,A){return i.convert({x:A/a,y:e?c:v})})}),f},s[0]),o}function Sv(i,r){var t=(0,u.get)(r,"grid");if(t===null)return!1;var e=(0,u.get)(i,"grid");return!(t===void 0&&e===null)}var qa=["container"],Cv=(0,D.__assign)((0,D.__assign)({},Fo),{appear:null}),e2=function(i){(0,D.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.cache=new Map,e.gridContainer=e.view.getLayer(W.BG).addGroup(),e.axisContainer=e.view.getLayer(W.BG).addGroup(),e}return Object.defineProperty(r.prototype,"name",{get:function(){return"axis"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.render=function(){this.update()},r.prototype.layout=function(){var t=this,e=this.view.getCoordinate();(0,u.each)(this.getComponents(),function(n){var a=n.component,o=n.direction,s=n.type,l=n.extra,f=l.dim,h=l.scale,c=l.alignTick,v;if(s===nt.AXIS)e.isPolar?f==="x"?v=e.isTransposed?qe(e,o):pr(e):f==="y"&&(v=e.isTransposed?pr(e):qe(e,o)):v=qe(e,o);else if(s===nt.GRID)if(e.isPolar){var x=void 0;e.isTransposed?x=f==="x"?gf(e,t.view.getYScales()[0],h,c,f):ll(e,h,f,c):x=f==="x"?ll(e,h,f,c):gf(e,t.view.getXScale(),h,c,f),v={items:x,center:t.view.getCoordinate().getCenter()}}else v={items:ll(e,h,f,c)};a.update(v)})},r.prototype.update=function(){this.option=this.view.getOptions().axes;var t=new Map;this.updateXAxes(t),this.updateYAxes(t);var e=new Map;this.cache.forEach(function(n,a){t.has(a)?e.set(a,n):n.component.destroy()}),this.cache=e},r.prototype.clear=function(){i.prototype.clear.call(this),this.cache.clear(),this.gridContainer.clear(),this.axisContainer.clear()},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.gridContainer.remove(!0),this.axisContainer.remove(!0)},r.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(e){t.push(e)}),t},r.prototype.updateXAxes=function(t){var e=this.view.getXScale();if(!(!e||e.isIdentity)){var n=tr(this.option,e.field);if(n!==!1){var a=mr(n,it.BOTTOM),o=W.BG,s="x",l=this.view.getCoordinate(),f=this.getId("axis",e.field),h=this.getId("grid",e.field);if(l.isRect){var c=this.cache.get(f);if(c){var v=this.getLineAxisCfg(e,n,a);Nt(v,qa),c.component.update(v),t.set(f,c)}else c=this.createLineAxis(e,n,o,a,s),this.cache.set(f,c),t.set(f,c);var x=this.cache.get(h);if(x){var v=this.getLineGridCfg(e,n,a,s);Nt(v,qa),x.component.update(v),t.set(h,x)}else x=this.createLineGrid(e,n,o,a,s),x&&(this.cache.set(h,x),t.set(h,x))}else if(l.isPolar){var c=this.cache.get(f);if(c){var v=l.isTransposed?this.getLineAxisCfg(e,n,it.RADIUS):this.getCircleAxisCfg(e,n,a);Nt(v,qa),c.component.update(v),t.set(f,c)}else{if(l.isTransposed){if((0,u.isUndefined)(n))return;c=this.createLineAxis(e,n,o,it.RADIUS,s)}else c=this.createCircleAxis(e,n,o,a,s);this.cache.set(f,c),t.set(f,c)}var x=this.cache.get(h);if(x){var v=l.isTransposed?this.getCircleGridCfg(e,n,it.RADIUS,s):this.getLineGridCfg(e,n,it.CIRCLE,s);Nt(v,qa),x.component.update(v),t.set(h,x)}else{if(l.isTransposed){if((0,u.isUndefined)(n))return;x=this.createCircleGrid(e,n,o,it.RADIUS,s)}else x=this.createLineGrid(e,n,o,it.CIRCLE,s);x&&(this.cache.set(h,x),t.set(h,x))}}}}},r.prototype.updateYAxes=function(t){var e=this,n=this.view.getYScales();(0,u.each)(n,function(a,o){if(!(!a||a.isIdentity)){var s=a.field,l=tr(e.option,s);if(l!==!1){var f=W.BG,h="y",c=e.getId("axis",s),v=e.getId("grid",s),x=e.view.getCoordinate();if(x.isRect){var A=mr(l,o===0?it.LEFT:it.RIGHT),B=e.cache.get(c);if(B){var G=e.getLineAxisCfg(a,l,A);Nt(G,qa),B.component.update(G),t.set(c,B)}else B=e.createLineAxis(a,l,f,A,h),e.cache.set(c,B),t.set(c,B);var H=e.cache.get(v);if(H){var G=e.getLineGridCfg(a,l,A,h);Nt(G,qa),H.component.update(G),t.set(v,H)}else H=e.createLineGrid(a,l,f,A,h),H&&(e.cache.set(v,H),t.set(v,H))}else if(x.isPolar){var B=e.cache.get(c);if(B){var G=x.isTransposed?e.getCircleAxisCfg(a,l,it.CIRCLE):e.getLineAxisCfg(a,l,it.RADIUS);Nt(G,qa),B.component.update(G),t.set(c,B)}else{if(x.isTransposed){if((0,u.isUndefined)(l))return;B=e.createCircleAxis(a,l,f,it.CIRCLE,h)}else B=e.createLineAxis(a,l,f,it.RADIUS,h);e.cache.set(c,B),t.set(c,B)}var H=e.cache.get(v);if(H){var G=x.isTransposed?e.getLineGridCfg(a,l,it.CIRCLE,h):e.getCircleGridCfg(a,l,it.RADIUS,h);Nt(G,qa),H.component.update(G),t.set(v,H)}else{if(x.isTransposed){if((0,u.isUndefined)(l))return;H=e.createLineGrid(a,l,f,it.CIRCLE,h)}else H=e.createCircleGrid(a,l,f,it.RADIUS,h);H&&(e.cache.set(v,H),t.set(v,H))}}}}})},r.prototype.createLineAxis=function(t,e,n,a,o){var s={component:new tn(this.getLineAxisCfg(t,e,a)),layer:n,direction:a===it.RADIUS?it.NONE:a,type:nt.AXIS,extra:{dim:o,scale:t}};return s.component.set("field",t.field),s.component.init(),s},r.prototype.createLineGrid=function(t,e,n,a,o){var s=this.getLineGridCfg(t,e,a,o);if(s){var l={component:new gn(s),layer:n,direction:it.NONE,type:nt.GRID,extra:{dim:o,scale:t,alignTick:(0,u.get)(s,"alignTick",!0)}};return l.component.init(),l}},r.prototype.createCircleAxis=function(t,e,n,a,o){var s={component:new nn(this.getCircleAxisCfg(t,e,a)),layer:n,direction:a,type:nt.AXIS,extra:{dim:o,scale:t}};return s.component.set("field",t.field),s.component.init(),s},r.prototype.createCircleGrid=function(t,e,n,a,o){var s=this.getCircleGridCfg(t,e,a,o);if(s){var l={component:new yn(s),layer:n,direction:it.NONE,type:nt.GRID,extra:{dim:o,scale:t,alignTick:(0,u.get)(s,"alignTick",!0)}};return l.component.init(),l}},r.prototype.getLineAxisCfg=function(t,e,n){var a=this.axisContainer,o=this.view.getCoordinate(),s=qe(o,n),l=kr(t,e),f=ar(this.view.getTheme(),n),h=(0,u.get)(e,["title"])?(0,u.deepMix)({title:{style:{text:l}}},e):e,c=(0,u.deepMix)((0,D.__assign)((0,D.__assign)({container:a},s),{ticks:t.getTicks().map(function(ut){return{id:""+ut.tickValue,name:ut.text,value:ut.value}}),verticalFactor:o.isPolar?ur(s,o.getCenter())*-1:ur(s,o.getCenter())}),f,h),v=this.getAnimateCfg(c),x=v.animate,A=v.animateOption;c.animateOption=A,c.animate=x;var B=rr(s),G=(0,u.get)(c,"verticalLimitLength",B?1/3:1/2);if(G<=1){var H=this.view.getCanvas().get("width"),X=this.view.getCanvas().get("height");c.verticalLimitLength=G*(B?H:X)}return c},r.prototype.getLineGridCfg=function(t,e,n,a){if(!!Sv(ar(this.view.getTheme(),n),e)){var o=wv(this.view.getTheme(),n),s=(0,u.deepMix)({container:this.gridContainer},o,(0,u.get)(e,"grid"),this.getAnimateCfg(e));return s.items=ll(this.view.getCoordinate(),t,a,(0,u.get)(s,"alignTick",!0)),s}},r.prototype.getCircleAxisCfg=function(t,e,n){var a=this.axisContainer,o=this.view.getCoordinate(),s=t.getTicks().map(function(B){return{id:""+B.tickValue,name:B.text,value:B.value}});!t.isCategory&&Math.abs(o.endAngle-o.startAngle)===Math.PI*2&&s.pop();var l=kr(t,e),f=ar(this.view.getTheme(),it.CIRCLE),h=(0,u.get)(e,["title"])?(0,u.deepMix)({title:{style:{text:l}}},e):e,c=(0,u.deepMix)((0,D.__assign)((0,D.__assign)({container:a},pr(this.view.getCoordinate())),{ticks:s,verticalFactor:1}),f,h),v=this.getAnimateCfg(c),x=v.animate,A=v.animateOption;return c.animate=x,c.animateOption=A,c},r.prototype.getCircleGridCfg=function(t,e,n,a){if(!!Sv(ar(this.view.getTheme(),n),e)){var o=wv(this.view.getTheme(),it.RADIUS),s=(0,u.deepMix)({container:this.gridContainer,center:this.view.getCoordinate().getCenter()},o,(0,u.get)(e,"grid"),this.getAnimateCfg(e)),l=(0,u.get)(s,"alignTick",!0),f=a==="x"?this.view.getYScales()[0]:this.view.getXScale();return s.items=gf(this.view.getCoordinate(),f,t,l,a),s}},r.prototype.getId=function(t,e){var n=this.view.getCoordinate();return t+"-"+e+"-"+n.type},r.prototype.getAnimateCfg=function(t){return{animate:this.view.getOptions().animate&&(0,u.get)(t,"animate"),animateOption:t&&t.animateOption?(0,u.deepMix)({},Cv,t.animateOption):Cv}},r}(Do),r2=e2;function ul(i,r,t){return t===it.TOP?[i.minX+i.width/2-r.width/2,i.minY]:t===it.BOTTOM?[i.minX+i.width/2-r.width/2,i.maxY-r.height]:t===it.LEFT?[i.minX,i.minY+i.height/2-r.height/2]:t===it.RIGHT?[i.maxX-r.width,i.minY+i.height/2-r.height/2]:t===it.TOP_LEFT||t===it.LEFT_TOP?[i.tl.x,i.tl.y]:t===it.TOP_RIGHT||t===it.RIGHT_TOP?[i.tr.x-r.width,i.tr.y]:t===it.BOTTOM_LEFT||t===it.LEFT_BOTTOM?[i.bl.x,i.bl.y-r.height]:t===it.BOTTOM_RIGHT||t===it.RIGHT_BOTTOM?[i.br.x-r.width,i.br.y-r.height]:[0,0]}function n2(i,r){if(r.isTransposed)switch(i){case DIRECTION.BOTTOM:return DIRECTION.LEFT;case DIRECTION.LEFT:return DIRECTION.BOTTOM;case DIRECTION.RIGHT:return DIRECTION.TOP;case DIRECTION.TOP:return DIRECTION.RIGHT}return i}function Mv(i){return i===DIRECTION.LEFT?DIRECTION.RIGHT:i===DIRECTION.RIGHT?DIRECTION.LEFT:i}function Ev(i){return i===DIRECTION.TOP?DIRECTION.BOTTOM:i===DIRECTION.BOTTOM?DIRECTION.TOP:i}function i2(i,r){var t=r.matrix[0],e=r.matrix[4],n=i;return t<0&&(n=Mv(n)),e<0&&(n=Ev(n)),n}function a2(i,r){var t=i;return r.isReflect("x")&&(t=Mv(t)),r.isReflect("y")&&(t=Ev(t)),t}function wG(i,r){var t=i;return t=n2(t,r),t=i2(t,r),t=a2(t,r),t}function _v(i,r,t){if(!i)return t;var e;if(i.callback&&i.callback.length>1){var n=Array(i.callback.length-1).fill("");e=i.mapping.apply(i,(0,D.__spreadArrays)([r],n)).join("")}else e=i.mapping(r).join("");return e||t}function Av(i){var r=i.symbol;(0,u.isString)(r)&&mo[r]&&(i.symbol=mo[r])}function yf(i){return i.startsWith(it.LEFT)||i.startsWith(it.RIGHT)?"vertical":"horizontal"}function o2(i,r,t,e,n){var a=t.getScale(t.type);if(a.isCategory){var o=a.field,s=r.getAttribute("color"),l=r.getAttribute("shape"),f=i.getTheme().defaultColor,h=r.coordinate.isPolar;return a.getTicks().map(function(c){var v,x=c.text,A=c.value,B=x,G=a.invert(A),H=i.filterFieldData(o,[(v={},v[o]=G,v)]).length===0,X=_v(s,G,f),ut=_v(l,G,"point"),ft=r.getShapeMarker(ut,{color:X,isInPolar:h});return ft=(0,u.deepMix)({},e,ft,n),Av(ft),{id:G,name:B,value:G,marker:ft,unchecked:H}})}return[]}function s2(i,r,t){return t.map(function(e){var n=(0,u.deepMix)({},i,r,e.marker);return Av(n),e.marker=n,e})}function Pv(i,r){return(0,u.isBoolean)(i)?i===!1?!1:{}:(0,u.get)(i,[r],i)}function gs(i){return(0,u.get)(i,"position",it.BOTTOM)}var l2=function(i){(0,D.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.container=e.view.getLayer(W.FORE).addGroup(),e}return Object.defineProperty(r.prototype,"name",{get:function(){return"legend"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.render=function(){var t=this;this.option=this.view.getOptions().legends;var e=function(s,l,f){var h=t.createFieldLegend(s,l,f);h&&(h.component.init(),t.components.push(h))};if((0,u.get)(this.option,"custom")){var n=this.createCustomLegend(void 0,void 0,void 0,this.option);if(n){n.init();var a=W.FORE,o=gs(this.option);this.components.push({id:"global-custom",component:n,layer:a,direction:o,type:nt.LEGEND,extra:void 0})}}else this.loopLegends(e)},r.prototype.layout=function(){var t=this;this.layoutBBox=this.view.viewBBox;var e=(0,u.get)(this.view.getTheme(),["components","legend","margin"],[0,0,0,0]);(0,u.each)(this.components,function(n){var a=n.component,o=n.direction,s=yf(o),l=t.getCategoryLegendSizeCfg(s),f=a.get("maxWidth"),h=a.get("maxHeight");a.update({maxWidth:Math.min(l.maxWidth,f||0),maxHeight:Math.min(l.maxHeight,h||0)});var c=a.getLayoutBBox(),v=new Te(c.x,c.y,c.width,c.height),x=ul(t.view.viewBBox,v,o),A=x[0],B=x[1],G=ul(t.layoutBBox,v,o),H=G[0],X=G[1],ut=0,ft=0;o.startsWith("top")||o.startsWith("bottom")?(ut=A,ft=X):(ut=H,ft=B),o.indexOf("left")>=0&&(ut+=e[3]),o.indexOf("right")>=0&&(ut-=e[1]),o.indexOf("top")>=0&&(ft+=e[0]),o.indexOf("bottom")>=0&&(ft-=e[2]),a.update({x:ut,y:ft}),t.layoutBBox=t.layoutBBox.cut(v,o)})},r.prototype.update=function(){var t=this;this.option=this.view.getOptions().legends;var e={},n=function(v,x,A){var B=t.getId(A.field),G=t.getComponentById(B);if(G){var H=void 0,X=Pv(t.option,A.field);X!==!1&&((0,u.get)(X,"custom")?H=t.getCategoryCfg(v,x,A,X,!0):A.isLinear?H=t.getContinuousCfg(v,x,A,X):A.isCategory&&(H=t.getCategoryCfg(v,x,A,X))),H&&(Nt(H,["container"]),G.direction=gs(X),G.component.update(H),e[B]=!0)}else{var ut=t.createFieldLegend(v,x,A);ut&&(ut.component.init(),t.components.push(ut),e[B]=!0)}};if((0,u.get)(this.option,"custom")){var a="global-custom",o=this.getComponentById(a);if(o){var s=this.getCategoryCfg(void 0,void 0,void 0,this.option,!0);Nt(s,["container"]),o.component.update(s),e[a]=!0}else{var l=this.createCustomLegend(void 0,void 0,void 0,this.option);if(l){l.init();var f=W.FORE,h=gs(this.option);this.components.push({id:a,component:l,layer:f,direction:h,type:nt.LEGEND,extra:void 0}),e[a]=!0}}}else this.loopLegends(n);var c=[];(0,u.each)(this.getComponents(),function(v){e[v.id]?c.push(v):v.component.destroy()}),this.components=c},r.prototype.clear=function(){i.prototype.clear.call(this),this.container.clear()},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.container.remove(!0)},r.prototype.getGeometries=function(t){var e=this,n=t.geometries;return(0,u.each)(t.views,function(a){n=n.concat(e.getGeometries(a))}),n},r.prototype.loopLegends=function(t){var e=this.view.getRootView()===this.view;if(!!e){var n=this.getGeometries(this.view),a={};(0,u.each)(n,function(o){var s=o.getGroupAttributes();(0,u.each)(s,function(l){var f=l.getScale(l.type);!f||f.type==="identity"||a[f.field]||(t(o,l,f),a[f.field]=!0)})})}},r.prototype.createFieldLegend=function(t,e,n){var a,o=Pv(this.option,n.field),s=W.FORE,l=gs(o);if(o!==!1&&((0,u.get)(o,"custom")?a=this.createCustomLegend(t,e,n,o):n.isLinear?a=this.createContinuousLegend(t,e,n,o):n.isCategory&&(a=this.createCategoryLegend(t,e,n,o))),a)return a.set("field",n.field),{id:this.getId(n.field),component:a,layer:s,direction:l,type:nt.LEGEND,extra:{scale:n}}},r.prototype.createCustomLegend=function(t,e,n,a){var o=this.getCategoryCfg(t,e,n,a,!0);return new jt(o)},r.prototype.createContinuousLegend=function(t,e,n,a){var o=this.getContinuousCfg(t,e,n,a);return new ee(o)},r.prototype.createCategoryLegend=function(t,e,n,a){var o=this.getCategoryCfg(t,e,n,a);return new jt(o)},r.prototype.getContinuousCfg=function(t,e,n,a){var o=n.getTicks(),s=(0,u.find)(o,function(B){return B.value===0}),l=(0,u.find)(o,function(B){return B.value===1}),f=o.map(function(B){var G=B.value,H=B.tickValue,X=e.mapping(n.invert(G)).join("");return{value:H,attrValue:X,color:X,scaleValue:G}});s||f.push({value:n.min,attrValue:e.mapping(n.invert(0)).join(""),color:e.mapping(n.invert(0)).join(""),scaleValue:0}),l||f.push({value:n.max,attrValue:e.mapping(n.invert(1)).join(""),color:e.mapping(n.invert(1)).join(""),scaleValue:1}),f.sort(function(B,G){return B.value-G.value});var h={min:(0,u.head)(f).value,max:(0,u.last)(f).value,colors:[],rail:{type:e.type},track:{}};e.type==="size"&&(h.track={style:{fill:e.type==="size"?this.view.getTheme().defaultColor:void 0}}),e.type==="color"&&(h.colors=f.map(function(B){return B.attrValue}));var c=this.container,v=gs(a),x=yf(v),A=(0,u.get)(a,"title");return A&&(A=(0,u.deepMix)({text:Ie(n)},A)),h.container=c,h.layout=x,h.title=A,h.animateOption=Fo,this.mergeLegendCfg(h,a,"continuous")},r.prototype.getCategoryCfg=function(t,e,n,a,o){var s=this.container,l=(0,u.get)(a,"position",it.BOTTOM),f=(0,u.get)(this.view.getTheme(),["components","legend",l,"marker"]),h=(0,u.get)(a,"marker"),c=yf(l),v=o?s2(f,h,a.items):o2(this.view,t,e,f,h),x=(0,u.get)(a,"title");x&&(x=(0,u.deepMix)({text:n?Ie(n):""},x));var A=this.getCategoryLegendSizeCfg(c);A.container=s,A.layout=c,A.items=v,A.title=x,A.animateOption=Fo;var B=this.mergeLegendCfg(A,a,l);B.reversed&&B.items.reverse();var G=(0,u.get)(B,"maxItemWidth");return G&&G<=1&&(B.maxItemWidth=this.view.viewBBox.width*G),B},r.prototype.mergeLegendCfg=function(t,e,n){var a=n.split("-")[0],o=(0,u.get)(this.view.getTheme(),["components","legend",a],{});return(0,u.deepMix)({},o,t,e)},r.prototype.getId=function(t){return this.name+"-"+t},r.prototype.getComponentById=function(t){return(0,u.find)(this.components,function(e){return e.id===t})},r.prototype.getCategoryLegendSizeCfg=function(t){var e=this.view.viewBBox,n=e.width,a=e.height;return t==="vertical"?{maxWidth:n*K,maxHeight:a}:{maxWidth:n,maxHeight:a*K}},r}(Do),u2=l2,f2=function(i){(0,D.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.onValueChanged=function(n){var a=n[0],o=n[1];e.updateMinMaxText(a,o),e.view.render(!0)},e.container=e.view.getLayer(W.FORE).addGroup(),e}return Object.defineProperty(r.prototype,"name",{get:function(){return"slider"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.render=function(){if(this.option=this.view.getOptions().slider,this.option){this.slider?this.slider=this.updateSlider():(this.slider=this.createSlider(),this.slider.component.on("sliderchange",this.onValueChanged));var t=this.slider.component.get("start")||0,e=this.slider.component.get("end")||1;this.updateMinMaxText(t,e)}else this.slider&&(this.slider.component.destroy(),this.slider=void 0)},r.prototype.layout=function(){if(this.slider){var t=this.view.coordinateBBox.width,e=this.slider.component.getLayoutBBox(),n=new Te(e.x,e.y,Math.min(e.width,t),e.height),a=ul(this.view.viewBBox,n,it.BOTTOM),o=a[0],s=a[1],l=ul(this.view.coordinateBBox,n,it.BOTTOM),f=l[0],h=l[1];this.slider.component.update({x:f,y:s,width:t})}},r.prototype.update=function(){this.render()},r.prototype.createSlider=function(){var t=this.getSliderCfg(),e=new yr.Slider((0,D.__assign)({container:this.container},t));return e.init(),{component:e,layer:W.FORE,direction:it.BOTTOM,type:nt.OTHER}},r.prototype.updateSlider=function(){var t=this.getSliderCfg();return Nt(t,["x","y","width","start","end","minText","maxText"]),this.slider.component.update(t),this.slider},r.prototype.getSliderCfg=function(){if((0,u.isObject)(this.option)){var t=(0,D.__assign)({data:this.getData()},(0,u.get)(this.option,"trendCfg",{})),e=0,n=0,a=this.view.coordinateBBox.width,o=(0,u.deepMix)({},{x:e,y:n,width:a},this.option);return(0,D.__assign)((0,D.__assign)({},o),{trendCfg:t})}return{}},r.prototype.getData=function(){var t=this.view.getOptions().data,e=this.view.getYScales()[0],n=this.view.getGroupScales();if(n.length){var a=n[0],o=a.field,s=a.ticks;return t.reduce(function(l,f){return f[o]===s[0]&&l.push(f[e.field]),l},[])}return t.map(function(l){return l[e.field]||0})},r.prototype.updateMinMaxText=function(t,e){var n=this.view.getOptions().data,a=this.view.getXScale(),o=(0,u.size)(n);if(!(!a||!o)){var s=a.field,l=n.reduce(function(B,G){return B.includes(G[s])||B.push(G[s]),B},[]),f=(0,u.size)(l),h=Math.floor(t*(f-1)),c=Math.floor(e*(f-1)),v=(0,u.get)(l,[h]),x=(0,u.get)(l,[c]),A=this.getSliderCfg().formatter;A&&(v=A(v,n[h],h),x=A(x,n[c],c)),this.slider.component.update({minText:v,maxText:x,start:t,end:e}),this.view.filter(a.field,function(B,G){var H=l.indexOf(B);return H>-1?Ji(H,h,c):!0})}},r.prototype.getComponents=function(){return this.slider?[this.slider]:[]},r}(Do),h2=f2;function c2(i){for(var r=[],t=function(n){var a=i[n],o=(0,u.find)(r,function(s){return s.color===a.color&&s.name===a.name&&s.value===a.value&&s.title===a.title});o||r.push(a)},e=0;e<i.length;e++)t(e);return r}var v2=function(i){(0,D.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.isLocked=!1,t}return Object.defineProperty(r.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.isVisible=function(){var t=this.view.getOptions().tooltip;return t!==!1},r.prototype.render=function(){},r.prototype.showTooltip=function(t){if(this.point=t,!!this.isVisible()){var e=this.view,n=this.getTooltipItems(t);if(!n.length){this.hideTooltip();return}var a=this.getTitle(n),o={x:n[0].x,y:n[0].y};e.emit("tooltip:show",(0,D.__assign)({items:n,title:a},t));var s=this.getTooltipCfg(),l=s.follow,f=s.showMarkers,h=s.showCrosshairs,c=s.showContent,v=s.marker,x=this.items,A=this.title;if(!(0,u.isEqual)(A,a)||!(0,u.isEqual)(x,n)?(e.emit("tooltip:change",(0,D.__assign)({items:n,title:a},t)),c&&(this.tooltip||this.renderTooltip(),this.tooltip.update((0,u.mix)({},s,{items:n,title:a},l?t:{})),this.tooltip.show()),f&&this.renderTooltipMarkers(n,v)):(this.tooltip&&l&&(this.tooltip.update(t),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()),this.items=n,this.title=a,h){var B=(0,u.get)(s,["crosshairs","follow"],!1);this.renderCrosshairs(B?t:o,s)}}},r.prototype.hideTooltip=function(){var t=this.getTooltipCfg().follow;if(!t){this.point=null;return}var e=this.tooltipMarkersGroup;e&&e.hide();var n=this.xCrosshair,a=this.yCrosshair;n&&n.hide(),a&&a.hide();var o=this.tooltip;o&&o.hide(),this.view.emit("tooltip:hide",{}),this.point=null},r.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},r.prototype.unlockTooltip=function(){this.isLocked=!1;var t=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(t.capture)},r.prototype.isTooltipLocked=function(){return this.isLocked},r.prototype.clear=function(){var t=this,e=t.tooltip,n=t.xCrosshair,a=t.yCrosshair,o=t.tooltipMarkersGroup;e&&(e.hide(),e.clear()),n&&n.clear(),a&&a.clear(),o&&o.clear()},r.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},r.prototype.changeVisible=function(t){if(this.visible!==t){var e=this,n=e.tooltip,a=e.tooltipMarkersGroup,o=e.xCrosshair,s=e.yCrosshair;t?(n&&n.show(),a&&a.show(),o&&o.show(),s&&s.show()):(n&&n.hide(),a&&a.hide(),o&&o.hide(),s&&s.hide()),this.visible=t}},r.prototype.getTooltipItems=function(t){var e=this.findItemsFromView(this.view,t);if(e.length){e=(0,u.flatten)(e);for(var n=0,a=e;n<a.length;n++)for(var o=a[n],s=0,l=o;s<l.length;s++){var f=l[s],h=f.mappingData,c=h.x,v=h.y;f.x=(0,u.isArray)(c)?c[c.length-1]:c,f.y=(0,u.isArray)(v)?v[v.length-1]:v}var x=this.getTooltipCfg().shared;if(x===!1&&e.length>1){for(var A=e[0],B=Math.abs(t.y-A[0].y),G=0,H=e;G<H.length;G++){var X=H[G],ut=Math.abs(t.y-X[0].y);ut<=B&&(A=X,B=ut)}e=[A]}return c2((0,u.flatten)(e))}return[]},r.prototype.layout=function(){},r.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var t=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}})}},r.prototype.getTooltipCfg=function(){var t=this.view,e=t.getOptions().tooltip,n=t.getTheme(),a=(0,u.get)(n,["components","tooltip"],{}),o=(0,u.isUndefined)((0,u.get)(e,"enterable"))?a.enterable:(0,u.get)(e,"enterable");return(0,u.deepMix)({},a,e,{capture:!!(o||this.isLocked)})},r.prototype.getTitle=function(t){var e=t[0].title||t[0].name;return this.title=e,e},r.prototype.renderTooltip=function(){var t=this.view.getCanvas(),e={start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}},n=this.getTooltipCfg(),a=new se((0,D.__assign)((0,D.__assign)({parent:t.get("el").parentNode,region:e},n),{visible:!1,crosshairs:null}));a.init(),this.tooltip=a},r.prototype.renderTooltipMarkers=function(t,e){for(var n=this.getTooltipMarkersGroup(),a=0,o=t;a<o.length;a++){var s=o[a],l=s.x,f=s.y,h=(0,D.__assign)((0,D.__assign)({fill:s.color,symbol:"circle",shadowColor:s.color},e),{x:l,y:f});n.addShape("marker",{attrs:h})}},r.prototype.renderCrosshairs=function(t,e){var n=(0,u.get)(e,["crosshairs","type"],"x");n==="x"?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(t,e)):n==="y"?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(t,e)):n==="xy"&&(this.renderXCrosshairs(t,e),this.renderYCrosshairs(t,e))},r.prototype.renderXCrosshairs=function(t,e){var n=this.getViewWithGeometry(this.view).getCoordinate();if(!!re(n,t)){var a,o;if(n.isRect)n.isTransposed?(a={x:n.start.x,y:t.y},o={x:n.end.x,y:t.y}):(a={x:t.x,y:n.end.y},o={x:t.x,y:n.start.y});else{var s=ve(n,t),l=n.getCenter(),f=n.getRadius();o=mn(l.x,l.y,f,s),a=l}var h=(0,u.deepMix)({start:a,end:o,container:this.getTooltipCrosshairsGroup()},(0,u.get)(e,"crosshairs",{}),this.getCrosshairsText("x",t,e));delete h.type;var c=this.xCrosshair;c?c.update(h):(c=new yr.Crosshair.Line(h),c.init()),c.render(),c.show(),this.xCrosshair=c}},r.prototype.renderYCrosshairs=function(t,e){var n=this.getViewWithGeometry(this.view).getCoordinate();if(!!re(n,t)){var a,o;if(n.isRect){var s=void 0,l=void 0;n.isTransposed?(s={x:t.x,y:n.end.y},l={x:t.x,y:n.start.y}):(s={x:n.start.x,y:t.y},l={x:n.end.x,y:t.y}),a={start:s,end:l},o="Line"}else a={center:n.getCenter(),radius:Vt(n,t),startAngle:n.startAngle,endAngle:n.endAngle},o="Circle";a=(0,u.deepMix)({container:this.getTooltipCrosshairsGroup()},a,(0,u.get)(e,"crosshairs",{}),this.getCrosshairsText("y",t,e)),delete a.type;var f=this.yCrosshair;f?n.isRect&&f.get("type")==="circle"||!n.isRect&&f.get("type")==="line"?(f=new yr.Crosshair[o](a),f.init()):f.update(a):(f=new yr.Crosshair[o](a),f.init()),f.render(),f.show(),this.yCrosshair=f}},r.prototype.getCrosshairsText=function(t,e,n){var a=(0,u.get)(n,["crosshairs","text"]),o=(0,u.get)(n,["crosshairs","follow"]),s=this.items;if(a){var l=this.getViewWithGeometry(this.view),f=s[0],h=l.getXScale(),c=l.getYScales()[0],v=void 0,x=void 0;if(o){var A=this.view.getCoordinate().invert(e);v=h.invert(A.x),x=c.invert(A.y)}else v=f.data[h.field],x=f.data[c.field];var B=t==="x"?v:x;return(0,u.isFunction)(a)?a=a(t,B,s,e):a.content=B,{text:a}}},r.prototype.getGuideGroup=function(){if(!this.guideGroup){var t=this.view.foregroundGroup;this.guideGroup=t.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},r.prototype.getTooltipMarkersGroup=function(){var t=this.tooltipMarkersGroup;return t&&!t.destroyed?(t.clear(),t.show()):(t=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"}),t.toFront(),this.tooltipMarkersGroup=t),t},r.prototype.getTooltipCrosshairsGroup=function(){var t=this.tooltipCrosshairsGroup;return t||(t=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1}),t.toBack(),this.tooltipCrosshairsGroup=t),t},r.prototype.getTooltipItemsByHitShape=function(t,e,n){var a=[],o=t.container,s=o.getShape(e.x,e.y);if(s&&s.get("visible")&&s.get("origin")){var l=s.get("origin").mappingData,f=Zr(l,t,n);f.length&&a.push(f)}return a},r.prototype.getTooltipItemsByFindData=function(t,e,n){var a=[],o=t.dataArray;t.sort(o);for(var s=0,l=o;s<l.length;s++){var f=l[s],h=wr(e,f,t);if(h){var c=t.getElementId(h),v=t.elementsMap[c];if(t.type==="heatmap"||v.visible){var x=Zr(h,t,n);x.length&&a.push(x)}}}return a},r.prototype.findItemsFromView=function(t,e){if(t.getOptions().tooltip===!1)return[];for(var n=[],a=t.geometries,o=this.getTooltipCfg(),s=o.shared,l=o.title,f=0,h=a;f<h.length;f++){var c=h[f];if(c.visible&&c.tooltipOption!==!1){var v=c.type,x=void 0;["point","edge","polygon"].includes(v)?x=this.getTooltipItemsByHitShape(c,e,l):["area","line","path","heatmap"].includes(v)?x=this.getTooltipItemsByFindData(c,e,l):s!==!1?x=this.getTooltipItemsByFindData(c,e,l):x=this.getTooltipItemsByHitShape(c,e,l),x.length&&n.push(x)}}for(var A=0,B=t.views;A<B.length;A++){var G=B[A];n=n.concat(this.findItemsFromView(G,e))}return n},r.prototype.getViewWithGeometry=function(t){var e=this;return t.geometries.length?t:(0,u.find)(t.views,function(n){return e.getViewWithGeometry(n)})},r}(Do),d2=v2,p2=function(i){(0,D.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.show=function(){var t=this.context.view,e=this.context.event,n=t.getTooltipItems({x:e.x,y:e.y});if(!(0,u.isEqual)(n,this.items)&&(this.items=n,n.length)){var a=t.getXScale().field,o=n[0].data[a],s=[],l=t.geometries;if((0,u.each)(l,function(Pe){if(Pe.type==="interval"||Pe.type==="schema"){var Be=Pe.getElementsBy(function(ke){var We=ke.getData();return We[a]===o});s=s.concat(Be)}}),s.length){var f=t.getCoordinate(),h=s[0].shape.getCanvasBBox(),c=s[0].shape.getCanvasBBox(),v=h;(0,u.each)(s,function(Pe){var Be=Pe.shape.getCanvasBBox();f.isTransposed?(Be.minY<h.minY&&(h=Be),Be.maxY>c.maxY&&(c=Be)):(Be.minX<h.minX&&(h=Be),Be.maxX>c.maxX&&(c=Be)),v.x=Math.min(Be.minX,v.minX),v.y=Math.min(Be.minY,v.minY),v.width=Math.max(Be.maxX,v.maxX)-v.x,v.height=Math.max(Be.maxY,v.maxY)-v.y});var x=t.backgroundGroup,A=t.coordinateBBox,B=void 0;if(f.isRect){var G=t.getXScale(),H=G.isLinear?0:.25,X=void 0,ut=void 0,ft=void 0,xt=void 0;f.isTransposed?(X=A.minX,ut=Math.min(c.minY,h.minY)-H*c.height,ft=A.width,xt=v.height+H*2*c.height):(X=Math.min(h.minX,c.minX)-H*h.width,ut=Math.min(A.minY,h.minY),ft=v.width+H*2*h.width,xt=A.height),B=[["M",X,ut],["L",X+ft,ut],["L",X+ft,ut+xt],["L",X,ut+xt],["Z"]]}else{var Yt=(0,u.head)(s),Kt=(0,u.last)(s),te=ki(Yt.getModel(),f).startAngle,Wt=ki(Kt.getModel(),f).endAngle,ae=f.getCenter(),ce=f.getRadius(),he=f.innerRadius*ce;B=Jn(ae.x,ae.y,ce,te,Wt,he)}this.regionPath?(this.regionPath.attr("path",B),this.regionPath.show()):this.regionPath=x.addShape({type:"path",name:"active-region",capture:!1,attrs:{path:B,fill:"#CCD6EC",opacity:.3}})}}},r.prototype.hide=function(){this.regionPath&&this.regionPath.hide(),this.items=null},r.prototype.destroy=function(){this.hide(),this.regionPath&&this.regionPath.remove(!0),i.prototype.destroy.call(this)},r}(qr),g2=p2,y2=function(i){(0,D.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.timeStamp=0,t}return r.prototype.show=function(){var t=this.context,e=t.event,n=t.view,a=n.isTooltipLocked();if(!a){var o=this.timeStamp,s=+new Date;if(s-o>16){var l=this.location,f={x:e.x,y:e.y};(!l||!(0,u.isEqual)(l,f))&&this.showTooltip(n,f),this.timeStamp=s,this.location=f}}},r.prototype.hide=function(){var t=this.context.view,e=t.isTooltipLocked();e||(this.hideTooltip(t),this.location=null)},r.prototype.showTooltip=function(t,e){t.showTooltip(e)},r.prototype.hideTooltip=function(t){t.hideTooltip()},r}(qr),Tv=y2,m2=function(i){(0,D.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.showTooltip=function(t,e){var n=Kn(t);(0,u.each)(n,function(a){var o=qi(t,a,e);a.showTooltip(o)})},r.prototype.hideTooltip=function(t){var e=Kn(t);(0,u.each)(e,function(n){n.hideTooltip()})},r}(Tv),x2=m2,b2=function(i){(0,D.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.timeStamp=0,t}return r.prototype.destroy=function(){i.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},r.prototype.show=function(){var t=this.context,e=t.event,n=this.timeStamp,a=+new Date;if(a-n>16){var o=this.location,s={x:e.x,y:e.y};(!o||!(0,u.isEqual)(o,s))&&this.showTooltip(s),this.timeStamp=a,this.location=s}},r.prototype.hide=function(){this.hideTooltip(),this.location=null},r.prototype.showTooltip=function(t){var e=this.context,n=e.event,a=n.target;if(a&&a.get("tip")){this.tooltip||this.renderTooltip();var o=a.get("tip");this.tooltip.update((0,D.__assign)({title:o},t)),this.tooltip.show()}},r.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},r.prototype.renderTooltip=function(){var t=this.context.view,e=t.canvas,n={start:{x:0,y:0},end:{x:e.get("width"),y:e.get("height")}},a=t.getTheme(),o=(0,u.get)(a,["components","tooltip","domStyles"],{}),s=new se({parent:e.get("el").parentNode,region:n,visible:!1,crosshairs:null,domStyles:o});s.init(),s.setCapture(!1),this.tooltip=s},r}(qr),w2=b2,S2=function(i){(0,D.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="",t}return r.prototype.hasState=function(t){return t.hasState(this.stateName)},r.prototype.setElementState=function(t,e){t.setState(this.stateName,e)},r.prototype.setState=function(){this.setStateEnable(!0)},r.prototype.clear=function(){var t=this.context.view;this.clearViewState(t)},r.prototype.clearViewState=function(t){var e=this,n=ni(t,this.stateName);(0,u.each)(n,function(a){e.setElementState(a,!1)})},r}(qr),mf=S2;function Ov(i){return(0,u.get)(i.get("delegateObject"),"item")}var C2=function(i){(0,D.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.ignoreListItemStates=["unchecked"],t}return r.prototype.isItemIgnore=function(t,e){var n=this.ignoreListItemStates,a=n.filter(function(o){return e.hasState(t,o)});return!!a.length},r.prototype.setStateByComponent=function(t,e,n){var a=this.context.view,o=t.get("field"),s=an(a);this.setElementsStateByItem(s,o,e,n)},r.prototype.setStateByElement=function(t,e){this.setElementState(t,e)},r.prototype.isMathItem=function(t,e,n){var a=this.context.view,o=_a(a,e),s=Hn(t,e);return!(0,u.isNil)(s)&&n.name===o.getText(s)},r.prototype.setElementsStateByItem=function(t,e,n,a){var o=this;(0,u.each)(t,function(s){o.isMathItem(s,e,n)&&s.setState(o.stateName,a)})},r.prototype.setStateEnable=function(t){var e=jr(this.context);if(e)jn(this.context)&&this.setStateByElement(e,t);else{var n=fn(this.context);if(Rn(n)){var a=n.item,o=n.component;if(a&&o&&!this.isItemIgnore(a,o)){var s=this.context.event.gEvent;if(s&&s.fromShape&&s.toShape&&Ov(s.fromShape)===Ov(s.toShape))return;this.setStateByComponent(o,a,t)}}}},r.prototype.toggle=function(){var t=jr(this.context);if(t){var e=t.hasState(this.stateName);this.setElementState(t,!e)}},r.prototype.reset=function(){this.setStateEnable(!1)},r}(mf),xf=C2,M2=function(i){(0,D.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(xf),E2=M2,_2=function(i){(0,D.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.cache={},t}return r.prototype.getColorScale=function(t,e){var n=e.geometry.getAttribute("color");if(!n)return null;var a=t.getScaleByField(n.getFields()[0]);return a},r.prototype.getLinkPath=function(t,e){var n=t.shape.getCanvasBBox(),a=e.shape.getCanvasBBox(),o=[["M",n.maxX,n.minY],["L",a.minX,a.minY],["L",a.minX,a.maxY],["L",n.maxX,n.maxY],["Z"]];return o},r.prototype.addLinkShape=function(t,e,n){t.addShape({type:"path",attrs:{opacity:.4,fill:e.shape.attr("fill"),path:this.getLinkPath(e,n)}})},r.prototype.linkByElement=function(t){var e=this,n=this.context.view,a=this.getColorScale(n,t);if(!!a){var o=Hn(t,a.field);if(!this.cache[o]){var s=ri(n,a.field,o),l=this.linkGroup,f=l.addGroup();this.cache[o]=f;var h=s.length;(0,u.each)(s,function(c,v){if(v<h-1){var x=s[v+1];e.addLinkShape(f,c,x)}})}}},r.prototype.removeLink=function(t){var e=this.getColorScale(this.context.view,t);if(!!e){var n=Hn(t,e.field);this.cache[n]&&(this.cache[n].remove(),this.cache[n]=null)}},r.prototype.link=function(){var t=this.context;this.linkGroup||(this.linkGroup=t.view.foregroundGroup.addGroup({capture:!1}));var e=jr(t);e&&this.linkByElement(e)},r.prototype.unlink=function(){var t=jr(this.context);t&&this.removeLink(t)},r.prototype.clear=function(){this.linkGroup&&this.linkGroup.clear()},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.linkGroup&&this.linkGroup.remove()},r}(qr),A2=_2,P2=function(i){(0,D.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.startPoint=null,t.endPoint=null,t.isStarted=!1,t.effectSiblings=!1,t.effectByRecord=!1,t}return r.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},r.prototype.start=function(){this.clear(),this.startPoint=this.getCurrentPoint(),this.isStarted=!0},r.prototype.getIntersectElements=function(){var t=null;if(vi(this.context))t=Ci(this.context,10);else{var e=this.startPoint,n=this.isStarted?this.getCurrentPoint():this.endPoint;if(!e||!n)return;var a={minX:Math.min(e.x,n.x),minY:Math.min(e.y,n.y),maxX:Math.max(e.x,n.x),maxY:Math.max(e.y,n.y)},o=this.context.view;t=ii(o,a)}return t},r.prototype.setStateEnable=function(t){if(this.effectSiblings&&!this.effectByRecord)this.setSiblingsState(t);else{var e=an(this.context.view),n=this.getIntersectElements();n&&n.length?this.effectByRecord?this.setSiblingsStateByRecord(n,t):this.setElementsState(n,t,e):this.clear()}},r.prototype.setSiblingsStateByRecord=function(t,e){var n=this,a=this.context.view,o=Kn(a),s=t.map(function(h){return h.getModel().data}),l=a.getXScale().field,f=a.getYScales()[0].field;(0,u.each)(o,function(h){var c=an(h),v=c.filter(function(x){var A=x.getModel().data;return Ea(s,A,l,f)});n.setElementsState(v,e,c)})},r.prototype.setSiblingsState=function(t){var e=this,n=this.context.view,a=Kn(n);vi(this.context)&&(0,u.each)(a,function(o){var s=an(o),l=Di(e.context,o,10);l&&l.length?e.setElementsState(l,t,s):e.clearViewState(o)})},r.prototype.setElementsState=function(t,e,n){var a=this;(0,u.each)(n,function(o){t.includes(o)?a.setElementState(o,e):a.setElementState(o,!1)})},r.prototype.end=function(){this.isStarted=!1,this.endPoint=this.getCurrentPoint()},r.prototype.clear=function(){var t=this,e=this.context.view;if(this.effectSiblings){var n=Kn(e);(0,u.each)(n,function(a){t.clearViewState(a)})}else this.clearViewState(e)},r}(mf),bf=P2,T2=function(i){(0,D.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(bf),O2=T2,L2=function(i){(0,D.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setStateEnable=function(t){var e=jr(this.context);if(e){if(!jn(this.context))return;t?(this.clear(),this.setElementState(e,!0)):this.hasState(e)&&this.setElementState(e,!1)}},r.prototype.toggle=function(){var t=jr(this.context);if(t){var e=this.hasState(t);e||this.clear(),this.setElementState(t,!e)}},r.prototype.reset=function(){this.setStateEnable(!1)},r}(mf),wf=L2,I2=function(i){(0,D.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(wf),k2=I2,ys="inactive",ms="active";function Sf(i){var r=an(i);(0,u.each)(r,function(t){t.hasState(ms)&&t.setState(ms,!1),t.hasState(ys)&&t.setState(ys,!1)})}function Lv(i,r,t){(0,u.each)(i,function(e){r(e)?(e.hasState(ys)&&e.setState(ys,!1),e.setState(ms,t)):(e.hasState(ms)&&e.setState(ms,!1),e.setState(ys,t))})}var xo=Pt.INACTIVE,Xa=Pt.ACTIVE,B2=function(i){(0,D.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName=Xa,t}return r.prototype.setElementsStateByItem=function(t,e,n,a){var o=this,s=function(l){return o.isMathItem(l,e,n)};this.setHighlightBy(t,s,a)},r.prototype.setElementHighlight=function(t,e){e(t)?(t.hasState(xo)&&t.setState(xo,!1),t.setState(Xa,!0)):t.hasState(Xa)||t.setState(xo,!0)},r.prototype.setHighlightBy=function(t,e,n){var a=this;if(n)(0,u.each)(t,function(l){a.setElementHighlight(l,e)});else{var o=ni(this.context.view,Xa),s=!0;(0,u.each)(o,function(l){if(!e(l))return s=!1,!1}),s?this.clear():(0,u.each)(t,function(l){e(l)&&(l.hasState(Xa)&&l.setState(Xa,!1),l.setState(xo,!0))})}},r.prototype.setElementState=function(t,e){var n=this.context.view,a=an(n);this.setHighlightBy(a,function(o){return t===o},e)},r.prototype.highlight=function(){this.setState()},r.prototype.clear=function(){var t=this.context.view;Sf(t)},r}(xf),Cf=B2,D2=function(i){(0,D.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setStateByElement=function(t,e){var n=this.context.view,a=t.geometry.getAttribute("color");if(!!a){var o=n.getScaleByField(a.getFields()[0]),s=Hn(t,o.field),l=an(n),f=l.filter(function(h){return Hn(h,o.field)===s});this.setHighlightBy(l,function(h){return f.includes(h)},e)}},r}(Cf),F2=D2,R2=function(i){(0,D.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setElementHighlight=function(t,e){e(t)?(t.hasState(xo)&&t.setState(xo,!1),t.setState(Xa,!0)):(t.setState(xo,!0),t.hasState(Xa)&&t.setState(Xa,!1))},r.prototype.setStateByElement=function(t,e){var n=this.context.view,a=n.getXScale(),o=Hn(t,a.field),s=an(n),l=s.filter(function(f){return Hn(f,a.field)===o});this.setHighlightBy(s,function(f){return l.includes(f)},e)},r.prototype.toggle=function(){var t=jr(this.context);if(t){var e=t.hasState(this.stateName);this.setStateByElement(t,!e)}},r}(Cf),N2=R2,G2=function(i){(0,D.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.clearViewState=function(t){Sf(t)},r.prototype.highlight=function(){this.setState()},r.prototype.setElementsState=function(t,e,n){Lv(n,function(a){return t.indexOf(a)>=0},e)},r}(bf),Iv=G2,Y2=function(i){(0,D.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.highlight=function(){this.setState()},r.prototype.setElementState=function(t,e){var n=this.context.view,a=an(n);Lv(a,function(o){return t===o},e)},r.prototype.clear=function(){var t=this.context.view;Sf(t)},r}(wf),z2=Y2,X2=function(i){(0,D.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(bf),V2=X2,H2=function(i){(0,D.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(xf),W2=H2,j2=function(i){(0,D.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(wf),U2=j2,Z2=function(i){(0,D.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="",t.ignoreItemStates=[],t}return r.prototype.getTriggerListInfo=function(){var t=fn(this.context),e=null;return Rn(t)&&(e={item:t.item,list:t.component}),e},r.prototype.getAllowComponents=function(){var t=this,e=this.context.view,n=ia(e),a=[];return(0,u.each)(n,function(o){o.isList()&&t.allowSetStateByElement(o)&&a.push(o)}),a},r.prototype.hasState=function(t,e){return t.hasState(e,this.stateName)},r.prototype.clearAllComponentsState=function(){var t=this,e=this.getAllowComponents();(0,u.each)(e,function(n){n.clearItemsState(t.stateName)})},r.prototype.allowSetStateByElement=function(t){var e=t.get("field");if(!e)return!1;if(this.cfg&&this.cfg.componentNames){var n=t.get("name");if(this.cfg.componentNames.indexOf(n)===-1)return!1}var a=this.context.view,o=_a(a,e);return o&&o.isCategory},r.prototype.allowSetStateByItem=function(t,e){var n=this.ignoreItemStates;if(n.length){var a=n.filter(function(o){return e.hasState(t,o)});return a.length===0}return!0},r.prototype.setStateByElement=function(t,e,n){var a=t.get("field"),o=this.context.view,s=_a(o,a),l=Hn(e,a),f=s.getText(l);this.setItemsState(t,f,n)},r.prototype.setStateEnable=function(t){var e=this,n=jr(this.context);if(n){var a=this.getAllowComponents();(0,u.each)(a,function(f){e.setStateByElement(f,n,t)})}else{var o=fn(this.context);if(Rn(o)){var s=o.item,l=o.component;this.allowSetStateByElement(l)&&this.allowSetStateByItem(s,l)&&this.setItemState(l,s,t)}}},r.prototype.setItemsState=function(t,e,n){var a=this,o=t.getItems();(0,u.each)(o,function(s){s.name===e&&a.setItemState(t,s,n)})},r.prototype.setItemState=function(t,e,n){t.setItemState(e,this.stateName,n)},r.prototype.setState=function(){this.setStateEnable(!0)},r.prototype.reset=function(){this.setStateEnable(!1)},r.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var e=t.list,n=t.item,a=this.hasState(e,n);this.setItemState(e,n,!a)}},r.prototype.clear=function(){var t=this.getTriggerListInfo();t?t.list.clearItemsState(this.stateName):this.clearAllComponentsState()},r}(qr),fl=Z2,K2=function(i){(0,D.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(fl),$2=K2,kv="inactive",Bv="active";function Q2(i){var r=i.getItems();(0,u.each)(r,function(t){i.hasState(t,Bv)&&i.setItemState(t,Bv,!1),i.hasState(t,kv)&&i.setItemState(t,kv,!1)})}var xs="inactive",bo="active",J2=function(i){(0,D.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName=bo,t.ignoreItemStates=["unchecked"],t}return r.prototype.setItemsState=function(t,e,n){this.setHighlightBy(t,function(a){return a.name===e},n)},r.prototype.setItemState=function(t,e,n){var a=t.getItems();this.setHighlightBy(t,function(o){return o===e},n)},r.prototype.setHighlightBy=function(t,e,n){var a=t.getItems();if(n)(0,u.each)(a,function(l){e(l)?(t.hasState(l,xs)&&t.setItemState(l,xs,!1),t.setItemState(l,bo,!0)):t.hasState(l,bo)||t.setItemState(l,xs,!0)});else{var o=t.getItemsByState(bo),s=!0;(0,u.each)(o,function(l){if(!e(l))return s=!1,!1}),s?this.clear():(0,u.each)(a,function(l){e(l)&&(t.hasState(l,bo)&&t.setItemState(l,bo,!1),t.setItemState(l,xs,!0))})}},r.prototype.highlight=function(){this.setState()},r.prototype.clear=function(){var t=this.getTriggerListInfo();if(t)Q2(t.list);else{var e=this.getAllowComponents();(0,u.each)(e,function(n){n.clearItemsState(bo),n.clearItemsState(xs)})}},r}(fl),Mf=J2,q2=function(i){(0,D.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(fl),tM=q2,eM=function(i){(0,D.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="unchecked",t}return r.prototype.unchecked=function(){this.setState()},r}(fl),rM=eM,nM=function(i){(0,D.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.maskShape=null,t.points=[],t.starting=!1,t.moving=!1,t.preMovePoint=null,t.shapeType="path",t}return r.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},r.prototype.emitEvent=function(t){var e="mask:"+t,n=this.context.view,a=this.context.event;n.emit(e,{target:this.maskShape,shape:this.maskShape,points:this.points,x:a.x,y:a.y})},r.prototype.createMask=function(){var t=this.context.view,e=this.getMaskAttrs(),n=t.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:(0,D.__assign)({fill:"#C5D4EB",opacity:.3},e)});return n},r.prototype.getMaskPath=function(){return[]},r.prototype.show=function(){this.maskShape&&(this.maskShape.show(),this.emitEvent("show"))},r.prototype.start=function(){this.starting=!0,this.moving=!1,this.points=[this.getCurrentPoint()],this.maskShape||(this.maskShape=this.createMask(),this.maskShape.set("capture",!1)),this.updateMask(),this.emitEvent("start")},r.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint()},r.prototype.move=function(){if(!(!this.moving||!this.maskShape)){var t=this.getCurrentPoint(),e=this.preMovePoint,n=t.x-e.x,a=t.y-e.y,o=this.points;(0,u.each)(o,function(s){s.x+=n,s.y+=a}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=t}},r.prototype.updateMask=function(){var t=this.getMaskAttrs();this.maskShape.attr(t)},r.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null},r.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.maskShape&&this.maskShape.set("capture",!0)},r.prototype.hide=function(){this.maskShape&&(this.maskShape.hide(),this.emitEvent("hide"))},r.prototype.resize=function(){this.starting&&this.maskShape&&(this.points.push(this.getCurrentPoint()),this.updateMask(),this.emitEvent("change"))},r.prototype.destroy=function(){this.points=[],this.maskShape&&this.maskShape.remove(),this.maskShape=null,this.preMovePoint=null,i.prototype.destroy.call(this)},r}(qr),Ef=nM,iM=function(i){(0,D.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.shapeType="circle",t}return r.prototype.getMaskAttrs=function(){var t=this.points,e=(0,u.last)(this.points),n=0,a=0,o=0;if(t.length){var s=t[0];n=di(s,e)/2,a=(e.x+s.x)/2,o=(e.y+s.y)/2}return{x:a,y:o,r:n}},r}(Ef),aM=iM,oM=function(i){(0,D.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.shapeType="rect",t}return r.prototype.getRegion=function(){var t=this.points;return{start:(0,u.head)(t),end:(0,u.last)(t)}},r.prototype.getMaskAttrs=function(){var t=this.getRegion(),e=t.start,n=t.end,a=Math.min(e.x,n.x),o=Math.min(e.y,n.y),s=Math.abs(n.x-e.x),l=Math.abs(n.y-e.y);return{x:a,y:o,width:s,height:l}},r}(Ef),Dv=oM;function Fv(i){i.x=(0,u.clamp)(i.x,0,1),i.y=(0,u.clamp)(i.y,0,1)}var sM=function(i){(0,D.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.dim="x",t.inPlot=!0,t}return r.prototype.getRegion=function(){var t=null,e=null,n=this.points,a=this.dim,o=this.context.view.getCoordinate(),s=o.invert((0,u.head)(n)),l=o.invert((0,u.last)(n));return this.inPlot&&(Fv(s),Fv(l)),a==="x"?(t=o.convert({x:s.x,y:0}),e=o.convert({x:l.x,y:1})):(t=o.convert({x:0,y:s.y}),e=o.convert({x:1,y:l.y})),{start:t,end:e}},r}(Dv),Rv=sM,lM=function(i){(0,D.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getMaskPath=function(){var t=this.points,e=[];return t.length&&((0,u.each)(t,function(n,a){a===0?e.push(["M",n.x,n.y]):e.push(["L",n.x,n.y])}),e.push(["L",t[0].x,t[0].y])),e},r.prototype.getMaskAttrs=function(){return{path:this.getMaskPath()}},r.prototype.addPoint=function(){this.resize()},r}(Ef),Nv=lM,uM=function(i){(0,D.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getMaskPath=function(){var t=this.points;return aa(t,!0)},r}(Nv),fM=uM,hM=function(i){(0,D.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setCursor=function(t){var e=this.context.view;e.getCanvas().setCursor(t)},r.prototype.default=function(){this.setCursor("default")},r.prototype.pointer=function(){this.setCursor("pointer")},r.prototype.move=function(){this.setCursor("move")},r.prototype.crosshair=function(){this.setCursor("crosshair")},r.prototype.wait=function(){this.setCursor("wait")},r.prototype.help=function(){this.setCursor("help")},r.prototype.text=function(){this.setCursor("text")},r.prototype.eResize=function(){this.setCursor("e-resize")},r.prototype.wResize=function(){this.setCursor("w-resize")},r.prototype.nResize=function(){this.setCursor("n-resize")},r.prototype.sResize=function(){this.setCursor("s-resize")},r.prototype.neResize=function(){this.setCursor("ne-resize")},r.prototype.nwResize=function(){this.setCursor("nw-resize")},r.prototype.seResize=function(){this.setCursor("se-resize")},r.prototype.swResize=function(){this.setCursor("sw-resize")},r.prototype.nsResize=function(){this.setCursor("ns-resize")},r.prototype.ewResize=function(){this.setCursor("ew-resize")},r}(qr),cM=hM,vM=function(i){(0,D.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.filterView=function(t,e,n){var a=this;t.getScaleByField(e)&&t.filter(e,n),t.views&&t.views.length&&(0,u.each)(t.views,function(o){a.filterView(o,e,n)})},r.prototype.filter=function(){var t=fn(this.context);if(t){var e=this.context.view,n=t.component,a=n.get("field");if(Rn(t)){if(a){var o=n.getItemsByState("unchecked"),s=_a(e,a),l=o.map(function(v){return v.name});l.length?this.filterView(e,a,function(v){var x=s.getText(v);return!l.includes(x)}):this.filterView(e,a,null),e.render(!0)}}else if(Ui(t)){var f=n.getValue(),h=f[0],c=f[1];this.filterView(e,a,function(v){return v>=h&&v<=c}),e.render(!0)}}},r}(qr),dM=vM;function Gv(i,r,t,e){var n=Math.min(t[r],e[r]),a=Math.max(t[r],e[r]),o=i.range,s=o[0],l=o[1];if(n<s&&(n=s),a>l&&(a=l),n===l&&a===l)return null;var f=i.invert(n),h=i.invert(a);if(i.isCategory){var c=i.values.indexOf(f),v=i.values.indexOf(h),x=i.values.slice(c,v+1);return function(A){return x.includes(A)}}else return function(A){return A>=f&&A<=h}}var pM=function(i){(0,D.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.dims=["x","y"],t.startPoint=null,t.isStarted=!1,t}return r.prototype.hasDim=function(t){return this.dims.includes(t)},r.prototype.start=function(){var t=this.context;this.isStarted=!0,this.startPoint=t.getCurrentPoint()},r.prototype.filter=function(){var t,e;if(vi(this.context)){var n=this.context.event.target,a=n.getCanvasBBox();t={x:a.x,y:a.y},e={x:a.maxX,y:a.maxY}}else{if(!this.isStarted)return;t=this.startPoint,e=this.context.getCurrentPoint()}if(!(Math.abs(t.x-e.x)<5||Math.abs(t.x-e.y)<5)){var o=this.context.view,s=o.getCoordinate(),l=s.invert(e),f=s.invert(t);if(this.hasDim("x")){var h=o.getXScale(),c=Gv(h,"x",l,f);this.filterView(o,h.field,c)}if(this.hasDim("y")){var v=o.getYScales()[0],c=Gv(v,"y",l,f);this.filterView(o,v.field,c)}this.reRender(o)}},r.prototype.end=function(){this.isStarted=!1},r.prototype.reset=function(){var t=this.context.view;if(this.isStarted=!1,this.hasDim("x")){var e=t.getXScale();this.filterView(t,e.field,null)}if(this.hasDim("y")){var n=t.getYScales()[0];this.filterView(t,n.field,null)}this.reRender(t)},r.prototype.filterView=function(t,e,n){t.filter(e,n)},r.prototype.reRender=function(t){t.render(!0)},r}(qr),hl=pM,gM=function(i){(0,D.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.filterView=function(t,e,n){var a=Kn(t);(0,u.each)(a,function(o){o.filter(e,n)})},r.prototype.reRender=function(t){var e=Kn(t);(0,u.each)(e,function(n){n.render(!0)})},r}(hl),_f=gM,yM=function(i){(0,D.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.filter=function(){var t=fn(this.context),e=this.context.view,n=an(e);if(vi(this.context)){var a=Ci(this.context,10);a&&(0,u.each)(n,function(A){a.includes(A)?A.show():A.hide()})}else if(t){var o=t.component,s=o.get("field");if(Rn(t)){if(s){var l=o.getItemsByState("unchecked"),f=_a(e,s),h=l.map(function(A){return A.name});(0,u.each)(n,function(A){var B=Hn(A,s),G=f.getText(B);h.indexOf(G)>=0?A.hide():A.show()})}}else if(Ui(t)){var c=o.getValue(),v=c[0],x=c[1];(0,u.each)(n,function(A){var B=Hn(A,s);B>=v&&B<=x?A.show():A.hide()})}}},r.prototype.clear=function(){var t=an(this.context.view);(0,u.each)(t,function(e){e.show()})},r.prototype.reset=function(){this.clear()},r}(qr),mM=yM,xM=function(i){(0,D.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.byRecord=!1,t}return r.prototype.filter=function(){vi(this.context)&&(this.byRecord?this.filterByRecord():this.filterByBBox())},r.prototype.filterByRecord=function(){var t=this.context.view,e=Ci(this.context,10);if(!!e){var n=t.getXScale().field,a=t.getYScales()[0].field,o=e.map(function(l){return l.getModel().data}),s=Kn(t);(0,u.each)(s,function(l){var f=an(l);(0,u.each)(f,function(h){var c=h.getModel().data;Ea(o,c,n,a)?h.show():h.hide()})})}},r.prototype.filterByBBox=function(){var t=this,e=this.context.view,n=Kn(e);(0,u.each)(n,function(a){var o=Di(t.context,a,10),s=an(a);o&&(0,u.each)(s,function(l){o.includes(l)?l.show():l.hide()})})},r.prototype.reset=function(){var t=Kn(this.context.view);(0,u.each)(t,function(e){var n=an(e);(0,u.each)(n,function(a){a.show()})})},r}(qr),Yv=xM,bM=10,wM=5,SM=function(i){(0,D.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.buttonGroup=null,t.buttonCfg={name:"button",text:"button",textStyle:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"},padding:[8,10],style:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},activeStyle:{fill:"#e6e6e6"}},t}return r.prototype.getButtonCfg=function(){return(0,u.deepMix)(this.buttonCfg,this.cfg)},r.prototype.drawButton=function(){var t=this.getButtonCfg(),e=this.context.view.foregroundGroup.addGroup({name:t.name}),n=e.addShape({type:"text",name:"button-text",attrs:(0,D.__assign)({text:t.text},t.textStyle)}),a=n.getBBox(),o=ai(t.padding),s=e.addShape({type:"rect",name:"button-rect",attrs:(0,D.__assign)({x:a.x-o[3],y:a.y-o[0],width:a.width+o[1]+o[3],height:a.height+o[0]+o[2]},t.style)});s.toBack(),e.on("mouseenter",function(){s.attr(t.activeStyle)}),e.on("mouseleave",function(){s.attr(t.style)}),this.buttonGroup=e},r.prototype.resetPosition=function(){var t=this.context.view,e=t.getCoordinate(),n=e.convert({x:1,y:1}),a=this.buttonGroup,o=a.getBBox(),s=bn.transform(null,[["t",n.x-o.width-bM,n.y+o.height+wM]]);a.setMatrix(s)},r.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},r.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},r.prototype.destroy=function(){var t=this.buttonGroup;t&&t.remove(),i.prototype.destroy.call(this)},r}(qr),CM=SM,MM=4,EM=function(i){(0,D.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.starting=!1,t.dragStart=!1,t}return r.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint()},r.prototype.drag=function(){if(!!this.startPoint){var t=this.context.getCurrentPoint(),e=this.context.view,n=this.context.event;this.dragStart?e.emit("drag",{target:n.target,x:n.x,y:n.y}):di(t,this.startPoint)>MM&&(e.emit("dragstart",{target:n.target,x:n.x,y:n.y}),this.dragStart=!0)}},r.prototype.end=function(){if(this.dragStart){var t=this.context.view,e=this.context.event;t.emit("dragend",{target:e.target,x:e.x,y:e.y})}this.starting=!1,this.dragStart=!1},r}(qr),_M=EM,AM=5,PM=function(i){(0,D.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.starting=!1,t.isMoving=!1,t.startPoint=null,t.startMatrix=null,t}return r.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint(),this.startMatrix=this.context.view.middleGroup.getMatrix()},r.prototype.move=function(){if(!!this.starting){var t=this.startPoint,e=this.context.getCurrentPoint(),n=di(t,e);if(n>AM&&!this.isMoving&&(this.isMoving=!0),this.isMoving){var a=this.context.view,o=bn.transform(this.startMatrix,[["t",e.x-t.x,e.y-t.y]]);a.backgroundGroup.setMatrix(o),a.foregroundGroup.setMatrix(o),a.middleGroup.setMatrix(o)}}},r.prototype.end=function(){this.isMoving&&(this.isMoving=!1),this.startMatrix=null,this.starting=!1,this.startPoint=null},r.prototype.reset=function(){this.starting=!1,this.startPoint=null,this.isMoving=!1;var t=this.context.view;t.backgroundGroup.resetMatrix(),t.foregroundGroup.resetMatrix(),t.middleGroup.resetMatrix(),this.isMoving=!1},r}(qr),TM=PM,zv="x",Xv="y",OM=function(i){(0,D.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.dims=[zv,Xv],t.cfgFields=["dims"],t.cacheScaleDefs={},t}return r.prototype.hasDim=function(t){return this.dims.includes(t)},r.prototype.getScale=function(t){var e=this.context.view;return t==="x"?e.getXScale():e.getYScales()[0]},r.prototype.resetDim=function(t){var e=this.context.view;if(this.hasDim(t)&&this.cacheScaleDefs[t]){var n=this.getScale(t);e.scale(n.field,this.cacheScaleDefs[t]),this.cacheScaleDefs[t]=null}},r.prototype.reset=function(){this.resetDim(zv),this.resetDim(Xv);var t=this.context.view;t.render(!0)},r}(qr),Vv=OM,LM=function(i){(0,D.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.startPoint=null,t.starting=!1,t.startCache={},t}return r.prototype.start=function(){var t=this;this.startPoint=this.context.getCurrentPoint(),this.starting=!0;var e=this.dims;(0,u.each)(e,function(n){var a=t.getScale(n),o=a.min,s=a.max,l=a.values;t.startCache[n]={min:o,max:s,values:l}})},r.prototype.end=function(){this.startPoint=null,this.starting=!1,this.startCache={}},r.prototype.translate=function(){var t=this;if(!!this.starting){var e=this.startPoint,n=this.context.view.getCoordinate(),a=this.context.getCurrentPoint(),o=n.invert(e),s=n.invert(a),l=s.x-o.x,f=s.y-o.y,h=this.context.view,c=this.dims;(0,u.each)(c,function(v){t.translateDim(v,{x:l*-1,y:f*-1})}),h.render(!0)}},r.prototype.translateDim=function(t,e){if(this.hasDim(t)){var n=this.getScale(t);n.isLinear&&this.translateLinear(t,n,e)}},r.prototype.translateLinear=function(t,e,n){var a=this.context.view,o=this.startCache[t],s=o.min,l=o.max,f=l-s,h=n[t]*f;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:e.nice,min:s,max:l}),a.scale(e.field,{nice:!1,min:s+h,max:l+h})},r.prototype.reset=function(){i.prototype.reset.call(this),this.startPoint=null,this.starting=!1},r}(Vv),IM=LM,kM=function(i){(0,D.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.zoomRatio=.05,t}return r.prototype.zoomIn=function(){this.zoom(this.zoomRatio)},r.prototype.zoom=function(t){var e=this,n=this.dims;(0,u.each)(n,function(a){e.zoomDim(a,t)}),this.context.view.render(!0)},r.prototype.zoomOut=function(){this.zoom(-1*this.zoomRatio)},r.prototype.zoomDim=function(t,e){if(this.hasDim(t)){var n=this.getScale(t);n.isLinear&&this.zoomLinear(t,n,e)}},r.prototype.zoomLinear=function(t,e,n){var a=this.context.view;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:e.nice,min:e.min,max:e.max});var o=this.cacheScaleDefs[t],s=o.max-o.min,l=e.min,f=e.max,h=n*s,c=l-h,v=f+h,x=v-c,A=x/s;v>c&&A<100&&A>.01&&a.scale(e.field,{nice:!1,min:l-h,max:f+h})},r}(Vv),BM=kM;Gt("dark",Bo(bb)),j("canvas",L),j("svg",O),da("Polygon",jS),da("Interval",NS),da("Schema",ZS),da("Path",sf),da("Point",VS),da("Line",YS),da("Area",TS),da("Edge",LS),da("Heatmap",BS),hs("base",Ks),hs("interval",hC),hs("pie",dC),hs("polar",dv),vo("overlap",EC),vo("distribute",gC),vo("fixed-overlap",MC),vo("limit-in-shape",bC),vo("limit-in-canvas",xC),vo("pie-outer",mC),Un("fade-in",_C),Un("fade-out",AC),Un("grow-in-x",TC),Un("grow-in-xy",LC),Un("grow-in-y",OC),Un("scale-in-x",BC),Un("scale-in-y",DC),Un("wave-in",NC),Un("zoom-in",GC),Un("zoom-out",YC),Un("position-update",kC),Un("sector-path-update",RC),Un("path-in",IC),Fr("rect",$C),Fr("mirror",ZC),Fr("list",HC),Fr("matrix",jC),Fr("circle",XC),Fr("tree",JC),Kr("axis",r2),Kr("legend",u2),Kr("tooltip",d2),Kr("annotation",t2),Kr("slider",h2),_r("tooltip",Tv),_r("sibling-tooltip",x2),_r("ellipsis-text",w2),_r("element-active",E2),_r("element-single-active",k2),_r("element-range-active",O2),_r("element-highlight",Cf),_r("element-highlight-by-x",N2),_r("element-highlight-by-color",F2),_r("element-single-highlight",z2),_r("element-range-highlight",Iv),_r("element-sibling-highlight",Iv,{effectSiblings:!0,effectByRecord:!0}),_r("element-selected",W2),_r("element-single-selected",U2),_r("element-range-selected",V2),_r("element-link-by-color",A2),_r("active-region",g2),_r("list-active",$2),_r("list-selected",tM),_r("list-highlight",Mf),_r("list-unchecked",rM),_r("legend-item-highlight",Mf,{componentNames:["legend"]}),_r("axis-label-highlight",Mf,{componentNames:["axis"]}),_r("rect-mask",Dv),_r("x-rect-mask",Rv,{dim:"x"}),_r("y-rect-mask",Rv,{dim:"y"}),_r("circle-mask",aM),_r("path-mask",Nv),_r("smooth-path-mask",fM),_r("cursor",cM),_r("data-filter",dM),_r("brush",hl),_r("brush-x",hl,{dims:["x"]}),_r("brush-y",hl,{dims:["y"]}),_r("sibling-filter",_f),_r("sibling-x-filter",_f),_r("sibling-y-filter",_f),_r("element-filter",mM),_r("element-sibling-filter",Yv),_r("element-sibling-filter-record",Yv,{byRecord:!0}),_r("view-drag",_M),_r("view-move",TM),_r("scale-translate",IM),_r("scale-zoom",BM),_r("reset-button",CM,{name:"reset-button",text:"reset"});function to(i){return i.isInPlot()}wn("tooltip",{start:[{trigger:"plot:mousemove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseleave",action:"tooltip:hide"},{trigger:"plot:leave",action:"tooltip:hide"},{trigger:"plot:touchend",action:"tooltip:hide"}]}),wn("ellipsis-text",{start:[{trigger:"legend-item-name:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"legend-item-name:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"legend-item-name:mouseleave",action:"ellipsis-text:hide"},{trigger:"legend-item-name:touchend",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseleave",action:"ellipsis-text:hide"},{trigger:"axis-label:touchend",action:"ellipsis-text:hide"}]}),wn("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]}),wn("element-selected",{start:[{trigger:"element:click",action:"element-selected:toggle"}]}),wn("element-highlight",{start:[{trigger:"element:mouseenter",action:"element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight:reset"}]}),wn("element-highlight-by-x",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-x:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-x:reset"}]}),wn("element-highlight-by-color",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-color:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-color:reset"}]}),wn("legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","element-active:reset"]}]}),wn("legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","element-highlight:reset"]}]}),wn("axis-label-highlight",{start:[{trigger:"axis-label:mouseenter",action:["axis-label-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"axis-label:mouseleave",action:["axis-label-highlight:reset","element-highlight:reset"]}]}),wn("element-list-highlight",{start:[{trigger:"element:mouseenter",action:["list-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"element:mouseleave",action:["list-highlight:reset","element-highlight:reset"]}]}),wn("element-range-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(i){return!i.isInShape("mask")},action:["rect-mask:start","rect-mask:show"]},{trigger:"mask:dragstart",action:["rect-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:drag",action:["rect-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end"]},{trigger:"mask:dragend",action:["rect-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(i){return!i.isInPlot()},action:["element-range-highlight:clear","rect-mask:end","rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","rect-mask:hide"]}]}),wn("brush",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:to,action:["brush:start","rect-mask:start","rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:to,action:["rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:to,action:["brush:filter","brush:end","rect-mask:end","rect-mask:hide","reset-button:show"]}],rollback:[{trigger:"reset-button:click",action:["brush:reset","reset-button:hide","cursor:crosshair"]}]}),wn("brush-visible",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"plot:mousedown",action:["rect-mask:start","rect-mask:show"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end","rect-mask:hide","element-filter:filter","element-range-highlight:clear"]}],rollback:[{trigger:"dblclick",action:["element-filter:clear"]}]}),wn("brush-x",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:to,action:["brush-x:start","x-rect-mask:start","x-rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:to,action:["x-rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:to,action:["brush-x:filter","brush-x:end","x-rect-mask:end","x-rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]}),wn("element-path-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:to,action:"path-mask:start"},{trigger:"mousedown",isEnable:to,action:"path-mask:show"}],processing:[{trigger:"mousemove",action:"path-mask:addPoint"}],end:[{trigger:"mouseup",action:"path-mask:end"}],rollback:[{trigger:"dblclick",action:"path-mask:hide"}]}),wn("element-single-selected",{start:[{trigger:"element:click",action:"element-single-selected:toggle"}]}),wn("legend-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","data-filter:filter"]}]}),wn("continuous-filter",{start:[{trigger:"legend:valuechanged",action:"data-filter:filter"}]}),wn("continuous-visible-filter",{start:[{trigger:"legend:valuechanged",action:"element-filter:filter"}]}),wn("legend-visible-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","element-filter:filter"]}]}),wn("active-region",{start:[{trigger:"plot:mousemove",action:"active-region:show"}],end:[{trigger:"plot:mouseleave",action:"active-region:hide"}]});function Hv(i){return i.gEvent.preventDefault(),i.gEvent.originalEvent.deltaY>0}wn("view-zoom",{start:[{trigger:"plot:mousewheel",isEnable:function(i){return Hv(i.event)},action:"scale-zoom:zoomOut",throttle:{wait:100,leading:!0,trailing:!1}},{trigger:"plot:mousewheel",isEnable:function(i){return!Hv(i.event)},action:"scale-zoom:zoomIn",throttle:{wait:100,leading:!0,trailing:!1}}]}),wn("sibling-tooltip",{start:[{trigger:"plot:mousemove",action:"sibling-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"sibling-tooltip:hide"}]});var Wv={translate:Vu,rotate:Sc,zoom:cb,transform:Zs,getAngle:ki,polarToCartesian:mn},cl=function(){function i(r){this.EVENT="gesture",this.gm=r}return i.prototype.do=function(r){var t=r.type;switch(t){case"touchstart":this.onTouchStart(r);break;case"touchmove":this.onTouchMove(r);break;case"touchend":this.onTouchEnd(r);break;case"touchcancel":this.onTouchCancel(r);break;default:return}},i.prototype.emit=function(r){this.gm.emit(this.EVENT,r)},i}(),DM=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.EVENT="pan",t}return r.prototype.onTouchCancel=function(t){},r.prototype.onTouchEnd=function(t){},r.prototype.onTouchMove=function(t){var e=t.x,n=t.y,a=e-this.preX,o=n-this.preY;this.preX=e,this.preY=n,this.emit({x:e,y:n,deltaX:a,deltaY:o,event:t})},r.prototype.onTouchStart=function(t){var e=t.x,n=t.y;this.preX=e,this.preY=n},r}(cl),eo=typeof performance=="object"&&performance.now?performance:Date,FM=300,jv=10,RM=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.EVENT="press",t}return r.prototype.onTouchCancel=function(t){this.clearTimeout()},r.prototype.onTouchEnd=function(t){this.clearTimeout()},r.prototype.onTouchMove=function(t){var e=t.x,n=t.y;(e-this.touchStartX>jv||n-this.touchStartY>jv)&&this.clearTimeout()},r.prototype.onTouchStart=function(t){var e=this;this.clearTimeout();var n=t.x,a=t.y;this.touchStartTime=eo.now(),this.touchStartX=n,this.touchStartY=a,this.pressTimeout=window.setTimeout(function(){e.emit({x:n,y:a,event:t})},FM)},r.prototype.clearTimeout=function(){window.clearTimeout(this.pressTimeout)},r}(cl),NM=100,GM=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.EVENT="swipe",t.latestMoveTime=0,t.ms=0,t.speedX=0,t.speedY=0,t.preX=0,t.preY=0,t}return r.prototype.onTouchCancel=function(t){},r.prototype.onTouchEnd=function(t){var e=this.speedX,n=this.speedY;if(eo.now()-this.latestMoveTime<NM){var a=t.x,o=t.y;this.emit({x:a,y:o,speedX:e,speedY:n,event:t})}},r.prototype.onTouchMove=function(t){var e=t.x,n=t.y,a=eo.now(),o=e-this.preX,s=n-this.preY,l=a-this.ms;this.speedX=o/l,this.speedY=s/l,this.latestMoveTime=a},r.prototype.onTouchStart=function(t){var e=t.x,n=t.y;this.speedX=this.speedY=0,this.preX=e,this.preY=n,this.ms=eo.now()},r}(cl),YM=300,Uv=2,zM=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.EVENT="tap",t}return r.prototype.onTouchCancel=function(t){},r.prototype.onTouchEnd=function(t){var e=t.x,n=t.y;e-this.touchStartX<Uv&&n-this.touchStartY<Uv&&eo.now()-this.touchStartTime<YM&&this.emit({x:e,y:n,event:t})},r.prototype.onTouchMove=function(t){},r.prototype.onTouchStart=function(t){var e=t.x,n=t.y;this.touchStartTime=eo.now(),this.touchStartX=e,this.touchStartY=n},r}(cl),XM={Pan:DM,Press:RM,Swipe:GM,Tap:zM},VM=function(i){return XM[i]},Zv=function(i){(0,q.__extends)(r,i);function r(t,e){e===void 0&&(e={});var n=i.call(this)||this;return n.onTouchStart=function(a){n.preventEvent(a),n.element.on("touchmove",n.onTouchMove),n.element.on("touchend",n.onTouchEnd),n.element.on("touchcancel",n.onTouchCancel),n.emit("touchdown",a),n.doGestures(a)},n.onTouchMove=function(a){n.preventEvent(a),n.emit("touchmove",a),n.doGestures(a)},n.onTouchEnd=function(a){n.preventEvent(a),n.emit("touchend",a),n.element.off("touchmove",n.onTouchMove),n.element.off("touchend",n.onTouchEnd),n.element.off("touchcancel",n.onTouchCancel),n.doGestures(a)},n.onTouchCancel=function(a){n.preventEvent(a),n.emit("touchcancel",a),n.element.off("touchmove",n.onTouchMove),n.element.off("touchend",n.onTouchEnd),n.element.off("touchcancel",n.onTouchCancel),n.doGestures(a)},n.element=t,n.options=e,n.initialGestures(),n.bindTouchStart(),n}return r.prototype.destroy=function(){this.element.off("touchstart",this.onTouchStart),this.off()},r.prototype.initialGestures=function(){var t=this,e=this.options.gestures||["Pan","Press","Swipe","Tap"];this.gestures=e.map(function(n){var a=VM(n);return new a(t)})},r.prototype.bindTouchStart=function(){this.element.on("touchstart",this.onTouchStart)},r.prototype.preventEvent=function(t){var e=t.type,n=this.options.prevents||[];n.includes(e)&&t.preventDefault()},r.prototype.doGestures=function(t){this.gestures.forEach(function(e){e.do(t)})},r}(Zt.default),HM=d(68716),WM=HM.yD,jM=800,UM="swipe",ZM="pan",Kv="wheel",KM=function(i){(0,q.__extends)(r,i);function r(t){var e=i.call(this)||this;return e.rafMs=0,e.onPan=function(n){e.raf&&cancelAnimationFrame(e.raf);var a=n.deltaX,o=n.deltaY,s=e.getWrapperEvent(n,a,o);e.emit(Kv,s)},e.onSwipe=function(n){var a=n.speedX,o=n.speedY;e.rafMs=eo.now(),e.ms=e.rafMs,(a!==0||o!==0)&&e.rafInertia(n)},e.element=t,e.gm=new Zv(t,{gestures:["Pan","Swipe"]}),e.gm.on(UM,e.onSwipe),e.gm.on(ZM,e.onPan),e}return r.prototype.destroy=function(){window.cancelAnimationFrame(this.raf),this.gm.destroy(),this.off()},r.prototype.rafInertia=function(t){var e=this,n=t.speedX,a=t.speedY;this.raf=window.requestAnimationFrame(function(){var o=eo.now(),s=(o-e.ms)/jM;if(s<1){s=WM(1-s);var l=o-e.rafMs,f=n*s*l,h=a*s*l,c=e.getWrapperEvent(t,f,h);e.emit(Kv,c),e.rafMs=o,e.rafInertia(t)}})},r.prototype.getWrapperEvent=function(t,e,n){return(0,q.__assign)((0,q.__assign)({},t),{deltaX:-e,deltaY:-n})},r}(Zt.default),sn=d(29583),$v=d(64815),$M=d(6750),SG=d(61058),QM=d(31882),ro=d(27978),CG=d(38700),JM=d(88373),wo=d(55225);Kr("gesture",F.Z);var Ki="origin",bs="_origin",Qv=1e3,Jv=60*Qv,qv=60*Jv,vl=24*qv,qM=vl*7,tE=vl*30,eE=vl*365,rE={second:{value:Qv,format:"HH:mm:ss"},miniute:{value:Jv,format:"HH:mm"},hour:{value:qv,format:"HH"},day:{value:vl,format:"YYYY-MM-DD"},week:{value:qM,format:"YYYY-MM-DD"},month:{value:tE,format:"YYYY-MM"},year:{value:eE,format:"YYYY"}},dl=["click","dblclick","mousemove","mouseenter","mouseleave","mousedown","mouseup","contextmenu"],nE=[],iE={axis:"axis-label",label:"label",legend:"legend-item"},aE={title:"title",description:"description",breadcrumb:"breadcrumb"},td=(0,u.deepMix)(si(aE),Af("Plot",dl)),ed=Af("Layer",dl),Qr=(0,u.deepMix)({},si(iE),Af("View",dl),oE());function Wn(i,r,t){i.view.on(r,function(e){var n={x:e==null?void 0:e.x,y:e==null?void 0:e.y,clientX:e==null?void 0:e.clientX,clientY:e==null?void 0:e.clientY,target:e==null?void 0:e.target,data:(e==null?void 0:e.data)?e.data.data:null,plot:i,canvas:i.canvas,gEvent:e==null?void 0:e.gEvent};t(n)})}function si(i){var r={};return(0,u.each)(i,function(t,e){var n=(0,u.upperFirst)(e),a="on"+n,o=t+":";(0,u.each)(dl,function(s){var l=(0,u.upperFirst)(s),f=""+a+l,h=""+o+s;r[f]=h})}),r}function Af(i,r){var t={},e="on";return(0,u.each)(r,function(n){var a=(0,u.upperFirst)(n),o=""+e+i+a;t[o]=n}),t}function oE(){var i={},r="on";return(0,u.each)(nE,function(t){var e=(0,u.upperFirst)(t),n=""+r+e;i[n]=t}),i}var sE=d(85800),lE=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.fromBBoxObject=function(t){return new r(t.x,t.y,t.width,t.height)},r}(sE.BBox),Nr=lE,uE=function(i){(0,q.__extends)(r,i);function r(t){var e=i.call(this)||this;return e.layers=[],e.destroyed=!1,e.visibility=!0,e.rendered=!1,e.eventHandlers=[],e.options=e.getOptions(t),e.processOptions(e.options),e}return r.prototype.processOptions=function(t){this.id=t.id,this.x=t.x||0,this.y=t.y||0,this.width=t.width,this.height=t.height,this.canvas=t.canvas,this.parent=t.parent},r.prototype.updateConfig=function(t){this.options=(0,u.deepMix)({},this.options,t),this.processOptions(this.options)},r.prototype.beforeInit=function(){return null},r.prototype.init=function(){this.layerBBox=this.getLayerBBox(),this.layerRegion=this.getLayerRegion(),this.eachLayer(function(t){t.init()})},r.prototype.afterInit=function(){return null},r.prototype.render=function(){this.rendered||(this.container=this.parent?this.parent.container.addGroup():this.canvas.addGroup()),this.rendered=!0,this.beforeInit(),this.init(),this.afterInit(),this.eachLayer(function(t){t.render()}),this.canvas.draw()},r.prototype.clear=function(){this.eachLayer(function(t){t.destroy()}),this.layers=[],this.container.clear()},r.prototype.destroy=function(){var t=this;this.eachLayer(function(e){e.destroy()}),(0,u.each)(this.eventHandlers,function(e){t.off(e.eventName,e.handler)}),this.container.remove(!0),this.destroyed=!0},r.prototype.show=function(){this.container.attr("visible",!0),this.container.set("visible",!0),this.visibility=!0,this.canvas.draw()},r.prototype.hide=function(){this.container.attr("visible",!1),this.container.set("visible",!1),this.visibility=!1,this.canvas.draw()},r.prototype.addLayer=function(t){var e=(0,u.findIndex)(this.layers,function(n){return n===t});e<0&&(t.parent!==this&&(t.parent=this,t.init()),this.layers.push(t))},r.prototype.removeLayer=function(t){var e=(0,u.findIndex)(this.layers,function(n){return n===t});e>=0&&this.layers.splice(e,1)},r.prototype.updateBBox=function(t,e){e===void 0&&(e=!1);var n={x:this.x,y:this.y,width:this.width,height:this.height},a=(0,u.deepMix)({},n,t);this.x=a.x,this.y=a.y,this.width=a.width,this.height=a.height,this.layerBBox=this.getLayerBBox(),this.layerRegion=this.getLayerRegion(),this.render(),e&&this.eachLayer(function(o){o.updateBBoxByParent(),o.render()}),this.canvas.draw()},r.prototype.updateBBoxByParent=function(){var t=this.layerRegion;this.x=this.parent.x+this.parent.width*t.start.x,this.y=this.parent.y+this.parent.height*t.start.y,this.width=this.parent.width*(t.end.x-t.start.x),this.height=this.parent.height*(t.end.y-t.start.y),this.layerBBox=this.getLayerBBox()},r.prototype.getGlobalPosition=function(){for(var t=this.x,e=this.y,n=this.parent;n;)t+=n.x,e+=n.y,n=n.parent;return{x:t,y:e}},r.prototype.getGlobalBBox=function(){var t=this.getGlobalPosition();return new Nr(t.x,t.y,this.width,this.height)},r.prototype.getOptions=function(t){var e=0,n=0;t.parent&&(e=t.parent.width,n=t.parent.height);var a={x:0,y:0,width:e,height:n};return(0,u.deepMix)({},a,t)},r.prototype.eachLayer=function(t){(0,u.each)(this.layers,t)},r.prototype.parseEvents=function(t){var e=this,n=(0,u.keys)(ed);(0,u.each)(t,function(a,o){if((0,u.contains)(n,o)&&(0,u.isFunction)(a)){var s=ed[o]||o,l=a;e.on(s,l),e.eventHandlers.push({name:s,handler:l})}})},r.prototype.getLayerBBox=function(){return new Nr(this.x,this.y,this.width,this.height)},r.prototype.getLayerRegion=function(){if(this.parent){var t=this.parent.width,e=this.parent.height,n=this.parent.x,a=this.parent.y,o=(this.x-n)/t,s=(this.y-a)/e,l=(this.x+this.width-n)/t,f=(this.y+this.height-a)/e;return{start:{x:o,y:s},end:{x:l,y:f}}}return{start:{x:0,y:0},end:{x:1,y:1}}},r}(Zt.default),pl=uE;function Go(i){return i?!!(i.visible===!0&&typeof i.text=="string"&&i.text.trim()):!1}function rd(i,r){var t=(0,q.__spreadArrays)(i);return r.forEach(function(e,n){t.splice(e+n,0,`
`)}),t.join("")}function fE(i){return i.getComponents().filter(function(r){return r.type===sn.COMPONENT_TYPE.AXIS}).map(function(r){return r.component})}function hE(i){return i.getComponents().filter(function(r){return r.type===sn.COMPONENT_TYPE.LEGEND}).map(function(r){return r.component})}function MG(i){var r=i.backgroundGroup.findAll(function(t){if(t.get("name")){var e=t.get("name").split("-");return e[0]==="axis"}});return r}function EG(i){var r=i.foregroundGroup.findAll(function(t){if(t.get("name"))return t.get("name")==="legend-item-group"});return r}function cE(i,r){for(var t=i.length;t>0&&!(r>=i[t-1]);)t-=1;return t}function nd(i,r){return!(i.maxY<r.minY||r.maxY<i.minY||i.maxX<r.minX||r.maxX<i.minX)}function _G(){return!!navigator.userAgent.match(/(Mobile)|(Android)|(WebOS)|(iPhone)|(iPad)/)}var vE=function(){function i(r){this.position="top",this.destroyed=!1,(0,u.assign)(this,r),this.init()}return i.prototype.getBBox=function(){var r=this;if(this.shape){var t=this.shape.getBBox();if(this.index===0)return Nr.fromBBoxObject(t);var e=this.plot.theme.description.padding;return(0,u.isArray)(e)&&(0,u.each)(e,function(n,a){typeof e[a]=="function"&&(e[a]=e[a](r.plot.options.legend.position))}),new Nr(t.maxX,t.minY,t.width,t.height)}return null},i.prototype.clear=function(){this.shape&&this.shape.attr("text","")},i.prototype.destroy=function(){this.shape&&this.shape.remove(),this.destroyed=!0},i.prototype.init=function(){var r=this.textWrapper(),t=this.getPosition(),e=t.x,n=t.y;this.shape=this.container.addShape("text",{attrs:(0,u.mix)({x:e,y:n,text:r},this.style,{textAlign:this.getTextAlign()})}),this.shape.name=this.name},i.prototype.getPosition=function(){return this.alignTo==="left"?{x:this.leftMargin,y:this.topMargin}:this.alignTo==="middle"?{x:this.leftMargin+this.wrapperWidth/2,y:this.topMargin}:{x:this.rightMargin,y:this.topMargin}},i.prototype.getTextAlign=function(){return this.alignTo==="left"?"left":this.alignTo==="middle"?"center":"right"},i.prototype.textWrapper=function(){var r=this.wrapperWidth,t=this.style,e=this.text,n=this.container.addShape("text",{attrs:(0,q.__assign)({text:"",x:0,y:0},t)}),a=e.split(`
`),o=a.map(function(s){for(var l="",f=s.split(""),h=[],c=0;c<f.length;c++){var v=f[c];n.attr("text",l+=v);var x=n.getBBox().width-1;if(x>r){if(c===0)break;h.push(c),l=""}}return rd(f,h)});return n.remove(),o.join(`
`)},i}(),gl=vE,dE=function(i){(0,q.__extends)(r,i);function r(t){var e=i.call(this)||this;return e.container=t.container,e.destroyed=!1,e.config=t,e.disposables=[],e}return r.prototype.init=function(){this.group||this.initGroup(),this.initConfig(this.config)},r.prototype.getGroup=function(){return this.group},r.prototype.getConfig=function(){return this.config},r.prototype.getBBox=function(){return this.getGroup().getBBox()},r.prototype.clear=function(){this.group.clear()},r.prototype.render=function(){this.group.clear(),this.renderInner(this.group),this.getCanvas().draw()},r.prototype.update=function(t){this.config=(0,q.__assign)((0,q.__assign)({},this.config),t),this.initConfig(this.config)},r.prototype.destroy=function(){(0,u.each)(this.disposables,function(t){t()}),this.disposables=[],this.group.remove(!0),this.destroyed=!0},r.prototype.initGroup=function(){this.group=this.container.addGroup()},r.prototype.getCanvas=function(){return this.container.get("canvas")},r.prototype.addDisposable=function(t){this.disposables.push(t)},r.prototype.initConfig=function(t){},r}(Zt.default),ws=dE,pE=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.labelsCfgMap={},t.lastLabelsCfgMap={},t}return r.prototype.getGeometry=function(){return this.geometry},r.prototype.getLabels=function(){return this.labels},r.prototype.show=function(){this.container.show()},r.prototype.hide=function(){this.container.hide()},r.prototype.initConfig=function(t){var e=this;this.layer=t.layer;var n=this.layer.view;this.view=n,this.geometry=t.geometry,this.coord=n.getCoordinate(),this.options=(0,u.deepMix)(this.getDefaultOptions(),t.label);var a=function(){e.clear(),e.labelsCfgMap={},e.lastLabelsCfgMap={},e.render()};n.on(sn.VIEW_LIFE_CIRCLE.AFTER_PAINT,a),this.addDisposable(function(){n.off(sn.VIEW_LIFE_CIRCLE.AFTER_PAINT,a)})},r.prototype.renderInner=function(t){var e=this;this.labels=[],this.labelsCfgMap={},(0,u.each)(this.geometry.elements,function(s,l){var f=[].concat(e.drawLabelItem(t,s,l));(0,u.each)(f,function(h,c){e.adjustLabel(h,s,c),h.destroyed||(e.labels.push(h),e.labelsCfgMap[h.get("id")]=(0,u.clone)(h.attrs))})}),this.layoutLabels(this.geometry,this.labels);var n=this.lastLabelsCfgMap,a=this.labelsCfgMap,o=this.geometry.animateOption?(0,ro.getDefaultAnimateCfg)("label",this.coord):!1;(0,u.each)(a,function(s,l){var f=t.findById(l);if(f)if(n[l]){var h=n[l],c=(0,u.get)(o,"update");c&&(f.stopAnimate(),f.attr(h),(0,ro.doAnimate)(f,c,{toAttrs:(0,q.__assign)({},s),coordinate:e.coord}))}else{var v=(0,u.get)(o,"appear");v&&(f.stopAnimate(),(0,ro.doAnimate)(f,v,{toAttrs:(0,q.__assign)({},f.attr()),coordinate:e.coord}))}delete n[l]}),(0,u.each)(n,function(s,l){var f=(0,u.get)(o,"leave");if(f){var h=t.addShape("text",{attrs:s,id:l,name:"label"});h.stopAnimate(),(0,ro.doAnimate)(h,f,{toAttrs:null,coordinate:e.coord})}}),this.lastLabelsCfgMap=this.labelsCfgMap},r.prototype.drawLabelText=function(t,e,n){return n===void 0&&(n={}),t.addShape("text",(0,q.__assign)({attrs:e},n))},r.prototype.drawLabelItem=function(t,e,n){var a=this,o=e.getModel(),s=[].concat(this.getLabelItemAttrs(e,n)),l=this.getDefaultOffset(),f=this.getLabelOffset();return(0,u.map)(s,function(h,c){var v,x={x:h.x+f.x,y:h.y+f.y},A=(0,u.isArray)(o.mappingData)?o.mappingData[c]:o.mappingData,B=a.getLabelId(A);return a.drawLabelText(t,(0,q.__assign)((0,q.__assign)({},h),x),(v={id:B,name:"label",offset:l,element:e},v[Ki]=A,v))})},r.prototype.getDefaultOffset=function(){return Number(this.options.offset)},r.prototype.getLabelOffset=function(){var t=this.options,e=t.offsetX,n=t.offsetY;return{x:(0,u.isNumber)(e)?e:0,y:(0,u.isNumber)(n)?n:0}},r.prototype.getLabelOffsetByDimAndFactor=function(t,e){var n=this.options,a=n.offsetX,o=n.offsetY,s=this.getDefaultOffset(),l={x:0,y:0};return l[t]=s*e,(0,u.isNumber)(a)&&(l.x+=a),(0,u.isNumber)(o)&&(l.y+=o),l},r.prototype.getDefaultOptions=function(){return{}},r.prototype.layoutLabels=function(t,e){},r.prototype.getLabelId=function(t){var e=t._origin,n=this.geometry.type,a=this.geometry.getXScale(),o=this.geometry.getYScale(),s=this.geometry.getElementId(t);return n==="line"||n==="area"?s+=" "+e[a.field]:n==="path"&&(s+=" "+e[a.field]+"-"+e[o.field]),s},r.prototype.getCoordinateBBox=function(){var t=this.coord,e=t.start,n=t.end;return new Nr(Math.min(e.x,n.x),Math.min(e.y,n.y),t.getWidth(),t.getHeight())},r}(ws),Pf=pE,id={};function Yi(i,r){id[i]=r}function gE(i){return id[i]}var Tf=function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return function(t,e,n){return i.reduce(function(a,o){return o(a,e,n)},t)}},Of=function(){return function(i){return i}},ad=function(i){return function(r){var t=Number(r);return isNaN(t)||(0,u.isNil)(i)?r:t.toFixed(i)}},od=function(i){return function(r){return(0,u.isNil)(i)?r:r+" "+i}};function Lf(i,r,t){i[t]&&(r[t]=i[t])}var yE=function(){function i(r){this.config=!1,this.plot=r.plot,this.dim=r.dim,this.init()}return i.prototype.init=function(){this.config=!1;var r=this.plot.getPlotTheme();this.themeConfig=r&&r.axis&&r.axis[this.dim],this._needDraw()&&this._styleParser()},i.prototype._styleParser=function(){this.config=(0,q.__assign)({},this.localProps),this._isVisible("line")?this._lineParser():this.config.line=null,this._isVisible("grid")?this._gridParser():this.config.grid=null,this._isVisible("tickLine")?this._tickLineParser():this.config.tickLine=null,this._isVisible("label")?this._labelParser():this.config.label=null,this._isVisible("title")?this._titleParser():this.config.title=null,Lf(this.localProps,this.config,"autoHideLabel"),Lf(this.localProps,this.config,"autoRotateLabel"),Lf(this.localProps,this.config,"autoRotateTitle")},i.prototype._needDraw=function(){var r=this.plot.options,t=r[this.dim+"Axis"]?r[this.dim+"Axis"]:{},e=(0,u.deepMix)({},this.themeConfig,t);return this.localProps=e,!!e.visible},i.prototype._lineParser=function(){this.config.line=this.localProps.line,this.localProps.line.style&&(this.config.line={style:this.localProps.line.style}),this.applyThemeConfig("line")},i.prototype._gridParser=function(){var r=this,t,e,n,a,o,s=(e=(t=this.localProps.grid)===null||t===void 0?void 0:t.line)===null||e===void 0?void 0:e.style,l=(a=(n=this.localProps.grid)===null||n===void 0?void 0:n.line)===null||a===void 0?void 0:a.type,f=(o=this.localProps.grid)===null||o===void 0?void 0:o.alternateColor;(0,u.isFunction)(s)?this.config.grid=function(h,c,v){var x=s(h,c,v);return{line:{type:l,style:(0,u.deepMix)({},(0,u.get)(r.themeConfig,"grid.line.style"),x)},alternateColor:f}}:s&&(this.config.grid={line:{type:l,style:s},alternateColor:f},this.applyThemeConfig("grid"))},i.prototype._tickLineParser=function(){this.config.tickLine=this.localProps.tickLine,this.localProps.tickLine.style&&(this.config.tickLine={style:this.localProps.tickLine.style}),this.applyThemeConfig("tickLine")},i.prototype._labelParser=function(){var r=this.localProps.label,t=r.style,e=(0,q.__rest)(r,["style"]),n=(0,q.__assign)({},e);t&&(n.style=(0,q.__assign)({},this.localProps.label.style)),n.style=(0,u.deepMix)({},(0,u.get)(this.themeConfig,"label.style"),n.style);var a=this.parseFormatter(n);n.formatter=a,this.config.label=n},i.prototype._titleParser=function(){var r=(0,q.__assign)({},this.localProps.title),t=this.localProps.title,e=t.visible,n=t.style,a=t.text;e?(this.config.showTitle=!0,n&&(r.style=n),r.style=(0,u.deepMix)({},(0,u.get)(this.config,"title.style"),r.textStyle),a&&(r.text=a)):this.config.showTitle=!1,this.config.title=r},i.prototype._isVisible=function(r){return!!(this.localProps[r]&&this.localProps[r].visible)},i.prototype.applyThemeConfig=function(r){this.config[r]=(0,u.deepMix)({},(0,u.get)(this.themeConfig,r+".style"),this.config[r])},i.prototype.parseFormatter=function(r){var t=Tf(Of(),ad(r.precision),od(r.suffix));return r.formatter&&(t=Tf(t,r.formatter)),t},i}(),mE=yE;function yl(i){var r=0;return each(i,function(t){r+=t*t}),Math.sqrt(r)}function If(i,r){return i.x*r.y+i.y*r.x}function AG(i,r){var t=yl(i),e=yl(r),n=If(i,r),a=Math.acos(n/t/e);return a}function PG(i,r){var t=yl(i),e=yl(r),n=If(i,r),a=Math.acos(n/t/e);return t*e*Math.sin(a)}function TG(i,r){var t=i.x,e=i.y,n=i.z,a=r.x,o=r.y,s=r.z,l=e*s-n*o,f=n*a-t*s,h=t*o-e*a;return{x:l,y:f,z:h}}function OG(i,r){return{x:i.x-r.x,y:i.y-r.y}}function ml(i,r,t){t===void 0&&(t=1);var e=[i.x,i.y,t];return Yc.transformMat3(e,e,r),{x:e[0],y:e[1]}}function sd(i,r,t){return i>=r&&i<=t}var xE=.001;function LG(i,r,t,e){var n={x:t.x-i.x,y:t.y-i.y},a={x:r.x-i.x,y:r.y-i.y},o={x:e.x-t.x,y:e.y-t.y},s=a.x*o.y-a.y*o.x,l=s*s,f=a.x*a.x+a.y*a.y,h=o.x*o.x+o.y*o.y,c=null;if(l>xE*f*h){var v=(n.x*o.y-n.y*o.x)/s,x=(n.x*a.y-n.y*a.x)/s;sd(v,0,1)&&sd(x,0,1)&&(c={x:i.x+v*a.x,y:i.y+v*a.y})}return c}function bE(i,r){for(var t=!1,e=0,n=r.length-1;e<r.length;n=e++){var a=r[e].x,o=r[e].y,s=r[n].x,l=r[n].y,f=o>i.y!=l>i.y&&i.x<=(s-a)*(i.y-o)/(l-o)+a;f&&(t=!t)}return t}function xl(i){return i*i}function bl(i,r){return Math.sqrt(xl(i.x-r.x)+xl(i.y-r.y))}function ld(i,r){return Math.sqrt(xl(i.x-r.x)+xl(i.y-r.y))}function ud(i,r,t){var e=bl(r,t);if(e===0)return bl(i,r);var n=((i.x-r.x)*(t.x-r.x)+(i.y-r.y)*(t.y-r.y))/e;n=Math.max(0,Math.min(1,n));var a=bl(i,{x:r.x+n*(t.x-r.x),y:r.y+n*(t.y-r.y)});return Math.sqrt(a)}function fd(i,r){var t=Infinity;(0,u.each)(r,function(h){var c=Math.sqrt(bl(h,i));t>c&&(t=c)});for(var e=0,n=r.length-1;e<r.length;n=e++){var a=r[e].x,o=r[e].y,s=r[n].x,l=r[n].y,f=ud(i,{x:a,y:o},{x:s,y:l});t>f&&(t=f)}return t}function wE(i,r){for(var t=0,e=i;t<e.length;t++){var n=e[t],a=bE(n,r);if(a)return!0}return!1}function hd(i,r){if(wE(i,r))return 0;var t=Infinity,e=Infinity;return(0,u.each)(i,function(n){var a=fd(n,r);t>a&&(t=a)}),(0,u.each)(r,function(n){var a=fd(n,i);e>a&&(e=a)}),Math.min(t,e)}function SE(i){var r=i.getBBox(),t=r.minX,e=r.minY,n=r.maxX-r.minX,a=r.maxY-r.minY,o=i.attr("matrix"),s;o?s=[o[0],o[1],0,o[3],o[4],0,0,0,1]:s=[1,0,0,0,1,0,0,0,1];var l=ml({x:0,y:0},s);l.x+=t,l.y+=e;var f=ml({x:n,y:0},s);f.x+=t,f.y+=e;var h=ml({x:0,y:a},s);h.x+=t,h.y+=e;var c=ml({x:n,y:a},s);c.x+=t,c.y+=e;var v=[l,f,h,c];v.sort(function(te,Wt){return te.y-Wt.y});var x=v[0].y,A=v[v.length-1].y,B=[v[0],v[1]],G=[v[2],v[3]],H=B[0].x<B[1].x?B[0]:B[1],X=B[0].x<B[1].x?B[1]:B[0],ut=G[0].x<G[1].x?G[0]:G[1],ft=G[0].x<G[1].x?G[1]:G[0];v.sort(function(te,Wt){return te.x-Wt.x});var xt=v[0].x,Yt=v[v.length-1].x,Kt={width:Yt-xt,height:A-x,left:xt,right:Yt,top:x,bottom:A,topLeft:H,topRight:X,bottomLeft:ut,bottomRight:ft,centerX:xt+(Yt-xt)/2,centerY:x+(A-x)/2};return Kt}var CE=2;function kf(i){return i.length<5?i:Bf(i,CE)}function Bf(i,r){for(var t,e=-Infinity,n=0,a=i.length-1,o=1;o<a;o++){var s=i[o],l={start:i[0],end:i[a]},f=ud(s,l.start,l.end);f>e&&(e=f,n=o)}if(e>r){var h=Bf(i.slice(0,n+1),r),c=Bf(i.slice(n,i.length),r);t=h.concat(c)}else t=[i[0],i[i.length-1]];return t}function cd(i){var r=(0,u.clone)(i);r.sort(function(e,n){return e-n});var t=Math.floor(r.length/2);return r.length%2?r[t]:(r[t-1]+r[t])/2}function ME(i){var r=0;return(0,u.each)(i,function(t){r+=t}),r/i.length}function vd(i){return Math.ceil(Math.log(i.length)/Math.LN2)+1}function EE(i,r,t,e,n){n===void 0&&(n=2);for(var a=[],o=i;o<=i+t;o+=n)a.push([o,r]);for(var s=r;s<=r+e;s+=n)a.push([i+t,s]);for(var o=i+t;o>=i;o-=n)a.push([o,r+e]);for(var s=r+e;s>=r;s-=n)a.push([i,s]);return a}var _E=function(){function i(r){(0,u.assign)(this,r),this._init()}return i.prototype._init=function(){var r=this.plot.options,t=r.yField,e=r.data,n=this.plot.processData(e);if(!((0,u.isEmpty)(n)||!(0,u.isNumber)(n[0][t]))){var a=this.getDefaultStyle(),o={type:"line",top:!0,start:this.cfg.start,end:this.cfg.end};if(o.style=(0,u.deepMix)({},a.line.style,this.cfg.lineStyle),o.text=(0,u.deepMix)({},a.text,this.cfg.text),this.cfg.type){var s=this._getState(this.cfg.type),l=this.getYScale(),f=(1-l.scale(s))*100+"%",h=["0%",f],c=["100%",f];this.config=(0,u.mix)({start:h,end:c},o)}else{var v=this.cfg,x=v.start,A=v.end;this.config=(0,u.clone)(o);var B=this.getXScale(),G=this.getYScale(),H=(0,u.clone)(x),X=(0,u.clone)(A);(0,u.each)(x,function(ut,ft){(!(0,u.contains)((0,u.toArray)(x[ft]),"%")||(0,u.isNumber)(x[ft]))&&(ft===0?H[ft]=B.scale(x[0])*100+"%":H[ft]=(1-G.scale(x[1]))*100+"%")}),(0,u.each)(A,function(ut,ft){(!(0,u.contains)((0,u.toArray)(A[ft]),"%")||(0,u.isNumber)(A[ft]))&&(ft===0?X[ft]=B.scale(A[0])*100+"%":X[ft]=(1-G.scale(A[1]))*100+"%")}),this.config.start=H,this.config.end=X}}},i.prototype.getYScale=function(){var r=this._getState("min"),t=this._getState("max"),e=(0,er.getScale)("linear"),n=new e((0,u.mix)({},{min:this.plot.type==="column"?0:r,max:t,nice:!0,values:this.values},this.plot.config.scales[this.plot.options.yField]));return n},i.prototype.getXScale=function(){var r=this.extractXValue();if((0,u.isString)(r[0])){var t=(0,er.getScale)("cat"),e=new t((0,u.mix)({},{values:r},this.plot.config.scales[this.plot.options.xField]));return e}else{var n=Math.min.apply(Math,r),a=Math.max.apply(Math,r),t=(0,er.getScale)("linear"),e=new t((0,u.mix)({},{min:n,max:a,nice:!0,values:r},this.plot.config.scales[this.plot.options.xField]));return e}},i.prototype._getState=function(r){if(this.values=this._extractValues(),r==="median")return cd(this.values);if(r==="mean")return ME(this.values);if(r==="max")return Math.max.apply(Math,this.values);if(r==="min")return Math.min.apply(Math,this.values)},i.prototype._extractValues=function(){var r=this.plot.options,t=r.yField,e=[],n=this.plot.processData(r.data);return(0,u.each)(n,function(a){(0,u.isArray)(a[t])?e.push.apply(e,a[t]):e.push(a[t])}),e},i.prototype.extractXValue=function(){var r=this.plot.options,t=r.xField,e=[],n=this.plot.processData(r.data);return(0,u.each)(n,function(a){(0,u.isArray)(a[t])?e.push.apply(e,a[t]):e.push(a[t])}),e},i.prototype.getDefaultStyle=function(){return this.getDefaultTextAlign(),{line:{style:{lineWidth:2,stroke:"#333333",opacity:.7,lineDash:[0,0]}},text:{content:"",offsetY:-5,style:{fontSize:14,stroke:"white",lineWidth:2,textAlign:this.getDefaultTextAlign()}}}},i.prototype.getDefaultTextAlign=function(){var r=this.cfg.text;if(r){if(!r.position||r.position==="start")return"left";if(r.position==="center")return"center";if(r.position==="end")return"right"}},i}(),AE=_E,PE=function(){function i(r){this.config={};var t=r.plot,e=(0,q.__rest)(r,["plot"]);this.plot=t,this.originConfig=e,this.init(r)}return i.prototype.getConfig=function(){return this.config},i.prototype.init=function(r){var t=this;(0,u.assign)(this.config,r),this.config.callback=function(e){return t.parseCallBack(e)}},i.prototype.parseCallBack=function(r){var t=this.originConfig,e=this.plot.getPlotTheme(),n=(0,q.__assign)({},t);return this.parseOffset(t,n),t.position&&((0,u.isFunction)(t.position)?n.position=t.position(r):n.position=t.position),this.parseFormatter(n),t.style&&((0,u.isFunction)(t.style)?n.textStyle=t.style(r):n.textStyle=t.style),n.textStyle=(0,u.deepMix)({},(0,u.get)(e,"label.style"),n.textStyle),t.autoRotate&&(n.autoRotate=t.autoRotate),n},i.prototype.parseOffset=function(r,t){var e=["offset","offsetX","offsetY"],n=0;(0,u.each)(e,function(a){(0,u.has)(r,a)&&(t[a]=r[a],n++)}),n===0&&(0,u.get)(r,"position")==="middle"&&(t.offset=0)},i.prototype.parseFormatter=function(r){var t=this.originConfig;r.content=function(e,n){var a=e[t.fields[0]];return Tf(Of(),ad(t.precision),od(t.suffix),t.formatter?t.formatter:Of())(a,e,n)}},i}(),TE=PE,So,Df;function dd(i,r){So||pd(i),(0,u.each)(So,function(t){var e=gd(t,r),n=e.labelData,a=e.con;if(yd(n,a)){var o=kE();t.shape.attr(o)}})}function OE(i,r){So||pd(i),(0,u.each)(So,function(t,e){var n=gd(t,r),a=n.labelData,o=n.con;if(yd(a,o)){var s=Df[e],l=IE(s);t.shape.attr(l)}})}function pd(i){var r;So=[],Df=[];var t=(r=i.view.getController("axis"))===null||r===void 0?void 0:r.getComponents();(0,u.each)(t,function(e){var n=e.component,a=[],o=LE(i,n),s=n.get("labelRenderer").get("group").get("children");if((0,u.each)(s,function(h){h.type==="text"&&(a.push({shape:h}),Df.push(h.attr()))}),o){var l=o.ticks,f=o.field;(0,u.each)(a,function(h,c){h.value=l[c],h.scaleField=f,h.type=o.type})}So.push.apply(So,a)})}function LE(i,r){var t=i.options,e="y",n=r.get("position");(n==="bottom"||n==="top")&&(e="x");var a=t[e+"Field"];return i.view.get("scales")[a]}function gd(i,r){var t,e=(t={},t[i.scaleField]=i.value,t),n=(0,u.clone)(r);return i.type==="time"&&(0,u.isObject)(r)&&!(0,u.isFunction)(n.exp)&&(n.exp=new Date(n.exp).getTime()),{labelData:e,con:n}}function IE(i){var r=i.opacity||1;return{opacity:r*.2}}function kE(){return{opacity:1,fontWeight:600,fill:"red"}}function yd(i,r){if(!(0,u.isFunction)(r)){var t=r.name,e=r.exp;return i[t]?(0,u.isFunction)(e)?e(i[t]):i[t]===e:!1}return r(i)}var BE={active:dd,selected:dd,disable:OE},DE=function(i){(0,q.__extends)(r,i);function r(){var t=i.call(this)||this;return t._states={},t._stateStack={},t}return r.prototype.setState=function(t,e){this._stateStack[t]=e,this._onUpdate()},r.prototype.getState=function(t){return this._states[t]},r.prototype.getAllStates=function(){return this._states},r.prototype.clear=function(){this._states={},this._stateStack={},this._changeTimer&&(clearTimeout(this._changeTimer),this._changeTimer=null)},r.prototype._onUpdate=function(){var t=this,e=this._stateStack;this._changeTimer&&(clearTimeout(this._changeTimer),this._changeTimer=null),this._changeTimer=setTimeout(function(){(0,u.each)(e,function(n,a){var o=e[a];(!t._states[a]||t._states[a]!==n)&&(t._states[a]=n,t._triggerEvent(a,o))}),t._stateStack={}},16)},r.prototype._triggerEvent=function(t,e){this.emit(t+":change",{name:t,exp:e})},r}(Zt.default),FE=DE;function Va(i,r){if(!(0,u.isFunction)(r)){var t=r.name,e=r.exp;return(0,u.isFunction)(e)?e(i[t]):i[t]===e}return r(i)}var RE=function(){function i(r){this.shapeContainers=[],(0,u.assign)(this,r)}return i.prototype.createStateManager=function(){this.stateManager=new FE},i.prototype.bindStateManager=function(r,t){this.stateManager=r,t.setState&&this._updateStateProcess(t.setState),t.onStateChange&&this._stateChangeProcess(t.onStateChange)},i.prototype.defaultStates=function(r){var t=this;(0,u.each)(r,function(e,n){var a=e.condition,o=e.related;t.setState({type:n,condition:a,related:o})})},i.prototype.setState=function(r){var t=this,e=r.type,n=r.condition,a=r.related;this.shapes=this._getShapes(),this.originAttrs=this._getOriginAttrs(),(0,u.each)(this.shapes,function(o,s){var l=o.get("origin").data,f=(0,u.isArray)(l)?l[0]:l;if(Va(f,n)){var h=r.style?r.style:t._getDefaultStateStyle(e,o),c=t.originAttrs[s],v=void 0;(0,u.isFunction)(h)?v=h(c):v=(0,u.mix)({},c,h),o.attr(v),t.setZIndex(e,o)}}),a&&this._parserRelated(e,a,n),this.plot.canvas.draw()},i.prototype._updateStateProcess=function(r){var t=this;(0,u.each)(r,function(e){var n=e.state,a;(0,u.isFunction)(n)?a=function(o){var s=n(o);t.stateManager.setState(s.name,s.exp)}:a=function(){t.stateManager.setState(n.name,n.exp)},e.event?Wn(t.plot,t._eventParser(e.event),a):a()})},i.prototype._stateChangeProcess=function(r){var t=this;(0,u.each)(r,function(e){t.stateManager.on(e.name+":change",function(n){e.callback(n,t.plot)})})},i.prototype._getShapes=function(){var r=this,t=[],e=this.plot.view.geometries;return(0,u.each)(e,function(n){var a=n.container;r.shapeContainers.push(a),n.destroyed||t.push.apply(t,n.getShapes())}),t},i.prototype._getOriginAttrs=function(){var r=[];return(0,u.each)(this.shapes,function(t){r.push((0,u.clone)(t.attr()))}),r},i.prototype._eventParser=function(r){var t=r.split(":"),e=this.plot.geometryParser("g2",t[0]),n=t[1];return e+":"+n},i.prototype._getDefaultStateStyle=function(r,t){var e=this.plot.theme,n=this.plot.geometryParser("plot",t.name),a=n+"Style";if(e[a]){var o=e[a][r];return(0,u.isFunction)(o)&&(o=o(t.attr())),o}return{}},i.prototype._parserRelated=function(r,t,e){var n=this;(0,u.each)(t,function(a){if(n.plot[a]){var o=KE(a,r);o(n.plot,e)}})},i.prototype.setZIndex=function(r,t){if(r==="active"||r==="selected"){var e=t.get("parent").get("children");e[e.length-1].setZIndex(0),t.setZIndex(1)}},i.prototype.resetZIndex=function(){(0,u.each)(this.shapeContainers,function(r){var t=r.get("children");t.sort(function(e,n){return e._INDEX-n._INDEX})})},i}(),NE=RE,Yo,wl;function md(i,r){Yo||xd(i),(0,u.each)(Yo,function(t,e){var n=t.get("origin");if(Va(n,r)){var a=wl[e],o=(0,u.mix)({},a,{opacity:1});t.attr(o)}})}function GE(i,r){Yo||xd(i),(0,u.each)(Yo,function(t,e){var n=t.get("origin");if(Va(n,r)){var a=wl[e],o=YE(a);t.attr(o)}})}function xd(i){Yo=[],wl=[];var r=i.view.get("elements");(0,u.each)(r,function(t){var e=t.get("labels");e&&(0,u.each)(e,function(n){Yo.push(n),wl.push(n.attr())})})}function YE(i){var r=i.opacity||1;return{opacity:r*.2}}var zE={active:md,selected:md,disable:GE},XE=["xField","yField","angleField"];function bd(i,r){var t=i.options;if(HE(t,r)){var e=t.data;(0,u.each)(e,function(n){if(Va(n,r)){var a=i.view.getXY(n);i.view.on("tooltip:create",function(o){wd(r,o,!1)}),i.view.showTooltip(a)}})}}function VE(i,r){i.view.on("tooltip:change",function(t){wd(r,t,!0)})}function wd(i,r,t){var e=!t,n=(0,u.clone)(r.items);r.items.splice(0),(0,u.each)(n,function(a){var o=a.point._origin;Va(o,i)===e&&r.items.push(a)})}function HE(i,r){var t=WE(i);return!(0,u.isFunction)(r)&&t.indexOf(r.name)}function WE(i){var r=[];return(0,u.each)(XE,function(t){(0,u.has)(i,t)&&r.push(t)}),r}var jE={active:bd,selected:bd,disable:VE},UE={axis:mE,label:TE,guideLine:AE},ZE={tooltip:jE,label:zE,axis:BE};function mi(i,r){var t=UE[i];return new t(r).config}function KE(i,r){return ZE[i][r]}var $E=["start","process","end","reset"],QE=function(){function i(r){var t=this.getDefaultCfg();(0,u.assign)(this,t,r),this.canvas=this.view.canvas,this._eventHandlers=[],this._bindEvents()}return i.prototype.getDefaultCfg=function(){return{startEvent:"mousedown",processEvent:"mousemove",endEvent:"mouseup",resetEvent:"dblclick"}},i.prototype._start=function(r){this.preStart(r),this.start(r),this.afterStart(r)},i.prototype.preStart=function(r){},i.prototype.afterStart=function(r){},i.prototype._process=function(r){this.preProcess(r),this.process(r),this.afterProcess(r)},i.prototype.preProcess=function(r){},i.prototype.process=function(r){},i.prototype.afterProcess=function(r){},i.prototype._end=function(r){this.preEnd(r),this.end(r),this.afterEnd(r)},i.prototype.preEnd=function(r){},i.prototype.end=function(r){},i.prototype.afterEnd=function(r){},i.prototype._reset=function(r){this.preReset(r),this.reset(r),this.afterReset(r)},i.prototype.preReset=function(r){},i.prototype.reset=function(r){},i.prototype.afterReset=function(r){},i.prototype._bindEvents=function(){var r=this;(0,u.each)($E,function(t){var e=r[t+"Event"],n=(0,u.wrapBehavior)(r,"_"+t);r.view.on(e,n),r._eventHandlers.push({type:e,handler:n})})},i.prototype._unbindEvents=function(){var r=this,t=this._eventHandlers;(0,u.each)(t,function(e){r.view.off(e.type,e.handler)})},i.prototype.destroy=function(){this._unbindEvents(),this._reset()},i}(),Ff=QE,JE=function(i){(0,q.__extends)(r,i);function r(t,e,n,a){var o=i.call(this,t)||this;return o.viewLayer=e,o.interactionRange=n,o.interactionConfig=a,o.disposables=[],o}return r.registerInteraction=function(t,e){r.GLOBAL_INTERACTION_MAP[t]=e},r.registerPlotInteraction=function(t,e,n){r.PLOT_INTERACTION_MAP[t]||(r.PLOT_INTERACTION_MAP[t]={}),r.PLOT_INTERACTION_MAP[t][e]=n},r.getInteraction=function(t,e){return e&&r.PLOT_INTERACTION_MAP[e]&&r[e][t]?r.PLOT_INTERACTION_MAP[e][t]:r.GLOBAL_INTERACTION_MAP[t]},r.getInteractionRange=function(t,e){},r.prototype.destroy=function(){(0,u.each)(this.disposables,function(t){t()}),this.disposables=[],this.clear(),i.prototype.destroy.call(this)},r.prototype.getViewLayer=function(){return this.viewLayer},r.prototype.getRange=function(){return this.interactionRange},r.prototype.getInteractionConfig=function(){return this.interactionConfig},r.prototype.addDisposable=function(t){this.disposables.push(t)},r.prototype.render=function(){},r.prototype.start=function(t){},r.GLOBAL_INTERACTION_MAP={},r.PLOT_INTERACTION_MAP={},r}(Ff),ga=JE,Sd=function(i,r,t,e,n){var a=e[0],o=e[1];n===void 0&&(n=!1);var s=(0,u.groupBy)(t,i),l=n?r.slice(r.length-o,r.length-a):r.slice(a,o);return(0,u.flatten)((0,u.map)(l,function(f){return s[f]||[]}))},Aa;(function(i){i.BEFORE_INIT="beforeinit",i.AFTER_INIT="afterinit",i.BEFORE_RENDER="beforerender",i.AFTER_RENDER="afterrender",i.BEFORE_CHANGE_DATA="beforechangedata",i.AFTER_CHANGE_DATA="afterchangedata"})(Aa||(Aa={}));var Sl=4,Cd=8,qE=32,t_=20,e_=999,Cl=function(i){i===void 0&&(i={});var r=(0,q.__assign)({type:"horizontal",categorySize:qE,width:Cd,height:Cd,padding:[0,0,0,0]},i);return i.padding||(r.padding=r.type==="horizontal"?[Sl,0,Sl,0]:[0,Sl,0,Sl]),r},r_=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.onChangeFn=(0,u.throttle)(t.onChange.bind(t),20,{leading:!0}),t}return r.getInteractionRange=function(t,e){var n=Cl(e),a=n.padding,o=a[0],s=a[1],l=a[2],f=a[3];return n.type==="horizontal"?new Nr(t.minX,t.maxY-n.height-o-l,t.width,n.height+o+l):new Nr(t.maxX-n.width-f-s,t.minY,n.width+f+s,t.height)},r.prototype.render=function(){var t=this,e=this.getViewLayer(),n=this.view;this.ratio=0,this.thumbOffset=0;var a=function(){var s=t.view.padding;s==="auto"||(0,u.isEqual)(s,[0,0,0,1])||(t.trackLen?t.renderScrollbar():(t.measureScrollBar(),t.changeViewData(t.getScrollRange(),!0)))},o=function(){t.trackLen=0};n.on(sn.VIEW_LIFE_CIRCLE.AFTER_PAINT,a),this.addDisposable(function(){return n.off(sn.VIEW_LIFE_CIRCLE.AFTER_PAINT,a)}),n.on(sn.VIEW_LIFE_CIRCLE.AFTER_RENDER,a),this.addDisposable(function(){return n.off(sn.VIEW_LIFE_CIRCLE.AFTER_RENDER,a)}),e.on(Aa.BEFORE_CHANGE_DATA,o),this.addDisposable(function(){return e.off(Aa.BEFORE_CHANGE_DATA,o)})},r.prototype.start=function(){},r.prototype.clear=function(){this.scrollbar&&(this.scrollbar.destroy(),this.scrollbar=null),this.container&&(this.container.remove(!0),this.container=null),this.trackLen=null,this.thumbLen=null},r.prototype.renderScrollbar=function(){var t=Cl(this.getInteractionConfig()),e=this.getRange(),n=t.type!=="vertical",a=this.view.coordinateBBox,o=t.padding,s=o[0],l=o[3],f=n?{x:a.minX+l,y:e.minY+s}:{x:e.minX+l,y:a.minY+s};this.scrollbar?(this.scrollbar.update({trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:this.thumbOffset,x:f.x,y:f.y}),this.scrollbar.render()):(this.container=this.canvas.addGroup(),this.scrollbar=new yr.Scrollbar({container:this.container,x:f.x,y:f.y,isHorizontal:n,trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:this.ratio*this.trackLen}),this.scrollbar.init(),this.scrollbar.render(),this.scrollbar.get("group").set("zIndex",e_),this.scrollbar.on("scrollchange",this.onChangeFn))},r.prototype.measureScrollBar=function(){var t=Cl(this.getInteractionConfig()),e=t.padding,n=e[0],a=e[1],o=e[2],s=e[3],l=t.type!=="vertical",f=this.view.coordinateBBox,h=this.view.getXScale(),c=this.view.getYScales().filter(function(v){return v});this.cnt=h.values.length,this.xScaleCfg={field:h.field,values:h.values||[]},this.yScalesCfg=c,this.step=Math.floor((l?f.width:f.height)/t.categorySize),this.trackLen=l?f.width-s-a:f.height-n-o,this.thumbLen=Math.max(this.trackLen*(0,u.clamp)(this.step/h.values.length,0,1),t_)},r.prototype.getScrollRange=function(){var t=Math.floor((this.cnt-this.step)*(0,u.clamp)(this.ratio,0,1)),e=Math.min(t+this.step,this.cnt);return[t,e]},r.prototype.changeViewData=function(t,e){var n=this,a=t[0],o=t[1],s=Cl(this.getInteractionConfig()),l=this.getViewLayer(),f=l.options.meta,h=l.getData(),c=Sd(this.xScaleCfg.field,this.xScaleCfg.values,h,[a,o],s.type==="vertical");this.yScalesCfg.forEach(function(v){var x=(0,u.get)(f,v.field)||{};n.view.scale(v.field,(0,q.__assign)((0,q.__assign)({formatter:v.formatter},x),{type:v.type,min:v.min,max:v.max}))}),e?(this.view.data(c),this.view.render()):this.view.changeData(c)},r.prototype.onChange=function(t){var e=t.ratio,n=t.thumbOffset;this.ratio=e,this.thumbOffset=n;var a=this.view.getOptions().animate;this.view.animate(!1),this.changeViewData(this.getScrollRange(),!0),this.view.animate(a),this.renderScrollbar()},r}(ga),n_=r_,Ml=4,Md=16,Rf=function(i){i===void 0&&(i={});var r=(0,q.__assign)({type:"horizontal",start:0,end:1,width:void 0,height:void 0,padding:[0,0,0,0],backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},trendCfg:{}},i);i.padding||(r.padding=r.type==="horizontal"?[Ml,0,Ml,0]:[0,Ml,0,Ml]),i.height||(r.height=Md),i.width||(r.width=Md);var t=(0,u.clamp)(Math.min(r.start,r.end),0,1),e=(0,u.clamp)(Math.max(r.start,r.end),0,1);return r.start=t,r.end=e,r},i_=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.onChangeFn=(0,u.throttle)(t.onChange.bind(t),20,{leading:!0}),t}return r.getInteractionRange=function(t,e){var n=Rf(e),a=n.padding||[0,0,0,0],o=a[0],s=a[1],l=a[2],f=a[3];if(n.type==="horizontal"){var h=new Nr(t.minX,t.maxY-n.height-o-l,t.width,n.height+o+l);return h}else return new Nr(t.maxX-n.width-f-s,t.minY,n.width+f+s,t.height)},r.prototype.render=function(){var t=this,e=this.getViewLayer(),n=this.view,a=Rf(this.getInteractionConfig());this.curStart=a.start,this.curEnd=a.end,this.xScaleCfg=void 0;var o=function(){var s=t.view.padding;if(!(s==="auto"||(0,u.isEqual)(s,[0,0,0,1]))&&!(0,u.isEmpty)(e.options.data))if(t.xScaleCfg)t.renderSlider();else{var l=n.getXScale();t.xScaleCfg={field:l.field,values:l.values||[]},n.data(t.getSliderData(t.curStart,t.curEnd)),n.render()}};n.on(sn.VIEW_LIFE_CIRCLE.AFTER_PAINT,o),this.addDisposable(function(){return n.off(sn.VIEW_LIFE_CIRCLE.AFTER_PAINT,o)}),n.on(sn.VIEW_LIFE_CIRCLE.AFTER_RENDER,o),this.addDisposable(function(){return n.off(sn.VIEW_LIFE_CIRCLE.AFTER_RENDER,o)})},r.prototype.start=function(){},r.prototype.clear=function(){this.slider&&(this.slider.destroy(),this.slider=null),this.container&&(this.container.remove(!0),this.container=null)},r.prototype.renderSlider=function(){this.slider?(this.slider.update(this.getSliderConfig()),this.slider.render()):(this.container=this.canvas.addGroup(),this.slider=new yr.Slider((0,q.__assign)((0,q.__assign)({},this.getSliderConfig()),{container:this.container})),this.slider.init(),this.slider.render(),this.slider.on("sliderchange",this.onChangeFn))},r.prototype.getSliderConfig=function(){var t=this.view,e=t.coordinateBBox,n=this.getRange(),a=Rf(this.getInteractionConfig()),o=a||{},s=o.padding,l=s===void 0?[0,0,0,0]:s,f=o.backgroundStyle,h=o.foregroundStyle,c=o.handlerStyle,v=o.textStyle,x=o.trendCfg,A=x===void 0?{}:x,B=l[0],G=l[1],H=l[2],X=l[3],ut=this.getSliderMinMaxText(this.curStart,this.curEnd),ft=ut.minText,xt=ut.maxText,Yt={x:e.minX+X,y:n.minY+B,width:e.width-X-G,height:n.height-B-H,start:this.curStart,end:this.curEnd,minText:ft,maxText:xt,backgroundStyle:f,foregroundStyle:h,handlerStyle:c,textStyle:v,trendCfg:(0,q.__assign)((0,q.__assign)({isArea:!1,smooth:!1},A),{data:this.getSliderTrendData()})};return Yt},r.prototype.getSliderTrendData=function(){var t=this.getViewLayer().options,e=t.data,n=t.yField;return(0,u.map)(e,function(a){return a[n]})},r.prototype.getSliderData=function(t,e){var n=this.getViewLayer().getData(),a=(0,u.size)(this.xScaleCfg.values),o=Math.round(t*a),s=Math.max(o+1,Math.round(e*a));return Sd(this.xScaleCfg.field,this.xScaleCfg.values,n,[o,s])},r.prototype.getSliderMinMaxText=function(t,e){var n=this.getViewLayer().options,a=n.data,o=a===void 0?[]:a,s=n.xField,l=(0,u.size)(o),f=Math.round(t*l),h=Math.max(f+1,Math.round(e*l)),c=o.slice(f,h);return{minText:c.length>0?(0,u.head)(c)[s]:"",maxText:c.length>0?(0,u.last)(c)[s]:""}},r.prototype.onChange=function(t){var e=this.view,n=(0,u.clamp)(Math.min(t[0],t[1]),0,1),a=(0,u.clamp)(Math.max(t[0],t[1]),0,1),o=this.getSliderData(n,a),s=this.getSliderMinMaxText(n,a),l=s.minText,f=s.maxText;this.curStart=n,this.curEnd=a,this.slider.update({start:n,end:a,minText:l,maxText:f}),this.slider.render();var h=e.getOptions().animate;e.animate(!1),e.data(o),e.render(),e.animate(h)},r}(ga),a_=i_,o_=function(i){(0,q.__extends)(r,i);function r(t){return i.call(this,(0,u.deepMix)({},t))||this}return r.prototype.renderInner=function(t){var e=this;this.initElement(t),this.updateElement(),this.renderMarker(),t.off("click"),t.on("click",function(){e.emit("click")})},r.prototype.destroy=function(){this.group.off(),i.prototype.destroy.call(this)},r.prototype.initElement=function(t){this.circle=t.addShape("circle",{attrs:{x:this.config.x,y:this.config.y,r:this.config.r,fill:"#607889"}}),this.startMarker=t.addShape("path",{attrs:{path:this.getStartMarkerPath(),fill:"#ffffff"}}),this.pauseGroupMarker=t.addGroup();var e=1/4*this.config.r,n=.5*this.config.r*Math.sqrt(3);this.pauseLeftMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x-(1/4+1/8)*this.config.r,y:this.config.y-n/2,width:e,height:n,fill:"#ffffff"}}),this.pauseRightMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x+1/8*this.config.r,y:this.config.y-n/2,width:e,height:n,fill:"#ffffff"}})},r.prototype.updateElement=function(){this.circle.attr("x",this.config.x),this.circle.attr("y",this.config.y),this.circle.attr("r",this.config.r),this.startMarker.attr("path",this.getStartMarkerPath());var t=1/4*this.config.r,e=.5*this.config.r*Math.sqrt(3);this.pauseLeftMarker.attr("x",this.config.x-(1/4+1/8)*this.config.r),this.pauseLeftMarker.attr("y",this.config.y-e/2),this.pauseLeftMarker.attr("width",t),this.pauseLeftMarker.attr("height",e),this.pauseRightMarker.attr("x",this.config.x+1/8*this.config.r),this.pauseRightMarker.attr("y",this.config.y-e/2),this.pauseRightMarker.attr("width",t),this.pauseRightMarker.attr("height",e)},r.prototype.renderMarker=function(){this.config.isPlay?(this.startMarker.hide(),this.pauseGroupMarker.show()):(this.startMarker.show(),this.pauseGroupMarker.hide())},r.prototype.getStartMarkerPath=function(){var t=.5*this.config.r*Math.sqrt(3);return[["M",this.config.x-t/Math.sqrt(3)/2,this.config.y-t/2],["L",this.config.x+t/Math.sqrt(3),this.config.y],["L",this.config.x-t/Math.sqrt(3)/2,this.config.y+t/2]]},r}(ws),s_=o_,Ed="timelinestart",l_="timelinechange",_d="timelineend",u_="timelineupdate",f_=20,h_=20,c_=function(i){(0,q.__extends)(r,i);function r(t){var e=i.call(this,(0,u.deepMix)({},{speed:1,loop:!1},t))||this;return e.onTimeSelectMouseMove=function(n){n.stopPropagation(),n.preventDefault();var a=(0,u.get)(n,"touches.0.pageX",n.pageX),o=a-e.prevX;e.setTimeSelectX(o),e.prevX=a},e.onTimeSelectMouseUp=function(){e.syncCurrnentTick(),e.emit(_d,null);var n=e.getCanvas().get("container");n&&(n.removeEventListener("mousemove",e.onTimeSelectMouseMove),n.removeEventListener("mouseup",e.onTimeSelectMouseUp),n.removeEventListener("mouseleave",e.onTimeSelectMouseUp),n.removeEventListener("touchmove",e.onTimeSelectMouseMove),n.removeEventListener("touchend",e.onTimeSelectMouseUp),n.removeEventListener("touchcancel",e.onTimeSelectMouseUp))},e.onTimeSelectMouseDown=function(n){var a=n.originalEvent;a.stopPropagation(),a.preventDefault(),e.isPlay===!1?e.emit(Ed,null):(e.isPlay=!1,e.changePlayStatus(!1)),e.prevX=(0,u.get)(a,"touches.0.pageX",a.pageX);var o=e.getCanvas().get("container");o.addEventListener("mousemove",e.onTimeSelectMouseMove),o.addEventListener("mouseup",e.onTimeSelectMouseUp),o.addEventListener("mouseleave",e.onTimeSelectMouseUp),o.addEventListener("touchmove",e.onTimeSelectMouseMove),o.addEventListener("touchend",e.onTimeSelectMouseUp),o.addEventListener("touchcancel",e.onTimeSelectMouseUp)},e}return r.prototype.renderInner=function(t){var e=this.config,n=e.ticks,a=e.defaultCurrentTick;n&&n.length&&(this.currentTick=this.config.ticks.includes(a)?a:n[0],this.renderPlayButton(t),this.renderTimeLine(t),this.renderTimeSelect(t,this.currentTick),this.initEvent())},r.prototype.update=function(t){i.prototype.update.call(this,t),this.emit(u_,this.currentTick)},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.timeLineButton.destroy(),this.timeLineButton.off(),this.timeSelect.off(),this.playHandler&&window.cancelAnimationFrame(this.playHandler)},r.prototype.renderPlayButton=function(t){var e=this.config,n=e.height,a=e.x,o=e.y,s=.8,l=n/2*s;this.timeLineButton?this.timeLineButton.update({x:a+l,y:o+l+n*(1-s)/2,r:l}):(this.timeLineButton=new s_({container:t,x:a+l,y:o+l+n*(1-s)/2,r:l,isPlay:this.isPlay}),this.timeLineButton.init()),this.timeLineButton.render()},r.prototype.getTimeLinePath=function(){var t=this.timeLine,e=t.x,n=t.y,a=t.width,o=t.height,s=o/2;return a>0?"M"+e+", "+n+("A"+s+","+s+" 90 0,0 "+e+","+(n+o))+("L"+(e+a)+", "+(n+o))+("A"+s+","+s+" 90 0,0 "+(e+a)+","+n)+("L"+e+", "+n):[]},r.prototype.renderTimeLine=function(t){var e=this,n=this.config,a=n.width,o=n.height,s=n.ticks,l=n.x,f=n.y;this.timeLine||(this.timeLine={}),this.timeLine.height=o*.15,this.timeLine.x=l+o+f_,this.timeLine.y=f+(o/2-this.timeLine.height/2),this.timeLine.width=a-this.timeLine.x-h_,this.timeLine&&this.timeLine.shape?this.timeLine.shape.attr("path",this.getTimeLinePath()):this.timeLine.shape=t.addShape("path",{attrs:{path:this.getTimeLinePath(),fill:"#607889",opacity:.2}});var h=this.timeLine.width/(s.length-1);this.tickPosList=[],this.timeLine.textList&&this.timeLine.textList.length&&this.timeLine.textList.forEach(function(v){v.destroy()});var c=-Infinity;this.timeLine.textList=s.map(function(v,x){e.tickPosList.push(e.timeLine.x+x*h);var A=t.addShape("text",{attrs:{x:e.timeLine.x+x*h,y:e.timeLine.y+e.timeLine.height+5,text:v,textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35}}),B=A.getBBox();return B.minX>c?(A.show(),c=B.minX+B.width+10):A.hide(),A})},r.prototype.renderTimeSelect=function(t,e){var n=this.config,a=n.ticks,o=n.height,s=this.timeLine.width/(a.length-1),l=(0,u.findIndex)(a,function(v){return v===e}),f=this.timeLine.x+l*s,h=this.config.y+o/2,c=o*.15;this.timeSelect?(this.timeSelect.attr("x",f),this.timeSelect.attr("y",h),this.timeSelect.attr("r",c)):this.timeSelect=t.addShape("circle",{attrs:{x:f,y:h,r:c,fill:"#607889"}}),this.timeSelectText?(this.timeSelectText.attr("x",f),this.timeSelectText.attr("y",h-o*.15-14),this.timeSelectText.attr("text",this.currentTick)):this.timeSelectText=t.addShape("text",{attrs:{x:f,y:h-o*.15-14,text:this.currentTick,textAlign:"center",textBaseline:"top",fill:"#607889"}})},r.prototype.adjustTickIndex=function(t){for(var e=0;e<this.tickPosList.length-1;e++)if(this.tickPosList[e]<=t&&t<=this.tickPosList[e+1])return Math.abs(this.tickPosList[e]-t)<Math.abs(t-this.tickPosList[e+1])?e:e+1},r.prototype.setTimeSelectX=function(t){var e=this.timeSelect.attr("x")+t;e<this.timeLine.x&&(e=this.timeLine.x),e>this.timeLine.x+this.timeLine.width&&(e=this.timeLine.x+this.timeLine.width,this.isPlay&&(this.config.loop?this.timeSelect.attr("x")===this.timeLine.x+this.timeLine.width&&(e=this.timeLine.x):(this.isPlay=!1,this.changePlayStatus()))),this.timeSelect.attr("x",e),this.timeSelectText.attr("x",e);var n=this.adjustTickIndex(e);this.currentTick!==this.config.ticks[n]&&(this.currentTick=this.config.ticks[n],this.timeSelectText.attr("text",this.currentTick),this.emit(l_,this.currentTick)),this.getCanvas().draw()},r.prototype.syncCurrnentTick=function(){var t=this,e=this.config.ticks,n=this.timeLine.width/(e.length-1),a=(0,u.findIndex)(e,function(s){return s===t.currentTick}),o=this.timeLine.x+a*n;this.timeSelect.attr("x",o),this.timeSelectText.attr("x",o),this.getCanvas().draw()},r.prototype.startPlay=function(){var t=this;return window.requestAnimationFrame(function(){var e=t.config,n=e.speed,a=e.ticks,o=t.timeLine.width,s=o/a.length,l=s/(n*1e3/60);t.setTimeSelectX(l),t.isPlay&&(t.playHandler=t.startPlay())})},r.prototype.changePlayStatus=function(t){t===void 0&&(t=!0),this.timeLineButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.emit(Ed,null)):this.playHandler&&(window.cancelAnimationFrame(this.playHandler),t&&(this.syncCurrnentTick(),this.emit(_d,null))),this.getCanvas().draw()},r.prototype.initEvent=function(){var t=this;this.timeLineButton.off("click"),this.timeLineButton.on("click",function(){t.isPlay=!t.isPlay,t.changePlayStatus()}),this.timeSelect.off("mousedown"),this.timeSelect.on("mousedown",function(e){t.onTimeSelectMouseDown(e)})},r}(ws),v_=c_,d_=40;function Ad(i){return(0,q.__assign)({loop:!1,auto:!0,height:d_,padding:[0,20,0,0],speed:2},i)}var p_=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.onChangeFn=(0,u.throttle)(t.onChange.bind(t),20,{leading:!0}),t}return r.getInteractionRange=function(t,e){var n=Ad(e),a=n.padding[0],o=n.padding[2];return new Nr(t.minX,t.maxY-n.height-a-o,t.width,n.height+a+o)},r.prototype.setAnimate=function(t){var e=this.view.geometries;this.view.animate(t),e.forEach(function(n){n.animate(t)})},r.prototype.start=function(){},r.prototype.renderTimeLine=function(){var t=this;this.config=Ad(this.getInteractionConfig());var e=this.view.viewBBox,n=this.config,a=n.loop,o=n.padding,s=n.speed,l=o[0],f=o[1],h=o[2],c=o[3],v=this.getRange(),x=this.getTicks(),A=e.width-c-f,B={x:e.minX+c,y:v.tl.y+l,width:A,height:v.height-l-h,loop:a,ticks:x,speed:s,defaultCurrentTick:x[0]};this.timeline?(0,u.isEqual)(B,this.timeLineConfig)||(this.timeLineConfig=B,this.timeline.update(B)):(this.container=this.canvas.addGroup(),this.timeline=new v_((0,q.__assign)({container:this.container},B)),this.timeline.init(),this.timeline.render(),this.timeline.on("timelinestart",function(){t.originAnimation=t.view.getOptions().animate,t.setAnimate(!0)}),this.timeline.on("timelineend",function(){t.setAnimate(t.originAnimation)}),this.timeline.on("timelinechange",this.onChangeFn),this.timeline.on("timelineupdate",this.onChange.bind(this)),this.view.data(this.getFilterData(x[0])),this.timeLineConfig=B)},r.prototype.onChange=function(t){var e=this.getFilterData(t);this.view.changeData(e)},r.prototype.getFilterData=function(t){var e=this.config.field,n=this.getViewLayer().options.data;return n.filter(function(a){return a[e]===t})},r.prototype.getTicks=function(){var t=this.config.field,e=this.getViewLayer().options.data;return(0,u.uniq)(e.map(function(n){return n[t]}))},r.prototype.render=function(){var t=this;this.firstRender=!0,this.view.on(sn.VIEW_LIFE_CIRCLE.BEFORE_RENDER,function(){t.renderTimeLine()}),this.view.on(sn.VIEW_LIFE_CIRCLE.BEFORE_PAINT,function(){t.renderTimeLine()}),this.view.on(sn.VIEW_LIFE_CIRCLE.AFTER_PAINT,function(){t.config.auto&&t.firstRender&&(t.timeline.isPlay=!0,t.timeline.changePlayStatus()),t.firstRender=!1}),this.view.on(sn.VIEW_LIFE_CIRCLE.AFTER_RENDER,function(){t.config.auto&&t.firstRender&&(t.timeline.isPlay=!0,t.timeline.changePlayStatus()),t.firstRender=!1})},r.prototype.clear=function(){this.timeline&&(this.timeline.destroy(),this.timeline=null),this.container&&(this.container.remove(!0),this.container=null)},r}(ga),g_=p_;function y_(i,r){var t=[1,0,0,0,1,0,0,0,1],e=bn.transform(t,r);i.setMatrix(e)}function zo(i,r){var t=r?(0,u.clone)(r):[1,0,0,0,1,0,0,0,1];return bn.transform(t,i)}function Pd(i,r,t,e){var n=e?(0,u.clone)(e):[1,0,0,0,1,0,0,0,1];n[6]=r,n[7]=t,i.setMatrix(n)}function m_(i,r,t){Wv.translate(i,r,t)}function IG(i,r){Util.rotate(i,r)}var x_=document.createElement("canvas"),Td=x_.getContext("2d"),El=(0,u.memoize)(function(i,r){r===void 0&&(r={});var t=r.fontSize,e=r.fontFamily,n=r.fontWeight,a=r.fontStyle,o=r.fontVariant;return Td.font=[a,o,n,t+"px",e].join(" "),Td.measureText((0,u.isString)(i)?i:"").width},function(i,r){return r?(0,q.__spreadArrays)([i],(0,u.values)(r)).join(""):i}),Od=function(i,r,t){var e=16,n=El("...",t),a;(0,u.isString)(i)?a=i:a=(0,u.toString)(i);var o=r,s=[],l,f;if(El(i,t)<=r)return i;for(;l=a.substr(0,e),f=El(l,t),!(f+n>o&&f>o);)if(s.push(l),o-=f,a=a.substr(e),!a)return s.join("");for(;l=a.substr(0,1),f=El(l,t),!(f+n>o);)if(s.push(l),o-=f,a=a.substr(1),!a)return s.join("");return s.join("")+"..."},Dn;(function(i){i.TOOLTIP_INDICATOR_INNER="tooltip_indicator-inner",i.TOOLTIP_INDICATOR_TITLE="tooltip_indicator-title",i.TOOLTIP_INDICATOR_BODY="tooltip_indicator-body",i.TOOLTIP_INDICATOR_ITEM_GROUP="tooltip_indicator-item-group",i.TOOLTIP_INDICATOR_ITEM_BACKGROUND="tooltip_indicator-item-background",i.TOOLTIP_INDICATOR_ITEM_LINE="tooltip_indicator-item-line",i.TOOLTIP_INDICATOR_ITEM_TITLE="tooltip_indicator-item-title",i.TOOLTIP_INDICATOR_ITEM_BODY="tooltip_indicator-item-body",i.TOOLTIP_INDICATOR_ITEM_VALUE_GROUP="tooltip_indicator-item-value-group",i.TOOLTIP_INDICATOR_ITEM_NAME="tooltip_indicator-item-name",i.TOOLTIP_INDICATOR_ITEM_VALUE="tooltip_indicator-item-value"})(Dn||(Dn={}));var _l;(function(i){i.ON_SELECT_ITEM="onSelectItem"})(_l||(_l={}));var no;(function(i){i[i.LARGE=12]="LARGE",i[i.NORMAL=8]="NORMAL",i[i.SMALL=4]="SMALL"})(no||(no={}));var b_=160,w_=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.curX=0,t.curY=0,t.offsetX=0,t.scrollWidth=0,t.onBodyGroupMousemove=function(e){var n=C_(e.target,function(o){return o.get("name")===Dn.TOOLTIP_INDICATOR_ITEM_GROUP});if(n){var a=n.get("delegateObject");t.doSelectItem(a.item.id)}},t.onWheel=function(e){var n=t.config.width,a=n===void 0?0:n,o=e.deltaX,s=Math.min(t.scrollWidth-a,0)-(t.scrollWidth/2+Math.max(0,(t.scrollWidth-a)/2)),l=Math.max(t.scrollWidth-a,0)+t.scrollWidth/2+Math.max(0,(t.scrollWidth-a)/2),f=(0,u.clamp)(t.offsetX+o,s,l);f!==t.offsetX&&(m_(t.bodyGroup,t.offsetX-f,0),t.offsetX=f)},t}return r.prototype.destroy=function(){this.offEvents(),i.prototype.destroy.call(this)},r.prototype.selectItem=function(t){this.doSelectItem(t)},r.prototype.resetSelect=function(){this.doSelectItem(this.selectedItemId)},r.prototype.initConfig=function(t){var e,n=t.theme,a=n===void 0?{}:n,o={x:0,y:0,title:{text:"",spacingY:no.NORMAL,style:{}},line:{spacingX:no.SMALL,width:2,style:{}},itemTitle:{spacingX:0,spacingY:no.SMALL,style:{}},itemName:{spacingX:no.NORMAL,spacingY:no.SMALL,style:{}},itemValue:{style:{}},itemBackground:{style:{opacity:0,fill:"#000"}},itemSpacing:no.LARGE};this.config=(0,u.deepMix)({},(e=a==null?void 0:a.components)===null||e===void 0?void 0:e.tooltipIndicator,o,t),this.selectedItemId=this.config.selectedItem},r.prototype.renderInner=function(t){var e=this;this.resetRender();var n=this.config,a=n.items,o=n.x,s=n.y,l=[],f=t.addGroup({name:Dn.TOOLTIP_INDICATOR_INNER});this.renderTitle(f),this.bodyGroup=f.addGroup({name:Dn.TOOLTIP_INDICATOR_BODY}),a==null||a.forEach(function(h,c){l.push(e.renderItem(e.bodyGroup,h,c))}),this.layoutItems(f),Pd(f,o,s),this.applyClip(t),this.bindEvents(f)},r.prototype.renderTitle=function(t){var e=this.config.title;if(e==null?void 0:e.text){var n=t.addShape({type:"text",name:Dn.TOOLTIP_INDICATOR_TITLE,attrs:(0,q.__assign)({text:e==null?void 0:e.text,textAlign:"left",textBaseline:"top"},(e==null?void 0:e.style)||{})}),a=n.getBBox();return this.curY+=a.height,this.curY+=e.spacingY||0,n}},r.prototype.renderItem=function(t,e,n){var a=this.config.itemBackground,o=t.addGroup({name:Dn.TOOLTIP_INDICATOR_ITEM_GROUP,delegateObject:{item:e,index:n}}),s=this.curX,l=this.curY,f=o.addShape({name:Dn.TOOLTIP_INDICATOR_ITEM_BACKGROUND,type:"rect",attrs:(0,q.__assign)({x:this.curX,y:this.curY,width:1,height:1},a.style||{})}),h=this.renderLine(o,e);this.renderItemTitle(o,e),this.renderItemValues(o,e);var c=o.getBBox();return h.attr({y2:h.attr("y1")+c.height}),this.curX=s+c.width,this.curX+=this.config.itemSpacing||0,f.attr({width:this.curX-s-f.attr("lineWidth")*2,height:this.curY-l-f.attr("lineWidth")*2}),this.curY=l,o},r.prototype.renderLine=function(t,e){var n=this.config.line,a=n.width||2,o=(0,q.__assign)({x1:this.curX+a/2,y1:this.curY,x2:this.curX+a/2,y2:this.curY,lineWidth:a,stroke:e.color},(n==null?void 0:n.style)||{}),s=t.addShape({name:Dn.TOOLTIP_INDICATOR_ITEM_LINE,type:"line",attrs:o}),l=s.getBBox();return this.curX+=l.width,this.curX+=n.spacingX||0,s},r.prototype.renderItemTitle=function(t,e){var n=this.config.itemTitle,a=Od(e.title,b_,n.style||{}),o=t.addShape({name:Dn.TOOLTIP_INDICATOR_ITEM_TITLE,type:"text",attrs:(0,q.__assign)({x:this.curX,y:this.curY,textAlign:"left",textBaseline:"top",text:a},n.style||{})}),s=o.getBBox();return this.curY+=s.height,this.curY+=n.spacingY||0,o},r.prototype.renderItemValues=function(t,e){var n=this,a,o=t.addGroup({name:Dn.TOOLTIP_INDICATOR_ITEM_BODY}),s=this.curX;return(a=e.values)===null||a===void 0||a.forEach(function(l,f){var h=o.addGroup({name:Dn.TOOLTIP_INDICATOR_ITEM_VALUE_GROUP,delegateObject:{item:e,valueIndex:f}});n.curX=s,n.renderItemValueName(h,l),n.renderItemValueValue(h,l)}),this.layoutItemValues(o),o},r.prototype.renderItemValueName=function(t,e){var n=this.config.itemName;if(e.name){var a=t.addShape({name:Dn.TOOLTIP_INDICATOR_ITEM_NAME,type:"text",attrs:(0,q.__assign)({x:this.curX,y:this.curY,textAlign:"left",textBaseline:"top",text:e.name},n.style||{})}),o=a.getBBox();return e.wrapLine?(this.curY+=o.height,this.curY+=n.spacingY||0):(this.curX+=o.width,this.curX+=n.spacingX||0),a}},r.prototype.renderItemValueValue=function(t,e){var n=this.config,a=n.itemName,o=n.itemValue,s=t.addShape({name:Dn.TOOLTIP_INDICATOR_ITEM_VALUE,type:"text",attrs:(0,q.__assign)({x:this.curX,y:this.curY,textAlign:"left",textBaseline:"top",text:e.value},o.style||{})}),l=s.getBBox();return this.curY+=l.height,this.curY+=a.spacingY||0,s},r.prototype.layoutItems=function(t){var e=t.findAllByName(Dn.TOOLTIP_INDICATOR_BODY)[0],n=t.findAllByName(Dn.TOOLTIP_INDICATOR_ITEM_GROUP);if(!(!e||n.length===0)){var a=e.getBBox();this.scrollWidth=a.width}},r.prototype.layoutItemValues=function(t){var e=t.findAllByName(Dn.TOOLTIP_INDICATOR_ITEM_VALUE_GROUP),n=e.map(function(l){return Nr.fromBBoxObject(l.getBBox())}),a=t.findAllByName(Dn.TOOLTIP_INDICATOR_ITEM_VALUE),o=a.map(function(l){return Nr.fromBBoxObject(l.getBBox())}),s=Math.max.apply(Math,o.map(function(l){return l.maxX}));e.forEach(function(l,f){var h=n[f],c=l.findAllByName(Dn.TOOLTIP_INDICATOR_ITEM_NAME)[0],v=l.findAllByName(Dn.TOOLTIP_INDICATOR_ITEM_VALUE)[0];if(c&&v){var x=Nr.fromBBoxObject(c.getBBox()),A=Nr.fromBBoxObject(v.getBBox());x.height<h.height&&c.attr("y",c.attr("y")+(h.height-x.height)/2),A.height<h.height&&v.attr("y",v.attr("y")+(h.height-A.height)/2),A.maxX<s&&v.attr("x",v.attr("x")+s-A.maxX)}})},r.prototype.applyClip=function(t){var e=this.config,n=e.x,a=e.y,o=e.width,s=e.height,l=t.getBBox();(o||s)&&t.setClip({type:"rect",attrs:{x:n,y:a,width:o||l.width,height:s||l.height}})},r.prototype.doSelectItem=function(t){var e=this,n=this.getGroup(),a=n.findAllByName(Dn.TOOLTIP_INDICATOR_ITEM_GROUP);t!==this.selectedItemId?(a.forEach(function(o){var s=o.get("delegateObject");s&&e.applyItemStyle(o,s.item.id===t?"selected":"inactive")}),this.selectedItemId=t):(a.forEach(function(o){e.applyItemStyle(o)}),this.selectedItemId=void 0),this.emit(_l.ON_SELECT_ITEM,this.selectedItemId)},r.prototype.applyItemStyle=function(t,e){var n=this.config,a=n.line,o=n.itemTitle,s=n.itemName,l=n.itemValue,f=t.findAllByName(Dn.TOOLTIP_INDICATOR_ITEM_LINE)[0],h=t.findAllByName(Dn.TOOLTIP_INDICATOR_ITEM_TITLE)[0],c=t.findAllByName(Dn.TOOLTIP_INDICATOR_ITEM_NAME),v=t.findAllByName(Dn.TOOLTIP_INDICATOR_ITEM_VALUE),x=e&&e+"Style";f&&(f.attr(a.style),f.attr(a[x]||{})),h&&(h.attr(o.style),h.attr(o[x]||{})),c.forEach(function(A){A.attr(s.style),A.attr(s[x]||{})}),v.forEach(function(A){A.attr(l.style),A.attr(l[x]||{})})},r.prototype.bindEvents=function(t){var e=this;this.offEvents();var n=t.findAllByName(Dn.TOOLTIP_INDICATOR_BODY)[0];n.on("mousemove",this.onBodyGroupMousemove),this.addDisposable(function(){n.off("mousemove",e.onBodyGroupMousemove)}),this.gm=new Zv(n),this.wheel=new KM(n),this.wheel.on("wheel",this.onWheel)},r.prototype.offEvents=function(){this.gm&&this.gm.destroy(),this.wheel&&this.wheel.destroy()},r.prototype.resetRender=function(){this.curX=0,this.curY=0,this.offsetX=0},r}(ws),S_=w_;function C_(i,r){for(var t=i;t;){if(r(t))return t;t=t.getParent()}}function M_(i,r){return(0,u.filter)(i.geometries,function(t){return t.type===r})}function io(i,r){return(0,u.head)(M_(i,r))}function E_(i){return(0,u.map)(i.elements,function(r){return r.shape})}function kG(i,r){i.geometries.forEach(r)}function Nf(i,r){i.geometries.forEach(function(t){t.elements.forEach(function(e){r(e)})})}function __(i,r,t){return(0,u.some)(r,function(e){return t(e.get(Ki),i.get(Ki))})}function Al(i,r){var t=i.getBBox(),e=0,n=0;t.minX<r.minX?e=t.minX-r.minX:t.maxX>r.maxX&&(e=t.maxX-r.maxX),e&&i.attr("x",i.attr("x")-e),t.minY<r.minY?n=t.minY-r.minY:t.maxY>r.maxY&&(n=t.maxY-r.maxY),n&&i.attr("y",i.attr("y")-n)}function Gf(i,r,t){t===void 0&&(t=0);var e=Math.max(0,Math.min(i.x+i.width+t,r.x+r.width+t)-Math.max(i.x-t,r.x-t)),n=Math.max(0,Math.min(i.y+i.height+t,r.y+r.height+t)-Math.max(i.y-t,r.y-t));return e*n}function Pl(i,r){var t=i.getBBox();return(0,u.some)(r,function(e){var n=e.getBBox();return Gf(t,n,2)>0})}var Ld=8,Id=function(i){i===void 0&&(i={});var r=(0,q.__assign)({showTotal:!1,showPercent:!1,padding:[Ld,24,Ld,24],height:i.showPercent?72:54},i);return r},Xo;(function(i){i.ACTIVE_ELEMENT="tooltip_indicator_active_element",i.ACTIVE_ELEMENT_BY_X="tooltip_indicator_active_element_by_x"})(Xo||(Xo={}));var A_=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.state="selected",t.isSingle=!1,t}return r.prototype.active=function(){var t=QM.getCurrentElement(this.context);t.hasState("selected")?this.isSingle?this.setStateByX(t):this.setState(t):this.setStateByX(t)},r.prototype.setState=function(t){var e=this;Nf(this.getView(),function(n){n===t?n.hasState(e.state)||n.setState(e.state,!0):n.setState(e.state,!1)}),this.isSingle=!0,this.getView().emit(Xo.ACTIVE_ELEMENT,{element:t,isSingle:!0})},r.prototype.setStateByX=function(t){var e=this,n=this.getXField(),a=t.getData()[n];Nf(this.getView(),function(o){o.getData()[n]===a?o.hasState(e.state)||o.setState(e.state,!0):o.setState(e.state,!1)}),this.isSingle=!1,this.getView().emit(Xo.ACTIVE_ELEMENT_BY_X,{element:t,isSingle:!1})},r.prototype.setStateByField=function(t,e){var n=this,a=this.getView().getXScale().field,o=this.getView().getGroupScales()[0].field;Nf(this.getView(),function(s){var l=s.getData();s.setState(n.state,l[a]===t&&(e===void 0||l[o]===e))})},r.prototype.getView=function(){return this.context.view},r.prototype.getXField=function(){var t=this.context.view;return t.getXScale().field},r}(qr);_r("tooltip-indicator",A_),wn("element-tooltip-indicator",{start:[{trigger:"element:mousemove",action:"tooltip-indicator:active",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"element:touchmove",action:"tooltip-indicator:active",throttle:{wait:50,leading:!0,trailing:!1}}]});var P_=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.onElementActive=function(e){var n=e.element,a=e.isSingle,o=t.view.getXScale(),s=t.view.getXScale().field,l=t.view.getGroupScales()[0].field,f=n.getData(),h=f[s],c=t.getLegendItems(h);t.component.update({items:c,title:{text:o.getText(h)}}),t.component.render(),a&&t.component.selectItem(f[l]),t.curX=h},t.onSelectTooltipIndicatorItem=function(e){t.component&&e&&t.getInteractionAction().setStateByField(t.curX,e)},t}return r.getInteractionRange=function(t,e){var n=Id(e),a=n.padding,o=a[0],s=a[2];return new Nr(t.minX,t.minY,t.width,n.height+o+s)},r.prototype.clear=function(){this.component&&this.component.destroy(),this.container&&this.container.remove(!0),this.component=null,this.container=null},r.prototype.render=function(){var t=this,e=this.view,n=function(){var a=t.view.getXScale(),o=(0,u.last)(a.getTicks()).tickValue,s=t.view.padding;(0,u.isEqual)([0,0,0,0],s)||(t.component?t.updateComponent():(t.createComponent(),t.component.on(_l.ON_SELECT_ITEM,t.onSelectTooltipIndicatorItem)),t.curX=o,t.component.update({title:{text:a.getText(t.curX)}}),t.component.render(),t.getInteractionAction().setStateByField(o))};e.legend(!1),e.removeInteraction("active-region"),e.removeInteraction("tooltip"),e.interaction("element-tooltip-indicator"),e.on(sn.VIEW_LIFE_CIRCLE.AFTER_PAINT,n),e.on(sn.VIEW_LIFE_CIRCLE.AFTER_RENDER,n),e.on(Xo.ACTIVE_ELEMENT,this.onElementActive),e.on(Xo.ACTIVE_ELEMENT_BY_X,this.onElementActive)},r.prototype.getInteractionAction=function(){var t=this.view.interactions["element-tooltip-indicator"];return t&&t.context.getAction("tooltip-indicator")},r.prototype.createComponent=function(){var t=Id(this.getInteractionConfig()).padding,e=t[0],n=t[1],a=t[2],o=t[3],s=this.getLegendItems(),l=this.getRange(),f=this.view.getXScale(),h=(0,u.last)(f.getTicks()).tickValue;this.container=this.canvas.addGroup(),this.component=new S_({container:this.container,x:l.x+o,y:l.y+e,width:l.width-o-n,height:l.height-e-a,theme:this.getViewLayer().getPlotTheme(),items:s}),this.component.init(),this.getInteractionAction().setStateByField(h)},r.prototype.updateComponent=function(){var t=this.getLegendItems();this.component.update({items:t})},r.prototype.getLegendItems=function(t){var e=this.view,n=e.getData(),a=e.getTheme().defaultColor,o=e.getXScale(),s=e.getYScales()[0],l=t||(0,u.last)(o.getTicks()).tickValue,f=e.getLegendAttributes(),h=f.find(function(B){return B.type==="color"}),c=[],v=e.getGroupScales()[0],x=v.field;v&&v.isCategory&&v.getTicks().forEach(function(B){var G=B.text,H=B.tickValue,X=h.mapping(H).join("")||a;c.push({id:H,title:G,color:X,values:[]})});var A=(n==null?void 0:n.filter(function(B){return B[o.field]===l}))||[];return c.forEach(function(B){var G=A.find(function(H){return H[x]===B.id});B.values.push({value:s.formatter?s.formatter(G[s.field]):G[s.field]})}),c},r}(ga),T_=P_;ga.registerInteraction("slider",a_),ga.registerInteraction("scrollbar",n_),ga.registerInteraction("timeline",g_),ga.registerInteraction("tooltip-indicator",T_);var kd=ga,O_=function(){function i(r){this.innerPaddingComponents=[],this.outerPaddingComponents=[],this.plot=r.plot}return i.prototype.registerPadding=function(r,t,e){t===void 0&&(t="outer"),e===void 0&&(e=!1),t==="inner"?e?this.innerPaddingComponents.find(function(n){return n==r})||this.innerPaddingComponents.push(r):this.innerPaddingComponents.push(r):e?this.outerPaddingComponents.find(function(n){return n==r})||this.outerPaddingComponents.push(r):this.outerPaddingComponents.push(r)},i.prototype.getPaddingComponents=function(r){return r===void 0&&(r="outer"),(r==="outer"?this.outerPaddingComponents:this.innerPaddingComponents)||[]},i.prototype.clear=function(){this.innerPaddingComponents=[],this.outerPaddingComponents=(0,u.filter)(this.outerPaddingComponents,function(r){return r.afterRender})},i.prototype.clearOuterComponents=function(){(0,u.each)(this.outerPaddingComponents,function(r){r.afterRender&&r.destroy()}),this.outerPaddingComponents=[]},i.prototype.getPadding=function(){var r=this.plot.options,t=r.padding?r.padding:this.plot.config.theme.padding;return t==="auto"?[0,0,0,1]:t},i.prototype.processAutoPadding=function(){var r=this._getInnerAutoPadding();this.plot.updateConfig({padding:r}),this.plot.render()},i.prototype.processOuterPadding=function(){this.plot.layerBBox||(this.plot.layerBBox=new Nr(this.plot.x,this.plot.y,this.plot.width,this.plot.height));var r=this.plot.layerBBox.minX,t=this.plot.layerBBox.maxX,e=this.plot.layerBBox.minY,n=this.plot.layerBBox.maxY;return(0,u.each)(this.outerPaddingComponents,function(a){var o=a.position;if(!a.destroyed){var s=a.getBBox(),l=s.minX,f=s.maxX,h=s.minY,c=s.maxY;c>=e&&c<=n&&o==="top"&&(e=c),h>=e&&h<=n&&o==="bottom"&&(n=h),f>r&&f<=t&&o==="left"&&(r=f),l>=r&&f<=t&&o==="right"&&(t=l)}}),new Nr(r,e,t-r,n-e)},i.prototype._getInnerAutoPadding=function(){var r,t=this.plot.options,e=this.plot.view,n=e.coordinateBBox,a=n.maxX,o=n.maxY,s=n.minY,l=n.minX,f=this.plot.config.theme.bleeding;(0,u.isArray)(f)&&(0,u.each)(f,function(B,G){typeof f[G]=="function"&&(f[G]=f[G](t))}),this.bleeding=(0,u.clone)(f);var h=[new Nr(n.minX,n.minY,n.width,n.height)];((r=this.plot.config.coordinate)===null||r===void 0?void 0:r.type)==="cartesian"&&this._getCartesianAxis(e,h[0],h);var c=this._mergeBBox(h);this._getLegend(e,c,h),c=this._mergeBBox(h);var v=this.innerPaddingComponents;(0,u.each)(v,function(B){var G=B,H=G.getBBox();h.push(H)}),c=this._mergeBBox(h);var x=[s-c.minY+this.bleeding[0],c.maxX-a+this.bleeding[1],c.maxY-o+this.bleeding[2],l-c.minX+this.bleeding[3]],A=this._getPanel(e);return x[0]+=A[0],x[1]+=A[1],x[2]+=A[2],x[3]+=A[3],x},i.prototype._getCartesianAxis=function(r,t,e){var n=fE(r),a=r.getCoordinate().isTransposed;(0,u.each)(n,function(o){if(o.get("group").get("children").length!==0){var s=o.get("position"),l=o.getLayoutBBox(),f=l.minX,h=l.minY,c=l.width,v=l.height;a?s==="bottom"?e.push(new Nr(t.minX-c,h,c,v)):s==="left"?e.push(new Nr(f,t.maxY,c,v)):s==="top"&&e.push(new Nr(t.maxX,h,c,v)):s==="left"?e.push(new Nr(t.minX-c,h,c,v)):s==="bottom"?e.push(new Nr(f,t.maxY,c,v)):s==="right"&&e.push(new Nr(t.maxX,h,c,v))}})},i.prototype._getLegend=function(r,t,e){var n=hE(r);(0,u.each)(n,function(a){var o=a.get("position").split("-")[0],s=a.getLayoutBBox(),l=s.minX,f=s.minY,h=s.width,c=s.height;o==="top"?e.push(new Nr(l,t.minY-c,h,c)):o==="bottom"?e.push(new Nr(l,t.maxY,h,c)):o==="left"?e.push(new Nr(t.minX-h,f,h,c)):e.push(new Nr(t.maxX,f,h,c))})},i.prototype._getPanel=function(r){var t=[],e=r.geometries;(0,u.each)(e,function(A){A.labelsContainer&&t.push(A.labelsContainer)});var n=Infinity,a=-Infinity,o=Infinity,s=-Infinity;(0,u.each)(t,function(A){var B=A.get("children");B.forEach(function(G){if(!(G.type==="group"&&G.get("children").length===0)){var H=G.getBBox();H.minX<n&&(n=H.minX),H.maxX>a&&(a=H.maxX),H.minY<o&&(o=H.minY),H.maxY>s&&(s=H.maxY)}})});var l=r.coordinateBBox,f=Math.max(a-parseFloat(l.maxX),0);if(f>0){var h=l.width/(l.width+f);f*=h}var c=Math.max(parseFloat(l.minX)-n,0);if(c>0){var h=l.width/(l.width+c);c*=h}var v=Math.max(parseFloat(l.minY)-o,0);if(v>0){var h=l.height/(l.height+v);v*=h}var x=Math.max(s-parseFloat(l.maxY),0);if(x>0){var h=l.height/(l.height+x);x*=h}return[v,f,x,c]},i.prototype._mergeBBox=function(r){var t=Infinity,e=-Infinity,n=Infinity,a=-Infinity;return(0,u.each)(r,function(o){var s=o;t=Math.min(s.minX,t),e=Math.max(s.maxX,e),n=Math.min(s.minY,n),a=Math.max(s.maxY,a)}),{minX:t,maxX:e,minY:n,maxY:a}},i}(),L_=O_,I_="#5B8FF9",k_=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"],B_=["#5B8FF9","#BDD2FD","#5AD8A6","#BDEFDB","#5D7092","#C2C8D5","#F6BD16","#FBE5A2","#E8684A","#F6C3B7","#6DC8EC","#B6E3F5","#9270CA","#D3C6EA","#FF9D4D","#FFD8B8","#269A99","#AAD8D8","#FF99C3","#FFD6E7"],Bd=function(i){return i&&i.split("-")[0]==="top"?12:24},Dd=function(i){var r=i.title&&i.title.visible,t=i.description&&i.description.visible;return r||t?12:24},Fd=function(i){return(0,u.some)(i.interactions||[],function(r){return(r.type==="slider"||r.type==="scrollbar")&&(r.cfg&&r.cfg.type)!=="vertical"})?8:24},Rd={width:400,height:400,bleeding:[Dd,24,Fd,24],padding:"auto",defaultColor:I_,colors:k_,colors_20:B_,title:{padding:[24,24,24,24],fontFamily:"PingFang SC",fontSize:18,fill:"black",textAlign:"left",textBaseline:"top",lineHeight:20,alignWithAxis:!1},description:{padding:[10,24,Bd,24],fontFamily:"PingFang SC",fontSize:12,fill:"grey",textAlign:"left",textBaseline:"top",lineHeight:16,alignWithAxis:!1},axis:{y:{visible:!0,position:"left",autoRotateTitle:!0,grid:{visible:!0,line:{style:{stroke:"rgba(0, 0, 0, 0.15)",lineWidth:1,lineDash:[0,0]}}},line:{visible:!1,style:{stroke:"rgba(0, 0, 0, 0.45)",lineWidth:1}},tickLine:{visible:!1,style:{stroke:"rgba(0,0,0,0.45)",lineWidth:.5,length:4}},label:{visible:!0,offset:8,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12},autoRotate:!1,autoHide:!0},title:{visible:!1,spacing:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12,textBaseline:"bottom"}}},x:{visible:!0,position:"bottom",autoRotateTitle:!1,grid:{visible:!1,line:{style:{stroke:"rgba(0, 0, 0, 0.15)",lineWidth:1,lineDash:[0,0]}}},line:{visible:!1,style:{stroke:"rgba(0, 0, 0, 0.45)",lineWidth:1}},tickLine:{visible:!0,style:{length:4,stroke:"rgba(0, 0, 0, 0.45)",lineWidth:.5}},label:{visible:!0,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12},offset:16,autoRotate:!0,autoHide:!0},title:{visible:!1,spacing:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12}}},circle:{autoHideLabel:!1,grid:{line:{style:{lineDash:null,lineWidth:1,stroke:"rgba(0, 0, 0, 0.15)"}}},line:{style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)"}},tickLine:{style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)",length:4,alignWithLabel:!0}},label:{offset:16,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12},autoRotate:!0,autoHide:!0},title:{offset:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12}}},radius:{label:{textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12}}}},legend:{flipPage:!1,position:"bottom",innerPadding:[16,16,16,16],margin:[0,24,24,24]},label:{offset:12,textStyle:{fill:"#595959"},style:{fill:"#595959",stroke:"#ffffff",lineWidth:2}},tooltip:{"g2-tooltip":{boxShadow:"0px 0px 8px rgba(0,0,0,0.15)"},offset:10},components:{legend:{margin:[0,24,24,24]},tooltipIndicator:{title:{style:{fontSize:14,fill:"#262626"}},line:{style:{opacity:1},inactiveStyle:{opacity:.3}},itemTitle:{style:{fontSize:12,fill:"#8C8C8C",opacity:1},inactiveStyle:{opacity:.3}},itemName:{style:{fontSize:12,fill:"#8C8C8C",opacity:1},inactiveStyle:{opacity:.3}},itemValue:{style:{fontSize:14,fontWeight:"bold",fill:"#595959",opacity:1},inactiveStyle:{opacity:.3}}}}},D_={backgroundStyle:{fill:"#262626"},defaultColor:"#5B8FF9",width:400,height:400,bleeding:[Dd,24,Fd,24],padding:"auto",title:{padding:[24,24,24,24],fontFamily:"PingFang SC",fontSize:18,fontWeight:"bold",fill:"rgba(255,255,255,0.65)",stroke:"rgba(0,0,0,0.95)",textAlign:"left",textBaseline:"top",lineHeight:20,alignWithAxis:!1},description:{padding:[10,24,Bd,24],fontFamily:"PingFang SC",fontSize:12,fill:"rgba(255, 255, 255, 0.65)",stroke:"rgba(0,0,0,0.95)",textAlign:"left",textBaseline:"top",lineHeight:16,alignWithAxis:!1},axis:{y:{visible:!0,position:"left",autoRotateTitle:!0,grid:{visible:!0,line:{style:{stroke:"rgba(255, 255, 255, 0.15)",lineWidth:1,lineDash:null}}},line:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)",lineWidth:1}},tickLine:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)",lineWidth:.5,length:4}},label:{visible:!0,offset:8,autoRotate:!1,autoHide:!0,textStyle:{fill:"rgba(255, 255, 255, 0.45)",fontSize:12}},title:{visible:!1,spacing:12,style:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12,textBaseline:"bottom"}}},x:{visible:!0,position:"bottom",autoRotateTitle:!1,grid:{visible:!1,line:{style:{stroke:"rgba(255, 255, 255, 0.15)",lineWidth:1,lineDash:null}}},line:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)"}},tickLine:{visible:!0,style:{length:4,stroke:"rgba(255, 255, 255, 0.45)",lineWidth:.5}},label:{visible:!0,textStyle:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12},offset:16,autoHide:!0,autoRotate:!0},title:{visible:!1,spacing:12,style:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12}}},circle:{autoRotateTitle:!0,grid:{style:{lineDash:null,lineWidth:1,stroke:"#E3E8EC"}},line:{style:{lineWidth:1,stroke:"#BFBFBF"}},tickLine:{style:{lineWidth:1,stroke:"#bdc8d3",length:4,alignWithLabel:!0}},label:{offset:16,textStyle:{fill:"#a0a4aa",fontSize:12},autoRotate:!0,autoHide:!0},title:{offset:12,style:{fill:"#767b84",fontSize:12}}},radius:{label:{offset:12,textStyle:{fill:"#a0a4aa",fontSize:12}}}},legend:{flipPage:!1,position:"bottom",innerPadding:[16,16,16,16],title:{visible:!1,style:{fill:"#bdc8d3"}},text:{style:{fill:"#bdc8d3"}}},label:{offset:12,textStyle:{fill:"rgba(255, 255, 255, 0.65)"},style:{fill:"rgba(255, 255, 255, 0.65)",lineWidth:1}},components:{tooltip:{domStyles:{"g2-tooltip":{backgroundColor:"rgba(33,33,33, 0.95)",boxShadow:"0px 0px 8px rgba(0,0,0,0.65)",color:"rgba(255, 255, 255, 0.65)"}}}}},Nd={default:Rd,dark:D_};function BG(i,r){var t=Ai();Nd[i.toLowerCase()]=deepMix({},t,r)}function Ai(i){i===void 0&&(i="default");var r=Nd[i.toLowerCase()];return r||(console.warn("error in theme: Can't find the theme named %s. Please register theme first.",i),Rd)}var Gd={};function Yd(i,r){var t={lineStyle:"line.line",columnStyle:"interval.rect",pointStyle:"point.circle"},e={};i==="area"&&(t={areaStyle:"area.area",lineStyle:"area.line",pointStyle:"point.circle"});var n={};return(0,u.each)(r,function(a,o){var s;if((0,u.has)(t,o)){var l=t[o];(0,u.each)(a,function(f,h){(0,u.set)(n,l+"."+[h==="normal"?"default":h==="disable"?"inactive":h]+".style",f)})}else e=(0,u.deepMix)({},e,(s={},s[o]=a,s))}),(0,u.isEmpty)(n)||(e=(0,u.deepMix)({},e,{geometries:n})),e}function zi(i,r){Gd[i.toLowerCase()]=Yd(i,r)}function zd(i){return Gd[i.toLowerCase()]||{}}function F_(i){var r=(0,u.clone)(i);return r.legend||(r.legend={}),r}var Yf={axis:{x:{category:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"textWrapper",option:{lineNumber:2}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"textAbbreviate",option:{abbreviateBy:"end"}},{name:"textHide"}]}},linear:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"nodesResampling",option:{keep:["end"]}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"robustAbbrevaite",option:{unit:"thousand",decimal:1,abbreviateBy:"end"}},{name:"textHide"}]}},dateTime:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"datetimeStringAbbrevaite"},{name:"nodesResamplingByAbbrevate",option:{keep:["end"]}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"nodesResampling"},{name:"nodesResampling"},{name:"textHide"}]}}},y:{linear:{constraints:[{name:"elementDistVertical"},{name:"elementWidth"}],rules:{elementDistVertical:[{name:"nodesResampling"},{name:"textHide"}],elementWidth:[{name:"digitsAbbreviate"},{name:"textHide"}]}},category:{constraints:[{name:"elementDistVertical"},{name:"elementWidth"}],rules:{elementDistVertical:[{name:"nodesResampling"},{name:"textHide"}],elementWidth:[{name:"textAbbreviate",option:{abbreviateBy:"end"}},{name:"textHide"}]}}}}},Xd={default:Yf};function Vd(i,r){Xd[i.toLowerCase()]=(0,u.deepMix)({},Yf,r)}function Hd(i){var r=Xd[i.toLowerCase()];return r||Yf}var R_=St(),N_=function(){function i(){}return i.getGlobalTheme=function(r){return(0,u.isString)(r)?Ai(r):(0,u.deepMix)({},Ai(),r)},i.prototype.getPlotTheme=function(r,t){var e=r.theme;return(0,u.isString)(e)?(0,u.deepMix)({},Ai(e),zd(t)):(0,u.deepMix)({},Ai(),zd(t),Yd(t,e))},i.prototype.getTheme=function(r,t){var e=F_(this.getPlotTheme(r,t)),n=(0,u.deepMix)({},R_,e);return n},i.prototype.getResponsiveTheme=function(r){return Hd(r)||Hd("default")},i}(),zf=N_,G_=function(i){(0,q.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.interactions=[],e.labels=[],e.options=e.getOptions(t),e.initialOptions=(0,u.deepMix)({},e.options),e.paddingController=new L_({plot:e}),e.stateController=new NE({plot:e}),e.themeController=new zf,e}return r.getDefaultOptions=function(){return{renderer:"canvas",title:{visible:!1,alignTo:"left",text:""},description:{visible:!1,text:"",alignTo:"left"},padding:"auto",legend:{visible:!0,position:"bottom-center"},tooltip:{visible:!0,shared:!0,showCrosshairs:!0,crosshairs:{type:"x"},offset:20},xAxis:{visible:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!1,spacing:12}},yAxis:{visible:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},label:{visible:!1},interactions:[{type:"tooltip"},{type:"legend-active"},{type:"legend-filter"}],animation:!0}},r.prototype.getOptions=function(t){var e=this.options||{},n=i.prototype.getOptions.call(this,t),a=this.constructor.getDefaultOptions(t),o=(0,u.reduce)((0,u.flatten)((0,u.map)([n,a,(0,u.hasKey)(t,"interactions")?t:e],function(s){return(0,u.get)(s,"interactions",[])})),function(s,l){var f=(0,u.findIndex)(s,function(h){return h.type===l.type});return f>=0&&s.splice(f,1),(0,q.__spreadArrays)(s,[l])},[]);return(0,u.deepMix)({},n,a,e,t,{interactions:o})},r.prototype.beforeInit=function(){this.emit(Aa.BEFORE_INIT),i.prototype.beforeInit.call(this)},r.prototype.init=function(){var t=this;i.prototype.init.call(this),this.theme=this.themeController.getTheme(this.options,this.type),this.config={data:this.processData(this.options.data),scales:{},legends:{},tooltip:{showTitle:!0},axes:{},coordinate:{type:"cartesian"},geometries:[],annotations:[],interactions:[],theme:this.theme,panelRange:{},animate:{},views:[]},this.paddingController.clear(),this.drawTitle(),this.drawDescription(),this.interaction(),this.coord(),this.scale(),this.axis(),this.tooltip(),this.legend(),this.addGeometry(),this.annotation(),this.animation(),this.viewRange=this.getViewRange();var e=this.viewRangeToRegion(this.viewRange);this.view=new Nu({parent:null,canvas:this.canvas,backgroundGroup:this.container.addGroup(),middleGroup:this.container.addGroup(),foregroundGroup:this.container.addGroup(),padding:this.paddingController.getPadding(),theme:this.theme,options:this.config,limitInPlot:this.isLimitInPlot(),region:e}),this.applyInteractions(),this.view.on(sn.VIEW_LIFE_CIRCLE.AFTER_RENDER,function(){t.afterRender()})},r.prototype.afterInit=function(){i.prototype.afterInit.call(this),!(!this.view||this.view.destroyed)&&(this.options.padding!=="auto"&&this.parseEvents(),this.emit(Aa.AFTER_INIT))},r.prototype.afterRender=function(){var t,e;if(!(!this.view||this.view.destroyed)){var n=this.options,a=n.padding?n.padding:this.config.theme.padding;n.defaultState&&a!=="auto"&&this.stateController.defaultStates(n.defaultState),a==="auto"&&this.paddingController.processAutoPadding(),((e=(t=n.tooltip)===null||t===void 0?void 0:t.custom)===null||e===void 0?void 0:e.onChange)&&n.padding!=="auto"&&this.customTooltip()}},r.prototype.render=function(){this.emit(Aa.BEFORE_RENDER),i.prototype.render.call(this);var t=this.options.data;(0,u.isEmpty)(t)||this.view.render(),this.emit(Aa.AFTER_RENDER)},r.prototype.repaint=function(){this.canvas&&this.canvas.draw()},r.prototype.getScaleByField=function(t){return this.view.getScaleByField(t)},r.prototype.getXScale=function(){var t=this.options.xField;if(t)return this.view.getScaleByField(t)},r.prototype.getYScale=function(){var t=this.options.yField;if(t)return this.view.getScaleByField(t)},r.prototype.getColorScale=function(){var t=this.options;if((0,u.contains)(t,"colorField"))return this.view.getScaleByField(t)},r.prototype.getShapes=function(){var t=this.view.geometries,e={};return(0,u.each)(t,function(n){var a=n.type;e[a]=n.getShapes()}),e},r.prototype.destroy=function(){this.doDestroy(),i.prototype.destroy.call(this)},r.prototype.updateConfig=function(t){this.doDestroy(),!t.padding&&this.initialOptions.padding&&this.initialOptions.padding==="auto"&&(t.padding="auto"),this.options=this.getOptions(t),this.processOptions(this.options)},r.prototype.changeData=function(t){this.emit(Aa.BEFORE_CHANGE_DATA);var e=(0,u.isEmpty)(this.options.data);this.options.data=this.processData(t),e?(this.options.padding=this.initialOptions.padding||"auto",this.view.data(this.options.data),this.view.render()):this.view.changeData(this.options.data),this.emit(Aa.AFTER_CHANGE_DATA)},r.prototype.getPlot=function(){return this.view},r.prototype.getLabels=function(){return this.labels},r.prototype.getTheme=function(){return this.theme?this.theme:this.themeController.getTheme(this.options,this.type)},r.prototype.getResponsiveTheme=function(){return this.themeController.getResponsiveTheme(this.type)},r.prototype.getPlotTheme=function(){return this.themeController.getPlotTheme(this.options,this.type)},r.prototype.getInteractions=function(){return this.interactions},r.prototype.bindStateManager=function(t,e){this.stateController.bindStateManager(t,e)},r.prototype.setActive=function(t,e){this.stateController.setState({type:"active",condition:t,style:e})},r.prototype.setSelected=function(t,e){this.stateController.setState({type:"selected",condition:t,style:e})},r.prototype.setDisable=function(t,e){this.stateController.setState({type:"disable",condition:t,style:e})},r.prototype.setDefault=function(t,e){this.stateController.setState({type:"default",condition:t,style:e})},r.prototype.getData=function(t,e){return this.processData((this.options.data||[]).slice(t,e))},r.prototype.processData=function(t){return t},r.prototype.scale=function(){var t=(0,u.mapValues)(this.config.scales,function(n){var a=n.type;return a?{type:a}:{}}),e=(0,u.deepMix)({},this.config.scales,this.options.meta||{},t);this.setConfig("scales",e)},r.prototype.axis=function(){var t=mi("axis",{plot:this,dim:"x"}),e=mi("axis",{plot:this,dim:"y"}),n={};n[this.options.xField]=t,n[this.options.yField]=e,this.setConfig("axes",n)},r.prototype.tooltip=function(){var t,e;if(this.options.tooltip.visible===!1){this.setConfig("tooltip",!1);return}var n=(0,u.get)(this.options,"tooltip");((t=n.custom)===null||t===void 0?void 0:t.container)&&(n.container=n.custom.container),((e=n.custom)===null||e===void 0?void 0:e.customContent)&&(n.customContent=n.custom.customContent),this.setConfig("tooltip",(0,u.deepMix)({},n)),(0,u.deepMix)(this.config.theme.tooltip,this.options.tooltip.domStyles)},r.prototype.createTooltipContainer=function(){var t=document.createElement("div");return t.className="g2-tooltip",t},r.prototype.customTooltip=function(){var t=this.options.tooltip.custom,e;t.container&&(e=(0,u.isString)(t.container)?document.getElementById(t.container):t.container),e||(e=this.createTooltipContainer()),this.view.on("tooltip:show",function(n){(t==null?void 0:t.onChange)&&t.onChange(e,n)}),this.view.hideTooltip(),this.view.on("tooltip:change",function(n){t.onChange(e,n)})},r.prototype.getLegendPosition=function(t){var e=t.split("-");return e&&e.length>1&&e[1]==="center"?e[0]:t},r.prototype.legend=function(){var t;if(this.options.legend.visible===!1){this.setConfig("legends",!1);return}var e=(0,u.deepMix)({},this.theme.legend,this.options.legend),n={position:this.getLegendPosition((0,u.get)(e,"position")),offsetX:(0,u.get)(e,"offsetX"),offsetY:(0,u.get)(e,"offsetY"),flipPage:(0,u.get)(e,"flipPage"),marker:(0,u.get)(e,"marker"),title:((t=e.title)===null||t===void 0?void 0:t.visible)?(0,u.get)(e,"title"):null,itemName:(0,u.get)(e,"text")};this.setConfig("legends",n)},r.prototype.annotation=function(){var t=this,e=[];this.config.coordinate.type==="cartesian"&&this.options.guideLine&&(0,u.each)(this.options.guideLine,function(n){var a=mi("guideLine",{plot:t,cfg:n});e.push(a)}),this.setConfig("annotations",e)},r.prototype.interaction=function(){var t=this,e=this.options.interactions,n=e===void 0?[]:e;(0,u.each)(n,function(a){var o=a.type;if(o==="slider"||o==="scrollbar"){var s={label:{autoHide:!0,autoRotate:!1}};t.options.xAxis=(0,u.deepMix)({},t.options.xAxis,s)}t.setConfig("interaction",a)})},r.prototype.animation=function(){this.options.animation===!1&&this.setConfig("animate",!1)},r.prototype.applyInteractions=function(){var t=this,e=Nr.fromBBoxObject(this.layerBBox),n=this.title||this.description,a=new Nr(e.minX,e.minY,e.width,n?n.getBBox().maxY:0);e=e.cut(a,sn.DIRECTION.TOP);var o=this.options.interactions,s=o===void 0?[]:o;this.interactions&&this.interactions.forEach(function(l){l.destroy()}),this.interactions=[],s.forEach(function(l){var f=kd.getInteraction(l.type,t.type);if(f){var h=new f({view:t.view},t,f.getInteractionRange(e,l.cfg),l.cfg);h.render(),t.interactions.push(h)}})},r.prototype.setConfig=function(t,e){if(t==="geometry"){this.config.geometries.push(e);return}if(t==="interaction"){this.config.interactions.push(e);return}if(e===!1){this.config[t]=!1;return}(0,u.assign)(this.config[t],e)},r.prototype.parseEvents=function(t){var e=this,n=this.options;if(n.events){i.prototype.parseEvents.call(this,n.events);var a=t?t.EVENT_MAP:Qr;(0,u.each)(n.events,function(o,s){if((0,u.isFunction)(o)){var l=a[s]||s,f=o;Wn(e,l,f)}})}},r.prototype.drawTitle=function(){var t=this.options,e=this.layerBBox;if(this.title&&(this.title.destroy(),this.title=null),Go(t.title)){var n=this.width,a=this.config.theme,o=new gl({leftMargin:e.minX+a.title.padding[3],rightMargin:e.maxX-a.title.padding[1],topMargin:e.minY+a.title.padding[0],text:t.title.text,style:(0,u.mix)(a.title,t.title.style),wrapperWidth:n-a.title.padding[3]-a.title.padding[1],container:this.container.addGroup(),theme:a,index:Go(t.description)?0:1,plot:this,alignTo:t.title.alignTo,name:"title"});this.title=o,this.paddingController.registerPadding(o,"outer")}},r.prototype.drawDescription=function(){var t=this.options,e=this.layerBBox;if(this.description&&(this.description.destroy(),this.description=null),Go(t.description)){var n=this.width,a=this.config.theme,o=0;if(this.title){var s=this.title.getBBox();o+=s.minY+s.height,o+=a.description.padding[0]}else o+=e.minY+a.title.padding[0];var l=new gl({leftMargin:e.minX+a.description.padding[3],topMargin:o,rightMargin:e.maxX-a.title.padding[1],text:t.description.text,style:(0,u.mix)(a.description,t.description.style),wrapperWidth:n-a.description.padding[3]-a.description.padding[1],container:this.container.addGroup(),theme:a,index:1,plot:this,alignTo:t.description.alignTo,name:"description"});this.description=l,this.paddingController.registerPadding(l,"outer")}},r.prototype.doRenderLabel=function(t,e){(0,u.each)(this.labels,function(s){s.destroy()}),this.labels=[];var n={layer:this,container:t.labelsContainer,geometry:t,label:e},a=gE(e.type);if(a){var o=new a(n);o.init(),o.render(),this.labels.push(o)}},r.prototype.doDestroy=function(){this.doDestroyInteractions(),this.doDestroyLabels(),this.view.destroyed||this.view.destroy()},r.prototype.doDestroyInteractions=function(){this.interactions&&this.interactions.forEach(function(t){t.destroy()}),this.interactions=[]},r.prototype.doDestroyLabels=function(){(0,u.each)(this.labels,function(t){t.destroy()}),this.labels=[]},r.prototype.getViewRange=function(){var t=this,e=this.options.interactions,n=e===void 0?[]:e,a=this.paddingController.processOuterPadding();n.forEach(function(s){var l=kd.getInteraction(s.type,t.type),f=l&&l.getInteractionRange(a,s.cfg),h="";f&&(f.maxY===a.maxY&&f.minY>a.minY?h="bottom":f.maxX===a.maxX&&f.minX>a.minX?h="right":f.minX===a.minX&&f.maxX>a.maxX?h="left":f.minY===a.minY&&f.maxY<a.maxY&&(h="top"),t.paddingController.registerPadding({interaction:s.type,name:s.type,getBBox:function(){return f},position:h},"outer"))});var o=this.paddingController.processOuterPadding();return o},r.prototype.isLimitInPlot=function(){var t=this.options.yAxis;return!!((0,u.hasKey)(t,"max")||(0,u.hasKey)(t,"min")||(0,u.hasKey)(t,"maxLimit")||(0,u.hasKey)(t,"minLimit"))},r.prototype.viewRangeToRegion=function(t){var e=this,n=e.x,a=e.y,o=e.width,s=e.height,l={x:0,y:0},f={x:1,y:1};return l.x=t.minX/(n+o),l.y=t.minY/(a+s),f.x=t.maxX/(n+o),f.y=t.maxY/(a+s),{start:l,end:f}},r}(pl),Fn=G_,Y_=d(91033),z_=function(){function i(r){var t=this;this.onResize=(0,u.debounce)(function(){if(!t.plot.destroyed){var a=t.getCanvasSize(),o=a.width,s=a.height;t.width===o&&t.height===s||(t.width=o,t.height=s,t.plot.updateConfig({width:o,height:s}),t.plot.render())}},300);var e=r.containerDOM,n=r.plot;this.containerDOM=e,this.plot=n,this.init()}return i.prototype.getCanvasSize=function(){var r=Ai(),t=this.plot.width?this.plot.width:r.width,e=this.plot.height?this.plot.height:r.height;return this.plot.forceFit&&(t=this.containerDOM.offsetWidth?this.containerDOM.offsetWidth:t,e=this.containerDOM.offsetHeight?this.containerDOM.offsetHeight:e),{width:t,height:e}},i.prototype.getCanvasDOM=function(){return this.canvas.get("container")},i.prototype.updateCanvasSize=function(){var r=this.getCanvasSize(),t=r.width,e=r.height;this.width=t,this.height=e,this.canvas.changeSize(t,e)},i.prototype.updateCanvasTheme=function(){var r=this.plot.theme,t=zf.getGlobalTheme(r),e=(0,u.get)(t,"backgroundStyle.fill");e&&this.updateCanvasStyle({backgroundColor:e})},i.prototype.updateCanvasStyle=function(r){(0,vt.Z)(this.getCanvasDOM(),r),(0,vt.Z)(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},i.prototype.destroy=function(){this.resizeObserver&&(this.resizeObserver.unobserve(this.containerDOM),this.resizeObserver.disconnect(),this.containerDOM=null),this.canvas.destroy()},i.prototype.bindForceFit=function(){var r=this.plot.forceFit;r&&(this.resizeObserver=new Y_.Z(this.onResize),this.resizeObserver.observe(this.containerDOM))},i.prototype.init=function(){this.initGCanvas(),this.bindForceFit(),this.updateCanvasStyle({position:"relative"})},i.prototype.initGCanvas=function(){var r=this.plot,t=r.renderer,e=t===void 0?"canvas":t,n=r.pixelRatio,a=r.localRefresh,o=a===void 0?!1:a,s=this.getCanvasSize(),l=s.width,f=s.height,h=e==="canvas"?Kc:iv;this.canvas=new h({localRefresh:o,container:this.containerDOM,width:l,height:f,pixelRatio:n}),this.width=l,this.height=f,this.updateCanvasTheme()},i}(),X_=z_;function V_(i,r){return!!(i&&r&&i===r)}function H_(i,r){return i.x>=r.minX&&i.x<=r.maxX&&i.y>=r.minY&&i.y<=r.maxY}var W_=function(){function i(r){this.plot=r.plot,this.canvas=r.canvas,this.eventHandlers=[]}return i.prototype.bindEvents=function(){this.addEvent(this.canvas,"mousedown",(0,u.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"mousemove",(0,u.wrapBehavior)(this,"onMove")),this.addEvent(this.canvas,"mouseup",(0,u.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"click",(0,u.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"dblclick",(0,u.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"contextmenu",(0,u.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"wheel",(0,u.wrapBehavior)(this,"onEvents"))},i.prototype.clearEvents=function(){var r=this.eventHandlers;(0,u.each)(r,function(t){t.target.off(t.type,t.handler)})},i.prototype.addEvent=function(r,t,e){r.on(t,e),this.eventHandlers.push({target:r,type:t,handler:e})},i.prototype.onEvents=function(r){var t=this.getEventObj(r),e=r.target;!this.isShapeInView(e)&&e.name&&this.plot.emit(e.name+":"+r.type,r),this.plot.emit(""+r.type,t);var n=this.plot.getLayers();n.length>0&&this.onLayerEvent(n,t,r.type)},i.prototype.onMove=function(r){var t=r.target,e=this.getEventObj(r);!this.isShapeInView(t)&&t.name&&(this.plot.emit(t.name+":"+r.type,e),this.lastShape&&!V_(t,this.lastShape)&&(this.lastShape&&this.plot.emit(this.lastShape.name+":mouseleave",e),this.plot.emit(t.name+":mouseenter",e)),this.lastShape=t),this.plot.emit("mousemove",e);var n=this.plot.getLayers();n.length>0&&this.onLayerEvent(n,e,"mousemove")},i.prototype.isShapeInView=function(r){for(var t=["frontgroundGroup","backgroundGroup","panelGroup"],e=r.get("parent");e;){var n=e.get("name");if(n&&(0,u.contains)(t,n))return!0;e=e.get("parent")}return!1},i.prototype.getEventObj=function(r){var t={clientX:r.clientX,clientY:r.clientY,x:r.x,y:r.y,plot:this.plot,data:r.data?r.data.data:null,canvas:this.canvas,target:r.target,gEvent:r};return t},i.prototype.onLayerEvent=function(r,t,e){var n=this;(0,u.each)(r,function(a){var o=a.getGlobalBBox();if(H_({x:t.x,y:t.y},o)){a.emit(""+e,t);var s=a.layers;s.length>0&&n.onLayerEvent(s,t,e)}})},i}(),j_=W_,Wd={};function Wr(i,r){Wd[i.toLowerCase()]=r}function U_(i){return Wd[i.toLowerCase()]}var Z_=function(i){(0,q.__extends)(r,i);function r(t,e){var n=i.call(this)||this;return n.containerDOM=typeof t=="string"?document.getElementById(t):t,n.forceFit=(0,u.isNil)(e.forceFit)?(0,u.isNil)(e.width)&&(0,u.isNil)(e.height):e.forceFit,n.renderer=e.renderer||"canvas",n.pixelRatio=e.pixelRatio||null,n.width=e.width,n.height=e.height,n.theme=e.theme,n.localRefresh=e.localRefresh,n.canvasController=new X_({containerDOM:n.containerDOM,plot:n}),n.width=n.canvasController.width,n.height=n.canvasController.height,n.canvas=n.canvasController.canvas,n.layers=[],n.destroyed=!1,n.createLayers(e),n.eventController=new j_({plot:n,canvas:n.canvasController.canvas}),n.eventController.bindEvents(),n.parseEvents(e),n}return r.prototype.destroy=function(){this.eachLayer(function(t){t.destroy()}),this.canvasController.destroy(),this.eventController.clearEvents(),this.layers=[],this.destroyed=!0},r.prototype.repaint=function(){this.canvasController.canvas.draw()},r.prototype.updateConfig=function(t,e){if(e===void 0&&(e=!1),e)this.eachLayer(function(a){a instanceof Fn&&a.updateConfig(t)});else{var n=this.layers[0];n instanceof pl&&n.updateConfig(t)}t.width&&(this.width=t.width),t.height&&(this.height=t.height),t.theme&&(this.theme=t.theme),this.canvasController.updateCanvasSize(),this.canvasController.updateCanvasTheme()},r.prototype.changeData=function(t,e){if(e===void 0&&(e=!1),e)this.eachLayer(function(a){a instanceof Fn&&a.changeData(t)});else{var n=this.layers[0];n instanceof Fn&&n.changeData(t)}},r.prototype.getScaleByField=function(t){return this.layers[0].getScaleByField(t)},r.prototype.getXScale=function(){return this.layers[0].getXScale()},r.prototype.getYScale=function(){return this.layers[0].getYScale()},r.prototype.getColorScale=function(){return this.layers[0].getColorScale()},r.prototype.getPlotTheme=function(){var t=this.layers[0];return t.getPlotTheme()},r.prototype.getData=function(){var t=this.layers[0];return t.getData()},r.prototype.bindStateManager=function(t,e){this.eachLayer(function(n){n instanceof Fn&&n.bindStateManager(t,e)})},r.prototype.setActive=function(t,e){this.eachLayer(function(n){n instanceof Fn&&n.setActive(t,e)})},r.prototype.setSelected=function(t,e){this.eachLayer(function(n){n instanceof Fn&&n.setSelected(t,e)})},r.prototype.setDisable=function(t,e){this.eachLayer(function(n){n instanceof Fn&&n.setDisable(t,e)})},r.prototype.setDefault=function(t,e){this.eachLayer(function(n){n instanceof Fn&&n.setDefault(t,e)})},r.prototype.getView=function(){return this.layers[0].view},r.prototype.getLayer=function(t){return t===void 0&&(t=0),this.layers[t]},r.prototype.getCanvas=function(){return this.canvasController.canvas},r.prototype.getLayers=function(){return this.layers},r.prototype.render=function(){this.eachLayer(function(t){return t.render()})},r.prototype.eachLayer=function(t){(0,u.each)(this.layers,t)},r.prototype.addLayer=function(t){var e=(0,u.findIndex)(this.layers,function(n){return n===t});e<0&&this.layers.push(t)},r.prototype.createLayers=function(t){if(!t.layers){if(t.type){var e=U_(t.type),n=(0,u.deepMix)({},t,{canvas:this.canvasController.canvas,x:0,y:0,width:this.width,height:this.height}),a=new e(n);this.addLayer(a)}}},r.prototype.parseEvents=function(t){var e=this,n=(0,u.keys)(td);t.events&&(0,u.each)(t.events,function(a,o){if((0,u.contains)(n,o)&&(0,u.isFunction)(a)){var s=td[o]||o,l=a;e.on(s,l)}})},r}(Zt.default),Dr=Z_,K_=function(){function i(r){(0,u.assign)(this,r),this.init()}return i.prototype.init=function(){this.config={type:this.type,position:{fields:this.positionFields}}},i}(),Ss=K_,$_=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){var t=this.plot.options;this.config={type:"area",position:{fields:[t.xField,t.yField]},connectNulls:t.connectNulls||!1},t.smooth&&(this.config.shape={values:["smooth"]}),(this._getColorMappingField()||t.color)&&this.parseColor(),(t.areaStyle||t.area&&t.area.style)&&this.parseStyle()},r.prototype.parseColor=function(){var t=this.plot.options,e={},n=this._getColorMappingField();if(n&&(e.fields=n),(0,u.has)(t,"color")){var a=t.color;(0,u.isString)(a)?e.values=[a]:(0,u.isFunction)(a)?e.callback=a:(0,u.isArray)(a)&&(n?e.values=a:a.length>0&&(e.values=[a[0]]))}this.config.color=e},r.prototype.parseStyle=function(){var t=this.plot.options,e=t.areaStyle?t.areaStyle:t.area.style,n={};(0,u.isFunction)(e)&&t.seriesField?(n.fields=[t.seriesField],n.callback=e):n.cfg=e,this.config.style=n},r.prototype._getColorMappingField=function(){for(var t=this.plot.options,e=["stackField","seriesField"],n=0,a=e;n<a.length;n++){var o=a[n];if((0,u.get)(t,o))return[t[o]]}},r}(Ss),jd=$_;function Q_(i,r){var t=[];if(i.length){for(var e=0,n=i.length;e<n;e+=1){var a=i[e],o=e===0?"M":"L";t.push([o,a.x,a.y])}r&&t.push(["Z"])}return t}function Ud(i,r){var t=i.getCenter(),e=Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2));return e}function Xf(i,r){for(var t=[i[0]],e=1,n=i.length;e<n;e=e+2){var a=r.convertPoint({x:i[e],y:i[e+1]});t.push(a.x,a.y)}return t}function J_(i,r,t){var e=t.isTransposed,n=t.startAngle,a=t.endAngle,o={x:i[1],y:i[2]},s={x:r[1],y:r[2]},l=[],f=e?"y":"x",h=Math.abs(s[f]-o[f])*(a-n),c=s[f]>=o[f]?1:0,v=h>Math.PI?1:0,x=t.convertPoint(s),A=Ud(t,x);if(A>=.5)if(h===Math.PI*2){var B={x:(s.x+o.x)/2,y:(s.y+o.y)/2},G=t.convertPoint(B);l.push(["A",A,A,0,v,c,G.x,G.y]),l.push(["A",A,A,0,v,c,x.x,x.y])}else l.push(["A",A,A,0,v,c,x.x,x.y]);return l}function q_(i){each(i,function(r,t){var e=r;if(e[0].toLowerCase()==="a"){var n=i[t-1],a=i[t+1];a&&a[0].toLowerCase()==="a"?n&&n[0].toLowerCase()==="l"&&(n[0]="M"):n&&n[0].toLowerCase()==="a"&&a&&a[0].toLowerCase()==="l"&&(a[0]="M")}})}var tA=function(i,r,t,e){var n=[],a,o,s=!!e,l,f;if(s){l=[Infinity,Infinity],f=[-Infinity,-Infinity];for(var h=0,c=i.length;h<c;h++){var v=i[h];l=xe.min([0,0],l,v),f=xe.max([0,0],f,v)}l=xe.min([0,0],l,e[0]),f=xe.max([0,0],f,e[1])}for(var h=0,x=i.length;h<x;h++){var v=i[h];if(t)a=i[h?h-1:x-1],o=i[(h+1)%x];else if(h===0||h===x-1){n.push(v);continue}else a=i[h-1],o=i[h+1];var A=[0,0];A=xe.sub(A,o,a),A=xe.scale(A,A,r);var B=xe.distance(v,a),G=xe.distance(v,o),H=B+G;H!==0&&(B/=H,G/=H);var X=xe.scale([0,0],A,-B),ut=xe.scale([0,0],A,G),ft=xe.add([0,0],v,X),xt=xe.add([0,0],v,ut);s&&(ft=xe.max([0,0],ft,l),ft=xe.min([0,0],ft,f),xt=xe.max([0,0],xt,l),xt=xe.min([0,0],xt,f)),n.push(ft),n.push(xt)}return t&&n.push(n.shift()),n};function eA(i,r,t){for(var e=!!r,n=[],a=0,o=i.length;a<o;a+=2)n.push([i[a],i[a+1]]);for(var s=tA(n,.4,e,t),l=n.length,f=[],h,c,v,a=0;a<l-1;a++)h=s[a*2],c=s[a*2+1],v=n[a+1],f.push(["C",h[0],h[1],c[0],c[1],v[0],v[1]]);return e&&(h=s[l],c=s[l+1],v=n[0],f.push(["C",h[0],h[1],c[0],c[1],v[0],v[1]])),f}function rA(i,r){return Q_(i,r)}function Vf(i,r,t){var e=[],n=i[0],a=null;if(i.length<=2)return rA(i,r);(0,u.each)(i,function(l){(!a||!(a.x===l.x&&a.y===l.y))&&(e.push(l.x),e.push(l.y),a=l)});var o=t||[[0,0],[1,1]],s=eA(e,r,o);return s.unshift(["M",n.x,n.y]),s}function DG(i,r){return Ud(i,r)}function FG(i,r){var t=i.getCenter();return Math.atan2(r.y-t.y,r.x-t.x)}function RG(i,r){var t=[];return each(r,function(e){var n=e[0];switch(n.toLowerCase()){case"m":case"l":case"c":t.push(Xf(e,i));break;case"z":default:t.push(e);break}}),t}function NG(i,r){var t=[],e,n,a,o;return each(r,function(s,l){var f=s[0];switch(f.toLowerCase()){case"m":case"c":case"q":t.push(Xf(s,i));break;case"l":e=r[l-1],n=s,a=i.isTransposed,o=a?e[e.length-2]===n[1]:e[e.length-1]===n[2],o?t=t.concat(J_(e,n,i)):t.push(Xf(s,i));break;case"z":default:t.push(s);break}}),q_(t),t}rn("area","miniArea",{draw:function(i,r){var t=i.style?i.style.opacity:null,e=Zd(i,this,!1),n=(0,u.deepMix)({},{lineJoin:"round",lineCap:"round"},i.style),a=r.addShape("path",{attrs:{path:e,fill:$d(i.color||Ai().defaultColor),opacity:t||.4},style:n});return a}}),rn("area","miniAreaSmooth",{draw:function(i,r){var t=i.style?i.style.opacity:null,e=Zd(i,this,!0),n=r.addShape("path",{attrs:{path:e,fill:$d(i.color||Ai().defaultColor),opacity:t||.5}});return n}});function Zd(i,r,t){var e=[[0,0],[1,1]],n=[],a=[];(0,u.each)(i.points,function(f){n.push(f[1]),a.push(f[0])}),a=r.parsePoints(a.reverse()),n=kf(r.parsePoints(n));var o=t?Vf(n,!1,e):Kd(n),s=Kd(a);s[0][0]="L";var l=o.concat(s);return l}function Kd(i){for(var r=[],t=0;t<i.length;t++){var e=i[t],n=t===0?"M":"L";r.push([n,e.x,e.y])}return r}function $d(i){return"l(90) 0:"+i+" 1:#ffffff"}var nA=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){i.prototype.init.call(this),this.parseShape()},r.prototype.parseShape=function(){var t=this.plot.options;t.smooth?this.config.shape={values:["miniAreaSmooth"]}:this.config.shape={values:["miniArea"]}},r}(jd),iA=nA,aA={main:jd,mini:iA},Qd=["colorField","stackField","groupField"],oA=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){this.type="interval",i.prototype.init.call(this);var t=this.plot.options;this._needParserColor()&&this.parseColor(),this.config.color||(this.config.color={values:["#5b8ff9"]});var e=this._getSizeProps(t);e&&this.parseSize(e);var n=this._getStyleProps(t);n&&this.parseStyle(n)},r.prototype.parseColor=function(){var t=this.plot.options,e=this._getColorMappingField(t),n={};e&&(n.fields=e),t.color&&((0,u.isString)(t.color)?n.values=[t.color]:(0,u.isFunction)(t.color)?n.callback=t.color:(0,u.isArray)(t.color)?e?n.values=t.color:t.color.length>0&&(n.values=[t.color[0]]):(0,u.isObject)(t.color)&&(n.fields=e,n.callback=function(a){return t.color[a]})),this.config.color=n},r.prototype.parseSize=function(t){var e=this.plot.options,n={};(0,u.isFunction)(e[t])?(n.fields=[this.config.position.fields],n.callback=e[t]):n.values=[e[t]],this.config.size=n},r.prototype.parseStyle=function(t){var e=this.plot.options,n=this.config.color,a=this.plot.options[t],o={};(0,u.isFunction)(a)?(o.fields=(n==null?void 0:n.fields)||[e.xField,e.yField],o.callback=a):o.cfg=a,this.config.style=o},r.prototype._getSizeProps=function(t){for(var e=["columnSize","barSize"],n=0,a=e;n<a.length;n++){var o=a[n];if((0,u.get)(t,o))return o}},r.prototype._getStyleProps=function(t){for(var e=["columnStyle","barStyle","pieStyle","ringStyle"],n=0,a=e;n<a.length;n++){var o=a[n];if((0,u.get)(t,o))return o}},r.prototype._getColorMappingField=function(t){for(var e=0,n=Qd;e<n.length;e++){var a=n[e];if((0,u.get)(t,a))return[t[a]]}},r.prototype._needParserColor=function(){var t=this.plot.options;if(t.color)return!0;for(var e=0,n=Qd;e<n.length;e++){var a=n[e];if(t[a])return!0}return!1},r}(Ss),sA=oA,lA={main:sA},uA=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){var t=this.plot.options;this.config={type:"line",position:{fields:[t.xField,t.yField]},connectNulls:t.connectNulls},t.lineSize&&this.parseSize(),t.smooth&&(this.config.shape={values:["smooth"]}),t.step&&(this.config.shape={values:[t.step]}),(t.seriesField||t.color)&&this.parseColor(),(t.lineStyle||(0,u.get)(t,["line","style"]))&&this.parseStyle()},r.prototype.parseSize=function(){var t=this.plot.options.lineSize,e={};(0,u.isFunction)(t)?e.callback=t:e.values=[t],this.config.size=e},r.prototype.parseColor=function(){var t=this.plot.options,e={};if(t.seriesField&&(e.fields=[t.seriesField]),(0,u.has)(t,"color")){var n=t.color;(0,u.isString)(n)?e.values=[n]:(0,u.isFunction)(n)?e.callback=n:(0,u.isArray)(n)&&(t.seriesField?e.values=n:n.length>0&&(e.values=[n[0]]))}this.config.color=e},r.prototype.parseStyle=function(){var t=this.plot.options,e=t.lineStyle||(0,u.get)(t,["line","style"]),n={fields:null,callback:null,cfg:null};(0,u.isFunction)(e)&&t.seriesField?(n.fields=[t.seriesField],n.callback=e):n.cfg=e,this.config.style=n},r}(Ss),Hf=uA,fA=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){var t=this.plot.options;!t.xField||!t.yField||(this.config={type:"line",position:{fields:[t.xField,t.yField]},tooltip:!1},(this._getColorMappingField()||this._needParseAttribute("color"))&&this.parseColor(),this._needParseAttribute("size")&&this.parseSize(),t.line.style&&this.parseStyle(),t.smooth&&(this.config.shape={values:["smooth"]}))},r.prototype.parseSize=function(){var t=this.plot.options,e={};t.line.size?e.values=[t.line.size]:e.values=[2],this.config.size=e},r.prototype.parseColor=function(){var t=this.plot.options,e={},n=this._getColorMappingField();n&&(e.fields=n),t.line.color?e.values=[t.line.color]:(0,u.isString)(t.color)?e.values=[t.color]:(0,u.isFunction)(t.color)?(e.fields=n,e.callback=t.color):(0,u.isArray)(t.color)&&(n?e.values=t.color:t.color.length>0&&(e.values=[t.color[0]])),this.config.color=e},r.prototype.parseStyle=function(){var t=this.plot.options,e=t.line.style,n={};(0,u.isFunction)(e)?(n.fields=this.config.position.fields,n.callback=e):n.cfg=e,this.config.style=n},r.prototype._needParseAttribute=function(t){var e=this.plot.options;return e[t]?!0:!!e.line[t]},r.prototype._getColorMappingField=function(){for(var t=this.plot.options,e=["stackField","seriesField"],n=0,a=e;n<a.length;n++){var o=a[n];if((0,u.get)(t,o))return[t[o]]}},r}(Hf),hA=fA;rn("line","miniLine",{draw:function(i,r){for(var t=kf(i.points),e=[],n=0;n<t.length;n++){var a=t[n],o=n===0?"M":"L";e.push([o,a.x,a.y])}var s=(0,u.deepMix)({},{lineJoin:"round",lineCap:"round"},i.style),l=r.addShape("path",{attrs:(0,u.mix)({path:e,stroke:i.color||Ai().defaultColor,lineWidth:i.size||2},s)});return l}}),rn("line","miniLineSmooth",{draw:function(i,r){var t=kf(i.points),e=[[0,0],[1,1]],n=Vf(t,!1,e),a=r.addShape("path",{attrs:(0,u.mix)({path:n,stroke:i.color||Ai().defaultColor,lineWidth:i.size||2},i.style)});return a}});var cA=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){i.prototype.init.call(this),this.parseShape()},r.prototype.parseShape=function(){var t=this.plot.options;t.smooth?this.config.shape={values:["miniLineSmooth"]}:this.config.shape={values:["miniLine"]}},r}(Hf),vA=cA,dA={main:Hf,guide:hA,mini:vA},pA=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){var t=this.plot.options;this.style=t.pointStyle,!(!t.xField||!t.yField)&&(this.config={type:"point",position:{fields:[t.xField,t.yField]}},this.parseColor(),this.parseSize(),t.shape&&this.parseShape(t.shape),t.pointStyle&&this.parseStyle())},r.prototype.parseColor=function(){var t=this.plot.options,e={},n=t.colorField;n&&(e.fields=(0,u.isArray)(n)?n:[n]),t.color&&this._parseColor(t,e),(0,u.isEmpty)(e)||(this.config.color=e)},r.prototype.parseSize=function(){var t=this.plot.options,e={};t.sizeField&&(e.fields=[t.sizeField]),t.pointSize&&(e.values=(0,u.isArray)(t.pointSize)?t.pointSize:[t.pointSize]),this.config.size=e},r.prototype.parseShape=function(t){this.config.shape=t},r.prototype.parseStyle=function(){var t=this.plot.options,e=t.pointStyle,n={fields:null,callback:null,cfg:null},a=t.xField,o=t.yField,s=t.colorField;(0,u.isFunction)(e)?(s?n.fields=(0,u.isArray)(s)?[a,o,s].concat(s):[a,o,s]:n.fields=[a,o],n.callback=e):(n.cfg=e,(0,u.isNil)(e.opacity)||(n.cfg.fillOpacity=e.opacity)),this.config.style=n},r.prototype._parseColor=function(t,e){(0,u.isString)(t.color)?e.values=[t.color]:(0,u.isFunction)(t.color)?e.callback=t.color:(0,u.isArray)(t.color)&&(e.values=t.color)},r}(Ss),gA=pA;function yA(i,r){var t=[];return(0,u.each)(r,function(e){var n=e[i];t.push(n)}),(0,u.uniq)(t)}var mA=["seriesField","stackField"],xA=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){var t=this.plot.options;this.style=t.point.style,!(!t.xField||!t.yField)&&(this.config={type:"point",position:{fields:[t.xField,t.yField]},tooltip:!1},this.parseColor(),this._needParseAttribute("size")&&this.parseSize(),t.point.shape&&this.parseShape(t.point.shape),t.point.style&&this.parseStyle())},r.prototype.parseColor=function(){var t=this.plot.options,e={},n=this._getColorMappingField(t);if(n)this._parseColorByField(t,e,n);else if(t.point&&t.point.color)e.values=[t.point.color];else if(t.color)this._parseColor(t,e);else{var a=this.plot.getTheme();e.values=[a.defaultColor]}(0,u.keys)(e).length>0&&(this.config.color=e)},r.prototype.parseSize=function(){var t=this.plot.options,e={};e.values=[t.point.size],this.config.size=e},r.prototype.parseShape=function(t){var e={};(0,u.isString)(t)?e.values=[t]:(0,u.isObject)(t)&&(e.fields=t.fields,e.callback=t.callback),this.config.shape=e},r.prototype.parseStyle=function(){var t=this.plot.options,e=t.point&&t.point.style,n={fields:null,callback:null,cfg:null},a=this._getColorMappingField(t);(0,u.isFunction)(e)?(n.fields=[t.xField,t.yField],n.callback=e,a&&n.fields.unshift(a)):n.cfg=e,this.config.style=n},r.prototype._parseColorByField=function(t,e,n){if(e.fields=[n],t.point.color){for(var a=yA(n,t.data).length,o=[],s=0;s<a;s++)o.push(t.point.color);e.values=o}else t.color&&this._parseColor(t,e)},r.prototype._parseColor=function(t,e){var n=this._getColorMappingField(t);(0,u.isString)(t.color)?e.values=[t.color]:(0,u.isFunction)(t.color)?e.callback=t.color:(0,u.isArray)(t.color)&&(n?e.values=t.color:t.color.length>0&&(e.values=[t.color[0]]))},r.prototype._needParseAttribute=function(t){var e=this.plot.options,n=e.point&&(0,u.has)(e.point,t);return n},r.prototype._getColorMappingField=function(t){for(var e=0,n=mA;e<n.length;e++){var a=n[e];if((0,u.get)(t,a))return[t[a]]}},r}(Ss),bA=xA,wA={guide:bA,circle:gA},SA={area:aA,line:dA,point:wA,interval:lA};function zn(i,r,t){var e=SA[i][r];return new e(t).config}function CA(i){var r=rE,t=i.split(" "),e=r[t[1]],n=parseInt(t[0],10);return[e.format,n*e.value]}function qn(i,r){if(!r)return i;Object.prototype.hasOwnProperty.call(r,"tickCount")&&(i.tickCount=r.tickCount),Object.prototype.hasOwnProperty.call(r,"type")&&r.type!=="dateTime"&&(i.type=r.type),Object.prototype.hasOwnProperty.call(r,"tickInterval")&&(r.type==="time"?i.tickInterval=CA(r.tickInterval):i.tickInterval=r.tickInterval),r.type==="time"&&r.mask&&(i.mask=r.mask),Object.prototype.hasOwnProperty.call(r,"min")&&(i.min=r.min),Object.prototype.hasOwnProperty.call(r,"max")&&(i.max=r.max),Object.prototype.hasOwnProperty.call(r,"minLimit")&&(i.minLimit=r.minLimit),Object.prototype.hasOwnProperty.call(r,"maxLimit")&&(i.maxLimit=r.maxLimit),Object.prototype.hasOwnProperty.call(r,"nice")&&(i.nice=r.nice),Object.prototype.hasOwnProperty.call(r,"formatter")&&(i.formatter=r.formatter),Object.prototype.hasOwnProperty.call(r,"exponent")&&(i.exponent=r.exponent),Object.prototype.hasOwnProperty.call(r,"base")&&(i.base=r.base),r.tickMethod&&(i.tickMethod=r.tickMethod)}function MA(i,r){var t=(0,u.filter)(r,function(a){return(0,u.isNumber)(a)}),e=Math.min.apply(Math,t),n=Math.max.apply(Math,t);e>0?(0,u.isNil)(i.min)&&(i.min=0):n<0&&(0,u.isNil)(i.max)&&(i.max=0)}var Wf;function EA(i,r){var t={easing:"easeLinear",duration:1e4},e=(0,u.deepMix)({},r,t),n=i.get("element").geometry;n.labelsContainer.set("visible",!1);var a=i.get("index"),o=n.coordinate,s=n.scales,l=s[Wf.options.yField],f=(0,u.clone)(i.get("origin"));_A(i,o);var h=i.get("clipShape"),c=i.get("parent"),v=12,x=null,A=Wf.options.seriesField;A&&(x=c.addShape("text",{attrs:{x:o.start.x+v,y:0,text:f.data[0][A],fill:i.attr("stroke"),fontSize:12,textAlign:"start",textBaseline:"middle"}}));var B=x?16:0,G=c.addShape("text",{attrs:{x:o.start.x+v,y:B,text:"test"+a,fill:i.attr("stroke"),fontSize:12,textAlign:"start",textBaseline:"middle"}});e.callback=function(){i&&!i.get("destroyed")&&(i.setClip(null),h.remove(),G.animate({opacity:0},300,function(){G.remove(),(0,u.isNil)(x)||x.remove();var ut=n.labelsContainer;ut.get("visible")||ut.set("visible",!0)}))};var H=e.delay;(0,u.isFunction)(H)&&(H=e.delay(a));var X=e.easing;(0,u.isFunction)(X)&&(X=e.easing(a)),h.animate({width:o.getWidth()},e.duration,X,e.callback,H),e.onFrame=function(ut){var ft=Jd(ut,f,o);if(!!ft){G.attr("x",ft[0]+v),G.attr("y",ft[1]+B);var xt=AA(l,ft[1],o);l.formatter&&(xt=l.formatter(xt)),G.attr("text",xt)}},G.animate(e.onFrame,{duration:e.duration,easing:X,callback:e.callback,delay:H}),x&&x.animate({onFrame:function(ut){var ft=Jd(ut,f,o);!ft||(x.attr("x",ft[0]+v),x.attr("y",ft[1]))}},e.duration,X,e.callback,H)}function _A(i,r){var t=r.start,e=r.end,n=r.height;i.setClip({type:"rect",attrs:{x:t.x,y:e.y,width:0,height:n}})}function Jd(i,r,t){for(var e=r.points,n=t.start.x+t.getWidth()*i,a=0;a<e.length-1;a++){var o=e[a],s=e[a+1];if(n>=o.x&&n<=s.x){var l=(s.y-o.y)/(s.x-o.x),f=o.y+l*(n-o.x);return[n,f]}}}function AA(i,r,t){var e=(r-t.start.y)/(t.end.y-t.start.y);return i.invert(e).toFixed(2)}function PA(i){Wf=i}Un("clipingWithData",EA);var TA=function(){function i(r){this.type="shape",this.shapes=r.shapes,this.nodes=[],this._parserNodes(),this.origion_nodes=(0,u.deepMix)([],this.nodes)}return i.prototype.measure=function(r){var t=(0,u.deepMix)({},SE(r),{shape:r});return t},i.prototype.measureNodes=function(){var r=this,t=[],e=[];(0,u.each)(this.shapes,function(n,a){var o=(0,u.deepMix)({},r.nodes[a],r.measure(n));o.width!==0&&o.height!==0&&(t.push(o),e.push(n))}),this.nodes=t,this.shapes=e},i.prototype._parserNodes=function(){var r=this;(0,u.each)(this.shapes,function(t){var e=r.measure(t);r.nodes.push(e)})},i}(),qd=TA;function OA(i,r,t){return t===void 0&&(t={ratio:.6}),r.width*t.ratio}var LA={type:"padding",usage:"assign",expression:OA};function IA(i,r){var t=[i.topLeft,i.topRight,i.bottomRight,i.bottomLeft],e=[r.topLeft,r.topRight,r.bottomRight,r.bottomLeft],n=hd(t,e);return Math.round(n)>=2}var kA={type:"group",usage:"compare",expression:IA};function BA(i,r,t){t===void 0&&(t={value:4});var e=[i.topLeft,i.topRight,i.bottomRight,i.bottomLeft],n=[r.topLeft,r.topRight,r.bottomRight,r.bottomLeft],a=hd(e,n);return Math.round(a)>=t.value}var DA={type:"chain",usage:"compare",expression:BA};function FA(i,r,t){t===void 0&&(t={value:5});var e=Math.abs(i.bottom-r.top);return Math.round(e)>=t.value}var RA={type:"chain",usage:"compare",expression:FA};function NA(i,r,t){return t===void 0&&(t={ratio:.15}),i.width<r.width*t.ratio}var GA={type:"padding",usage:"compare",expression:NA};function YA(i,r){var t=2,e=r.coord.radius/t;return Math.min(e,i.value)}var zA={type:"padding",usage:"assign",expression:YA};function XA(i,r,t){return t===void 0&&(t={ratio:.8}),r.radius*t.ratio}var VA={type:"padding",usage:"assign",expression:XA},tp={elementDist:DA,elementDistVertical:RA,elementCollision:kA,elementWidth:GA,columnWidth:LA,ringThickness:VA,minRingThickness:zA};function GG(i,r){tp[i]=r}function Vo(i){i.attr("text","")}function HA(i,r,t,e){var n=e.nodes.nodes,a=n[t],o=[];if(!a.shape.get("blank"))for(var s=0;s<n.length;s++){var l=n[s],f=l.shape;if(s!==t&&!f.get("blank")){var h=ep(a,l);h&&o.push(l)}}o.length>0&&(o.push(a),o.sort(function(c,v){return v.top-c.top}),(0,u.each)(o,function(c,v){if(v>0){var x=c.shape;Vo(x),x.set("blank",!0)}}))}function ep(i,r){return!(i.bottom<r.top||r.bottom<i.top||i.right<r.left||r.right<i.left)}var ao=d(19432),WA=1e3,rp=60*WA,jf=60*rp,Tl=24*jf,np=31*Tl,ip=365*Tl;function ap(i,r,t,e){var n=e.nodes.nodes,a;t===n.length-1?a=n[t-1].shape.get("delegateObject").item.name:a=n[t+1].shape.get("delegateObject").item.name;var o=new Date(a),s=i.get("delegateObject").item.name,l=new Date(s),f=n[0].shape.get("delegateObject").item.name,h=new Date(f),c=n[n.length-1].shape.get("delegateObject").item.name,v=new Date(c),x=op(h,v),A=op(l,o);if(x===A){if(t!==0&&t!==n.length-1){var B=ZA(x);i.attr("text",ao.default.format(l,B))}return}if(t!==0){var G=n[t-1].shape.get("delegateObject").item.name,H=new Date(G),X=jA(x,l,H);if(X){var B=UA(x,A);i.attr("text",ao.default.format(l,B));return}}}function jA(i,r,t){var e=sp(r,i),n=sp(t,i);return e===n}function op(i,r){var t,e=Math.abs(i-r),n={minute:[rp,jf],hour:[jf,Tl],day:[Tl,np],month:[np,ip],year:[ip,Infinity]};return(0,u.each)(n,function(a,o){e>=a[0]&&e<a[1]&&(t=o)}),t}function UA(i,r){for(var t=["year","month","day","hour","minute"],e=["YYYY","MM","DD","HH","MM"],n=t.indexOf(i)+1,a=t.indexOf(r),o="",s=n;s<=a;s++)o+=e[s],s<a&&(o+="-");return o}function ZA(i){var r=["year","month","day","hour","minute"],t=["YYYY","MM","DD","HH","MM"],e=r.indexOf(i),n=t[e];return n}function sp(i,r){if(r==="year")return i.getFullYear();if(r==="month")return i.getMonth()+1;if(r==="day")return i.getDay()+1;if(r==="hour")return i.getHours()+1;if(r==="minute")return i.getMinutes()+1}function KA(i){var r=/^(?:(?:[0-2][0-3])|(?:[01]\d)):[0-5]\d$/,t=/^(?:(?:[0-2][0-3])|(?:[01]\d))(?::[0-5]\d){2}$/;return r.test(i)||t.test(i)}var lp={k:{number:1e3,index:0},m:{number:1e6,index:1},b:{number:1e9,index:2},t:{number:1e12,index:3}};function up(i,r,t,e){if(!(!(0,u.has)(e,"node")||!(0,u.has)(e.node,"node"))){var n=e.nodes.nodes,a=parseFloat(i.get("origin").text);if(a!==0){if(r.formatter){i.attr("text",r.formatter(a));return}if(r.unit){var o=fp(r,a),s=o.num,l=o.unitname;i.attr("text",s+l)}else{var f=QA(n),h=cd(f),l=$A(h),c=lp[l].number,v=JA(n),x=qA(v,c),s=fp({unit:l,decimal:x},a).num;i.attr("text",s+l)}}}}function fp(i,r){var t=["k","m","b","t"],e,n;if(i.unit==="auto"){var a=Math.floor(Math.log(r)/Math.log(1e3));n=t[a-1],e=(r/Math.pow(1e3,a)).toFixed(i.decimal)}else if(i.unit){var o=lp[i.unit];n=i.unit,e=(r/o.number).toFixed(i.decimal)}return{num:e,unitname:n}}function $A(i){var r=["k","m","b","t"],t=Math.floor(Math.log(i)/Math.log(1e3));return r[t-1]}function QA(i){var r=[];return(0,u.each)(i,function(t){var e=t,n=parseFloat(e.shape.get("origin").text);r.push(n)}),r}function JA(i){if(i.length>=2){var r=parseFloat(i[0].shape.get("origin").text),t=parseFloat(i[1].shape.get("origin").text);return Math.abs(r-t)}return 0}function qA(i,r){var t=Math.floor(Math.log10(r));if(i>=r){var e=i%r;if(e>0){var n=Math.floor(Math.log10(e));return Math.abs(n-t)}}else{var a=Math.floor(Math.log10(i));return Math.abs(a-t)}return 0}function tP(i,r,t){var e=t.nodes.nodes;if(r!==e.length-1){var n=e[r],a=e[r+1],o=eP(n,a).dir,s=i.get("startPoint");o==="x"&&i.attr("y",s.y+20)}}function eP(i,r){var t,e={x:r.centerX-i.centerX,y:r.centerY-i.centerY},n=Math.sqrt(e.x*e.x+e.y*e.y),a={x:10,y:0},o=Math.sqrt(a.x*a.x+a.y*a.y),s=If(e,a),l=s/(n*o)*180/Math.PI;l<0&&(l=360-l),l=rP(l);var f=Math.abs(i.centerX-r.centerX),h=Math.abs(i.centerY-r.centerY);return l>45?t="x":l<45&&(t="y"),{dir:t,distX:f,distY:h}}function rP(i){return i>90&&i<=180?180-i:i>180&&i<270?i-180:360-i}function nP(i,r,t,e){var n=e.nodes.nodes;if(t!==0){var a=n[t],o=n[t-1];if(ep(a,o)){var s=e.plot.view.geometries[0].elements[0],l=o.top-a.height/2,f=10;if(l-f>e.region.top){var h=a.shape.get("origin"),c=s.getShapeId(h),v=s.getShapes(),x=iP(c,v).get("box"),A=x.left+x.width/2,B=x.top,G=s.get("labelController").labelsContainer,H=G.addShape("path",{attrs:{path:[["M",A,B],["L",a.shape.attr("x"),l]],stroke:"#ccc",lineWidth:1}}),X={x:i.attr("x"),y:i.attr("y")};a.shape.attr("y",l-f),n[t]=e.nodes.measure(a.shape),n[t].line=H,n[t].origin_position=X}}}}function iP(i,r){var t;return(0,u.each)(r,function(e){var n=e,a=n.get("id");a===i&&(t=n)}),t}function aP(i,r,t,e){var n=e.nodes.nodes,a=n.length%2!=0;if(!hp(r.keep,t,n)){var o=t%2==0;(!a&&o||a&&!o)&&Vo(i)}}function hp(i,r,t){var e=[];(0,u.each)(i,function(s){s==="start"?e.push(r===0):s==="end"?e.push(r===t.length-1):(0,u.isNumber)(s)&&e.push(r===s)});for(var n=0,a=e;n<a.length;n++){var o=a[n];if(o===!0)return!0}return!1}function oP(i,r,t,e){var n=e.nodes.nodes;if(!hp(r.keep,t,n)){var a=i.attr("text"),o=i.get("delegateObject").item.name;a!==o&&Vo(i)}}function sP(i,r,t,e){var n=e.nodes.nodes,a=uP(n);if(!(t<=1)){var o=n[t],s=lP(t,n),l=s.centerX-o.centerX,f=s.centerY-o.centerY,h=Math.sqrt(l*l+f*f);h<a&&(Vo(i),i.set("blank",!0))}}function lP(i,r){for(var t=i-1;t>0;t--){var e=r[t];if(!e.shape.get("blank"))return e}}function uP(i){var r=(0,u.deepMix)([],i);return r.sort(function(t,e){return e.width-t.width}),Math.round(r[0].width)}function fP(i,r,t,e){var n=e.nodes.nodes,a=n[t];a.line&&a.line.remove();var o=e.plot.initialOptions.data,s=e.plot[e.plot.type]||e.plot[e.plot.baseType],l=(0,u.get)(s,["label","fields",0],(0,u.get)(s,["position","fields",1])),f=hP(o,l,n),h=!1;if((0,u.each)(f,function(A){A.shape.get("origin")===a.shape.get("origin")&&(h=!0)}),h){if(a.origin_position){var c=a.origin_position,v=c.x,x=c.y;i.attr("x",v),i.attr("y",x)}}else Vo(i)}function hP(i,r,t){var e=[];(0,u.each)(i,function(h){e.push(h[r])}),e.sort(function(h,c){return h-c});var n=e[0],a=Uf(t,r,n),o=e[e.length-1],s=Uf(t,r,o),l=cP(e),f=Uf(t,r,l);return{min:a,max:s,median:f}}function cP(i){var r=(0,u.clone)(i);r.sort(function(e,n){return e-n});var t=Math.floor(r.length/2);return r.length%2,r[t]}function Uf(i,r,t){for(var e=0,n=i;e<n.length;e++){var a=n[e],o=a.shape.get("origin")._origin;if(o[r]===t)return a}}function cp(i,r){var t=r.abbreviateBy?r.abbreviateBy:"end",e=i.attr("text"),n;t==="end"&&(n=e[0]+"..."),t==="start"&&(n="..."+e[e.length-1]),t==="middle"&&(n=e[0]+"..."+e[e.length-1]),i.resetMatrix(),i.attr({text:n,textAlign:"center",textBaseline:"top"})}function vP(i,r,t,e){var n=e.nodes.nodes,a=i.attr("text"),o=/^\d+$/.test(a);o?up(i,r,t,n):KA(a)?ap(i,r,t,n):cp(i,r)}function dP(i,r){i.resetMatrix(),i.attr({rotate:360-r.degree,textAlign:"right",textBaseline:"middle"})}function pP(i,r){for(var t=i.attr("text"),e=Math.ceil(t.length/r.lineNumber),n="",a=1;a<r.lineNumber;a++){var o=e*a;n=t.slice(0,o)+`
`+t.slice(o)}var s=i.attr("fontSize");i.attr({text:n,lineHeight:s,textAlign:"center",textBaseline:"top"})}var vp={textWrapper:pP,textRotation:dP,textAbbreviate:cp,textHide:Vo,digitsAbbreviate:up,datetimeStringAbbrevaite:ap,robustAbbrevaite:vP,nodesResampling:aP,nodesResamplingByAbbrevate:oP,nodesResamplingByChange:sP,nodesResamplingByState:fP,nodeJitter:tP,nodeJitterUpward:nP,clearOverlapping:HA};function YG(i,r){vp[i]=r}var gP=function(){function i(r){this.iterationTime=10,this.iterationIndex=0,this.rulesLocker=[],this.constraintIndex=0,(0,u.assign)(this,r),this.currentConstraint=this.constraints[0],this.rules&&(this.iterationTime=this.rules[this.currentConstraint.name].length),this._start(),this._run(),this._end()}return i.prototype._start=function(){this.onStart&&this.onStart(this.nodes)},i.prototype._iteration=function(){var r;this.nodes.type==="shape"?r=this.nodes:r=this.nodes,r.type==="shape"&&r.measureNodes(),this.rules&&this._applyRules(),r.type==="shape"&&r.measureNodes(),this.onIteration&&this.onIteration(this.nodes)},i.prototype._end=function(){this.onEnd&&this.onEnd(this.nodes)},i.prototype._run=function(){for(var r=this._constraintsTest();!r&&!(this.iterationIndex>this.iterationTime-1);)this._iteration(),r=this._constraintsTest(),this.iterationIndex++;this.constraintIndex<this.constraints.length-1&&(this.constraintIndex++,this.currentConstraint=this.constraints[this.constraintIndex],this.iterationTime=this.rules?this.rules[this.currentConstraint.name].length:1,this.iterationIndex=0,this._run())},i.prototype._constraintsTest=function(){var r=tp[this.currentConstraint.name],t=this.currentConstraint.option;return r.usage==="compare"?this._constraintCompare(r,t):this._constraintAssignment(r,t)},i.prototype._constraintCompare=function(r,t){var e=r.type,n=r.expression,a=this.nodes.nodes;if(e==="chain")return this._chainConstraintCompare(n,a,t);if(e==="padding")return this._paddingConstraintCompare(n,this.region,a,t);if(e==="group")return this._groupConstraintCompare(n,a,t)},i.prototype._chainConstraintCompare=function(r,t,e){for(var n=0;n<t.length-1;n++){var a=t[n],o=t[n+1];if(r(a,o,e)===!1)return!1}return!0},i.prototype._paddingConstraintCompare=function(r,t,e,n){if(t)for(var a=0,o=e;a<o.length;a++){var s=o[a];if(r(s,t,n)===!1)return!1}return!0},i.prototype._groupConstraintCompare=function(r,t,e){for(var n=0;n<t.length;n++)for(var a=t[n],o=0;o<t.length;o++)if(o!==n){var s=t[o];if(r(a,s,e)===!1)return!1}return!0},i.prototype._constraintAssignment=function(r,t){var e=r.type,n=r.expression,a=this.nodes.nodes;if(e==="chain")return this._chainConstraintAssign();if(e==="padding")return this._paddingConstraintAssign(n,this.region,a,t)},i.prototype._chainConstraintAssign=function(){return!0},i.prototype._paddingConstraintAssign=function(r,t,e,n){if(t)for(var a=0,o=e;a<o.length;a++){var s=o[a],l=r(s,t,n);s.value=l}return!0},i.prototype._applyRules=function(){for(var r=this.rules[this.currentConstraint.name][this.iterationIndex],t=vp[r.name],e=r.option?r.option:{},n=this.nodes.nodes,a=0;a<n.length;a++){var o=n[a];this._applyRule(o.shape,t,e,a)}},i.prototype._applyRule=function(r,t,e,n){var a={nodes:this.nodes,region:this.region,plot:this.plot};t(r,e,n,a)},i}(),dp=gP,yP=function(){function i(r){(0,u.assign)(this,r),this.init()}return i.prototype.init=function(){this.type=this.getType(),this.shouldApply()&&this.apply()},i}(),pp=yP,mP={cat:"category",timeCat:"category",time:"dateTime",linear:"linear"},xP=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){this.axisInstance=this.getAxisInstance(),i.prototype.init.call(this)},r.prototype.shouldApply=function(){var t=this.plot.options;return this.responsiveTheme.axis?!!(this.responsiveTheme.axis[this.dim]&&t[this.dim+"Axis"].visible&&t[this.dim+"Axis"].label&&t[this.dim+"Axis"].label.visible):!1},r.prototype.apply=function(){for(var t=this,e=this.plot.view.backgroundGroup.findAll(function(h){var c=h.get("name");if(c==="axis-label"){var v=h.get("delegateObject").axis.get("field");if(v===t.plot.options[t.dim+"Field"])return h}}),n=[],a=0;a<e.length;a++)n.push(e[a]);var o=new qd({shapes:n}),s=this.responsiveTheme.axis.x[this.type],l=s.constraints,f=s.rules;new dp({nodes:o,constraints:l,region:this.plot.getViewRange(),rules:f,plot:this.plot,onEnd:function(h){t.updateTicks(h.origion_nodes)}})},r.prototype.getType=function(){var t=this.plot.options,e=this.dim+"Axis",n=this.dim+"Field";if(t[e]&&t[e].type&&t[e].type==="dateTime")return"dateTime";var a=this.plot.view.getScaleByField([t[n]]).type;return mP[a]},r.prototype.getAxisInstance=function(){var t,e,n=this.dim==="x"?0:1,a=(t=this.plot.view.getController("axis"))===null||t===void 0?void 0:t.getComponents();if(a)return(e=a[n])===null||e===void 0?void 0:e.component},r.prototype.updateTicks=function(t){var e=this,n=this.plot.view.backgroundGroup.findAll(function(o){var s=o.get("name");if(s==="axis-tickline-group"){var l=o.get("delegateObject").axis.get("field");if(l===e.plot.options[e.dim+"Field"])return o}})[0];if(n){var a=n.get("children");(0,u.each)(t,function(o,s){o.shape.attr("text")===""&&a[s].attr("opacity",0)})}this.plot.canvas.draw()},r}(pp),oo=xP;function bP(i){var r=i.getResponsiveTheme(),t=i.canvas;new oo({plot:i,responsiveTheme:r,dim:"x"}),new oo({plot:i,responsiveTheme:r,dim:"y"}),t.draw()}var wP=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.shouldApply=function(){return!(!this.responsiveTheme.label||!this.responsiveTheme.label[this.type])},r.prototype.apply=function(){var t=this.plot.view.geometries[0].labelsContainer.get("children"),e=[];(0,u.each)(t,function(l){e=e.concat(l.findAllByName("label"))});var n=new qd({shapes:e}),a=this.responsiveTheme.label[this.type],o=a.constraints,s=a.rules;new dp({nodes:n,constraints:o,rules:s,plot:this.plot,region:this.plot.view.coordinateBBox})},r.prototype.getType=function(){return null},r}(pp),gp=wP,SP=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getType=function(){return(0,u.get)(this.plot.options,["label","type"],"point")},r}(gp);function CP(i){var r=i.getResponsiveTheme();new SP({plot:i,responsiveTheme:r})}var MP=[],EP=[{name:"responsiveAxis",method:bP},{name:"responsivePointLabel",method:CP}],_P={preRender:MP,afterRender:EP},yp=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultOptions=function(){var t=this.layer.theme,e=t.label,n=e===void 0?{}:e;return(0,q.__assign)({offsetX:0,offsetY:0},n)},r.prototype.getLabelOffset=function(){return this.getLabelOffsetByDimAndFactor("y",-1)},r.prototype.getLabelItemAttrs=function(t,e){var n=this,a=this.options,o=a.style,s=a.formatter,l=(0,u.get)(t,"model.mappingData",[]);return(0,u.map)(l,function(f,h){var c,v=n.getValue(f);return(0,q.__assign)((0,q.__assign)((0,q.__assign)({},n.getPosition(f)),{text:s?s(v,(c={},c[bs]=f._origin,c.mappingDatum=f,c.mappingDatumIndex=h,c.element=t,c.elementIndex=e,c),e):v,textAlign:"center",textBaseline:"middle"}),o)})},r.prototype.getValue=function(t){return(0,u.get)(t._origin,this.layer.options.yField)},r.prototype.getPosition=function(t){var e={x:(0,u.isArray)(t.x)?(0,u.last)(t.x):t.x,y:(0,u.isArray)(t.y)?(0,u.last)(t.y):t.y};return e},r.prototype.layoutLabels=function(t,e){var n=this;if(!!this.options.adjustPosition){var a=this.isOverlapped(e);if(a){var o=this.getGlobalTolerance(e);(0,u.each)(e,function(s,l){l>1&&n.labelResamplingByChange(s,e,l,o)})}a=this.isOverlapped(e),a&&(0,u.each)(e,function(s,l){s.get("visible")&&n.clearOverlapping(s,e,l)})}},r.prototype.adjustLabel=function(){},r.prototype.labelResamplingByChange=function(t,e,n,a){var o=this.findPrevious(n,e),s=this.getCenter(t),l=this.getCenter(o),f=l.x-s.x,h=l.y-s.y,c=Math.sqrt(f*f+h*h);c<a&&t.set("visible",!1)},r.prototype.clearOverlapping=function(t,e,n){for(var a=[],o=0;o<e.length;o++){var s=e[o];if(o!==n&&s.get("visible")){var l=nd(t.getBBox(),s.getBBox());l&&a.push(s)}}a.length>0&&(a.push(t),a.sort(function(f,h){return h.minY-f.minY}),(0,u.each)(a,function(f,h){h>0&&f.set("visible",!1)}))},r.prototype.isOverlapped=function(t){for(var e=0;e<t.length;e++)if(t[e].get("visible")){for(var n=t[e].getBBox(),a=0;a<t.length;a++)if(a!==e&&t[a].get("visible")){var o=t[a].getBBox(),s=nd(n,o);if(s)return!0}}return!1},r.prototype.getGlobalTolerance=function(t){var e=t.slice();return e.sort(function(n,a){return a.getBBox().width-n.getBBox().width}),Math.round(e[0].getBBox().width)},r.prototype.findPrevious=function(t,e){for(var n=t-1;n>0;n--)if(e[n].get("visible"))return e[n]},r.prototype.getCenter=function(t){var e=t.getBBox(),n=e.minX,a=e.maxX,o=e.minY,s=e.maxY;return{x:n+(a-n)/2,y:o+(s-o)/2}},r}(Pf),mp=yp;Yi("point",yp);var xp=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.layoutLabels=function(t,e){var n=this,a,o=[],s=Nr.fromBBoxObject(this.getCoordinateBBox()),l=t.getXYFields(),f=l[0],h=l[1],c=(0,u.groupBy)(e,function(x){return x.get(Ki)[sn.FIELD_ORIGIN][f]}),v=(a=e[0])===null||a===void 0?void 0:a.get("offset");(0,u.each)((0,u.keys)(c).reverse(),function(x){for(var A=n.sortLabels(t,c[x]);A.length;){var B=A.shift();if(__(B,o,function(X,ut){return X._origin[f]===ut._origin[f]&&X._origin[h]===ut._origin[h]})){B.set("visible",!1);continue}Al(B,s);var G=Pl(B,o),H=void 0;if(G&&(B.attr("y",B.attr("y")+2*v),Al(B,s),H=Pl(B,o)),H){B.set("visible",!1);continue}o.push(B)}})},r.prototype.sortLabels=function(t,e){var n=t.getXYFields()[1],a=[];return e.sort(function(o,s){return s.get(Ki)[sn.FIELD_ORIGIN][n]-o.get(Ki)[sn.FIELD_ORIGIN][n]}),e.length>0&&a.push(e.shift()),e.length>0&&a.push(e.pop()),a.push.apply(a,e),a},r}(mp),AP=xp;Yi("point-auto",xp);var PP=8,TP=function(){function i(r){this.destroyed=!1,this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,u.deepMix)(t,r,{}),this.init()}return i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.getGeometry().elements;(0,u.each)(t,function(e){var n=r.getShapeInfo(e.shape),a=r.options,o=a.style,s=a.offsetX,l=a.offsetY,f=r.options.formatter,h=f?f(n.name):n.name;r.container.addShape("text",{attrs:(0,u.deepMix)({},{x:n.x+s,y:n.y+l,text:h,fill:n.color,textAlign:"left",textBaseline:"middle"},o),name:"label"})})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=(0,u.clone)(r.label.style);return delete t.fill,{offsetX:PP,offsetY:0,style:t}},i.prototype.getGeometry=function(){return(0,u.find)(this.view.geometries,function(r){return r.type==="line"})},i.prototype.getShapeInfo=function(r){var t=r.get("origin").points,e=t[t.length-1],n=r.attr("stroke"),a=this.plot.options.seriesField,o=r.get("origin").data[0][a];return{x:e.x,y:e.y,color:n,name:o}},i}(),bp=TP,OP={line:"line",point:"point"},LP=si(OP);(0,u.assign)(Qr,LP);var IP={stroke:"transparent",fill:"#FCC509",lineWidth:0},kP={stroke:"#FFF",fill:"#FCC509",lineWidth:1},BP={stroke:"rgba(0,0,0,0.85)",fill:"#FCC509",lineWidth:1},DP=function(){function i(r){this.points=[],this.labels=[],this.name="markerPoints",this.defaultCfg={offsetX:0,offsetY:0,style:{normal:IP,selected:BP,active:kP},label:{visible:!1,offsetY:-8,position:"top",style:{fill:"rgba(0, 0, 0, 0.85)"}},animation:!1},this.view=r.view,this.size=r.size||6,this.config=(0,u.deepMix)({},this.defaultCfg,r),this._init()}return i.prototype.render=function(){var r=this.getDataArray();this._renderPoints(r),this.view.canvas.draw(),this._addInteraction()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.points=[],this.labels=[]},i.prototype.getDataArray=function(){var r=this.view.geometries[0];return r.dataArray},i.prototype._init=function(){var r=this,t=this.view.foregroundGroup;this.container=t.addGroup(),this.render(),this.view.on("beforerender",function(){r.clear()})},i.prototype._renderPoints=function(r){var t=this;(0,u.each)(this.config.data,function(e,n){(0,u.each)(r,function(a){var o=(0,u.find)(a,function(H){return(0,u.isMatch)(H._origin,e)});if(o){var s=t.config.style.normal,l=t.container.addGroup({name:t.name}),f=o.x,h=o.y;(0,u.isArray)(f)&&(f=f[0]),(0,u.isArray)(h)&&(h=h[0]);var c=t.config.symbol,v=t.config,x=v.offsetX,A=v.offsetY,B=void 0;if((0,u.isString)(c)&&c.startsWith("image://")){var G=c.substr(8);B=l.addShape("image",{attrs:{x:f-t.size/2+x,y:h-t.size/2+A,img:G,width:t.size,height:t.size}})}else c=(0,u.isString)(c)?$M.MarkerSymbols[c]:c,B=l.addShape({type:"marker",name:"marker-point",id:"point-"+n,attrs:(0,q.__assign)((0,q.__assign)({x:f+x,y:h+A,r:t.size/2},s),{symbol:c})});t.points.push(B),t._animatePoint(B),t._renderLabel(l,o,n),l.set("data",e),l.set("origin",o)}})})},i.prototype._renderLabel=function(r,t,e){var n=this.config.label;if(n&&n.visible){var a=n.offsetX,o=a===void 0?0:a,s=n.offsetY,l=s===void 0?0:s,f=n.formatter,h=n.position,c=n.field,v=t._origin[c];f&&(v=f(v,{_origin:t._origin},e));var x=(0,u.isArray)(t.x)?t.x[0]:t.x,A=(0,u.isArray)(t.y)?t.y[0]:t.y,B=r.addShape("text",{name:"marker-label",id:"label-"+e,attrs:(0,q.__assign)((0,q.__assign)({x:x+o,y:A+l,text:v||""},n.style),{textAlign:"center",textBaseline:h==="top"?"bottom":"top"})});this.labels.push(B)}},i.prototype._addInteraction=function(){var r=this,t=this.config.events;(0,u.each)(t,function(e,n){r.container.on(r.name+":"+n,function(a){e(a);var o=a.target.get("parent"),s=o.get("children")[0];if(s){var l=s.get("data"),f=s.get("id"),h={id:f,data:l};n==="click"?r.selectedPoint&&r.selectedPoint.get("id")===f?(r.selectedPoint=null,r.setState("inactive",h)):(r.selectedPoint=s,r.setState("selected",h)):n==="mouseenter"?r.setState("active",h):n==="mouseleave"&&r.setState("inactive",h)}r.view.canvas.draw()}),r.view.on("click",function(a){var o=a.target.get("parent");(!o||o.get("name")!==r.name&&r.selectedPoint)&&(r.selectedPoint=null,r.setState("inactive"))})})},i.prototype.setState=function(r,t){var e=this;r==="active"?(!this.selectedPoint||t.id!==this.selectedPoint.get("id"))&&this._onActive(t):r==="inactive"?this.points.forEach(function(n){return e._onInactive(n)}):r==="selected"&&this._onSelected(t)},i.prototype._onActive=function(r){var t=this,e=this.config.style.active;(0,u.each)(this.points,function(n){n.get("id")===r.id?(0,u.each)(e,function(a,o){n.attr(o,a)}):t._onInactive(n)})},i.prototype._onInactive=function(r){var t=this.config.style.normal;(!this.selectedPoint||r.get("id")!==this.selectedPoint.get("id"))&&(0,u.each)(t,function(e,n){r.attr(n,e)})},i.prototype._onSelected=function(r){var t=this,e=this.config.style.selected;(0,u.each)(this.points,function(n){n.get("id")===r.id?(0,u.each)(e,function(a,o){n.attr(o,a)}):t._onInactive(n)})},i.prototype._animatePoint=function(r){var t=this.config,e=t.animation,n=t.size;if(e!==!1){var a=e,o=a.endState,s=o===void 0?{}:o,l=a.animateCfg,f=l===void 0?ro.DEFAULT_ANIMATE_CFG.appear:l;r.animate((0,q.__assign)({r:Number.isNaN(s.size/2)?n/2:s.size/2},s),f)}},i}(),FP=DP,RP=function(i){var r=i.shape,t=r.attr("lineWidth")||1;return{lineWidth:t+1}},NP=function(i){var r=i.shape,t=r.attr("opacity")||1;return{opacity:t*.2}},GP=function(i){var r=i.shape,t=r.attr("lineWidth")||1;return{lineWidth:t+2}};zi("line",{lineStyle:{normal:{},active:RP,disable:NP,selected:GP},pointStyle:{normal:{},active:{},disable:{},selected:{}}});var YP={label:{point:{constraints:[{name:"elementCollision"}],rules:{elementCollision:[{name:"nodesResamplingByChange"},{name:"clearOverlapping"}]}}}};Vd("line",YP);var zP=function(i){(0,q.__extends)(r,i);function r(t){return i.call(this,(0,q.__assign)({processEvent:"mousemove"},t))||this}return r.prototype.start=function(){},r.prototype.process=function(t){var e=(0,u.filter)(this.view.geometries,function(o){return o.type=="line"}),n=t.target;if(n.get("name")==="line"){var a=(0,u.get)(t,"data.data");(0,u.each)(e,function(o){(0,u.each)(o.elements,function(s){s.setState("active",s.data===a)})})}else(0,u.each)(e,function(o){(0,u.each)(o.elements,function(s){s.setState("active",!1)})})},r}(Ff),XP=zP,VP=function(i){(0,q.__extends)(r,i);function r(t){return i.call(this,(0,q.__assign)({endEvent:"click"},t))||this}return r.prototype.start=function(){},r.prototype.end=function(t){var e=t.target,n=(0,u.filter)(this.view.geometries,function(o){return o.type=="line"});if(e.get("name")==="line"){var a=(0,u.get)(t,"data.data");(0,u.each)(n,function(o){(0,u.each)(o.elements,function(s){s.setState("inactive",s.data!==a)})})}else(0,u.each)(n,function(o){(0,u.each)(o.elements,function(s){s.setState("inactive",!1)})})},r}(Ff),HP=VP,WP=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"name",{get:function(){return"selected-tooltip"},enumerable:!1,configurable:!0}),r.prototype.getTooltipCfg=function(){var t=i.prototype.getTooltipCfg.call(this);return(0,q.__assign)((0,q.__assign)({},t),{showContent:!1,showCrosshairs:!0,showMarkers:!0,shared:!0})},r}($v.Z);Kr("selected-tooltip",WP);var jP=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.show=function(){var t=this.getPoint();(0,u.isEqual)(t,this.location)||(this.location=t,this.showTooltip(t))},r.prototype.hide=function(){var t=this.getTooltipController();t.hideTooltip()},r.prototype.showTooltip=function(t){var e=this.getTooltipController();e.showTooltip(t)},r.prototype.getPoint=function(){var t=this.context.event;return t?{x:t.x,y:t.y}:this.getLastXPoint()},r.prototype.getLastXPoint=function(){var t=this.getView(),e=t.getXScale(),n=t.getYScales()[0],a=t.getCoordinate(),o=(0,u.last)(e.getTicks()).value;return a.convert({x:o,y:(n.range[0]+n.range[1])/2})},r.prototype.getView=function(){return this.context.view},r.prototype.getTooltipController=function(){return this.getView().getController("selected-tooltip")},r}(qr),UP=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"name",{get:function(){return"tooltip-active"},enumerable:!1,configurable:!0}),r.prototype.getTooltipCfg=function(){var t=i.prototype.getTooltipCfg.call(this);return(0,q.__assign)((0,q.__assign)({},t),{showCrosshairs:!0,showMarkers:!1,shared:!0})},r}($v.Z);Kr("tooltip-active",UP);var ZP=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){this.getView().removeInteraction("tooltip")},r.prototype.show=function(){var t=this.getPoint();t&&this.showTooltip(t)},r.prototype.hide=function(){var t=this.getView(),e=this.getTooltipController();e.hideTooltip();var n=(0,u.filter)(t.geometries,function(a){return a.type=="point"});(0,u.each)(n,function(a){(0,u.each)(a.elements,function(o){o.setState("active",!1)})})},r.prototype.showTooltip=function(t){var e=this.getView(),n=this.getTooltipController();n.showTooltip(t);var a=n.getTooltipItems(t),o=(0,u.filter)(e.geometries,function(s){return s.type=="point"});(0,u.each)(o,function(s){(0,u.each)(s.elements,function(l){l.setState("active",(0,u.findIndex)(a,function(f){return f.data===l.data})!==-1)})})},r.prototype.getPoint=function(){var t=this.context.event;return t?{x:t.x,y:t.y}:null},r.prototype.getView=function(){return this.context.view},r.prototype.getTooltipController=function(){return this.getView().getController("tooltip-active")},r}(qr),KP=ZP;_r("selected-tooltip",jP),wn("selected-tooltip",{start:[{trigger:sn.VIEW_LIFE_CIRCLE.AFTER_PAINT,action:"selected-tooltip:show"},{trigger:sn.VIEW_LIFE_CIRCLE.AFTER_RENDER,action:"selected-tooltip:show"},{trigger:"plot:mousemove",action:"selected-tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"selected-tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}]}),_r("marker-active",KP),wn("marker-active",{start:[{trigger:sn.VIEW_LIFE_CIRCLE.AFTER_PAINT,action:"marker-active:show"},{trigger:sn.VIEW_LIFE_CIRCLE.AFTER_RENDER,action:"marker-active:show"},{trigger:"plot:mousemove",action:"marker-active:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"marker-active:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:mouseleave",action:"marker-active:hide",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchend",action:"marker-active:hide",throttle:{wait:50,leading:!0,trailing:!1}}]});var $P={line:"line",point:"point"},wp=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="line",t.markerPoints=[],t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{connectNulls:!1,smooth:!1,lineSize:2,lineStyle:{lineJoin:"round",lineCap:"round"},point:{visible:!1,size:3,shape:"circle"},label:{visible:!1,type:"point"},legend:{visible:!0,position:"top-left",wordSpacing:4},tooltip:{showContent:!0,crosshairs:{line:{style:{stroke:"rgba(0,0,0,0.45)"}}}},markerPoints:[]})},r.prototype.afterRender=function(){var t=this,e=this.options;this.renderLabel(),e.markerPoints&&((0,u.each)(this.markerPoints,function(n){return n.destroy()}),this.markerPoints=[],e.markerPoints.forEach(function(n){if(n.visible){var a=new FP((0,q.__assign)((0,q.__assign)({},n),{view:t.view}));t.markerPoints.push(a)}})),e.responsive&&e.padding!=="auto"&&this.applyResponsive("afterRender"),i.prototype.afterRender.call(this)},r.prototype.getColorScale=function(){var t=this.options.seriesField;if(t)return this.view.getScaleByField(t)},r.prototype.geometryParser=function(t,e){return $P[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={},(0,u.has)(t,"xAxis")&&qn(e[t.xField],t.xAxis),e[t.yField]={},(0,u.has)(t,"yAxis")&&qn(e[t.yField],t.yAxis),this.setConfig("scales",e),MA(e[t.yField],(0,u.map)(t.data||[],function(n){return n[t.yField]})),i.prototype.scale.call(this)},r.prototype.coord=function(){},r.prototype.tooltip=function(){(0,u.some)(this.options.markerPoints,function(t){return t.visible})&&(this.options.tooltip.showMarkers=!1),i.prototype.tooltip.call(this)},r.prototype.addGeometry=function(){this.addLine(),this.addPoint()},r.prototype.addLine=function(){var t=this.options;this.line=zn("line","main",{plot:this}),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",this.line)},r.prototype.addPoint=function(){var t=this.options,e={visible:!1};t.point&&(t.point=(0,u.deepMix)(e,t.point)),t.point&&t.point.visible&&(this.point=zn("point","guide",{plot:this}),this.setConfig("geometry",this.point))},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.yField,o=t[a];if(n.visible){var s=io(this.view,"line");if(n.type==="line"){var l=new bp((0,q.__assign)({view:this.view,plot:this},this.options.label));l.render()}else this.doRenderLabel(s,(0,q.__assign)({type:"point",formatter:o.formatter&&function(f){return o.formatter(f)}},this.options.label))}},r.prototype.geometryTooltip=function(){this.line.tooltip={};var t=this.options.tooltip;t.fields&&(this.line.tooltip.fields=t.fields),t.formatter&&(this.line.tooltip.callback=t.formatter,t.fields||(this.line.tooltip.fields=[this.options.xField,this.options.yField],this.options.seriesField&&this.line.tooltip.fields.push(this.options.seriesField)))},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation?(PA({options:this.options,view:this.view}),this.line.animate=t.animation):(this.line.animate=!1,this.point&&(this.point.animate=!1))},r.prototype.applyInteractions=function(){i.prototype.applyInteractions.call(this),this.interactions.push(new XP({view:this.view})),this.interactions.push(new HP({view:this.view}))},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,_)},r.prototype.applyResponsive=function(t){var e=this,n=_P[t];(0,u.each)(n,function(a){var o=a;o.method(e)})},r.prototype.singleLineLabelCheck=function(){return!this.options.seriesField&&this.options.label.type&&this.options.label.type==="line"},r}(Fn),Cs=wp;Wr("line",wp);var QP=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="line",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Cs.getDefaultOptions,r}(Dr),Sp=QP;function JP(i,r,t,e,n){var a=e-r,o=i.children,s=i.value;o.sort(function(h,c){return c.value-h.value});var l=a/s,f=r;(0,u.each)(o,function(h){h.y0=t,h.y1=n,h.x0=f,f+=h.value*l,h.x1=h.x0+h.value*l})}function qP(i,r,t,e,n){var a=n-t,o=i.children,s=i.value;o.sort(function(h,c){return c.value-h.value});var l=a/s,f=t;(0,u.each)(o,function(h){h.x0=r,h.x1=e,h.y0=f,f+=h.value*l,h.y1=h.y0+h.value*l})}var tT=(1+Math.sqrt(5))/2;function Cp(i,r,t,e,n){var a=i.children,o=i.value;a.sort(function(Kt,te){return te.value-Kt.value});for(var s=[],l,f,h,c,v,x,A,B,G=0,H=0;G<a.length;){var X=e-r,ut=n-t;for(l=a[H++].value,f=l,h=l,c=Math.max(ut/X,X/ut)/(o*tT),v=l*l*c,A=Math.max(f/v,v/h);H<a.length;H++){if(B=a[H].value,l+=B,B<h&&(h=B),B>f&&(f=B),v=l*l*c,x=Math.max(f/v,v/h),x>A){l-=B;break}A=x}var ft={value:l,dice:X<ut,children:a.slice(G,H)};if(s.push(ft),ft.dice){var xt=o?ut*l/o:ut;JP(ft,r,t,e,t+xt),o&&(t+=xt)}else{var Yt=o?X*l/o:X;qP(ft,r,t,r+Yt,n),o&&(r+=Yt)}o-=l,G=H}return s}var eT=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.listeners=[],t.onItemGroupToggleActive=function(e,n){return function(){var a=e.get("children").find(function(o){return o.get("class")==="item-background"});a&&a.attr(n?t.itemActiveBackgroundStyle:t.itemBackgroundStyle),t.getCanvas().draw()}},t}return r.prototype.destroy=function(){this.offEvents(),i.prototype.destroy.call(this)},r.prototype.initConfig=function(t){this.x=t.x,this.y=t.y,this.items=t.items||[],this.itemPadding=t.itemPadding||[2,8,2,8],this.backgroundStyle=(0,q.__assign)({lineWidth:1,stroke:"#ffffff"},t.backgroundStyle||{}),this.itemBackgroundStyle=(0,q.__assign)({fill:"#fff"},t.itemBackgroundStyle||{}),this.itemActiveBackgroundStyle=(0,q.__assign)({fill:"#ccc",opacity:.2},t.itemActiveBackgroundStyle||{}),this.separator=t.separator||"/",this.separatorStyle=(0,q.__assign)({textBaseline:"top",fill:"#000000",opacity:.45},t.separatorStyle||{}),this.itemWidth=t.itemWidth,this.itemHeight=t.itemHeight,this.maxItemWidth=t.maxItemWidth,this.textStyle=(0,q.__assign)({textBaseline:"top",fill:"#000000",opacity:.45},t.textStyle||{})},r.prototype.renderInner=function(t){var e=0,n=0;this.offEvents(),this.renderItems(t,e,n),Pd(this.group,this.x,this.y)},r.prototype.renderItems=function(t,e,n){var a=this,o=this.itemPadding,s=o[0],l=o[1],f=o[2],h=o[3],c,v=t.addShape("rect",{class:"breadcrumb-background",attrs:(0,q.__assign)({x:e,y:n,width:1,height:1},this.backgroundStyle)});this.items.forEach(function(x,A){var B=t.addGroup({id:"item-group-"+x.key,data:x,class:"item-group",attrs:{cursor:"pointer"}}),G=B.addShape("rect",{id:"item-background-"+x.key,class:"item-background",attrs:(0,q.__assign)((0,q.__assign)({x:e,y:n,width:h+l,height:s+f},a.itemBackgroundStyle),{cursor:"pointer"})});G.name="breadcrumb";var H=B.addShape("text",{id:"item-text-"+x.key,class:"item-text",attrs:(0,q.__assign)((0,q.__assign)({x:e+h,y:n+s,text:x.text},a.textStyle),{cursor:"pointer"})});H.name="breadcrumb";var X=H.getBBox();c=a.itemHeight||X.height;var ut=a.itemWidth||X.width;a.maxItemWidth&&(ut=Math.min(ut,a.maxItemWidth));var ft={x:e,y:n,width:ut+h+l,height:c+s+f};if(G.attr("width",ft.width),G.attr("height",ft.height),B.setClip({type:"rect",attrs:ft}),e+=ft.width,A!==a.items.length-1){var xt=t.addShape("text",{attrs:(0,q.__assign)({x:e,y:n+s,text:a.separator},a.separatorStyle),class:"separator"});e+=xt.getBBox().width}}),v.attr({width:e,height:c+s+f})},r.prototype.bindEvents=function(t){var e=this,n=this.items,a=t.get("children").filter(function(s){return s.get("class")==="item-group"}),o=function(s,l,f){return function(){var h=l.get("data"),c=n.find(function(v){return v.key===h});e.emit(f,{item:c})}};a.forEach(function(s){var l=o("click",s,"onItemClick"),f=o("dblclick",s,"onItemDblclick"),h=e.onItemGroupToggleActive(s,!0),c=e.onItemGroupToggleActive(s,!1);s.on("click",l),s.on("dblclick",f),s.on("mouseenter",h),s.on("mouseleave",c),e.listeners.push({target:s,event:"click",callback:l}),e.listeners.push({target:s,event:"dblclick",callback:f}),e.listeners.push({target:s,event:"mouseenter",callback:h}),e.listeners.push({target:s,event:"mouseleave",callback:c})})},r.prototype.offEvents=function(){this.listeners&&this.listeners.forEach(function(t){var e=t.target,n=t.event,a=t.callback;e.off(n,a)}),this.listeners=[]},r}(ws),rT=eT,Ol=[1,0,0,0,1,0,0,0,1],Co=400,Ho="easeQuadInOut";function nT(i,r,t){var e=Ap(i),n=_p(r),a=n.width/e.width,o=n.height/e.height,s=(n.minX-e.minX)*a,l=(n.minY-e.minY)*o,f=zo([["s",a,o],["t",s,l]]),h=r.geometries[0];Ll(h);var c=r.backgroundGroup.addGroup();c.set("zIndex",-100),c.setClip({type:"rect",attrs:{x:n.minX,y:n.minY,width:n.width,height:n.height}});var v=Mp(h,c);h.container.set("visible",!1),r.canvas.draw(),t(),window.setTimeout(function(){(0,u.each)(v,function(G,H){H===0?G.animate({matrix:f},Co,Ho,function(){c.remove(),r.canvas.draw()}):G.animate(zo,Co)}),h=r.geometries[0],Ll(h);var x=h.getShapes();(0,u.each)(x,function(G){G.attr("opacity",0),G.animate({opacity:1},Co,Ho)});var A=h.container;A.stopAnimate(),A.set("visible",!0),A.attr("matrix",(0,u.clone)(Ol)),y_(A,[["s",e.width/n.width,e.height/n.height],["t",e.minX,e.minY]]);var B=(0,u.clone)(Ol);h.container.animate({matrix:B},Co,Ho,function(){Pp(h)}),r.canvas.draw()},16)}function Mp(i,r){var t=i.getShapes(),e=[];return(0,u.each)(t,function(n){var a=r.addShape("path",{attrs:(0,u.deepMix)({},n.attrs,{capture:!1})});e.push(a)}),e}function Ep(i,r,t){var e=r.geometries[0];Ll(e);var n=e.container;n.attr("matrix",(0,u.clone)(Ol));var a=r.backgroundGroup.addGroup();a.set("zIndex",-100);var o=Mp(e,a);n.set("visible",!1),r.canvas.draw(),t(),e=r.geometries[0],Ll(e),n=e.container;var s=iT(e.getShapes(),i),l=Ap(s),f=_p(r),h=n.get("parent");h.get("clipShape")||n.setClip({type:"rect",attrs:{x:f.minX,y:f.minY,width:f.width,height:f.height}}),aT(a,o,l,f);var c=f.width/l.width,v=f.height/l.height,x=(f.minX-l.minX)*c,A=(f.minY-l.minY)*v,B=zo([["s",c,v],["t",x,A]]);n.setMatrix(B),n.set("visible",!0),n.animate({matrix:Ol},Co,Ho,function(){Pp(e)})}function iT(i,r){var t;return(0,u.each)(i,function(e){var n=e.get("origin").data.name;n===r&&(t=e)}),t}function _p(i){var r=i.coordinateBBox,t={minX:r.minX,minY:r.minY,centerX:(r.maxX-r.minX)/2,centerY:(r.maxY-r.minY)/2,width:r.width,height:r.height};return t}function Ap(i){var r=i.attr("path"),t=r[0][1],e=r[0][2],n=r[1][1],a=r[2][2],o={minX:t,minY:a,centerX:(n-t)/2,centerY:(e-a)/2,width:Math.abs(n-t),height:Math.abs(e-a)};return o}function aT(i,r,t,e){var n=t.width/e.width,a=t.height/e.height,o=zo([["s",n,a],["t",t.minX,t.minY]]);i.animate({matrix:o},Co,Ho,function(){i.remove()}),(0,u.each)(r,function(s){s.animate({opacity:0},Co,Ho)})}function Ll(i){var r=i.labelsContainer;r.set("visible",!1)}function Pp(i){var r=i.labelsContainer;r.set("visible",!0)}var oT=100,sT=30,lT=10,uT=function(i){i===void 0&&(i={});var r=(0,q.__assign)({x:0,y:0,startNode:{name:"root"},itemWidth:oT,itemHeight:sT,padding:[0,0,0,0]},i);return r},Tp=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.getInteractionRange=function(t,e){var n=uT(e),a=n.padding,o=a[0],s=a[1];if(t)return new Nr(t.minX,t.maxY-n.itemHeight-o-s,t.width,n.itemHeight+o+s)},r.prototype.start=function(t){var e=this,n=t.data.data;n.children&&(this.parentNode={color:t.target.attr("fill"),shape:t.target,data:{name:(0,u.clone)(this.currentNode.name),value:(0,u.clone)(this.currentNode.value)},depth:(0,u.clone)(this.currentDepth)},this.currentDepth++,nT(t.target,this.view,function(){e.update(n)}))},r.prototype.update=function(t){(0,u.hasKey)(this.cache,t.name)||(this.cache[t.name]=t);var e=this.plot.getTreemapData(t,t.depth);this.view.changeData(e),this.adjustScale(this.currentDepth),this.currentNode=t,this.render()},r.prototype.render=function(){if(this.breadcrumb){var t=this.getItems();this.breadcrumb.update({items:t}),this.breadcrumb.render(),this.layout()}else this.initGeometry(),this.cache={},this.saveOriginMapping(),this.container=this.plot.canvas.addGroup(),this.startNode||(this.startNode={name:"root"}),this.startNode.name==="root"?(this.startNodeName=(0,u.hasKey)(this.plot.options.data,"name")?this.plot.options.data.name:"root",this.currentNode=this.plot.options.data,this.currentDepth=1):(this.startNodeName=this.startNode.name,this.currentNode=this.startNode),this.y=this.view.coordinateBBox.maxY+lT,this.breadcrumb=new rT({container:this.container,x:0,y:this.y,items:this.getItems()}),this.breadcrumb.init(),this.breadcrumb.render(),this.plot.canvas.draw(),this.layout();this.onInteraction()},r.prototype.clear=function(){},r.prototype.layout=function(){var t=this.container.getBBox().width,e=(this.plot.width-t)/2;this.breadcrumb.update({x:e,y:this.y}),this.breadcrumb.render()},r.prototype.getItems=function(){var t=[];if(this.currentNode.name&&this.currentNode.name===this.startNodeName){var e=this.getRootItem();t.push(e)}else{t=[];var n=[];this.findParent(this.currentNode,n),t.push(this.getRootItem()),(0,u.each)(n,function(a,o){t.push({key:String(o+2),text:a.name,data:a})}),t.push({key:String(n.length+2),text:this.currentNode.name,data:this.currentNode})}return t},r.prototype.findParent=function(t,e){if(t.parent)(0,u.hasKey)(this.cache,t.parent.name)?e.push(this.cache[t.parent.name]):e.push(t.parent),this.findParent(t.parent,e);else return},r.prototype.onInteraction=function(){var t=this;this.container.on("click",function(e){var n=e.target.get("parent");if(n&&n.get("class")==="item-group"){var a=n.get("data");if(a.data)if(a.text===t.startNodeName){var o=1;t.currentDepth-1===o?Ep(t.currentNode.name,t.view,function(){t.updateRoot(a)}):t.updateRoot(a),t.currentDepth=1}else{if(t.currentNode===a.data)return;var s=(0,u.clone)(t.currentDepth);t.currentDepth=parseInt(a.key),s-1===t.currentDepth?Ep(t.currentNode.name,t.view,function(){t.update(a.data)}):t.update(a.data)}}})},r.prototype.getRootItem=function(){var t=this.plot.options.data,e=(0,u.hasKey)(t,"name")?t.name:"root";return{key:"1",text:e,data:this.plot.rootData}},r.prototype.saveOriginMapping=function(){var t=this.plot.options,e=t.colorField,n=t.colors,a={field:e,values:n};this.originMapping=a},r.prototype.adjustScale=function(t){var e=this.view;if(this.mapping&&(0,u.hasKey)(this.mapping,String(t))){var n=(0,u.clone)(this.mapping[t]);if(n.values&&(0,u.isFunction)(n.values)){var a=n.values(this.parentNode,this.currentNode);n.values=a}this.view.geometries[0].color(n.field,n.values)}else{var n=(0,u.clone)(this.originMapping);this.view.geometries[0].color(n.field,n.values)}e.render()},r.prototype.initGeometry=function(){this.geometry=this.view.geometries[0];var t=this.view.viewBBox,e=this.geometry.container;e.setClip({type:"rect",attrs:{x:t.minX,y:t.minY,width:t.width,height:t.height}})},r.prototype.updateRoot=function(t){this.view.changeData(t.data),this.adjustScale(1),this.currentNode=this.plot.options.data,this.render()},r}(ga),fT=Tp;ga.registerInteraction("drilldown",Tp);var hT={drilldown:fT},cT={rect:"polygon",breadcrumb:"breadcrumb"},vT=si(cT);(0,u.assign)(Qr,vT);var Op=4,dT=8;function pT(i,r){return!i.children||i.depth>=r}function gT(i,r,t){var e=i.attr("fontSize"),n=i.attr("text"),a=t.addShape("text",{attrs:{text:"",x:0,y:0,fontSize:e}}),o=n.split(`
`),s=o.map(function(l){for(var f="",h=l.split(""),c=[],v=0;v<h.length;v++){var x=h[v];a.attr("text",f+=x);var A=a.getBBox().width-1;if(A>r){if(v===0)break;c.push(v),f=""}}return rd(h,c)});return a.remove(),s.join(`
`)}function Lp(i,r,t,e){for(var n=e.addShape("text",{attrs:{text:"...",x:0,y:0,fontSize:r}}),a=n.getBBox().width,o=e.addShape("text",{attrs:{text:"",x:0,y:0,fontSize:r}}),s="",l=t-a,f=0;f<i.length;f++){var h=i[f];o.attr("text",s+=h);var c=o.getBBox().width;if(c>=l){var v=s.substr(0,s.length-1);if(v.length>0)return v+"..."}}return o.remove(),n.remove(),s}var yT=function(){function i(r){this.destroyed=!1,this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,u.deepMix)(t,r,{}),this.init()}return i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.getGeometry().elements;(0,u.each)(t,function(e){var n=e.shape,a=n.get("origin").data,o=pT(a,r.plot.options.maxLevel);if(a.showLabel){var s=(0,u.clone)(r.options.style),l=r.getPosition(n,o),f=r.options.formatter,h=f?f(a.name):a.name,c=r.getTextBaseLine(o),v=r.container.addShape("text",{attrs:(0,u.deepMix)({},s,{x:l.x,y:l.y,text:h,fill:"black",textAlign:"center",textBaseline:c,fontWeight:o?300:600}),name:"label"});r.adjustLabel(v,n,o)}})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getPosition=function(r,t){var e=r.getBBox(),n=0,a=0;return t?(n=e.minX+e.width/2,a=e.minY+e.height/2):(n=e.x+e.width/2,a=e.y+4),{x:n,y:a}},i.prototype.getTextBaseLine=function(r){return r?"middle":"top"},i.prototype.adjustLabel=function(r,t,e){e?this.adjustLeafLabel(r,t):this.adjustParentLabel(r,t)},i.prototype.adjustLeafLabel=function(r,t){var e=t.getBBox(),n=r.getBBox(),a=(0,u.clone)(r.attr("text")),o=2,s=Math.max(r.attr("fontSize")-o,dT),l=e.x+e.width/2,f=e.y+e.height/2;r.attr({x:l,y:f,textAlign:"center",textBaseline:"middle",lineHeight:s,fontSize:s});var h=e.width-Op*2;if(n.width>e.width&&n.height>e.height){r.attr("text","");return}else if(h<s){r.attr("text","");return}if(n.width>e.width){var c=gT(r,h,this.container);r.attr({lineHeight:r.attr("fontSize"),text:c});var v=r.getBBox();if(v.height>e.height){var x=Lp(a,s,h,this.container);r.attr("text",x)}}},i.prototype.adjustParentLabel=function(r,t){var e=t.getBBox(),n=e.width-Op*2;if(r.getBBox().width>n){var a=Lp(r.attr("text"),r.attr("fontSize"),n,this.container);r.attr("text",a)}},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=r.label.style;return{offsetX:0,offsetY:0,style:(0,u.clone)(t)}},i.prototype.getGeometry=function(){return(0,u.find)(this.view.geometries,function(r){return r.type==="polygon"})},i}(),mT=yT,xT=4,Ms=4,Ip=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="treemap",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{maxLevel:2,padding:[0,0,0,0],tooltip:{visible:!1,showTitle:!1,showCrosshairs:!1,showMarkers:!1,shared:!1},legend:{visible:!1},xAxis:{visible:!1},yAxis:{visible:!1},xField:"x",yField:"y",label:{visible:!0,adjustPosition:!0,style:{stroke:"rgba(0,0,0,0)",lineWidth:0,fontSize:12}},meta:{x:{nice:!1},y:{nice:!1}},interactions:[{type:"tooltip"}]})},r.prototype.beforeInit=function(){var t=this;i.prototype.beforeInit.call(this);var e=this.options.interactions;e&&(0,u.each)(e,function(o){o.type==="drilldown"&&(t.isDrilldown=!0,t.options.maxLevel=1)});var n=this.options.data,a=this.getTreemapData(n);this.rootData=a},r.prototype.afterRender=function(){if(i.prototype.afterRender.call(this),this.options.label&&this.options.label.visible){var t=new mT((0,q.__assign)({view:this.view,plot:this},this.options.label));t.render()}},r.prototype.geometryParser=function(){return"polygon"},r.prototype.getTreemapData=function(t,e){var n=this.getViewRange(),a=Cp(t,n.x,n.y,n.width,n.height);this.recursive(a,1);var o=[];return this.getAllNodes(a,o,e),o.sort(function(s,l){return s.depth-l.depth}),this.options.xField="x",this.options.yField="y",o},r.prototype.processData=function(){return this.rootData},r.prototype.coord=function(){},r.prototype.addGeometry=function(){var t=this,e=this.options,n=e.data,a=e.colorField,o=e.color,s=this.getTreemapData(n);this.rootData=s;var l=this.isNested(s);this.rect={type:"polygon",position:{fields:["x","y"]},color:{fields:[a],values:o},style:{fields:["depth"],callback:function(f){var h=t.adjustStyleByDepth(f,l);return(0,u.deepMix)({},h,t.options.rectStyle)}},tooltip:{fields:["name","value"]}},this.options.tooltip&&this.options.tooltip.formatter&&(this.rect.tooltip.callback=this.options.tooltip.formatter),this.setConfig("geometry",this.rect)},r.prototype.applyInteractions=function(){var t=this,e=this.options.interactions,n=this.view.interactions;(0,u.each)(e,function(a){var o=hT[a.type];if(o){var s=new o((0,u.deepMix)({},{view:t.view,plot:t,startEvent:"polygon:click"},a.cfg,o.getInteractionRange(t.layerBBox,a.cfg)));n[a.type]=s}})},r.prototype.animation=function(){i.prototype.animation.call(this),this.isDrilldown&&(this.rect.animate=!1)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,C)},r.prototype.recursive=function(t,e){var n=this,a=this.options.colorField;(0,u.each)(t,function(o){(0,u.each)(o.children,function(s){s.depth=e,e>1&&(s.parent=o),(0,u.hasKey)(s,a)||(s[a]=o[a]),s.showLabel=!0;var l=n.isLeaf(s);if(!l){var f=Math.abs(s.y1-s.y0),h=n.getLabelHeight(),c=f/2>h?h:Ms;s.showLabel=c!==Ms;var v=Cp(s,s.x0+Ms,s.y0+c,s.x1-Ms,s.y1-Ms);n.fillColorField(v,a,s[a]),n.recursive(v,s.depth+1)}})})},r.prototype.getAllNodes=function(t,e,n){var a=this,o=n||this.options.maxLevel,s=this.getViewRange();(0,u.each)(t,function(l){(0,u.hasKey)(l,"x0")&&l.depth<=o&&e.push((0,q.__assign)((0,q.__assign)({},l),{x:[l.x0,l.x1,l.x1,l.x0],y:[s.height-l.y1,s.height-l.y1,s.height-l.y0,s.height-l.y0]})),(0,u.hasKey)(l,"children")&&a.getAllNodes(l.children,e)})},r.prototype.fillColorField=function(t,e,n){(0,u.each)(t,function(a){(0,u.hasKey)(a,e)||(a[e]=n)})},r.prototype.getLabelHeight=function(){var t=this.options.label,e=this.getPlotTheme().label.style.fontSize,n=0;if(t&&t.visible){var a=t.style;n=a&&a.fontSize?a.fontSize:e}return n+xT*2},r.prototype.isLeaf=function(t){return!t.children||t.children.length===0},r.prototype.isNested=function(t){var e=this.options.maxLevel;if(e===1)return!1;for(var n=!1,a=0;a<t.length;a++)if(t[a].children){n=!0;break}return n},r.prototype.adjustStyleByDepth=function(t,e){var n=this.options.maxLevel;return e?t===1?{lineWidth:1,stroke:"black",opacity:t/n}:{lineWidth:1,stroke:"rgba(0,0,0,0.3)",opacity:t/n}:{lineWidth:1,stroke:"rgba(0,0,0,0.9)",opacity:.9}},r}(Fn),bT=Ip;Wr("treemap",Ip);var wT=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="treemap",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=bT.getDefaultOptions,r}(Dr),kp=wT,Bp=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="step-line",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{step:"hv"})},r}(Cs);Wr("step-line",Bp);var ST=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="step-line",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Bp.getDefaultOptions,r}(Dr),Dp=ST;function Fp(i,r){var t=[],e=i.get("origin").points;return(0,u.each)(e,function(n){t.push(r.convertPoint(n))}),t}var CT=function(){function i(r){(0,u.deepMix)(this,this.constructor.getDefaultOptions(r),r),this._init()}return i.getDefaultOptions=function(r){var t=r.transpose;return{visible:!0,size:t?32:80,spacing:t?8:12,offset:t?32:0,arrow:{visible:!0,headSize:12,style:{fill:"rgba(0, 0, 0, 0.05)"}},value:{visible:!0,style:{fontSize:12,fill:"rgba(0, 0, 0, 0.85)"},formatter:function(e,n){return(100*n/e).toFixed(2)+"%"}},animation:(0,u.deepMix)({},ro.DEFAULT_ANIMATE_CFG)}},i.prototype._init=function(){var r=this,t=this.view.backgroundGroup;this.container=t.addGroup(),this.draw(),this.view.on("beforerender",function(){r.clear()})},i.prototype.draw=function(){var r=this,t=this.transpose,e=this.view.getScaleByField(this.field).values,n=this.view.geometries[0],a=n.getShapes(),o,s,l,f;t?a.forEach(function(h,c){s=e[c],c++>0&&r._drawTag(l,f,h,s),f=s,l=h}):a.forEach(function(h,c){f=e[c],c++>0&&r._drawTag(h,f,o,s),s=f,o=h})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype._drawTag=function(r,t,e,n){var a=this.transpose,o=this.view.geometries[0].coordinate,s=Fp(r,o)[a?3:0],l=Fp(e,o)[a?0:3];this._drawTagArrow(s,l),this._drawTagValue(s,t,l,n)},i.prototype._drawTagArrow=function(r,t){var e=this.spacing,n=this,a=n.size,o=n.offset,s=n.animation,l=n.transpose,f=this.arrow.headSize,h=t.y-r.y,c=t.x-r.x,v;l?(c-f)/2<e?(e=Math.max(1,(c-f)/2),v=[[r.x+e,r.y-o],[r.x+e,r.y-o-a],[t.x-e,t.y-o-a/2]]):v=[[r.x+e,r.y-o],[r.x+e,r.y-o-a],[t.x-e-f,t.y-o-a],[t.x-e,t.y-o-a/2],[t.x-e-f,t.y-o]]:(h-f)/2<e?(e=Math.max(1,(h-f)/2),v=[[r.x+o,r.y+e],[r.x+o+a,r.y+e],[t.x+o+a/2,t.y-e]]):v=[[r.x+o,r.y+e],[r.x+o+a,r.y+e],[t.x+o+a,t.y-e-f],[t.x+o+a/2,t.y-e],[t.x+o,t.y-e-f]];var x=this.container.addShape("polygon",{name:"arrow",attrs:(0,q.__assign)((0,q.__assign)({},this.arrow.style),{points:v})});s!==!1&&this._fadeInTagShape(x)},i.prototype._drawTagValue=function(r,t,e,n){var a=this,o=a.size,s=a.offset,l=a.animation,f=a.transpose,h=this.value.formatter(t,n),c=this.container.addShape("text",{name:"value",attrs:(0,q.__assign)((0,q.__assign)({},this.value.style),{text:h,x:f?(r.x+e.x)/2:r.x+s+o/2,y:f?r.y-s-o/2:(r.y+e.y)/2,textAlign:"center",textBaseline:"middle"})});if(f){var v=e.x-r.x,x=c.getBBox().width;if(x>v){var A=x/h.length,B=Math.max(1,Math.ceil(v/A)-1),G=h.slice(0,B)+"...";c.attr("text",G)}}l!==!1&&this._fadeInTagShape(c)},i.prototype._fadeInTagShape=function(r){var t=this.animation,e=r.attr("opacity");r.attr("opacity",0);var n=(0,u.get)(t,"appear",ro.DEFAULT_ANIMATE_CFG.appear).duration;r.animate({opacity:e},n)},i}(),Rp=CT;function MT(i){var r=i.getResponsiveTheme(),t=i.canvas;new oo({plot:i,responsiveTheme:r,dim:"x"}),new oo({plot:i,responsiveTheme:r,dim:"y"}),t.draw()}var ET=[],_T=[{name:"responsiveAxis",method:MT}],AT={preRender:ET,afterRender:_T},PT=function(i){var r=i.opacity||1;return{opacity:r*.5}},TT=function(i){var r=i.opacity||1;return{opacity:r*.5}},Zf={label:{darkStyle:{fill:"#2c3542",stroke:"#ffffff",fillOpacity:.85},lightStyle:{fill:"#ffffff",stroke:"#ffffff",fillOpacity:1}},columnStyle:{normal:{},active:PT,disable:TT,selected:{lineWidth:1,stroke:"black"}}};zi("bar",Zf);function Ha(i){var r=i.indexOf("#")===0?i.substr(1):i,t=[];return t.push(parseInt(r.substr(0,2),16)),t.push(parseInt(r.substr(2,2),16)),t.push(parseInt(r.substr(4,2),16)),t}function Kf(i){var r;return r=Math.round(i),r=r.toString(16),r.length===1&&(r="0"+i),r}function zG(i){return"#"+(Kf(i[0])+Kf(i[1])+Kf(i[2]))}function Il(i,r){var t;return(0,u.each)(i,function(e){var n=e;r>=n.from&&r<n.to&&(t=n.color)}),t}var $f=function(i){var r=Ha(i),t=r[0],e=r[1],n=r[2],a=(t*299+e*587+n*114)/1e3<128;return a},Np=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getLabelItemAttrs=function(t,e){var n,a=this.options,o=a.style,s=a.formatter,l=[].concat(t.getModel().mappingData),f=this.getValue(t);return(0,u.deepMix)({},o,(0,q.__assign)((0,q.__assign)({},this.getPosition(t)),{text:s?s(f,(n={},n[bs]=l[0]._origin,n.mappingDatum=l[0],n.mappingDatumIndex=0,n.element=t,n.elementIndex=e,n),e):f,fill:this.getTextFill(t),stroke:this.getTextStroke(t),textAlign:this.getTextAlign(t),textBaseline:this.getTextBaseline()}))},r.prototype.adjustLabel=function(t,e){var n=this.options,a=n.adjustPosition,o=n.style;if(a){var s=this.getDefaultOffset(),l=t.getBBox(),f=this.getElementShapeBBox(e);if(f.width<=l.width){var h=f.maxX+this.options.offsetX+s;t.attr("x",h),t.attr("fill",o.fill)}}},r.prototype.getDefaultOptions=function(){var t=this.layer.theme,e=t.label,n=e===void 0?{}:e;return(0,q.__assign)({offsetX:0,offsetY:0,adjustPosition:!0},n)},r.prototype.getValue=function(t){return(0,u.get)(t.getData(),this.layer.options.xField)},r.prototype.getPosition=function(t){var e=this.getDefaultOffset(),n=this.getValue(t),a=this.getElementShapeBBox(t),o=a.minX,s=a.maxX,l=a.minY,f=a.height,h=a.width,c=this.options,v=c.offsetX,x=c.offsetY,A=c.position,B=l+f/2+x,G=n<0?-1:1,H;if(A==="left"){var X=n>0?o:s;H=X+e*G+v}else if(A==="right"){var X=n>0?s:o;H=X+e*G+v}else H=o+h/2+v;return{x:H,y:B}},r.prototype.getTextFill=function(t){var e=t.shape;if(this.options.adjustColor&&this.options.position!=="right"){var n=e.attr("fill"),a=e.attr("opacity")?e.attr("opacity"):1,o=Ha(n),s=Math.round(o[0]*.299+o[1]*.587+o[2]*.114)/a,l=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],f=Il(l,s);return f}var h=this.options.style.fill;return h},r.prototype.getTextStroke=function(t){var e=this.getTextFill(t),n=this.options,a=n.position,o=n.adjustColor;return a!=="right"&&o&&e!=="black"?null:void 0},r.prototype.getTextAlign=function(t){var e=this.getValue(t),n=this.options.position,a={right:"left",left:"left",middle:"center"},o={right:"right",left:"right",middle:"center"};return e<0?o[n]:a[n]},r.prototype.getTextBaseline=function(){return"middle"},r.prototype.getElementShapeBBox=function(t){var e=this,n=t.shape,a=[];(0,u.each)(n.get("origin").points,function(x){a.push(e.coord.convertPoint(x))});var o=a.map(function(x){return x.x}),s=Math.min.apply(Math,o),l=Math.max.apply(Math,o),f=a.map(function(x){return x.y}),h=Math.min.apply(Math,f),c=Math.max.apply(Math,f),v=new Nr(s,h,l-s,c-h);return v},r.prototype.getLabelOffset=function(){return{x:0,y:0}},r}(Pf),Gp=Np;Yi("bar",Np);var Yp=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getPosition=function(t){var e=this.getDefaultOffset(),n=this.getValue(t),a=this.getElementShapeBBox(t),o=a.minX,s=a.maxX,l=a.minY,f=a.height,h=this.options,c=h.offsetX,v=h.offsetY,x=l+f/2+v,A=n<0?-1:1,B=n>0?s:o,G=B+e*A+c;return{x:G,y:x}},r.prototype.getTextAlign=function(t){var e=this.getValue(t);return e>0?"left":"right"},r.prototype.getTextFill=function(t){var e=this.options.style;return e.fill},r.prototype.getTextStroke=function(t){},r.prototype.adjustLabel=function(t,e){},r.prototype.layoutLabels=function(t,e){this.shouldInShapeLabels(e)&&this.inShapeLabels(t,e),this.autoHideLabels(t,e)},r.prototype.shouldInShapeLabels=function(t){var e=this;return(0,u.every)(t,function(n){var a=n.getBBox(),o=n.get("element"),s=e.getElementShapeBBox(o);return s.height>=a.height})},r.prototype.inShapeLabels=function(t,e){var n=this,a=this.getCoordinateBBox(),o=t.getXYFields()[0],s=this.options,l=s.darkStyle,f=s.lightStyle,h=(0,u.groupBy)(e,function(c){return c.get(Ki)[sn.FIELD_ORIGIN][o]});(0,u.each)(e,function(c){var v=h[c.get(Ki)[sn.FIELD_ORIGIN][o]]||[],x=c.get("element"),A=x.shape,B=$f(A.attr("fill")),G=n.getElementShapeBBox(x),H=Nr.fromBBoxObject(c.getBBox());if(Gf(a,G)<=0&&c.set("visible",!1),H.width>G.width){var X=(0,u.findIndex)(v,function(ft){return ft===c});X!==v.length-1&&c.set("visible",!1)}else{c.attr({x:G.x+G.width/2,textAlign:"center"});var ut=H.width>G.width||H.height>G.height;ut?c.attr({stroke:f==null?void 0:f.stroke}):c.attr({fill:B?f==null?void 0:f.fill:l==null?void 0:l.fill,fillOpacity:B?f==null?void 0:f.fillOpacity:l==null?void 0:l.fillOpacity,stroke:void 0})}})},r.prototype.autoHideLabels=function(t,e){var n=this.getCoordinateBBox(),a=this.filterLabels(e),o=t.getXYFields()[0],s=[],l=[],f=(0,u.groupBy)(a,function(x){return x.get(Ki)[sn.FIELD_ORIGIN][o]}),h=(0,u.uniq)((0,u.map)(a,function(x){return x.get(Ki)[sn.FIELD_ORIGIN][o]})),c;for((0,u.size)(h)>0&&(c=h.shift(),(0,u.each)(f[c],function(x){return l.push(x)})),(0,u.size)(h)>0&&(c=h.pop(),(0,u.each)(f[c],function(x){return l.push(x)})),(0,u.each)(h.reverse(),function(x){(0,u.each)(f[x],function(A){return l.push(A)})});l.length>0;){var v=l.shift();v.get("visible")&&(Al(v,n),Pl(v,s)?v.set("visible",!1):s.push(v))}},r.prototype.filterLabels=function(t){var e=500,n=[],a=Math.max(Math.floor(t.length/e),1);return(0,u.each)(t,function(o,s){s%a==0?n.push(o):o.set("visible",!1)}),n},r}(Gp),OT=Yp;Yi("bar-auto",Yp);var LT={bar:"interval"},IT=si(LT);(0,u.assign)(Qr,IT);var kT={bar:"interval"},BT={interval:"bar"},zp=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="bar",t}return r.getDefaultOptions=function(){var t={xAxis:{visible:!0,line:{visible:!1},title:{visible:!0},label:{visible:!1},tickLine:{visible:!1},grid:{visible:!1},nice:!0},yAxis:{visible:!0,grid:{visible:!1},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!0},title:{visible:!1,spacing:12}},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1},label:{visible:!0,position:"left",adjustColor:!0},legend:{visible:!1,position:"top-left"},interactions:[{type:"tooltip"},{type:"active-region"},{type:"legend-active"},{type:"legend-filter"}],conversionTag:{visible:!1}};return(0,u.deepMix)({},i.getDefaultOptions.call(this),t)},r.prototype.beforeInit=function(){i.prototype.beforeInit.call(this);var t=this.options;t.responsive&&t.padding!=="auto"&&this.applyResponsive("preRender")},r.prototype.afterRender=function(){var t=this.options;this.renderLabel(),t.responsive&&t.padding!=="auto"&&this.applyResponsive("afterRender"),t.conversionTag.visible&&(this.conversionTag=new Rp((0,q.__assign)({view:this.view,field:t.xField,animation:t.animation!==!1},t.conversionTag))),i.prototype.afterRender.call(this)},r.prototype.geometryParser=function(t,e){return t==="g2"?kT[e]:BT[e]},r.prototype.processData=function(t){var e=t&&t.slice().reverse(),n=this.options.yField,a=[];return(0,u.each)(e,function(o){var s=(0,u.clone)(o);s[n]=s[n].toString(),a.push(s)}),a},r.prototype.scale=function(){var t=this.options,e={};e[t.yField]={type:"cat"},(0,u.has)(t,"yAxis")&&qn(e[t.yField],t.yAxis),e[t.xField]={},(0,u.has)(t,"xAxis")&&qn(e[t.xField],t.xAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){this.setConfig("coordinate",{actions:[["transpose"]]})},r.prototype.axis=function(){var t=mi("axis",{plot:this,dim:"x"}),e=mi("axis",{plot:this,dim:"y"});t&&(t.position="left"),e&&(e.position="bottom");var n={};n[this.options.xField]=t,n[this.options.yField]=e,this.setConfig("axes",n)},r.prototype.adjustBar=function(t){return null},r.prototype.addGeometry=function(){var t=this.options,e=zn("interval","main",{positionFields:[t.yField,t.xField],plot:this});t.conversionTag.visible&&this.setConfig("theme",(0,u.deepMix)({},this.getTheme(),{columnWidthRatio:1/3})),this.adjustBar(e),this.bar=e,t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.bar.animate=!1)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,E)},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.xField,o=t[a];if(n==null?void 0:n.visible){var s=io(this.view,"interval");this.doRenderLabel(s,(0,q.__assign)({type:"bar",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},r.prototype.geometryTooltip=function(){this.bar.tooltip={};var t=this.options.tooltip;t.fields&&(this.bar.tooltip.fields=t.fields),t.formatter&&(this.bar.tooltip.callback=t.formatter,t.fields||(this.bar.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&this.bar.tooltip.fields.push(this.options.colorField)))},r.prototype.applyResponsive=function(t){var e=this,n=AT[t];(0,u.each)(n,function(a){var o=a;o.method(e)})},r.prototype.getLabelOptionsByPosition=function(t){if(t==="middle")return{offset:0};if(t==="left")return{offset:7,style:{stroke:null,lineWidth:0}};if(t==="right")return{offset:4}},r}(Fn),kl=zp;Wr("bar",zp);var DT=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="bar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=kl.getDefaultOptions,r}(Dr),Xp=DT;zi("stackedBar",Zf);var FT=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustLabel=function(t,e){if(this.options.adjustPosition){var n=t.getBBox(),a=this.getElementShapeBBox(e);a.maxX<=n.maxX&&t.set("visible",!1)}},r}(Gp),XG=null;Yi("stacked-bar",FT);var RT=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.shouldInShapeLabels=function(t){return!0},r}(OT),VG=null;Yi("stacked-bar-auto",RT);var Vp=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="stackedBar",t.baseType="bar",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!0},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!0,spacing:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!1,spacing:12}},legend:{visible:!0,position:"top-left",offsetY:0}})},r.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},r.prototype.adjustBar=function(t){t.adjust=[{type:"stack"}]},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.xField,o=t[a];if(n==null?void 0:n.visible){var s=io(this.view,"interval");this.doRenderLabel(s,(0,q.__assign)({type:"stacked-bar",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},r.prototype.geometryTooltip=function(){this.bar.tooltip={};var t=this.options.tooltip;t.fields&&(this.bar.tooltip.fields=t.fields),t.formatter&&(this.bar.tooltip.callback=t.formatter,t.fields||(this.bar.tooltip.fields=[this.options.xField,this.options.yField,this.options.stackField]))},r}(kl),Qf=Vp;Wr("stackedBar",Vp);var NT=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="stackedBar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Qf.getDefaultOptions,r}(Dr),Hp=NT;zi("groupedBar",Zf);var Wp=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="groupedBar",t.baseType="bar",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,grid:{visible:!0}},yAxis:{visible:!0,title:{visible:!1}},label:{visible:!0,position:"right",adjustColor:!0},legend:{visible:!0,position:"right-top",offsetY:0}})},r.prototype.afterRender=function(){i.prototype.afterRender.call(this);var t=(0,u.valuesOfKey)(this.options.data,this.options.groupField)||[];this.view.on("tooltip:change",function(e){var n=e.items,a=n===void 0?[]:n,o=(0,u.sortBy)(a.slice(),function(s){return t.indexOf(s.name)}).reverse();o.forEach(function(s,l){e.items[l]=s})})},r.prototype.getColorScale=function(){var t=this.options.groupField;if(t)return this.view.getScaleByField(t)},r.prototype.scale=function(){var t={};t[this.options.groupField]={values:(0,u.valuesOfKey)(this.options.data,this.options.groupField)},this.options.meta?this.options.meta=(0,u.deepMix)({},this.options.meta,t):this.options.meta=t,i.prototype.scale.call(this)},r.prototype.adjustBar=function(t){t.adjust=[{type:"dodge",marginRatio:.1}]},r.prototype.geometryTooltip=function(){this.bar.tooltip={};var t=this.options.tooltip;t.fields&&(this.bar.tooltip.fields=t.fields),t.formatter&&(this.bar.tooltip.callback=t.formatter,t.fields||(this.bar.tooltip.fields=[this.options.xField,this.options.yField,this.options.groupField]))},r}(kl),jp=Wp;Wr("groupedBar",Wp);var GT=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="groupedBar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=jp.getDefaultOptions,r}(Dr),Up=GT,Jf=function(i,r,t){var e=(0,u.groupBy)(i,r);e=(0,u.mapValues)(e,function(o){return(0,u.map)(o,function(s){return(0,u.map)(t,function(l){return s[l]})})}),e=(0,u.mapValues)(e,u.flatten),e=(0,u.mapValues)(e,function(o){return(0,u.map)(o,function(s){var l=Number.parseFloat(s);return!(0,u.isNumber)(l)||isNaN(l)?0:l})});var n=(0,u.mapValues)(e,function(o){return(0,u.reduce)(o,function(s,l){return s+l},0)}),a=(0,u.map)(i,function(o){var s=(0,q.__assign)((0,q.__assign)({},o),{_origin:o,total:n[o[r]]});return(0,u.each)(t,function(l){s[l]=o[l]/(n[o[r]]||1)}),s});return(0,u.each)((0,u.groupBy)(a,r),function(o){var s=0;(0,u.each)(o,function(l,f){(0,u.each)(t,function(h,c){(s+l[h]>=1||f===o.length-1&&c===t.length-1&&s>0)&&(l[h]=1-s),s+=l[h]})})}),a},Zp=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="percentStackedBar",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,tickLine:{visible:!1},grid:{visible:!1},title:{visible:!0,formatter:function(t){return t+" (%)"}},label:{visible:!1,formatter:function(t){var e=/%/gi;return t.replace(e,"")}}}})},r.prototype.processData=function(t){var e=this.options,n=e.xField,a=e.yField,o=i.prototype.processData.call(this,t);return Jf(o,a,[n])},r.prototype.scale=function(){var t={},e=this.options.xField;t[e]={tickCount:6,alias:e+" (%)",min:0,max:1,formatter:function(n){var a=(n*100).toFixed(1);return a+"%"}},this.options.meta=(0,u.deepMix)({},this.options.meta,t),i.prototype.scale.call(this)},r}(Qf),Kp=Zp;Wr("percentStackedBar",Zp);var YT=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="percentStackedBar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Kp.getDefaultOptions,r}(Dr),$p=YT,Qp=8;function zT(i,r){var t;return(0,u.each)(i,function(e){var n=e;r>=n.from&&r<n.to&&(t=n.color)}),t}var XT=function(){function i(r){this.destroyed=!1,this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,u.deepMix)(t,r,{}),this.options.leftStyle||(this.options.leftStyle=this.options.style),this.options.rightStyle||(this.options.rightStyle=this.options.style),this.init()}return i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.getGeometry(),e=t.elements,n=t.coordinate;this.coord=n,(0,u.each)(e,function(a){var o=a.shape,s=r.getPosition(o),l=r.getValue(o),f=r.getTextAlign(),h=[];(0,u.each)(s,function(c,v){var x=v===0?r.options.leftStyle:r.options.rightStyle,A=r.getTextColor(o,v);r.options.position==="inner"&&r.options.adjustColor&&A!=="black"&&(x.stroke=null);var B=r.options.formatter,G=B?B(l[v]):l[v],H=r.container.addShape("text",{attrs:(0,u.deepMix)({},x,{x:c.x,y:c.y,text:G,fill:A,textAlign:f[v],textBaseline:"middle"}),name:"label"});h.push(H),r.doAnimation(H)}),o.set("labelShapes",h),r.adjustPosition(h[0],h[1],o)}),this.plot.canvas.draw()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getShapeBbox=function(r){var t=this,e=[];(0,u.each)(r.get("origin").points,function(a){e.push(t.coord.convertPoint(a))});var n=new Nr(e[0].x,e[1].y,Math.abs(e[2].x-e[0].x),Math.abs(e[0].y-e[1].y));return n},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=r.label.style;return{position:"outer",offsetX:Qp,offsetY:0,style:(0,u.clone)(t),adjustColor:!0,adjustPosition:!0}},i.prototype.getPosition=function(r){var t=this.getShapeBbox(r),e=t.minX,n=t.maxX,a=t.minY,o=t.height,s=this.options,l=s.offsetX,f=s.offsetY,h=a+o/2+f,c,v;return this.options.position==="outer"?(c=e-l,v=n+l):(c=e+l,v=n-l),[{x:c,y:h},{x:v,y:h}]},i.prototype.getValue=function(r){var t=this.plot.options.xField;return r.get("origin").data[t]},i.prototype.getTextAlign=function(){return this.options.position==="outer"?["right","left"]:["left","right"]},i.prototype.getTextColor=function(r,t){if(this.options.adjustColor&&this.options.position==="inner"){var e=r.attr("fill"),n=r.attr("opacity")?r.attr("opacity"):1,a=Ha(e),o=Math.round(a[0]*.299+a[1]*.587+a[2]*.114)/n,s=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],l=zT(s,o);return l}var f=t===0?this.options.leftStyle.fill:this.options.rightStyle.fill;return f},i.prototype.doAnimation=function(r){this.plot.animation&&this.plot.animation===!1||(r.attr("fillOpacity",0),r.attr("strokeOpacity",0),r.stopAnimate(),r.animate({fillOpacity:1,strokeOpacity:1},800,"easeLinear",500))},i.prototype.adjustPosition=function(r,t,e){var n=e.get("origin"),a=n.x[0],o=n.x[1],s=Math.abs(o-a),l=this.view.coordinateBBox,f=[r.getBBox(),t.getBBox()],h=r.attr("x"),c=t.attr("x");if(this.options.adjustPosition&&this.options.position==="inner"){var v=f[0].width+f[1].width,x=f[0].maxX-f[1].minX>2,A=v>s;(x||A)&&(h=a-this.options.offsetX,r.attr("fill",this.options.leftStyle.fill),r.attr("textAlign","right"),f[0]=r.getBBox(),c=o+this.options.offsetX,t.attr("fill",this.options.rightStyle.fill),t.attr("textAlign","left"),f[1]=t.getBBox())}f[0].minX<l.minX&&(h=l.minX+Qp,r.attr("textAlign","left")),r.attr("x",h),t.attr("x",c),this.plot.canvas.draw()},i.prototype.getGeometry=function(){return(0,u.find)(this.view.geometries,function(r){return r.type==="interval"})},i}(),VT=XT,Jp;function qp(i,r){var t=i.getBBox(),e=t.minX+t.width/2;i.setClip({type:"rect",attrs:{x:e,y:t.minY,width:0,height:t.height}});var n=i.get("clipShape");n.animate({width:t.width,x:t.minX},r.duration,r.easing,function(){i.setClip(null)},r.delay)}qp.animationName="clipInFromCenter";function HT(i){Jp=i}function tg(i,r){var t=WT(i).attr("path"),e=(0,u.clone)(i.attr("path"));i.attr("path",t),i.animate({path:e},r.duration,r.easing,r.callback,100)}function WT(i){var r=i.id,t;return(0,u.each)(Jp,function(e){e.id===r&&(t=e)}),t}tg.animationName="updateFromCenter",Un("clipInFromCenter",qp),Un("updateFromCenter",tg);var eg=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="rangeBar",t}return r.getDefaultOptions=function(){return(0,u.deepMix)(i.getDefaultOptions.call(this),{label:{visible:!0,position:"outer"},xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!0,spacing:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{visible:!1,spacing:12}}},{})},r.prototype.afterRender=function(){this.renderLabel();var t=[],e=this.view.geometries;(0,u.each)(e,function(n){var a=n.elements;(0,u.each)(a,function(o){t.push(o.shape)})}),HT(t),i.prototype.afterRender.call(this)},r.prototype.renderLabel=function(){if(this.options.label&&this.options.label.visible){var t=new VT((0,q.__assign)({view:this.view,plot:this},this.options.label));t.render()}},r.prototype.animation=function(){i.prototype.animation.call(this)},r}(kl),jT=eg;Wr("rangeBar",eg);var UT=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="rangeBar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=jT.getDefaultOptions,r}(Dr),rg=UT,ng=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r}(mp),ZT=ng;Yi("area-point",ng);var ig=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.layoutLabels=function(t,e){i.prototype.layoutLabels.call(this,t,e),this.adjustAreaLabelsStyle(e)},r.prototype.adjustAreaLabelsStyle=function(t){var e=this.view,n=this.options,a=n.darkStyle,o=n.lightStyle,s=io(e,"area"),l=E_(s).sort(function(f,h){return h.getBBox().height-f.getBBox().height});(0,u.each)(t,function(f){var h=f.getBBox(),c=EE(h.x,h.y,h.width,h.height),v=(0,u.map)(l,function(B){return{area:B,matches:(0,u.filter)(c,function(G){return!!B.isHit(G[0],G[1])}).length}}).sort(function(B,G){return B.matches-G.matches});if((0,u.last)(v).matches>0){var x=(0,u.last)(v).area.attr("fill"),A=$f(x);f.attr({fill:A?o==null?void 0:o.fill:a==null?void 0:a.fill,fillOpacity:A?o.fillOpacity:a.fillOpacity,stroke:A?o==null?void 0:o.stroke:a==null?void 0:a.stroke})}})},r}(AP),KT=ig;Yi("area-point-auto",ig);function $T(i){var r=i.getResponsiveTheme(),t=i.canvas;new oo({plot:i,responsiveTheme:r,dim:"x"}),new oo({plot:i,responsiveTheme:r,dim:"y"}),t.draw()}var QT=[],JT=[{name:"responsiveAxis",method:$T}],qT={preRender:QT,afterRender:JT},tO={area:"area",line:"line",point:"point"},eO=si(tO);(0,u.assign)(Qr,eO);var rO=function(i){var r=i.opacity||1;return{opacity:r}},nO=function(i){var r=i.opacity||1;return{opacity:r*.5}},iO=function(i){var r=i.opacity||1;return{opacity:r}},aO=function(i){var r=i.opacity||1;return{opacity:r*.5}},oO=function(i){var r=i.lineWidth||1;return{lineWidth:r+2}},sO=function(i){var r=i.fill||i.fillStyle,t=i.size||i.radius;return{radius:t+1,shadowBlur:t,shadowColor:r,stroke:r,strokeOpacity:1,lineWidth:1}},lO=function(i){var r=i.fill||i.fillStyle,t=i.size||i.radius;return{radius:t+2,shadowBlur:t,shadowColor:r,stroke:r,strokeOpacity:1,lineWidth:2}},uO=function(i){var r=i.opacity||i.fillOpacity||1;return{opacity:r*.5}},ag={areaStyle:{normal:{},active:rO,disable:nO,selected:{lineWidth:1,stroke:"#333333"}},lineStyle:{normal:{},active:iO,disable:aO,selected:oO},pointStyle:{normal:{},active:sO,disable:uO,selected:lO},label:{darkStyle:{fill:"#2c3542",stroke:"#ffffff",fillOpacity:.85},lightStyle:{fill:"#ffffff",fillOpacity:1,stroke:"#2c3542"}}};zi("area",ag);var fO={area:"area",line:"line",point:"point"},og=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="area",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{smooth:!1,areaStyle:{opacity:.25},line:{visible:!0,size:2,style:{opacity:1,lineJoin:"round",lineCap:"round"}},point:{visible:!1,size:4,shape:"point"},label:{visible:!1,type:"point"},legend:{visible:!0,position:"top-left",wordSpacing:4},tooltip:{visible:!0,shared:!0,showCrosshairs:!0,crosshairs:{type:"x"},offset:20}})},r.prototype.beforeInit=function(){i.prototype.beforeInit.call(this),this.options.responsive&&this.options.padding!=="auto"&&this.applyResponsive("preRender")},r.prototype.afterRender=function(){this.renderLabel(),this.options.responsive&&this.options.padding!=="auto"&&this.applyResponsive("afterRender"),i.prototype.afterRender.call(this)},r.prototype.geometryParser=function(t,e){return fO[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},(0,u.has)(t,"xAxis")&&qn(e[t.xField],t.xAxis),e[t.yField]={},(0,u.has)(t,"yAxis")&&qn(e[t.yField],t.yAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){return null},r.prototype.addGeometry=function(){var t=this.options,e=zn("area","main",{plot:this});this.area=e,t.label&&this.label(),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.adjustArea(e),this.setConfig("geometry",e),this.addLine(),this.addPoint()},r.prototype.adjustArea=function(t){},r.prototype.adjustLine=function(t){},r.prototype.adjustPoint=function(t){},r.prototype.addLine=function(){var t=this.options,e=(0,u.deepMix)({},t.line);if(e.visible){var n=zn("line","guide",{type:"line",plot:this,line:e});this.adjustLine(n),this.setConfig("geometry",n),this.line=n}},r.prototype.addPoint=function(){var t=this.options,e=(0,u.deepMix)({},t.point);if(e.visible){var n=zn("point","guide",{plot:this});this.adjustPoint(n),this.setConfig("geometry",n),this.point=n}},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.yField,o=t[a];if(n.visible){var s=io(this.view,"area");this.doRenderLabel(s,(0,q.__assign)({type:"area-point",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.area.animate=!1,this.line&&(this.line.animate=!1),this.point&&(this.point.animate=!1))},r.prototype.label=function(){},r.prototype.geometryTooltip=function(){this.area.tooltip={};var t=this.options.tooltip;t.fields&&(this.area.tooltip.fields=t.fields),t.formatter&&(this.area.tooltip.callback=t.formatter,t.fields||(this.area.tooltip.fields=[this.options.xField,this.options.yField],this.options.seriesField&&this.area.tooltip.fields.push(this.options.seriesField)))},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,p)},r.prototype.applyResponsive=function(t){var e=this,n=qT[t];(0,u.each)(n,function(a){var o=a;o.method(e)})},r}(Fn),qf=og;Wr("area",og);var hO=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="area",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=qf.getDefaultOptions,r}(Dr),sg=hO,cO=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getShapeInfo=function(t){var e=t.get("origin").points,n=e[e.length-1],a=t.attr("stroke"),o=this.plot.options.stackField,s=t.get("origin").data[0][o],l=(0,u.reduce)(n.y,function(f,h){return f+h},0)/(0,u.size)(n.y);return{x:n.x,y:l,color:a,name:s}},r}(bp),vO=cO,th=12,dO=.01,pO=100,gO=12;function yO(i){var r=-Infinity,t=Infinity,e=-Infinity;return(0,u.each)(i,function(n){t=Math.min(n.x,t),e=Math.max(n.x,e);var a=Math.abs(n.y[0]-n.y[1]);r=Math.max(r,a)}),{xRange:[t,e],maxHeight:r}}function lg(i,r,t){var e=r[0],n=r[r.length-1];(0,u.each)(r,function(o){if(o.x===i)return o.y[t];o.x<i&&o.x>e.x&&(e=o),o.x>i&&o.x<n.x&&(n=o)});var a=(i-e.x)/(n.x-e.x);return e.y[t]*(1-a)+n.y[t]*a}function mO(i,r){var t;for(t=0;t<i.length;t++){var e=i[t];if(e.x===r||e.x>r)break}return t}var xO=function(){function i(r){this.destroyed=!1,this.scaleFactor=[],this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,u.deepMix)(t,r,{}),this.init()}return i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.plot.options.stackField,e=this.getGeometry().dataArray,n=[];(0,u.each)(e,function(o,s){var l=r.drawLabel(o,s);l&&(n.push((0,u.deepMix)({},o[0],l)),r.scaleFactor.push(l.scaleFactor))});var a=[];(0,u.each)(n,function(o,s){var l=r.options,f=l.style,h=l.offsetX,c=l.offsetY,v=r.getFontSize(s),x=r.options.formatter,A=x?x(o._origin[t]):o._origin[t],B=r.container.addShape("text",{attrs:(0,u.deepMix)({},{x:o.x+h,y:o.y+c,text:A,fill:o.color,fontSize:v,textAlign:"center",textBaseline:"top"},f),name:"label"});a.push(B)}),this.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=(0,u.clone)(r.label.style);return t.stroke=null,delete t.fill,{offsetX:0,offsetY:0,style:t,autoScale:!0}},i.prototype.drawLabel=function(r,t){var e=yO(r),n=e.xRange,a=e.maxHeight,o=n[1]-n[0],s=this.getInterpolatedPoints(n[0],o,r),l=this.getLabelBbox(t),f={xRange:n,aspect:l.width/l.height,data:s,justTest:!0},h=this.bisection(gO,a,this.testFit,f,dO,pO);if(h!==null){f.justTest=!1;var c=this.testFit(f);return c.x=c.x,c.y=c.y0+(c.y1-c.y0)/2,c.scaleFactor=h/l.height*.2,c}},i.prototype.getInterpolatedPoints=function(r,t,e){for(var n=[],a=2,o=r;o<t;o+=a){var s=lg(o,e,0),l=lg(o,e,1);n.push({x:o,y:[s,l]})}return n},i.prototype.bisection=function(r,t,e,n,a,o){for(var s=0;s<o;s++){var l=(r+t)/2,f=n;f.height=l,f.width=l*f.aspect;var h=e(f),c=(t-r)/2<a;if(h&&c)return l;h?r=l:t=l}return null},i.prototype.testFit=function(r){for(var t=r.xRange,e=r.width,n=r.height,a=r.data,o=r.justTest,s=0;s<a.length;s++){var l=a[s],f=l.x,h=f+e;if(h>t[1])break;for(var c=mO(a,h),v=-Infinity,x=null,A=Infinity,B=s;B<c;B++){var G=a[B].y[1],H=a[B].y[0];if(H<A&&(A=H),G>v&&(v=G,x=H),A-v<n)break}if(A-v>=n)return o?!0:{x:f,y0:v,y1:x,width:e,height:n}}return!1},i.prototype.getLabelBbox=function(r){var t=(0,u.clone)(this.plot.theme.label.textStyle);t.fontSize=th;var e=this.container.addShape("text",{attrs:(0,q.__assign)({text:r,x:0,y:0},t)}),n=e.getBBox();return e.remove(),n},i.prototype.getGeometry=function(){return(0,u.find)(this.view.geometries,function(r){return r.type==="area"})},i.prototype.getFontSize=function(r){if(this.options.autoScale){var t=this.scaleFactor[r];return th*t}return th},i}(),bO=xO,wO={lineLabel:{Ctr:vO},areaLabel:{Ctr:bO}};function SO(i,r,t){if(i.options[r]&&i.options[r].visible){var e=wO[r],n=new e.Ctr(t);return e.padding&&i.paddingController.registerPadding(n,e.padding),n}}var CO=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r}(ZT),HG=null;Yi("stackedArea-point",CO);var MO=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.sortLabels=function(t,e){var n=[];return e.length>0&&n.push(e.shift()),e.length>0&&n.push(e.pop()),n.push.apply(n,e),n},r}(KT),WG=null;Yi("stackedArea-point-auto",MO),zi("stackedArea",ag);var ug=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.plotComponents=[],t.type="stackedArea",t.baseType="area",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{label:{visible:!1,type:"area"}})},r.prototype.beforeInit=function(){var t=(0,u.get)(this.options,["label","visible"]),e=(0,u.get)(this.options,["label","type"]),n=this.options;t&&(e==="line"&&(n.lineLabel=this.options.label),e==="area"&&(n.areaLabel=this.options.label)),i.prototype.beforeInit.call(this)},r.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},r.prototype.label=function(){var t=this.options,e=t.label;if(e&&e.visible===!1){this.line&&(this.line.label=!1),this.point&&(this.point.label=!1),this.area.label=!1;return}},r.prototype.adjustArea=function(t){t.adjust=[{type:"stack"}]},r.prototype.adjustLine=function(t){t.adjust=[{type:"stack"}]},r.prototype.adjustPoint=function(t){t.adjust=[{type:"stack"}]},r.prototype.afterRender=function(){this.renderPlotComponents(),this.options.responsive=!1,i.prototype.afterRender.call(this)},r.prototype.geometryTooltip=function(){this.area.tooltip={};var t=this.options.tooltip;t.fields&&(this.area.tooltip.fields=t.fields),t.formatter&&(this.area.tooltip.callback=t.formatter,t.fields||(this.area.tooltip.fields=[this.options.xField,this.options.yField,this.options.stackField]))},r.prototype.renderPlotComponents=function(){var t=this,e=["areaLabel","lineLabel"];(0,u.each)(e,function(n){var a=(0,q.__assign)({view:t.view,plot:t},t.options[n]),o=SO(t,n,a);o&&(o.render(),t.plotComponents.push(o))})},r}(qf),eh=ug;Wr("stackedArea",ug);var EO=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="stackedArea",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=eh.getDefaultOptions,r}(Dr),fg=EO,hg=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="percentStackedArea",t.baseType="stackedArea",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{visible:!0,label:{visible:!0,formatter:function(t){var e=/%/gi;return t.replace(e,"")}}}})},r.prototype.processData=function(t){var e=this.options,n=e.xField,a=e.yField;return Jf(t,n,[a])},r.prototype.scale=function(){var t={},e=this.options.yField;t[this.options.yField]={tickCount:6,alias:e+" (%)",min:0,max:1,formatter:function(n){var a=(n*100).toFixed(1);return a+"%"}},this.options.meta=(0,u.deepMix)({},t,this.options.meta),i.prototype.scale.call(this)},r}(eh),cg=hg;Wr("percentStackedArea",hg);var _O=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="percentStackedArea",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=cg.getDefaultOptions,r}(Dr),vg=_O;function AO(i){var r=i.getResponsiveTheme(),t=i.canvas;new oo({plot:i,responsiveTheme:r,dim:"x"}),new oo({plot:i,responsiveTheme:r,dim:"y"}),t.draw()}var PO=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getType=function(){return(0,u.get)(this.plot.options,["label","position"],"inner")},r}(gp);function TO(i){var r=i.getResponsiveTheme();new PO({plot:i,responsiveTheme:r})}var OO=[],LO=[{name:"responsiveAxis",method:AO},{name:"responsiveLabel",method:TO}],IO={preRender:OO,afterRender:LO},kO={label:{top:{constraints:[{name:"elementCollision"}],rules:{elementCollision:[{name:"nodeJitterUpward"},{name:"nodesResamplingByState",option:{keep:["min","max","median"]}},{name:"textHide"}]}}}};Vd("column",kO);var dg=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getLabelItemAttrs=function(t,e){var n,a,o=this.options,s=o.style,l=o.formatter,f=[].concat(t.getModel().mappingData),h=this.getValue(t);return(0,u.deepMix)({},s,(0,q.__assign)((0,q.__assign)({},this.getPosition(t)),{text:l?l(h,(n={},n[bs]=(a=f[0])===null||a===void 0?void 0:a._origin,n.mappingDatum=f[0],n.mappingDatumIndex=0,n.element=t,n.elementIndex=e,n),e):h,fill:this.getTextFill(t),stroke:this.getTextStroke(t),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseLine()}))},r.prototype.getDefaultOptions=function(){var t=this.layer.theme,e=t.label,n=e===void 0?{}:e;return(0,q.__assign)({offsetX:0,offsetY:0,adjustPosition:!0},n)},r.prototype.adjustLabel=function(t,e){var n=this.options.adjustPosition;if(n){var a=this.getDefaultOffset(),o=t.getBBox(),s=this.getElementShapeBBox(e);if(s.height<=o.height){var l=s.minY+this.options.offsetY-a;t.attr("y",l),t.attr("textBaseline","bottom"),t.attr("fill",this.options.style.fill)}}},r.prototype.getValue=function(t){return(0,u.get)(t.getData(),this.layer.options.yField)},r.prototype.getPosition=function(t){var e=this.getDefaultOffset(),n=this.getValue(t),a=this.getElementShapeBBox(t),o=a.minX,s=a.minY,l=a.maxY,f=a.height,h=a.width,c=this.options,v=c.offsetX,x=c.offsetY,A=c.position,B=o+h/2+v,G=n>0?-1:1,H;if(A==="top"){var X=n>0?s:l;H=X+e*G+x}else if(A==="bottom"){var X=n>0?l:s;H=X+e*G+x}else H=s+f/2+x;return{x:B,y:H}},r.prototype.getTextFill=function(t){var e=t.shape;if(this.options.adjustColor&&this.options.position!=="top"){var n=e.attr("fill"),a=e.attr("opacity")?e.attr("opacity"):1,o=Ha(n),s=Math.round(o[0]*.299+o[1]*.587+o[2]*.114)/a,l=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],f=Il(l,s);return f}var h=this.options.style.fill;return h},r.prototype.getTextStroke=function(t){var e=this.getTextFill(t),n=this.options,a=n.position,o=n.adjustColor;return a!=="top"&&o&&e!=="black"?null:void 0},r.prototype.getElementShapeBBox=function(t){var e=this,n=t.shape,a=[];(0,u.each)(n.get("origin").points,function(x){a.push(e.coord.convertPoint(x))});var o=a.map(function(x){return x.x}),s=Math.min.apply(Math,o),l=Math.max.apply(Math,o),f=a.map(function(x){return x.y}),h=Math.min.apply(Math,f),c=Math.max.apply(Math,f),v=new Nr(s,h,l-s,c-h);return v},r.prototype.getTextAlign=function(){return"center"},r.prototype.getTextBaseLine=function(){return"middle"},r.prototype.getLabelOffset=function(){return{x:0,y:0}},r}(Pf),rh=dg;Yi("column",dg);var pg=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getPosition=function(t){var e=this.getDefaultOffset(),n=this.getValue(t),a=this.getElementShapeBBox(t),o=a.minX,s=a.minY,l=a.maxY,f=a.width,h=this.options,c=h.offsetX,v=h.offsetY,x=o+f/2+c,A=n>0?-1:1,B=n>0?s:l,G=B+e*A+v;return{x,y:G}},r.prototype.getTextFill=function(t){var e=this.options.style;return e.fill},r.prototype.getTextStroke=function(t){},r.prototype.adjustLabel=function(t,e){},r.prototype.layoutLabels=function(t,e){this.shouldInShapeLabels(e)&&this.inShapeLabels(t,e),this.autoHideLabels(t,e)},r.prototype.shouldInShapeLabels=function(t){var e=this;return(0,u.every)(t,function(n){var a=n.getBBox(),o=n.get("element"),s=e.getElementShapeBBox(o);return s.width>=a.width})},r.prototype.inShapeLabels=function(t,e){var n=this,a=this.getCoordinateBBox(),o=t.getXYFields()[0],s=this.options,l=s.darkStyle,f=s.lightStyle,h=(0,u.groupBy)(e,function(c){return c.get(Ki)[sn.FIELD_ORIGIN][o]});(0,u.each)(e,function(c){var v=h[c.get(Ki)[sn.FIELD_ORIGIN][o]]||[],x=c.get("element"),A=x.shape,B=$f(A.attr("fill")),G=n.getElementShapeBBox(x),H=Nr.fromBBoxObject(c.getBBox());if(Gf(a,G)<=0&&c.set("visible",!1),H.height>G.height){var X=(0,u.findIndex)(v,function(ft){return ft===c});X!==0&&c.set("visible",!1)}else{c.attr({y:G.y+G.height/2,textBaseline:"middle"});var ut=H.width>G.width||H.height>G.height;ut?c.attr({stroke:f==null?void 0:f.stroke}):c.attr({fill:B?f==null?void 0:f.fill:l==null?void 0:l.fill,fillOpacity:B?f==null?void 0:f.fillOpacity:l==null?void 0:l.fillOpacity,stroke:void 0})}})},r.prototype.autoHideLabels=function(t,e){var n=this.getCoordinateBBox(),a=this.filterLabels(e),o=t.getXYFields()[0],s=[],l=[],f=(0,u.groupBy)(a,function(x){return x.get(Ki)[sn.FIELD_ORIGIN][o]}),h=(0,u.uniq)((0,u.map)(a,function(x){return x.get(Ki)[sn.FIELD_ORIGIN][o]})),c;for((0,u.size)(h)>0&&(c=h.shift(),(0,u.each)(f[c],function(x){return l.push(x)})),(0,u.size)(h)>0&&(c=h.pop(),(0,u.each)(f[c],function(x){return l.push(x)})),(0,u.each)(h.reverse(),function(x){(0,u.each)(f[x],function(A){return l.push(A)})});l.length>0;){var v=l.shift();v.get("visible")&&(Al(v,n),Pl(v,s)?v.set("visible",!1):s.push(v))}},r.prototype.filterLabels=function(t){var e=500,n=[],a=Math.max(Math.floor(t.length/e),1);return(0,u.each)(t,function(o,s){s%a==0?n.push(o):o.set("visible",!1)}),n},r}(rh),BO=pg;Yi("column-auto",pg);var DO={column:"interval"},FO=si(DO);(0,u.assign)(Qr,FO);var RO=function(i){var r=i.opacity||1;return{opacity:r*.5}},NO=function(i){var r=i.opacity||1;return{opacity:r*.5,fillOpacity:r*.5}},nh={label:{darkStyle:{fill:"#2c3542",stroke:"#ffffff",fillOpacity:.85},lightStyle:{fill:"#ffffff",stroke:"#ffffff",fillOpacity:1}},columnStyle:{normal:{},active:RO,disable:NO,selected:{lineWidth:1,stroke:"black"}}};zi("column",nh);var GO={column:"interval"},YO={interval:"column"},gg=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="column",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,tickLine:{visible:!1},title:{visible:!0}},yAxis:{nice:!0,title:{visible:!0},label:{visible:!0},grid:{visible:!0}},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1},label:{visible:!1,position:"top",adjustColor:!0},legend:{visible:!0,position:"top-left"},interactions:[{type:"tooltip"},{type:"active-region"},{type:"legend-active"},{type:"legend-filter"}],conversionTag:{visible:!1}})},r.prototype.beforeInit=function(){i.prototype.beforeInit.call(this),this.options.responsive&&this.options.padding!=="auto"&&this.applyResponsive("preRender")},r.prototype.afterRender=function(){var t=this.options;this.renderLabel(),this.options.responsive&&this.options.padding!=="auto"&&this.applyResponsive("afterRender"),t.conversionTag.visible&&(this.conversionTag=new Rp((0,q.__assign)({view:this.view,field:t.yField,transpose:!0,animation:t.animation!==!1},t.conversionTag))),i.prototype.afterRender.call(this)},r.prototype.geometryParser=function(t,e){return t==="g2"?GO[e]:YO[e]},r.prototype.processData=function(t){var e=this.options.xField,n=[];return(0,u.each)(t,function(a){var o=(0,u.clone)(a);o[e]=o[e].toString(),n.push(o)}),n},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},(0,u.has)(t,"xAxis")&&qn(e[t.xField],t.xAxis),e[t.yField]={},(0,u.has)(t,"yAxis")&&qn(e[t.yField],t.yAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){},r.prototype.adjustColumn=function(t){},r.prototype.addGeometry=function(){var t=this.options,e=zn("interval","main",{positionFields:[t.xField,t.yField],plot:this});t.conversionTag.visible&&this.setConfig("theme",(0,u.deepMix)({},this.getTheme(),{columnWidthRatio:1/3})),this.adjustColumn(e),this.column=e,t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},r.prototype.geometryTooltip=function(){this.column.tooltip={};var t=this.options.tooltip;t.fields&&(this.column.tooltip.fields=t.fields),t.formatter&&(this.column.tooltip.callback=t.formatter,t.fields||(this.column.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&this.column.tooltip.fields.push(this.options.colorField)))},r.prototype.animation=function(){i.prototype.animation.call(this),this.options.animation===!1&&(this.column.animate=!1)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,w)},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.yField,o=t[a];if(n==null?void 0:n.visible){var s=io(this.view,"interval");this.doRenderLabel(s,(0,q.__assign)({type:"column",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},r.prototype.applyResponsive=function(t){var e=this,n=IO[t];(0,u.each)(n,function(a){var o=a;o.method(e)})},r}(Fn),Wo=gg;Wr("column",gg);var zO=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="column",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Wo.getDefaultOptions,r}(Dr),yg=zO;zi("groupedColumn",nh);var mg=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.baseType="column",t.type="groupedColumn",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{title:{visible:!0}}})},r.prototype.getResponsiveTheme=function(){return this.themeController.getResponsiveTheme("column")},r.prototype.getColorScale=function(){var t=this.options.groupField;if(t)return this.view.getScaleByField(t)},r.prototype.addGeometry=function(){i.prototype.addGeometry.call(this)},r.prototype.adjustColumn=function(t){t.adjust=[{type:"dodge",marginRatio:.1}]},r.prototype.geometryTooltip=function(){this.column.tooltip={};var t=this.options.tooltip;t.fields&&(this.column.tooltip.fields=t.fields),t.formatter&&(this.column.tooltip.callback=t.formatter,t.fields||(this.column.tooltip.fields=[this.options.xField,this.options.yField,this.options.groupField]))},r}(Wo),ih=mg;Wr("groupedColumn",mg);var XO=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="groupedColumn",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=ih.getDefaultOptions,r}(Dr),xg=XO;function bg(i,r){var t=[],e=i.get("origin").points;return(0,u.each)(e,function(n){t.push(r.convertPoint(n))}),t}function VO(){return{areaStyle:{opacity:.2},lineStyle:{lineWidth:2,opacity:.1}}}var HO=function(){function i(r){this.areas=[],this.lines=[],this._areaStyle={},this._lineStyle={},(0,u.assign)(this,r),this._init()}return i.prototype.draw=function(){var r=this,t=this._getGroupedShapes();(0,u.each)(t,function(e,n){e.length>0&&r._drawConnection(e,n)}),this.triggerOn?this._addInteraction():this.animation&&this._initialAnimation()},i.prototype.clear=function(){this.container&&this.container.clear(),this.areas=[],this.lines=[]},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype.setState=function(r,t){r==="active"&&this._onActive(t),r==="disabled"&&this._onDisabled(t),r==="selected"&&this._onSelected(t)},i.prototype._init=function(){var r=this,t=this.view.backgroundGroup;this.container=t.addGroup(),this.draw(),this.view.on("beforerender",function(){r.clear()})},i.prototype._getGroupedShapes=function(){var r=this,t=this.view.getScaleByField(this.field).values,e=this.view.geometries[0],n=e.getShapes(),a={};return(0,u.each)(t,function(o){a[o]=[]}),(0,u.each)(n,function(o){var s=o.get("origin").data,l=s[r.field];a[l].push(o)}),a},i.prototype._drawConnection=function(r,t){var e=r[0].attr("fill");this._areaStyle[t]=this._getShapeStyle(e,"area"),this._lineStyle[t]=this._getShapeStyle(e,"line");for(var n=this.view.geometries[0].coordinate,a=0;a<r.length-1;a++){var o=bg(r[a],n),s=bg(r[a+1],n),l=(0,u.mix)({},this._areaStyle[t]),f=(0,u.mix)({},this._lineStyle[t]);this.triggerOn&&(l.opacity=0,f.opacity=0);var h=this.container.addShape("path",{attrs:(0,u.mix)({},l,{path:[["M",o[2].x,o[2].y],["L",s[1].x,s[1].y],["L",s[0].x,s[0].y],["L",o[3].x,o[3].y]]}),name:"connectedArea"}),c=this.container.addShape("path",{attrs:(0,u.mix)({},f,{path:[["M",o[2].x,o[2].y],["L",s[1].x,s[1].y]]}),name:"connectedArea"}),v=r[a].get("origin").data;h.set("data",v),c.set("data",v),this.areas.push(h),this.lines.push(c)}},i.prototype._getShapeStyle=function(r,t){var e=t+"Style";if(this[e])return this[e];var n=VO()[e],a={fill:r};return t==="line"&&(a={stroke:r}),(0,u.mix)(n,a)},i.prototype._addInteraction=function(){var r=this,t=this.triggerOn;this.view.on("interval:"+t,function(e){var n=e.target.get("origin").data[r.field];r.setState("active",{name:r.field,exp:n}),r.setState("disabled",{name:r.field,exp:function(a){return a!==n}}),r.view.canvas.draw()}),this.view.on("mousemove",function(e){e.gEvent.target.get("name")!=="interval"&&r.setState("disabled",{name:r.field,exp:function(){return!0}})})},i.prototype._initialAnimation=function(){var r=this.view.coordinateBBox,t=r.x,e=r.y,n=r.width,a=r.height;this.container.setClip({type:"rect",attrs:{x:t,y:e,width:0,height:a}}),this.container.set("animating",!0),this.container.getClip().animate({width:n},600,"easeQuadOut",function(){},400)},i.prototype._onActive=function(r){var t=this;(0,u.each)(this.areas,function(e){var n=e.get("data"),a=n[t.field];if(Va(n,r)){var o=t._areaStyle[a].opacity||1;e.stopAnimate(),e.animate({opacity:o},400,"easeQuadOut")}}),(0,u.each)(this.lines,function(e){var n=e.get("data"),a=n[t.field];if(Va(n,r)){var o=t._lineStyle[a].opacity||1;e.stopAnimate(),e.animate({opacity:o},400,"easeQuadOut")}})},i.prototype._onDisabled=function(r){(0,u.each)(this.areas,function(t){var e=t.get("data");Va(e,r)&&(t.stopAnimate(),t.animate({opacity:0},400,"easeQuadOut"))}),(0,u.each)(this.lines,function(t){var e=t.get("data");Va(e,r)&&(t.stopAnimate(),t.animate({opacity:0},400,"easeQuadOut"))})},i.prototype._onSelected=function(r){this._onActive(r)},i.prototype.getGeometry=function(){return(0,u.find)(this.view.geometries,function(r){return r.type==="interval"})},i}(),WO=HO;zi("stackedColumn",nh);var jO=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustLabel=function(t,e){var n=this.options.adjustPosition;if(n){var a=t.getBBox(),o=this.getElementShapeBBox(e);(o.height<a.height||o.width<a.width)&&t.hide()}},r}(rh),jG=null;Yi("stacked-column",jO);var UO=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.shouldInShapeLabels=function(t){return!0},r}(BO),UG=null;Yi("stacked-column-auto",UO);var wg=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="stackedColumn",t.baseType="column",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{legend:{visible:!0,position:"right-top"},label:{visible:!1,position:"middle",offset:0,adjustColor:!0},connectedArea:{visible:!1,triggerOn:"mouseenter"}})},r.prototype.init=function(){this.options.connectedArea.visible&&(this.options.tooltip.crosshairs=null),i.prototype.init.call(this)},r.prototype.afterRender=function(){var t=this.options;t.connectedArea.visible&&(this.connectedArea=new WO((0,q.__assign)({view:this.view,field:t.stackField,animation:t.animation!==!1},t.connectedArea))),i.prototype.afterRender.call(this)},r.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},r.prototype.adjustColumn=function(t){t.adjust=[{type:"stack"}]},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.yField,o=t[a];if(n&&n.visible){var s=io(this.view,"interval");this.doRenderLabel(s,(0,q.__assign)({type:"stacked-column",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},r.prototype.geometryTooltip=function(){this.column.tooltip={};var t=this.options.tooltip;t.fields&&(this.column.tooltip.fields=t.fields),t.formatter&&(this.column.tooltip.callback=t.formatter,t.fields||(this.column.tooltip.fields=[this.options.xField,this.options.yField,this.options.stackField]))},r}(Wo),Bl=wg;Wr("stackedColumn",wg);var ZO=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="stackedColumn",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Bl.getDefaultOptions,r}(Dr),Sg=ZO,ah=8;function KO(i,r){var t;return(0,u.each)(i,function(e){var n=e;r>=n.from&&r<n.to&&(t=n.color)}),t}var $O=function(){function i(r){this.destroyed=!1,this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,u.deepMix)(t,r,{}),this.options.topStyle||(this.options.topStyle=this.options.style),this.options.bottomStyle||(this.options.bottomStyle=this.options.style),this.init()}return i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.getGeometry(),e=t.coordinate,n=t.elements;this.coord=e,(0,u.each)(n,function(a){var o=a.shape,s=r.getPosition(o),l=r.getValue(o),f=r.getTextBaseline(),h=[];(0,u.each)(s,function(c,v){var x=v===1?r.options.topStyle:r.options.bottomStyle,A=r.getTextColor(o,v);r.options.position==="inner"&&r.options.adjustColor&&A!=="black"&&(x.stroke=null);var B=r.options.formatter,G=B?B(l[v]):l[v],H=r.container.addShape("text",{attrs:(0,u.deepMix)({},x,{x:c.x,y:c.y,text:G,fill:A,textAlign:"center",textBaseline:f[v]}),name:"label"});h.push(H),r.doAnimation(H)}),o.set("labelShapes",h),r.adjustPosition(h[0],h[1],o)}),this.plot.canvas.draw()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getShapeBbox=function(r){var t=this,e=[];(0,u.each)(r.get("origin").points,function(a){e.push(t.coord.convertPoint(a))});var n=new Nr(e[0].x,e[1].y,Math.abs(e[2].x-e[0].x),Math.abs(e[0].y-e[1].y));return n},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=r.label.style;return{position:"outer",offsetX:0,offsetY:ah,style:(0,u.clone)(t),adjustColor:!0,adjustPosition:!0}},i.prototype.getPosition=function(r){var t=this.getShapeBbox(r),e=t.minX,n=t.minY,a=t.maxY,o=t.width,s=this.options.offsetY,l=e+o/2,f,h;return this.options.position==="outer"?(f=n-s,h=a+s):(f=n+s,h=a-s),[{x:l,y:h},{x:l,y:f}]},i.prototype.getValue=function(r){var t=this.plot.options.yField;return r.get("origin").data[t]},i.prototype.getTextBaseline=function(){return this.options.position==="outer"?["top","bottom"]:["bottom","top"]},i.prototype.getTextColor=function(r,t){if(this.options.adjustColor&&this.options.position==="inner"){var e=r.attr("fill"),n=r.attr("opacity")?r.attr("opacity"):1,a=Ha(e),o=Math.round(a[0]*.299+a[1]*.587+a[2]*.114)/n,s=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],l=KO(s,o);return l}var f=t===1?this.options.topStyle.fill:this.options.bottomStyle.fill;return f},i.prototype.doAnimation=function(r){this.plot.animation&&this.plot.animation===!1||(r.attr("fillOpacity",0),r.attr("strokeOpacity",0),r.stopAnimate(),r.animate({fillOpacity:1,strokeOpacity:1},800,"easeLinear",500))},i.prototype.adjustPosition=function(r,t,e){var n=e.get("origin"),a=n.y[1],o=n.y[0],s=e.getBBox(),l=s.height,f=l,h=this.view.coordinateBBox,c=[r.getBBox(),t.getBBox()],v=r.attr("y"),x=t.attr("y");if(this.options.adjustPosition&&this.options.position==="inner"){var A=c[0].height+c[1].height,B=c[1].maxY-c[0].minY>2,G=A>f;(B||G)&&(x=a-this.options.offsetY,t.attr("fill",this.options.topStyle.fill),t.attr("textBaseline","bottom"),v=o+this.options.offsetY,r.attr("fill",this.options.bottomStyle.fill),r.attr("textBaseline","top"),c[0]=r.getBBox(),c[1]=t.getBBox())}c[0].maxY>h.maxY-ah&&(v=h.maxY-ah/2,r.attr("textBaseline","bottom")),r.attr("y",v),t.attr("y",x),this.plot.canvas.draw()},i.prototype.getGeometry=function(){return(0,u.find)(this.view.geometries,function(r){return r.type==="interval"})},i}(),QO=$O,Cg;function Mg(i,r){var t=i.getBBox(),e=t.minY+t.height/2;i.setClip({type:"rect",attrs:{x:t.minX,y:e,width:t.width,height:0}});var n=i.get("clipShape");n.animate({height:t.height,y:t.minY},r.duration,r.easing,function(){i.setClip(null)},r.delay)}Mg.animationName="clipInFromCenterVertical";function JO(i){Cg=i}function Eg(i,r){var t=qO(i).attr("path"),e=(0,u.clone)(i.attr("path"));i.attr("path",t),i.animate({path:e},r.duration,r.easing,r.callback,100)}function qO(i){var r=i.id,t;return(0,u.each)(Cg,function(e){e.id===r&&(t=e)}),t}Eg.animationName="updateFromCenterVertical",Un("clipInFromCenterVertical",Mg),Un("updateFromCenterVertical",Eg);var _g=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="rangeColumn",t}return r.getDefaultOptions=function(){return(0,u.deepMix)(i.getDefaultOptions.call(this),{label:{visible:!0,position:"outer"}},{})},r.prototype.afterRender=function(){this.renderLabel();var t=[],e=this.view.geometries;(0,u.each)(e,function(n){var a=n.elements;(0,u.each)(a,function(o){t.push(o.shape)})}),JO(t),i.prototype.afterRender.call(this)},r.prototype.animation=function(){i.prototype.animation.call(this),this.column.animate={appear:{animation:"clipInFromCenterVertical",duration:600},update:{animation:"updateFromCenterVertical",duration:600}}},r.prototype.renderLabel=function(){if(this.options.label&&this.options.label.visible){var t=new QO((0,q.__assign)({view:this.view,plot:this},this.options.label));t.render()}},r}(Wo),tL=_g;Wr("rangeColumn",_g);var eL=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="rangeColumn",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=tL.getDefaultOptions,r}(Dr),Ag=eL,Pg=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="percentStackedColumn",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{label:{visible:!0,position:"middle",offset:0},yAxis:{visible:!0,tick:{visible:!1},grid:{visible:!1},title:{visible:!0},label:{visible:!1}}})},r.prototype.processData=function(t){var e=this.options,n=e.xField,a=e.yField;return Jf(t||[],n,[a])},r.prototype.scale=function(){var t={},e=this.options.yField;t[e]={tickCount:6,alias:e+" (%)",min:0,max:1,formatter:function(n){var a=(n*100).toFixed(1);return a+"%"}},this.options.meta=(0,u.deepMix)({},this.options.meta,t),i.prototype.scale.call(this)},r}(Bl),Tg=Pg;Wr("percentStackedColumn",Pg);var rL=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="percentStackedColumn",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Tg.getDefaultOptions,r}(Dr),Og=rL,nL={pie:"interval"},iL=si(nL);(0,u.assign)(Qr,iL);function Dl(i,r,t){return{x:i.x+t*Math.cos(r),y:i.y+t*Math.sin(r)}}function ZG(i){return{x:i.x+i.width/2,y:i.y+i.height/2}}function aL(i,r,t){t===void 0&&(t=0);var e=Math.max(0,Math.min(i.x+i.width+t,r.x+r.width+t)-Math.max(i.x-t,r.x-t)),n=Math.max(0,Math.min(i.y+i.height+t,r.y+r.height+t)-Math.max(i.y-t,r.y-t));return e*n}function oL(i,r,t){t===void 0&&(t=0);var e=Math.max(0,Math.min(i.x+i.width+t,r.x+r.width+t)-Math.max(i.x-t,r.x-t)),n=Math.max(0,Math.min(i.y+i.height+t,r.y+r.height+t)-Math.max(i.y-t,r.y-t));return e&&i.x<r.x&&(e=-e),n&&i.y<r.y&&(n=-n),i.x===r.x&&i.width===r.width&&(e=r.width),i.y===r.y&&i.height===r.height&&(n=r.height),{xOverlap:e,yOverlap:n}}function KG(i,r){return i.x<r.x&&i.x+i.width>r.x+r.width&&i.y<r.y&&i.y+i.height>r.y+r.height}var sL=function(i,r,t){return t===void 0&&(t=Math.pow(Number.EPSILON,.5)),[i,r].includes(Infinity)?Math.abs(i)===Math.abs(r):Math.abs(i-r)<t};function lL(i,r){var t=i.getCenter();return Math.atan2(r.y-t.y,r.x-t.x)}function uL(i){var r=Math.PI/2,t=i;return(t>r||t<-r)&&(t=t+Math.PI),t}var $G=4;function fL(i){var r=Number(i.endsWith("%")?i.slice(0,-1):i);return r/100}function hL(i,r){var t=i.getBBox();r.y<=t.y&&r.y+r.height>=t.y+t.height||i.get("parent").set("visible",!1)}var cL=function(){function i(r,t){this.destroyed=!1,this.plot=r,this.coordinateBBox=this.plot.view.coordinateBBox;var e=(0,u.deepMix)(this.getDefaultOptions(),t,{});this.adjustOption(e),this.options=e,this.init()}return i.prototype.adjustOverlap=function(r,t){for(var e=1;e<r.length;e++)for(var n=r[e],a=0,o=e-1;o>=0;o--){var s=r[o],l=s.getBBox(),f=n.getBBox();if(s.get("parent").get("visible")&&(a=aL(l,f),!sL(a,0))){n.get("parent").set("visible",!1);break}}r.forEach(function(h){return hL(h,t)})},i.prototype.adjustItem=function(r){},i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.plot.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){this.clear(),this.initArcPoints(),this.drawTexts(),this.drawLines()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getFilteredSum=function(){var r=this.plot.options.angleField,t=this.plot.view.filteredData||[];return t.reduce(function(e,n){return e+n[r]},0)},i.prototype.drawTexts=function(){var r=this,t=this.options,e=t.style,n=t.formatter,a=t.autoRotate,o=t.offsetX,s=t.offsetY,l=t.adjustPosition,f=t.allowOverlap,h=this.getItems(),c=[];h.map(function(v,x){var A=(0,u.deepMix)({},v,e),B=r.getFilteredSum(),G=r.plot.options.angleField,H=v.origin[G]/B,X=n?n(v.name,{_origin:v.origin,percent:H},x):v.name,ut=r.container.addGroup({name:"itemGroup",index:x,capture:!1}),ft=ut.addShape("text",{attrs:(0,u.deepMix)({},A,{x:v.x+o,y:v.y+s,text:X})});ft.set("id","text-"+v.name+"-"+x),c.push(ft)}),c.forEach(function(v){var x=r.coordinateBBox;r.adjustText(v,x)}),l&&this.layout(c,h,this.coordinateBBox),f||this.adjustOverlap(c,this.coordinateBBox),c.forEach(function(v,x){a&&r.rotateLabel(v,uL(h[x].angle))})},i.prototype.adjustText=function(r,t){var e=r.getBBox(),n=e.width,a=0;if(e.maxX>t.maxX?n=t.maxX-e.minX:e.minX<t.minX&&(n=e.maxX-t.minX),r.attr("textAlign")==="left"?r.attr("x",Math.max(e.x-a,0)):r.attr("textAlign")==="right"&&r.attr("x",Math.max(e.maxX-a,0)),n!==e.width){var o={};["fontSize","fontFamily","fontWeight"].forEach(function(l){o[l]=r.attr(l)});var s=r.attr("text").split(`
`).map(function(l){return Od(l,n,o)});r.attr("text",s.join(`
`))}},i.prototype.drawLines=function(){var r=this;if(this.options.line.visible){var t=this.container.get("children"),e=this.getCoordinate().center;t.forEach(function(n,a){var o=n.get("children")[0],s=r.arcPoints[a],l=s.x<e.x,f=r.options.offset>4?4:0,h=r.getLinePath(o,s,f),c=r.options.line;n.addShape("path",{attrs:(0,q.__assign)({path:h,stroke:s.color},c)}),o.attr("x",o.attr("x")+(l?-f:f))})}},i.prototype.getLinePath=function(r,t,e){var n=this.options.line?this.options.line.smooth:!1,a=t.angle,o=this.getCoordinate(),s=o.center,l=o.radius,f=Dl(s,a,l+e);e<4&&(f=t);var h=t.x<s.x,c=r.getBBox(),v={x:h?c.maxX:c.minX,y:c.y+c.height/2},x=["C",v.x+(h?1:-1)*(e<4?e/2:4),v.y,2*f.x-t.x,2*f.y-t.y,f.x,f.y],A=["L",f.x,f.y],B=n?x:A,G=["M",v.x,v.y].concat(B).concat("L",t.x,t.y);return G.join(",")},i.prototype.getGeometry=function(){return this.plot.view.geometries[0]},i.prototype.getCoordinate=function(){var r=this.getGeometry().coordinate,t=r.getCenter(),e=r.getRadius(),n=r.startAngle;return{center:t,radius:e,startAngle:n}},i.prototype.adjustOption=function(r){var t=r.offset,e=this.getCoordinate().radius;(0,u.isString)(t)&&(t=e*fL(t)),r.offset=t},i.prototype.rotateLabel=function(r,t){var e=r.attr("x"),n=r.attr("y"),a=bn.transform(r.getMatrix(),[["t",-e,-n],["r",t],["t",e,n]]);r.setMatrix(a)},i.prototype.getItems=function(){var r=this,t=this.options.offset,e=this.getCoordinate(),n=e.center,a=e.radius,o=this.arcPoints.map(function(s){var l=Dl(n,s.angle,a+t),f=(0,q.__assign)((0,q.__assign)({},s),l);return r.adjustItem(f),f});return o},i.prototype.initArcPoints=function(){var r=this,t=this.plot.options.angleField,e=this.getGeometry().elements,n=this.getCoordinate(),a=n.center,o=n.radius,s=this.getCoordinate().startAngle,l=this.getGeometry().attributes.position.scales,f=l[1],h=f.field,c=e.map(function(v){var x=v.shape.get("origin"),A=x.color,B=x.data[0]||x.data,G=s+Math.PI*2*f.scale(B[h]),H=(s+G)/2,X=Dl(a,H,o);s=G;var ut=f.getText(B[t]),ft=X.x>a.x?"left":"right";return{x:X.x,y:X.y,color:A,name:ut,origin:B,angle:lL(r.getGeometry().coordinate,X),textAlign:ft}});this.arcPoints=c},i}(),oh=cL;function QG(i){var r=Number(i.endsWith("%")?i.slice(0,-1):i);return r/100}var vL=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustOption=function(t){i.prototype.adjustOption.call(this,t),t.offset>0&&(t.offset=0)},r.prototype.adjustItem=function(t){t.textAlign="middle"},r.prototype.drawLines=function(){},r.prototype.layout=function(t,e){var n=this;t.forEach(function(a,o){o>0&&(0,u.each)(t.slice(0,o),function(s){n.resolveCollision(a,s,e[o])})})},r.prototype.getDefaultOptions=function(){var t=this.plot.theme,e=t.label.style;return{offsetX:0,offsetY:0,offset:"-30%",style:(0,q.__assign)((0,q.__assign)({},e),{textAlign:"center",textBaseline:"middle"})}},r.prototype.resolveCollision=function(t,e,n){var a=this.getCoordinate().center,o=n.angle,s=t.getBBox(),l=e.getBBox(),f={x:(s.minX+s.maxX)/2,y:(s.minY+s.maxY)/2},h=(0,u.clone)(f),c=(0,u.clone)(f);if(e.get("id")!==t.get("id")){var v=oL(s,l),x=v.xOverlap,A=v.yOverlap;if(x&&(h.x=f.x+x,h.y=f.y+Math.tan(o)*x),A){var B=A;f.y<a.y?B=B<0?B:l.minY-s.maxY:B=B>0?B:l.maxY-s.minY,c.y=f.y+B,c.x=f.x+B/Math.tan(o)}var G=ld(f,h),H=ld(f,c),X=G<H?h:c;t.attr("x",X.x),t.attr("y",X.y)}},r}(oh),dL=vL,JG=16,pL=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustOption=function(t){i.prototype.adjustOption.call(this,t),t.offset<0&&(t.offset=0)},r.prototype.getDefaultOptions=function(){var t=this.plot.theme,e=t.label.style;return{offsetX:0,offsetY:0,offset:12,style:(0,q.__assign)((0,q.__assign)({},e),{textBaseline:"middle"})}},r.prototype.layout=function(t,e,n){var a=this,o=this.getCoordinate().center,s=(0,u.filter)(t,function(f){return f.attr("x")<=o.x}),l=(0,u.filter)(t,function(f){return f.attr("x")>o.x});[l,s].forEach(function(f,h){a._antiCollision(f,!h,n)})},r.prototype._antiCollision=function(t,e,n){var a=this,o=this.getLabelHeight(t),s=this.getCoordinate(),l=s.center,f=s.radius,h=this.options.offset,c=f+h,v=Math.min(n.height,Math.max(c*2+o*2,t.length*o)),x=Math.floor(v/o);this.options.allowOverlap||t.slice(x).forEach(function(Wt){Wt.get("parent").set("visible",!1)}),t.splice(x,t.length-x),t.sort(function(Wt,ae){return Wt.getBBox().y-ae.getBBox().y});for(var A=!0,B,G=l.y+v/2,H=l.y-v/2,X=t.map(function(Wt){var ae=Wt.getBBox();return ae.maxY>G&&(G=Math.min(n.maxY,ae.maxY)),ae.minY<H&&(H=Math.max(n.minY,ae.minY)),{text:Wt.attr("text"),size:o,pos:ae.y,targets:[]}}),ut=0;ut<X.length;)ut===X.length-1?X[ut].targets[0]=G:X[ut].targets[0]=X[ut+1].pos-X[ut+1].size/2,ut++;for(;A;)for(X.forEach(function(Wt){var ae=(0,u.last)(Wt.targets);Wt.pos=Math.max(H,Math.min(Wt.pos,ae-Wt.size))}),A=!1,B=X.length;B--;)if(B>0){var ft=X[B-1],xt=X[B];if(ft.pos+ft.size>xt.pos){ft.size+=xt.size,ft.targets=ft.targets.concat(xt.targets);var Yt=(0,u.last)(ft.targets);ft.pos+ft.size>Yt&&(ft.pos=Yt-ft.size),X.splice(B,1),A=!0}else ft.targets.splice(-1,1,xt.pos)}B=0,X.forEach(function(Wt){var ae=o/2;Wt.targets.forEach(function(){t[B].attr("y",Wt.pos+ae),ae+=o,B++})});var Kt=[],te=[];t.forEach(function(Wt,ae){var ce=a.arcPoints[ae];ce.angle>=0&&ce.angle<=Math.PI?te.push(Wt):Kt.push(Wt)}),[Kt,te].forEach(function(Wt,ae){if(!!Wt.length){var ce=ae?(0,u.last)(Wt).getBBox().maxY-l.y:l.y-(0,u.head)(Wt).getBBox().minY;ce=Math.max(c,ce);var he=h>4?4:0,Pe=Math.max.apply(0,(0,u.map)(t,function(Ke){return Ke.getBBox().width}))+h+he,Be=Math.max(c,Math.min((ce+c)/2,l.x-(n.minX+Pe))),ke=Be*Be,We=ce*ce;Wt.forEach(function(Ke,$e){var Ve=a.arcPoints[$e],He=Ke.getBBox(),lr={x:He.minX+He.width/2,y:He.minY+He.height/2},sr=Math.pow(lr.y-l.y,2),dr=Dl(l,Ve.angle,f),Qe=(e?1:-1)*he*2;if(sr>We)console.warn("\u5F02\u5E38(\u4E00\u822C\u4E0D\u4F1A\u51FA\u73B0)",Ke.attr("text")),Ke.attr("x",dr.x+Qe);else{var hr=l.x+(e?1:-1)*Math.sqrt((1-sr/We)*ke);(l.x===dr.x&&lr.y===dr.y||l.y===dr.y&&hr===dr.x)&&(hr=dr.x),Ke.attr("x",hr+Qe)}})}})},r.prototype.getLabelHeight=function(t){return this.options.labelHeight?this.options.labelHeight:(0,u.head)(t)?(0,u.head)(t).getBBox().height:14},r}(oh),gL=pL,qG=16,yL=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustOption=function(t){i.prototype.adjustOption.call(this,t),t.offset<0&&(t.offset=0)},r.prototype.getDefaultOptions=function(){var t=this.plot.theme,e=t.label.style;return{offsetX:0,offsetY:0,offset:12,style:(0,q.__assign)((0,q.__assign)({},e),{textBaseline:"middle"})}},r.prototype.adjustItem=function(t){var e=this.options.offset;t.textAlign==="left"?t.x+=e>4?4:e/2:t.textAlign==="right"&&(t.x-=e>4?4:e/2)},r.prototype.layout=function(t,e,n){},r}(oh),mL=yL,Lg={inner:dL,outer:gL,"outer-center":mL};function xL(i){if(!Lg[i]){console.warn("this label "+i+" is not registered");return}return Lg[i]}var bL=0,sh=15,wL="#CCC",SL=2,CL=-2,Ig=15;function kg(i,r,t){return{x:i.x+t*Math.cos(r),y:i.y+t*Math.sin(r)}}var ML=function(){function i(r){this.destroyed=!1,this.view=r.view,this.options=(0,u.deepMix)({},this.getDefaultOptions(),r),this._adjustOptions(this.options),this.init()}return i.prototype.init=function(){var r=this;this.container=this.view.geometries[0].labelsContainer,this.view.on("beforerender",function(){r.clear()})},i.prototype.render=function(){var r=this;if(!(!this.view||this.view.destroyed)){var t=(0,u.clone)(this.view.getData());this.halves=[[],[]];var e=[],n=this.view.geometries[0].elements;(0,u.each)(n,function(xt){e.push(xt.shape)}),this.coord=this.view.geometries[0].coordinate;var a=this.options,o=a.allZero,s=a.angleField,l=this.options.fields[0],f=this.view.getScalesByDim("y")[l],h=this.coord.getCenter(),c=this.coord.startAngle,v=this.coord.polarRadius,x=this.view.coordinateBBox,A=x.width,B=x.height;this.width=A,this.height=B;for(var G=c,H=function(xt){var Yt=t[xt],Kt=f.scale(Yt[l]),te=G+Math.PI*2*Kt,Wt=G+(te-G)/2;G=te;var ae=kg(h,Wt,v+bL),ce=kg(h,Wt,v+sh),he=wL;if(X.options.fields.length===2){var Pe=X.options.fields[1],Be=X.view.geometries[0].scales[Pe],ke=Be.scale(Yt[Pe]);if(ke){var We=Math.floor(ke*(e.length-1));he=e[We].attr("fill")}}var Ke={_anchor:ae,_inflection:ce,_data:Yt,x:ce.x,y:ce.y,r:v+sh,fill:he,textGroup:null,_side:null},$e=[];if((0,u.each)(X.options.fields,function(Sr){o&&Sr===Fl?$e.push(Yt[s]):$e.push(Yt[Sr])}),X.options.formatter){var Ve=X.options.formatter(Yt[s],{_origin:Yt,color:he},xt);(0,u.isString)(Ve)&&(Ve=[Ve]),$e=Ve}var He=X.container.addGroup({capture:!1,visible:!1}),lr={x:0,y:0,fontSize:X.options.text.fontSize,lineHeight:X.options.text.fontSize,fontWeight:X.options.text.fontWeight,fill:X.options.text.fill},sr=Yt[s];X.options.formatter&&(sr=$e[0]);var dr=(0,u.clone)(lr);$e.length===2&&(dr.fontWeight=700);var Qe=He.addShape("text",{attrs:(0,u.mix)({textBaseline:$e.length===2?"top":"middle",text:sr},dr),data:Yt,offsetY:$e.length===2?SL:0,name:"label"});if(Qe.name="label",$e.length===2){var hr=He.addShape("text",{attrs:(0,u.mix)({textBaseline:"bottom",text:$e[1]},lr),data:Yt,offsetY:CL,name:"label"});hr.name="label"}Ke.textGroup=He,ae.x<h.x?(Ke._side="left",X.halves[0].push(Ke)):(Ke._side="right",X.halves[1].push(Ke))},X=this,ut=0;ut<t.length;ut++)H(ut);var ft=Math.floor(B/this.options.lineHeight);(0,u.each)(this.halves,function(xt){xt.length>ft&&xt.splice(ft,xt.length-ft),xt.sort(function(Yt,Kt){return Yt.y-Kt.y}),r._antiCollision(xt)}),this.view.canvas.draw()}},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.view.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.view.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getDefaultOptions=function(){return{text:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12},line:{lineWidth:.5,stroke:"rgba(0, 0, 0, 0.45)"},lineHeight:32,sidePadding:20}},i.prototype._antiCollision=function(r){var t=this,e=this.coord,n=e.getHeight(),a=e.center,o=e.getRadius(),s=a.y-o-sh-this.options.lineHeight,l=!0,f=n,h,c=0,v=Number.MIN_VALUE,x=0,A=r.map(function(ut){var ft=ut.y;ft>c&&(c=ft),ft<v&&(v=ft);var xt=ut.textGroup,Yt=xt.getBBox().width;return Yt>=x&&(x=Yt),{size:t.options.lineHeight,targets:[ft-s]}});c-s>f&&(f=c-s);for(var B=function(ut){ut.forEach(function(ft){var xt=(Math.min.apply(v,ft.targets)+Math.max.apply(v,ft.targets))/2;ft.pos=Math.min(Math.max(v,xt-ft.size/2),f-ft.size)})};l;)for(B(A),l=!1,h=A.length;h--;)if(h>0){var G=A[h-1],H=A[h];G.pos+G.size>H.pos&&(G.size+=H.size,G.targets=G.targets.concat(H.targets),G.pos+G.size>f&&(G.pos=f-G.size),A.splice(h,1),l=!0)}h=0,A.forEach(function(ut){var ft=s;ut.targets.forEach(function(){r[h].y=ut.pos+ft+t.options.lineHeight/2,ft+=t.options.lineHeight,h++})});var X=[];r.forEach(function(ut){var ft=t._drawLabel(ut);t._drawLabelLine(ut,x,ft),X.push(ft)})},i.prototype._drawLabel=function(r){var t=this.coord,e=t.getCenter(),n=t.getRadius(),a=r.y,o=r.textGroup,s=o.get("children"),l=r._side==="left"?1:-1,f=(0,q.__assign)({textAlign:r._side==="left"?"right":"left",x:r._side==="left"?e.x-n-this.options.sidePadding:e.x+n+this.options.sidePadding},this.options.style);return this.options.offsetX&&(f.x+=this.options.offsetX*l),s.forEach(function(h){var c=h.get("offsetY"),v=a+c;h.attr(f),h.attr("y",v)}),o.show(),o},i.prototype._drawLabelLine=function(r,t,e){var n=[r._anchor.x,r._anchor.y],a=[r._inflection.x,r._inflection.y],o=r.y,s=r.textGroup;if(!!s){var l=[r._side==="left"?s.getBBox().maxX+4:s.getBBox().minX-4,o],f=[n,a,l];if(a[1]!==o)if(a[1]<this.height/2&&a[1]<o||a[1]>=this.height/2&&a[1]>o){var h=a,c=l[0]+Ig,v=l[0]-Ig,x=[r._side==="left"?c:v,a[1]];f=[n,h,x,l],(r._side==="right"&&x[0]<h[0]||r._side==="left"&&x[0]>h[0])&&(f=[n,h,l])}else f=[n,[a[0],o],l];for(var A=[],B=0;B<f.length;B++){var G=f[B],H="L";B===0&&(H="M"),A.push([H,G[0],G[1]])}e.addShape("path",{attrs:{path:A,lineWidth:this.options.line.lineWidth,stroke:this.options.line.stroke}})}},i.prototype._adjustOptions=function(r){r.text.fontSize&&(r.lineHeight=r.text.fontSize*3)},i}(),EL=ML,_L=function(i){var r=i.opacity||1;return{fillOpacity:r*.8}},AL=function(i){var r=i.opacity||1;return{fillOpacity:r*.5}};zi("pie",{columnStyle:{normal:{},active:_L,disable:AL,selected:{lineWidth:1,stroke:"black"}}});var Fl="$$percentage$$",PL={pie:"interval"},TL={pie:"column"},Bg=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="pie",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,label:{visible:!0,type:"inner",autoRotate:!1,adjustPosition:!0,allowOverlap:!1,line:{visible:!0,smooth:!0}},legend:{visible:!0,position:"right-center"},tooltip:{visible:!0,shared:!1,showCrosshairs:!1,showMarkers:!1},pieStyle:{stroke:"white",lineWidth:1}})},r.prototype.afterInit=function(){i.prototype.afterInit.call(this);var t=this.options,e=t.angleField,n=t.colorField,a=t.data,o=(0,u.every)(a,function(l){return l[e]===0});if(o){var s=this.view.geometries[0];s.tooltip(n+"*"+e)}},r.prototype.afterRender=function(){i.prototype.afterRender.call(this);var t=this.options;if(t.label&&t.label.visible){this.labelComponent&&this.labelComponent.clear();var e=t.label;if(e.type==="spider"){var n=t.data,a=t.colorField,o=t.angleField,s=(0,u.every)(n,function(h){return h[o]===0}),l=s?Fl:o;this.labelComponent=new EL((0,q.__assign)({view:this.view,fields:a?[l,a]:[l],angleField:o,allZero:s},this.options.label)),this.labelComponent.render()}else{var f=xL(e.type);this.labelComponent=new f(this,t.label),this.labelComponent.render()}}},r.prototype.getAngleScale=function(){var t=this.options.angleField;if(t)return this.view.getScaleByField(t)},r.prototype.geometryParser=function(t,e){return t==="g2"?PL[e]:TL[e]},r.prototype.scale=function(){var t=this.options;i.prototype.scale.call(this);var e={};e[t.angleField]={},e[t.colorField]={type:"cat"},e=(0,u.deepMix)({},this.config.scales,e),this.setConfig("scales",e)},r.prototype.processData=function(t){var e=this.options.angleField,n=(0,u.every)(t,function(a){return a[e]===0});return n?t.map(function(a){var o;return(0,q.__assign)((0,q.__assign)({},a),(o={},o[e]=typeof a[e]=="string"?Number.parseFloat(a[e]):a[e],o[Fl]=1/t.length,o))}):t.map(function(a){var o,s=a[e];return(0,q.__assign)((0,q.__assign)({},a),(o={},o[e]=s&&!isNaN(s)?+s:s,o))})},r.prototype.axis=function(){},r.prototype.coord=function(){var t=this.options,e={type:"theta",cfg:{radius:t.radius,innerRadius:t.innerRadius||0}};this.setConfig("coordinate",e)},r.prototype.addGeometry=function(){var t=this.options,e=t.data,n=t.angleField,a,o=(0,u.every)(e,function(s){return s[n]===0});o?a=zn("interval","main",{plot:this,positionFields:[1,Fl]}):a=zn("interval","main",{plot:this,positionFields:[1,t.angleField]}),a.adjust=[{type:"stack"}],this.pie=a,t.label&&this.label(),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",a)},r.prototype.geometryTooltip=function(){this.pie.tooltip={};var t=this.options.tooltip;t.fields?this.pie.tooltip.fields=t.fields:this.pie.tooltip.fields=[this.options.angleField,this.options.colorField],t.formatter&&(this.pie.tooltip.callback=t.formatter,t.fields||(this.pie.tooltip.fields=[this.options.angleField,this.options.colorField]))},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.pie.animate=!1)},r.prototype.annotation=function(){},r.prototype.parseEvents=function(t){t?i.prototype.parseEvents.call(this,t):i.prototype.parseEvents.call(this,g)},r.prototype.label=function(){this.pie.label=!1},r}(Fn),Dg=Bg;Wr("pie",Bg);var OL=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="pie",i.prototype.createLayers.call(this,e)},r.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},r.getDefaultOptions=Dg.getDefaultOptions,r}(Dr),Fg=OL,LL=.3989422804014327,IL=1/255/16,Es="_origin",kL=function(i){(0,q.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.type="heatmap",e.paletteCache={},e.intensity=t.intensity,e.radius=t.radius,e}return r.prototype.createElements=function(t){var e=this.prepareRange(t);return this.prepareSize(),this.prepareBlur(),this.prepareGreyScaleBlurredCircle(this.radius),this.drawWithRange(t,e),null},r.prototype.clear=function(){this.clearShadowCanvasCtx(),i.prototype.clear.call(this)},r.prototype.prepareRange=function(t){var e=this.getAttribute("color"),n=e.getFields()[0],a=Infinity,o=-Infinity;return t.forEach(function(s){var l=s[Es][n];l>o&&(o=l),l<a&&(a=l)}),a===o&&(a=o-1),[a,o]},r.prototype.prepareSize=function(){var t=this.radius;this.radius||(t=this.getDefaultValue("size"),(0,u.isNumber)(t)||(t=this.getDefaultSize()),this.radius=t)},r.prototype.prepareBlur=function(){var t=(0,u.get)(this.styleOption,["style","shadowBlur"]);(0,u.isNumber)(t)||(t=this.radius/2),this.blur=t},r.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),e=this.coordinate,n=Math.min(e.getWidth()/(t.scales[0].ticks.length*4),e.getHeight()/(t.scales[1].ticks.length*4));return n},r.prototype.colorize=function(t){for(var e=this.getAttribute("color"),n=t.data,a=this.paletteCache,o=3;o<n.length;o+=4){var s=n[o];if(s){var l=void 0;a[s]?l=a[s]:(l=Ha(e.gradient(s/256)),a[s]=l),n[o-3]=l[0],n[o-2]=l[1],n[o-1]=l[2],n[o]=s}}},r.prototype.prepareGreyScaleBlurredCircle=function(t){var e=this.grayScaleCanvas;e||(e=document.createElement("canvas"),this.grayScaleCanvas=e);var n=this.intensity?this.intensity:2,a=Math.sqrt(-2*Math.log(IL/t/n/LL))/3*t,o=a-t,s=a+o,l=e.getContext("2d");e.width=e.height=s*2,l.clearRect(0,0,e.width,e.height),l.shadowOffsetX=l.shadowOffsetY=s*2,l.shadowBlur=o,l.shadowColor="black",l.beginPath(),l.arc(-s,-s,t,0,Math.PI*2,!0),l.closePath(),l.fill()},r.prototype.drawGrayScaleBlurredCircle=function(t,e,n,a,o){var s=this.grayScaleCanvas;o.globalAlpha=a,o.drawImage(s,t-n,e-n)},r.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight();var e=t.getContext("2d");return e.globalCompositeOperation="lighter",e},r.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},r.prototype.getImageShape=function(){var t=this.imageShape;if(t)return t;var e=this.container;t=e.addShape({type:"image",attrs:{}}),this.imageShape=t},r.prototype.drawWithRange=function(t,e){var n=this.coordinate,a=n.start,o=n.end,s=this.coordinate.getWidth(),l=this.coordinate.getHeight(),f=this.getAttribute("color"),h=f.getFields()[0];this.clearShadowCanvasCtx();var c=this.getShadowCanvasCtx();e&&(t=t.filter(function(ut){return ut[Es][h]<=e[1]&&ut[Es][h]>=e[0]}));for(var v=this.scales[h],x=0;x<t.length;x++){var A=t[x],B=this.getDrawCfg(A),G=v.scale(A[Es][h]);this.drawGrayScaleBlurredCircle(B.x-a.x,B.y-o.y,this.radius+this.blur,G,c)}var H=c.getImageData(0,0,s,l);this.clearShadowCanvasCtx(),this.colorize(H),c.putImageData(H,0,0);var X=new Image;X.src=c.canvas.toDataURL("image/png"),this.getImageShape(),this.imageShape.attr("x",a.x),this.imageShape.attr("y",o.y),this.imageShape.attr("width",s),this.imageShape.attr("height",l),this.imageShape.attr("img",c.canvas),this.imageShape.set("origin",this.getShapeInfo(t))},r.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]);return(0,q.__assign)((0,q.__assign)({},e),{mappingData:t,data:this.getData(t)})},r.prototype.getData=function(t){return t.map(function(e){return e[Es]})},r}(Ga);da("linearHeatmap",kL);var BL=function(i){(0,q.__extends)(r,i);function r(t){var e=i.call(this)||this;return e.options=t,e.view=e.options.view,e.init(),e}return r.prototype.init=function(){var t=this.getCoordinate();this.width=t.getWidth(),this.height=t.getHeight(),this.x=t.start.x,this.y=t.end.y,this.container=this.view.backgroundGroup.addGroup({})},r.prototype.render=function(){if(this.options.type==="color")this.renderColorBackground();else if(this.options.type==="image")this.renderImageBackground();else if(this.options.callback){var t={x:this.x,y:this.y,width:this.width,height:this.height,container:this.container};this.options.callback(t)}},r.prototype.renderColorBackground=function(){this.container.addShape("rect",{attrs:{x:this.x,y:this.y,width:this.width,height:this.height,fill:this.options.value},name:"heatmap-background"})},r.prototype.renderImageBackground=function(){this.container.addShape("image",{attrs:{x:this.x,y:this.y,width:this.width,height:this.height,img:this.options.src},name:"heatmap-background"})},r.prototype.clear=function(){this.container&&(this.container.clear(),this.emit("background:clear"))},r.prototype.destroy=function(){this.container&&(this.container.remove(),this.emit("background:destroy"))},r.prototype.getCoordinate=function(){var t;return(0,u.each)(this.view.geometries,function(e){e.type==="heatmap"&&(t=e.coordinate)}),t},r}(Zt.default),DL=BL,Rl=4,Rg=1,FL=.1,RL=function(){function i(r){this.destroyed=!1,this.dataSlides={};var t=this.getDefaultOptions();r.plot.options.theme&&r.plot.options.theme==="dark"&&(t=this.getDarkOptions()),this.options=(0,u.deepMix)({},t,r),this.view=this.options.view,this.afterRender=!0,this.init()}return i.prototype.init=function(){this.layout=this.getLayout(),this.width=this.options.width?this.options.width:this.getDefaultWidth(),this.height=this.options.height?this.options.height:this.getDefaultHeight();var r=this.options.plot.container;this.container=r.addGroup()},i.prototype.render=function(){var r=this.getScales(),t=this.options.plot.options.colorField;this.colorScale=r[t];var e=this.colorScale,n=e.min,a=e.max,o=this.options.plot.options.color;this.layout==="horizontal"?this.renderHorizontal(n,a,o):this.renderVertical(n,a,o),this.legendLayout(),this.addInteraction(),this.options.plot.canvas.draw()},i.prototype.hide=function(){this.container.set("visible",!1),this.options.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.options.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){var r=this.container.getBBox();return new Nr(this.x,this.y,r.width,r.height)},i.prototype.renderVertical=function(r,t,e){var n=this,a=this.width,o=this.height/e.length,s=this.container.addGroup(),l=(0,u.clone)(e).reverse(),f=(t-r)/e.length;(0,u.each)(l,function(h,c){var v=o*c,x={to:t-f*c,from:t-f*(c+1)},A=n.container.addShape("rect",{attrs:{x:0,y:v,width:a,height:o,fill:h,opacity:Rg,cursor:"pointer"},name:"legend"});A.set("info",x);var B=n.getDataSlide(x);n.dataSlides[x.from+"-"+x.to]={mode:"active",data:B},s.addShape("path",{attrs:(0,q.__assign)({path:[["M",0,v+o],["L",a,v+o]]},n.options.gridlineStyle)})}),this.container.addShape("text",{attrs:(0,q.__assign)({text:t,x:a/2,y:-Rl,textAlign:"center",textBaseline:"bottom"},this.options.text.style),name:"legend-label"}),this.container.addShape("text",{attrs:(0,q.__assign)((0,q.__assign)({text:r,x:a/2,y:this.height+Rl,textAlign:"center",textBaseline:"top"},this.options.text.style),{name:"legend-label"})}),s.addShape("path",{attrs:(0,q.__assign)({path:[["M",0,0],["L",this.width,0],["L",this.width,this.height],["L",0,this.height],["L",0,0]]},this.options.gridlineStyle)})},i.prototype.renderHorizontal=function(r,t,e){var n=this,a=this.width/e.length,o=this.height,s=this.container.addGroup(),l=(t-r)/e.length;(0,u.each)(e,function(f,h){var c=a*h,v={from:l*h,to:l*(h+1)},x=n.container.addShape("rect",{attrs:{x:c,y:0,width:a,height:o,fill:f,opacity:.8,cursor:"pointer"},name:"legend"});x.set("info",v),s.addShape("path",{attrs:(0,q.__assign)({path:[["M",c+a,0],["L",c+a,o]]},n.options.gridlineStyle)})}),this.container.addShape("text",{attrs:(0,q.__assign)((0,q.__assign)({text:r,x:-Rl,y:o/2},this.options.text.style),{textAlign:"right",textBaseline:"middle"}),name:"legend-label"}),this.container.addShape("text",{attrs:(0,q.__assign)({text:t,x:this.width+Rl,y:o/2,textAlign:"left",textBaseline:"middle"},this.options.text.style),name:"legend-label"}),s.addShape("path",{attrs:(0,q.__assign)({path:[["M",0,0],["L",this.width,0],["L",this.width,this.height],["L",0,this.height],["L",0,0]]},this.options.gridlineStyle)})},i.prototype.getLayout=function(){var r=this.options.position.split("-");return this.position=r[0],r[0]==="left"||r[0]==="right"?"vertical":"horizontal"},i.prototype.getDefaultWidth=function(){if(this.layout==="horizontal"){var r=this.options.plot.options.width;return r*.5}return 10},i.prototype.getDefaultHeight=function(){if(this.layout==="vertical"){var r=this.options.plot.options.height;return r*.5}return 10},i.prototype.legendLayout=function(){var r=this,t=this.options.plot.getPlotTheme().bleeding;(0,u.isArray)(t)&&(0,u.each)(t,function(f,h){typeof t[h]=="function"&&(t[h]=t[h](r.options.plot.options))});var e=this.container.getBBox(),n=0,a=0,o=this.options.position.split("-"),s=this.options.plot.width,l=this.options.plot.height;o[0]==="left"?n=t[3]:o[0]==="right"?n=s-t[1]-e.width:o[1]==="center"?n=(s-e.width)/2:o[1]==="left"?n=t[3]:o[1]==="right"&&(n=this.options.plot.width-t[1]-e.width),o[0]==="bottom"?a=l-t[2]-e.height:o[0]==="top"?a=this.getTopPosition(t):o[1]==="center"?a=(l-e.height)/2:o[1]==="top"?a=t[0]:o[1]==="bottom"&&(a=l-t[2]-e.height),this.x=n,this.y=a,this.container.translate(n,a)},i.prototype.getDefaultOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.45)"}},gridlineStyle:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)"}}},i.prototype.getDarkOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(255, 255, 255, 0.45)"}},gridlineStyle:{lineWidth:1,stroke:"rgba(255, 255, 255, 0.25)"}}},i.prototype.addInteraction=function(){var r=this,t=this.options.plot.options.colorField;this.container.on("click",function(e){var n=e.target;if(n.get("name")==="legend"){var a=n.get("info"),o=a.from+"-"+a.to,s=r.dataSlides[o];s.mode==="active"?(s.mode="deactive",n.stopAnimate(),n.animate({opacity:FL},200)):(s.mode="active",n.stopAnimate(),n.animate({opacity:Rg},200));var l=r.getFilteredData();l.length>0&&(r.view.changeData(l),r.view.scale(t,{min:r.colorScale.min,max:r.colorScale.max,nice:r.colorScale.nice}),r.view.render())}})},i.prototype.getFilteredData=function(){var r=[];return(0,u.each)(this.dataSlides,function(t){t.mode=="active"&&r.push.apply(r,t.data)}),r},i.prototype.getDataSlide=function(r){var t=[],e=this.options.plot.options,n=e.colorField,a=e.data;return(0,u.each)(a,function(o){var s=o[n];s>=r.from&&s<r.to&&t.push(o)}),t},i.prototype.getTopPosition=function(r){if(this.options.plot.description){var t=this.options.plot.description.getBBox();return t.maxY+10}else if(this.options.plot.title){var t=this.options.plot.title.getBBox();return t.maxY+10}return r[0]},i.prototype.getScales=function(){var r;return(0,u.each)(this.view.geometries,function(t){t.type==="heatmap"&&(r=t.scales)}),r},i}(),NL=RL,GL={background:{Ctr:DL},legend:{Ctr:NL,padding:"outer"}};function YL(i,r,t){if(i.options[r]&&i.options[r].visible){var e=GL[r],n=new e.Ctr(t);return e.padding&&i.paddingController.registerPadding(n,e.padding),n}}var zL={heatmap:"heatmap",legendLabel:"legend-label",heatmapBackground:"heatmap-background"},XL=si(zL);(0,u.assign)(Qr,XL);var Ng=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="densityHeatmap",t.plotComponents=[],t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!0},title:{visible:!1,spacing:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{visible:!1,spacing:12}},tooltip:{visible:!0,showCrosshairs:!0,crosshairs:{type:"xy",line:{style:{stroke:"#000000",lineWidth:1,opacity:.5}}},showMarkers:!1},legend:{visible:!0,position:"bottom-center"},color:["rgba(33,102,172,0)","rgb(103,169,207)","rgb(209,229,240)","rgb(253,219,199)","rgb(239,138,98)","rgb(178,24,43)"],interactions:[{type:"tooltip"}]})},r.prototype.afterRender=function(){this.renderPlotComponents(),i.prototype.afterRender.call(this)},r.prototype.destroy=function(){(0,u.each)(this.plotComponents,function(t){t.destroy()}),i.prototype.destroy.call(this)},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={},(0,u.has)(t,"xAxis")&&qn(e[t.xField],t.xAxis),e[t.yField]={},(0,u.has)(t,"yAxis")&&qn(e[t.yField],t.yAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){},r.prototype.geometryParser=function(){return"heatmap"},r.prototype.addGeometry=function(){if(this.options.data.length>1){var t={type:"linearheatmap",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},cfg:{intensity:this.options.intensity,radius:this.options.radius}};this.options.radius&&(t.radius=this.options.radius),this.options.intensity&&(t.intensity=this.options.intensity),this.options.tooltip&&(this.options.tooltip.fields||this.options.tooltip.formatter)&&this.geometryTooltip(t),this.setConfig("geometry",t),this.addPoint()}},r.prototype.addPoint=function(){var t=this.options,e={visible:!1,size:0};t.point&&t.point.visible?t.point=(0,u.deepMix)(e,t.point):t.point=e;var n=zn("point","guide",{plot:this});n.active=!1,this.setConfig("geometry",n)},r.prototype.extractLabel=function(){var t=this.options,e=t.label;if(e&&e.visible===!1)return!1;var n=mi("label",(0,q.__assign)({plot:this,labelType:"scatterLabel",fields:[t.xField,t.yField],position:"middle",offset:0},e));return n},r.prototype.legend=function(){this.setConfig("legends",!1)},r.prototype.geometryTooltip=function(t){t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&t.tooltip.fields.push(this.options.colorField)))},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,b)},r.prototype.renderPlotComponents=function(){var t=this;(0,u.each)(this.plotComponents,function(n){n.destroy()});var e=["legend","background"];(0,u.each)(e,function(n){var a=(0,q.__assign)({view:t.view,plot:t},t.options[n]),o=YL(t,n,a);o&&(o.render(),t.plotComponents.push(o))})},r}(Fn),VL=Ng;Wr("densityHeatmap",Ng);var HL=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="densityHeatmap",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=VL.getDefaultOptions,r}(Dr),Gg=HL;function Nl(i,r,t,e,n){var a=t*n,o=e*n,s=[["M",i-a/2,r+o/2],["Q",i-a/2,r,i-a/2,r-o/2],["Q",i,r-o/2,i+a/2,r-o/2],["Q",i+a/2,r,i+a/2,r+o/2],["Q",i,r+o/2,i-a/2,r+o/2],["Z"]];return s}function Gl(i,r,t){var e=[["M",i,r],["l",-t,0],["a",t,t,0,1,0,t*2,0],["a",t,t,0,1,0,-(t*2),0],["Z"]];return e}function Yg(i,r,t){var e=[["M",i-t,r],["Q",i-t,r-t,i,r-t],["Q",i+t,r-t,i+t,r],["Q",i+t,r+t,i,r+t],["Q",i-t,r+t,i-t,r],["Z"]];return e}rn("polygon","rect",{draw:function(i,r){var t=this.parsePoints(i.points),e=t[2].x-t[0].x,n=t[0].y-t[1].y,a=t[0].x+e/2,o=t[1].y+n/2,s=Nl(a,o,e,n,i.size);return r.addShape("path",{attrs:(0,u.deepMix)({},{path:s,fill:i.color,opacity:1},i.style)})}}),rn("point","curvePoint",{draw:function(i,r){var t=Gl(i.x,i.y,i.size);return r.addShape("path",{attrs:(0,u.deepMix)({},{path:t,fill:i.color,opacity:1},i.style)})}});var WL=function(){function i(r){this.destroyed=!1,this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,u.deepMix)(t,r,{}),this.init()}return i.prototype.init=function(){var r=this;this.container=this.view.geometries[0].labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.view.geometries[0].elements;(0,u.each)(t,function(e){var n=e.shape,a=r.options,o=a.style,s=a.offsetX,l=a.offsetY,f=r.options.formatter,h=f?f(r.getContent(n)):r.getContent(n),c=r.getPosition(n),v=r.getTextColor(n),x=r.container.addShape("text",{attrs:(0,u.deepMix)({},o,{x:c.x+s,y:c.y+l,text:h,fill:v,textAlign:"center",textBaseline:"middle"}),name:"label"});r.options.adjustPosition&&r.adjustLabel(x,n)})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=r.label.style;return{offsetX:0,offsetY:0,style:(0,u.clone)(t)}},i.prototype.getContent=function(r){var t=r.get("origin").data,e=this.plot.options.colorField;return t[e]},i.prototype.getPosition=function(r){var t=r.getBBox();return{x:t.minX+t.width/2,y:t.minY+t.height/2}},i.prototype.getTextColor=function(r){if(this.options.adjustColor){var t=r.attr("fill"),e=r.attr("opacity")?r.attr("opacity"):1,n=Ha(t),a=Math.round(n[0]*.299+n[1]*.587+n[2]*.114)/e,o=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],s=Il(o,a);return s}var l=this.options.style.fill;return l},i.prototype.adjustLabel=function(r,t){var e=r.getBBox(),n=t.getBBox();(e.width>n.width||e.height>n.height)&&r.attr("text","")},i}(),jL=WL,zg=4,UL=function(){function i(r){this.destroyed=!1,this.dataSlides={},this.interactiveEvents={};var t=this.getDefaultOptions();this.options=(0,u.deepMix)({},t,r),this.view=this.options.view,this.afterRender=!0,this.init()}return i.prototype.init=function(){var r=this;this.layout=this.getLayout(),this.width=this.options.width?this.options.width:this.getDefaultWidth(),this.height=this.options.height?this.options.height:this.getDefaultHeight();var t=this.options.plot.container;this.container&&this.container.remove(),this.container=t.addGroup(),this.view.on("beforerender",function(){r.clear(),r.options.plot.canvas.draw()})},i.prototype.render=function(){var r=this.view.geometries[0].scales,t=this.options.plot.options.colorField;this.colorScale=r[t];var e=this.colorScale,n=e.min,a=e.max,o=this.options.plot.options.color;this.layout==="horizontal"?this.renderHorizontal(n,a,o):this.renderVertical(n,a,o),this.legendLayout(),this.addInteraction()},i.prototype.hide=function(){this.container.set("visible",!1),this.options.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.options.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.offEvent(),this.destroyed=!0},i.prototype.getBBox=function(){var r=this.container.getBBox();return new Nr(this.x,this.y,r.width,r.height)},i.prototype.renderVertical=function(r,t,e){var n=this,a=(t-r)/(e.length-1),o=1/(e.length-1),s=this.height/(e.length-1),l="l(90)";(0,u.each)(e,function(v,x){var A=o*x;l+=A+":"+v+" "}),this.container.addShape("rect",{attrs:{x:0,y:0,width:this.width,height:this.height,fill:l},name:"legend"}),(0,u.each)(e,function(v,x){var A=s*x;n.container.addShape("path",{attrs:(0,q.__assign)({path:[["M",0,A],["L",n.width,A]]},n.options.ticklineStyle)});var B=Math.round(a*x);n.container.addShape("text",{attrs:(0,q.__assign)({text:B,textAlign:"left",textBaseline:"middle",x:n.width+zg,y:A},n.options.text.style),name:"legend-label"})});var f=10,h=14,c=[["M",-f,-h/2],["L",0,0],["L",-f,h/2],["Z"]];this.anchor=this.container.addShape("path",{attrs:(0,q.__assign)({path:c},this.options.anchorStyle)}),this.anchor.set("visible",!1)},i.prototype.renderHorizontal=function(r,t,e){var n=this,a=(t-r)/(e.length-1),o=1/(e.length-1),s=this.width/(e.length-1),l="l(0)";(0,u.each)(e,function(v,x){var A=o*x;l+=A+":"+v+" "}),this.container.addShape("rect",{attrs:{x:0,y:0,width:this.width,height:this.height,fill:l},name:"legend"}),(0,u.each)(e,function(v,x){var A=s*x;n.container.addShape("path",{attrs:(0,q.__assign)({path:[["M",A,0],["L",A,n.height]]},n.options.ticklineStyle),name:"legend-label"});var B=Math.round(a*x);n.container.addShape("text",{attrs:(0,q.__assign)({text:B,textAlign:"center",textBaseline:"top",x:A,y:n.height+zg},n.options.text.style)})});var f=14,h=10,c=[["M",0,0],["L",-f/2,-h],["L",f/2,-h],["Z"]];this.anchor=this.container.addShape("path",{attrs:(0,q.__assign)({path:c},this.options.anchorStyle)}),this.anchor.set("visible",!1)},i.prototype.getLayout=function(){var r=this.options.position.split("-");return this.position=r[0],r[0]==="left"||r[0]==="right"?"vertical":"horizontal"},i.prototype.getDefaultWidth=function(){if(this.layout==="horizontal"){var r=this.view.coordinateBBox.width;return r}return 10},i.prototype.getDefaultHeight=function(){if(this.layout==="vertical"){var r=this.view.coordinateBBox.height;return r}return 10},i.prototype.legendLayout=function(){var r=this,t=this.view.coordinateBBox,e=this.options.plot.getPlotTheme().bleeding;(0,u.isArray)(e)&&(0,u.each)(e,function(h,c){typeof e[c]=="function"&&(e[c]=e[c](r.options.plot.options))});var n=this.container.getBBox(),a=0,o=0,s=this.options.position.split("-"),l=this.options.plot.width,f=this.options.plot.height;s[0]==="left"?a=e[3]:s[0]==="right"?a=l-e[1]-n.width:s[1]==="center"?this.width===t.width?a=t.x:a=(l-n.width)/2:s[1]==="left"?a=e[3]:s[1]==="right"&&(a=this.options.plot.width-e[1]-n.width),s[0]==="bottom"?o=f-e[2]-n.height:s[0]==="top"?o=this.getTopPosition(e):s[1]==="center"?this.height===t.height?o=t.y:o=(f-n.height)/2:s[1]==="top"?o=e[0]:s[1]==="bottom"&&(o=f-e[2]-n.height),this.x=a,this.y=o,this.container.translate(a,o)},i.prototype.getDefaultOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.45)"}},ticklineStyle:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.8)"},anchorStyle:{fill:"rgba(0,0,0,0.5)"},triggerOn:"mousemove"}},i.prototype.addInteraction=function(){var r=this,t;this.options.plot.options.shapeType==="rect"?t="polygon":t="point";var e=t+":"+this.options.triggerOn,n=this.options.plot.options.colorField,a=this.colorScale,o=a.min,s=a.max,l=function(h){var c=h.data.data[n],v=(c-o)/(s-o);r.moveAnchor(v)};this.view.on(e,l),this.interactiveEvents[e]={target:this.view,handler:l};var f=function(){r.anchor.set("visible",!1)};this.options.plot.canvas.on("mouseleave",f),this.interactiveEvents.mouseleave={target:this.options.plot.canvas,handler:f}},i.prototype.moveAnchor=function(r){if(this.anchor.set("visible",!0),this.layout==="vertical"){var t=this.height*r,e=[1,0,0,0,1,0,0,0,1];e[7]=t,this.anchor.stopAnimate(),this.anchor.animate({matrix:e},400,"easeLinear")}else{var t=this.width*r,e=[1,0,0,0,1,0,0,0,1];e[6]=t,this.anchor.stopAnimate(),this.anchor.animate({matrix:e},400,"easeLinear")}},i.prototype.getTopPosition=function(r){if(this.options.plot.description){var t=this.options.plot.description.getBBox();return t.maxY+10}else if(this.options.plot.title){var t=this.options.plot.title.getBBox();return t.maxY+10}return r[0]},i.prototype.offEvent=function(){(0,u.each)(this.interactiveEvents,function(r,t){var e=r.target,n=r.handler;e.off(t,n)})},i}(),ZL=UL,KL={label:{Ctr:jL},legend:{Ctr:ZL,padding:"outer"}};function $L(i,r,t){if(i.options[r]&&i.options[r].visible){var e=KL[r],n=new e.Ctr(t);return e.padding&&i.paddingController.registerPadding(n,e.padding),n}}var Xg=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="heatmap",t.gridSize=[],t.plotComponents=[],t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{shapeType:"rect",legend:{visible:!0,position:"right-center"},tooltip:{shared:!1,showCrosshairs:!1,showMarkers:!1},xAxis:{visible:!0,gridAlign:"center",grid:{visible:!0},tickLine:{visible:!0},line:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!0}},yAxis:{visible:!0,gridAlign:"center",grid:{visible:!0,align:"center"},tickLine:{visible:!0},label:{autoHide:!0,autoRotate:!1}},color:["#9ae3d5","#66cdbb","#e7a744","#f1e066","#f27664","#e7c1a2"],label:{visible:!0,adjustColor:!0,adjustPosition:!0,offset:0,style:{stroke:"rgba(255,255,255,0)",lineWidth:0}},interactions:[{type:"tooltip"}]})},r.prototype.afterRender=function(){this.renderPlotComponents(),i.prototype.afterRender.call(this)},r.prototype.changeShape=function(t){if(this.options.shapeType!==t){if(this.options.shapeType=t,t==="rect"){var e=this.getShape();this.circleToRect(e)}else if(t==="circle"){var e=this.getShape();this.rectToCircle(e)}}},r.prototype.mappingSize=function(t){if(!(this.options.sizeField&&this.options.sizeField===t)){this.options.sizeField=t;var e=(0,u.valuesOfKey)(this.options.data,t),n=Math.min.apply(Math,e),a=Math.max.apply(Math,e),o=(0,er.getScale)("linear"),s=new o({min:n,max:a}),l=this.getShape();this.options.shapeType==="rect"?this.rectSizeMapping(l,s,t):this.options.shapeType==="circle"&&this.circleSizeMapping(l,s,t)}},r.prototype.disableMappingSize=function(){var t=this.getShape();this.options.shapeType==="rect"?this.rectDisableSizeMapping(t):this.options.shapeType==="circle"&&this.circleDisableSizeMapping(t)},r.prototype.destroy=function(){(0,u.each)(this.plotComponents,function(t){t.destroy()}),i.prototype.destroy.call(this)},r.prototype.getSizeScale=function(){var t=this.options.sizeField;t&&this.view.getScaleByField(t)},r.prototype.geometryParser=function(){return""},r.prototype.coord=function(){},r.prototype.legend=function(){this.setConfig("legends",!1)},r.prototype.addGeometry=function(){this.gridSize=this.getGridSize();var t;if(this.options.shapeType==="rect")t=this.addRect();else{var e=this.addCircle();t=e}if(this.options.shapeStyle){var n={};(0,u.isFunction)(this.options.shapeStyle)?(n.fields=[this.options.colorField,this.options.xField,this.options.yField,this.options.sizeField],n.callback=this.options.shapeStyle):(0,u.isObject)(this.options.shapeStyle)&&(n.cfg=this.options.shapeStyle),t.style=n}this.options.tooltip&&(this.options.tooltip.fields||this.options.tooltip.formatter)&&this.geometryTooltip(t),this.setConfig("geometry",t)},r.prototype.addRect=function(){var t=[.3,.9];this.options.shapeSize&&(t[0]=this.options.shapeSize[0]/this.gridSize[0],t[1]=this.options.shapeSize[1]/this.gridSize[1]);var e={type:"polygon",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},shape:{values:["rect"]},label:!1};return this.options.sizeField?e.size={fields:[this.options.sizeField],values:t}:e.size={values:[1]},e},r.prototype.addCircle=function(){var t=[.3,.9];this.options.shapeSize?t=this.options.shapeSize:(t[0]=this.gridSize[0]*t[0]*.5,t[1]=this.gridSize[1]*t[1]*.5);var e={type:"point",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},shape:{values:["curvePoint"]},label:!1};return this.options.sizeField?e.size={fields:[this.options.sizeField],values:t}:e.size={values:[Math.min(this.gridSize[0],this.gridSize[1])*.5*.9]},e},r.prototype.geometryTooltip=function(t){t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&t.tooltip.fields.push(this.options.colorField)))},r.prototype.getGridSize=function(){if(this.options.padding==="auto")return[0,0];var t=this.getViewRange(),e=this.options,n=e.padding,a=e.xField,o=e.yField,s=e.data,l=t.width-n[1]-n[3],f=t.height-n[0]-n[2],h=(0,u.valuesOfKey)(s,a).length,c=(0,u.valuesOfKey)(s,o).length;return[l/h,f/c]},r.prototype.circleToRect=function(t){var e=this,n=this.gridSize;(0,u.each)(t,function(a){var o=a.get("origin"),s=o.x,l=o.y,f=o.size,h=f*2/Math.min(n[0],n[1]);e.options.sizeField||(h=1);var c=Yg(s,l,f),v=Nl(s,l,n[0],n[1],h);a.stopAnimate(),a.attr("path",c),a.animate({path:v},500,"easeLinear")})},r.prototype.rectToCircle=function(t){var e=this;(0,u.each)(t,function(n){var a=n.get("coord"),o=n.get("origin").points,s=[];(0,u.each)(o,function(G){s.push(a.convertPoint(G))});var l=n.getBBox(),f=l.width,h=l.height,c=l.minX+f/2,v=l.minY+h/2,x=e.options.sizeField?1:.9,A=Yg(c,v,Math.min(f,h)/2*x),B=Gl(c,v,Math.min(f,h)/2*x);n.stopAnimate(),n.animate({path:A},500,"easeLinear",function(){n.attr("path",B)})})},r.prototype.rectSizeMapping=function(t,e,n){(0,u.each)(t,function(a){var o=a.get("origin").data,s=.3+e.scale(o[n])*.6;a.get("origin").size=s;var l=a.getBBox(),f=l.width,h=l.height,c=l.minX+f/2,v=l.minY+h/2,x=Nl(c,v,f,h,s);a.stopAnimate(),a.animate({path:x},500,"easeLinear")})},r.prototype.circleSizeMapping=function(t,e,n){(0,u.each)(t,function(a){var o=a.get("origin").data,s=.3+e.scale(o[n])*.6,l=a.get("origin"),f=l.x,h=l.y,c=l.size,v=Gl(f,h,c*s);a.get("origin").size=c*s,a.stopAnimate(),a.animate({path:v},500,"easeLinear")})},r.prototype.circleDisableSizeMapping=function(t){var e=this;this.options.sizeField=null,(0,u.each)(t,function(n){var a=n.get("origin"),o=a.x,s=a.y,l=Math.min(e.gridSize[0],e.gridSize[1])*.9;n.get("origin").size=l/2;var f=Gl(o,s,l/2);n.stopAnimate(),n.animate({path:f},500,"easeLinear")})},r.prototype.rectDisableSizeMapping=function(t){var e=this;this.options.sizeField=null,(0,u.each)(t,function(n){var a=n.getBBox(),o=a.width,s=a.height,l=a.minX+o/2,f=a.minY+s/2,h=Nl(l,f,e.gridSize[0],e.gridSize[1],1);n.get("origin").size=1,n.stopAnimate(),n.animate({path:h},500,"easeLinear")})},r.prototype.getShape=function(){var t=this.view.geometries[0].elements,e=[];return(0,u.each)(t,function(n){e.push(n.shape)}),e},r.prototype.renderPlotComponents=function(){var t=this;(0,u.each)(this.plotComponents,function(n){n.destroy()}),this.plotComponents=[];var e=["label","legend"];(0,u.each)(e,function(n){var a=(0,q.__assign)({view:t.view,plot:t},t.options[n]),o=$L(t,n,a);o&&(o.render(),t.plotComponents.push(o))})},r}(Fn),QL=Xg;Wr("heatmap",Xg);var JL=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="heatmap",i.prototype.createLayers.call(this,e)},r.prototype.changeShape=function(t){var e=this.layers[0];e.changeShape(t)},r.prototype.mappingSize=function(t){var e=this.layers[0];e.mappingSize(t)},r.prototype.disableMappingSize=function(){var t=this.layers[0];t.disableMappingSize()},r.prototype.getSizeScale=function(){var t=this.layers[0];return t.getSizeScale()},r.getDefaultOptions=QL.getDefaultOptions,r}(Dr),Vg=JL,qL=function(i){(0,q.__extends)(r,i);function r(t){var e=this,n=(0,u.deepMix)({},t,{itemTpl:`<div data-index={index}>
        <span style="background-color:{color};" class="g2-tooltip-marker"></span>
        {name}<span class="g2-tooltip-value">{value}</span></div>`},t);return e=i.call(this,n)||this,e}return r}(JM.Z),tI=qL;/*!
 * wordcloud2.js
 * http://timdream.org/wordcloud2.js/
 *
 * Copyright 2011 - 2013 Tim Chien
 * Released under the MIT license
 */window.setImmediate||(window.setImmediate=function(){return window.msSetImmediate||window.webkitSetImmediate||window.mozSetImmediate||window.oSetImmediate||function(){if(!window.postMessage||!window.addEventListener)return null;var t=[void 0],e="zero-timeout-message",n=function(o){var s=t.length;return t.push(o),window.postMessage(e+s.toString(36),"*"),s};return window.addEventListener("message",function(o){if(!(typeof o.data!="string"||o.data.substr(0,e.length)!==e)){o.stopImmediatePropagation();var s=parseInt(o.data.substr(e.length),36);!t[s]||(t[s](),t[s]=void 0)}},!0),window.clearImmediate=function(o){!t[o]||(t[o]=void 0)},n}()||function(t){window.setTimeout(t,0)}}()),window.clearImmediate||(window.clearImmediate=function(){return window.msClearImmediate||window.webkitClearImmediate||window.mozClearImmediate||window.oClearImmediate||function(t){window.clearTimeout(t)}}());var lh=function(){var r=document.createElement("canvas");if(!r||!r.getContext)return!1;var t=r.getContext("2d");return!(!t.getImageData||!t.fillText||!Array.prototype.some||!Array.prototype.push)}(),jo=function(){if(!!lh){for(var r=document.createElement("canvas").getContext("2d"),t=20,e,n;t;){if(r.font=t.toString(10)+"px sans-serif",r.measureText("\uFF37").width===e&&r.measureText("m").width===n)return t+1;e=r.measureText("\uFF37").width,n=r.measureText("m").width,t--}return 0}}(),eI=function(r){for(var t,e,n=r.length;n;t=Math.floor(Math.random()*n),e=r[--n],r[n]=r[t],r[t]=e);return r},uh=function(r,t){if(!lh)return;Array.isArray(r)||(r=[r]),r.forEach(function(gr,Re){if(typeof gr=="string"){if(r[Re]=document.getElementById(gr),!r[Re])throw"The element id specified is not found."}else if(!gr.tagName&&!gr.appendChild)throw"You must pass valid HTML elements, or ID of the element."});var e={data:[],fontFamily:'"Trebuchet MS", "Heiti TC", "\u5FAE\u8EDF\u6B63\u9ED1\u9AD4", "Arial Unicode MS", "Droid Fallback Sans", sans-serif',fontWeight:"normal",color:"random-dark",minFontSize:jo,maxFontSize:60,clearCanvas:!0,backgroundColor:"#fff",gridSize:8,drawOutOfBound:!1,origin:null,drawMask:!1,maskColor:"rgba(255,0,0,0.3)",maskGapWidth:.3,wait:0,abortThreshold:0,abort:function(){},minRotation:-Math.PI/2,maxRotation:Math.PI/2,rotateRatio:.5,rotationSteps:1,shuffle:!0,shape:"circle",ellipticity:1,active:!0,animatable:!0,selected:-1,shadowColor:"#333",shadowBlur:10,fontScale:1.2,classes:null,onWordCloudHover:null,onWordCloudClick:null},n=[];if(t)for(var a in t)if(a==="wordStyle")for(var o in t[a])o in e&&(e[o]=t[a][o]);else a in e&&(e[a]=t[a]);if(e.minFontSize<jo&&(e.minFontSize=jo),e.minFontSize>e.maxFontSize){console.error("minSize cant bigger than maxSize");return}for(var s=0,l=0;l<e.data.length;l++)s<e.data[l].weight&&(s=e.data[l].weight);var f=function(Re){var Je=Math.min(Math.max(e.minFontSize,e.maxFontSize*Re/s),e.maxFontSize);return Mr?Je*e.fontScale:Je},h=!1;if(typeof e.shape!="function")switch(e.shape){case"circle":default:e.shape="circle";break;case"cardioid":e.shape=function(Re){return 1-Math.sin(Re)},h=!0;break;case"diamond":e.shape=function(Re){var Je=Re%(2*Math.PI/4);return 1/(Math.cos(Je)+Math.sin(Je))};break;case"square":e.shape=function(Re){var Je=(Re+Math.PI/4)%(2*Math.PI/4);return 1/(Math.cos(Je)+Math.sin(Je))};break;case"triangle-forward":e.shape=function(Re){var Je=Re%(2*Math.PI/3);return 1/(Math.cos(Je)+Math.sqrt(3)*Math.sin(Je))};break;case"triangle-backward":e.shape=function(Re){var Je=(Re+Math.PI)%(2*Math.PI/3);return 1/(Math.cos(Je)+Math.sqrt(3)*Math.sin(Je))};break;case"triangle":case"triangle-up":e.shape=function(Re){var Je=(Re+Math.PI*3/2)%(2*Math.PI/3);return 1/(Math.cos(Je)+Math.sqrt(3)*Math.sin(Je))};break;case"triangle-down":e.shape=function(Re){var Je=(Re+Math.PI*5/2)%(2*Math.PI/3);return 1/(Math.cos(Je)+Math.sqrt(3)*Math.sin(Je))};break;case"pentagon":e.shape=function(Re){var Je=(Re+.955)%(2*Math.PI/5);return 1/(Math.cos(Je)+.726543*Math.sin(Je))};break;case"star":e.shape=function(Re){var Je=(Re+.955)%(2*Math.PI/10);return(Re+.955)%(2*Math.PI/5)-2*Math.PI/10>=0?1/(Math.cos(2*Math.PI/10-Je)+3.07768*Math.sin(2*Math.PI/10-Je)):1/(Math.cos(Je)+3.07768*Math.sin(Je))};break}e.gridSize=Math.max(Math.floor(e.gridSize),4);var c=e.gridSize,v=c-e.maskGapWidth,x=Math.abs(e.maxRotation-e.minRotation),A=Math.min(e.maxRotation,e.minRotation),B=e.rotationSteps,G,H,X,ut,ft,xt,Yt;function Kt(gr,Re){return"hsl("+(Math.random()*360).toFixed()+","+(Math.random()*30+70).toFixed()+"%,"+(Math.random()*(Re-gr)+gr).toFixed()+"%)"}switch(e.color){case"random-dark":Yt=function(){return Kt(10,50)};break;case"random-light":Yt=function(){return Kt(50,90)};break;default:typeof e.color=="function"&&(Yt=e.color);break}var te=null;typeof e.classes=="function"&&(te=e.classes);var Wt=!1,ae=[],ce,he=function(Re){var Je=Re.currentTarget,Er=Je.getBoundingClientRect(),Br,br;Re.touches?(Br=Re.touches[0].clientX,br=Re.touches[0].clientY):(Br=Re.clientX,br=Re.clientY);var zr=Br-Er.left,Rr=br-Er.top,Pr=Math.floor(zr*(Je.width/Er.width||1)/c),Xr=Math.floor(Rr*(Je.height/Er.height||1)/c);return ae&&ae[Pr]&&ae[Pr][Xr]},Pe=function(Re,Je,Er,Br){Br(Re?Re.id:-1)},Be=function(Re){var Je=he(Re);if(ce!==Je&&!(Mr&&Je&&Je.item&&!(0,u.get)(Je,["item","twiceRender"]))){if(!Je){e.onWordCloudHover(void 0,void 0,Re,Gr),e.active&&Pe(void 0,void 0,Re,Gr);return}e.onWordCloudHover(Je.item,Je.dimension,Re,Gr),e.active&&Pe(Je.item,Je.dimension,Re,Gr),ce=Je}},ke=function(Re){var Je=he(Re);!Je||(e.onWordCloudClick(Je.item,Je.dimension,Re),Re.preventDefault())},We=[],Ke=function(Re){if(We[Re])return We[Re];var Je=Re*8,Er=Je,Br=[];for(Re===0&&Br.push([ut[0],ut[1],0]);Er--;){var br=1;e.shape!=="circle"&&(br=e.shape(Er/Je*2*Math.PI)),Br.push([ut[0]+Re*br*Math.cos(-Er/Je*2*Math.PI),ut[1]+Re*br*Math.sin(-Er/Je*2*Math.PI)*e.ellipticity,Er/Je*2*Math.PI])}return We[Re]=Br,Br},$e=function(){return e.abortThreshold>0&&new Date().getTime()-xt>e.abortThreshold},Ve=function(){return e.rotateRatio===0||Math.random()>e.rotateRatio?0:x===0?A:B>0?A+Math.floor(Math.random()*B)*x/B:A+Math.random()*x},He=function(Re,Je,Er){var Br=!1,br=f(Je);if(br<=0)return!1;var zr=1;br<jo&&(zr=function(){for(var Po=2;Po*br<jo;)Po+=2;return Po}());var Rr=document.createElement("canvas"),Pr=Rr.getContext("2d",{willReadFrequently:!0});Pr.font=e.fontWeight+" "+(br*zr).toString(10)+"px "+e.fontFamily;var Xr=Pr.measureText(Re).width/zr,Jr=Math.max(br*zr,Pr.measureText("m").width,Pr.measureText("\uFF37").width)/zr,_n=Xr+Jr*2,cn=Jr*3,kn=Math.ceil(_n/c),Gn=Math.ceil(cn/c);_n=kn*c,cn=Gn*c;var wi=-Xr/2,Oi=-Jr*.4,Qn=Math.ceil((_n*Math.abs(Math.sin(Er))+cn*Math.abs(Math.cos(Er)))/c),Cr=Math.ceil((_n*Math.abs(Math.cos(Er))+cn*Math.abs(Math.sin(Er)))/c),Bn=Cr*c,ui=Qn*c;Rr.setAttribute("width",Bn),Rr.setAttribute("height",ui),Br&&(document.body.appendChild(Rr),Pr.save()),Pr.scale(1/zr,1/zr),Pr.translate(Bn*zr/2,ui*zr/2),Pr.rotate(-Er),Pr.font=e.fontWeight+" "+(br*zr).toString(10)+"px "+e.fontFamily,Pr.fillStyle="#000",Pr.textBaseline="middle",Pr.fillText(Re,wi*zr,(Oi+br*.5)*zr);var ti;try{ti=Pr.getImageData(0,0,Bn,ui).data}catch(Li){return!1}if($e())return!1;Br&&(Pr.strokeRect(wi*zr,Oi,Xr*zr,Jr*zr),Pr.restore());for(var Ra=[],fi=Cr,dn,ln,An,Ln=[Qn/2,Cr/2,Qn/2,Cr/2];fi--;)for(dn=Qn;dn--;){An=c;t:{for(;An--;)for(ln=c;ln--;)if(ti[((dn*c+An)*Bn+(fi*c+ln))*4+3]){Ra.push([fi,dn]),fi<Ln[3]&&(Ln[3]=fi),fi>Ln[1]&&(Ln[1]=fi),dn<Ln[0]&&(Ln[0]=dn),dn>Ln[2]&&(Ln[2]=dn),Br&&(Pr.fillStyle="rgba(255, 0, 0, 0.5)",Pr.fillRect(fi*c,dn*c,c-.5,c-.5));break t}Br&&(Pr.fillStyle="rgba(0, 0, 255, 0.5)",Pr.fillRect(fi*c,dn*c,c-.5,c-.5))}}return Br&&(Pr.fillStyle="rgba(0, 255, 0, 0.5)",Pr.fillRect(Ln[3]*c,Ln[0]*c,(Ln[1]-Ln[3]+1)*c,(Ln[2]-Ln[0]+1)*c)),{mu:zr,occupied:Ra,bounds:Ln,gw:Cr,gh:Qn,fillTextOffsetX:wi,fillTextOffsetY:Oi,fillTextWidth:Xr,fillTextHeight:Jr,fontSize:br}},lr=function(Re,Je,Er,Br,br){for(var zr=br.length;zr--;){var Rr=Re+br[zr][0],Pr=Je+br[zr][1];if(Rr>=H||Pr>=X||Rr<0||Pr<0){if(!e.drawOutOfBound)return!1;continue}if(!G[Rr][Pr])return!1}return!0},sr=function(Re,Je,Er,Br,br,zr,Rr,Pr,Xr,Jr,_n){var cn=Er.fontSize,kn=e.color,Gn=e.classes;if(!_n)Yt?kn=Yt(Br,br,cn,zr,Rr):kn=e.color,te?Gn=te(Br,br,cn,zr,Rr):Gn=e.classes;else{var wi=cr(Jr);kn=wi?wi.color:e.color}var Oi,Qn=Er.bounds;Oi={x:(Re+Qn[3])*c,y:(Je+Qn[0])*c,w:(Qn[1]-Qn[3]+1)*c,h:(Qn[2]-Qn[0]+1)*c},r.forEach(function(Cr){if(Cr.getContext){var Bn=Cr.getContext("2d"),ui=Er.mu;Bn.save();var ti=e.fontWeight+" "+(cn*ui).toString(10)+"px "+e.fontFamily;Bn.scale(1/ui,1/ui),Bn.font=ti,Bn.fillStyle=kn;var Ra=(Re+Er.gw/2)*c*ui,fi=(Je+Er.gh/2)*c*ui;Bn.translate(Ra,fi),Pr!==0&&Bn.rotate(-Pr),Bn.textBaseline="middle",e.selected===Jr&&(Bn.shadowColor=e.shadowColor,Bn.shadowBlur=e.shadowBlur),Bn.fillText(Br,Er.fillTextOffsetX*ui,(Er.fillTextOffsetY+cn*.5)*ui),_n||n.push({gx:Re,gy:Je,info:Er,word:Br,weight:br,distance:zr,theta:Rr,rotateDeg:Pr,attributes:Xr,id:Jr,color:kn}),Bn.restore()}else{var dn=document.createElement("span"),ln="";ln="rotate("+-Pr/Math.PI*180+"deg) ",Er.mu!==1&&(ln+="translateX(-"+Er.fillTextWidth/4+"px) scale("+1/Er.mu+")");var An={position:"absolute",display:"block",font:e.fontWeight+" "+cn*Er.mu+"px "+e.fontFamily,left:(Re+Er.gw/2)*c+Er.fillTextOffsetX+"px",top:(Je+Er.gh/2)*c+Er.fillTextOffsetY+"px",width:Er.fillTextWidth+"px",height:Er.fillTextHeight+"px",lineHeight:cn+"px",whiteSpace:"nowrap",transform:ln,webkitTransform:ln,msTransform:ln,transformOrigin:"50% 40%",webkitTransformOrigin:"50% 40%",msTransformOrigin:"50% 40%"};kn&&(An.color=kn),dn.textContent=Br;for(var Ln in An)dn.style[Ln]=An[Ln];if(Xr)for(var Li in Xr)dn.setAttribute(Li,Xr[Li]);Gn&&(dn.className+=Gn),Cr.appendChild(dn)}})},dr=function(Re,Je,Er,Br,br){if(!(Re>=H||Je>=X||Re<0||Je<0)){if(G[Re][Je]=!1,Er){var zr=r[0].getContext("2d");zr.fillRect(Re*c,Je*c,v,v)}Wt&&(ae[Re][Je]={item:br,dimension:Br})}},Qe=function(Re,Je,Er,Br,br){var zr=br.occupied,Rr=e.drawMask,Pr;Rr&&(Pr=r[0].getContext("2d"),Pr.save(),Pr.fillStyle=e.maskColor);var Xr;if(Wt){var Jr=br.bounds;Xr={x:(Re+Jr[3])*c,y:(Je+Jr[0])*c,w:(Jr[1]-Jr[3]+1)*c,h:(Jr[2]-Jr[0]+1)*c}}for(var _n=zr.length;_n--;){var cn=Re+zr[_n][0],kn=Je+zr[_n][1];if(!(cn>=H||kn>=X||cn<0||kn<0)){var Gn=cr(br.item.id);Gn&&(br.item.color=Gn.color),dr(cn,kn,Rr,Xr,br.item)}}Rr&&Pr.restore()},hr=function(Re,Je,Er,Br,br,zr,Rr,Pr){var Xr=Math.floor(Re[0]-Je.gw/2),Jr=Math.floor(Re[1]-Je.gh/2),_n=Je.gw,cn=Je.gh;return lr(Xr,Jr,_n,cn,Je.occupied)?(sr(Xr,Jr,Je,Er,Br,br,Re[2],zr,Rr,Pr,!1),Qe(Xr,Jr,_n,cn,Je),{gx:Xr,gy:Jr,rot:zr,info:Je}):!1},Sr=function(Re){var Je,Er,Br,br;Array.isArray(Re)?(Je=Re[0],Er=Re[1]):(Je=Re.word,Er=Re.weight,Br=Re.attributes,br=Re.id);var zr=(0,u.isNil)(Re.rotateDeg)?Ve():Re.rotateDeg,Rr=He(Je,Er,zr);if(Rr&&(Rr.item=Re),!Rr||$e())return!1;if(!e.drawOutOfBound){var Pr=Rr.bounds;if(Pr[1]-Pr[3]+1>H||Pr[2]-Pr[0]+1>X)return!1}for(var Xr=ft+1;Xr--;){var Jr=Ke(ft-Xr);e.shuffle&&(Jr=[].concat(Jr),eI(Jr));for(var _n=0;_n<Jr.length;_n++){var cn=hr(Jr[_n],Rr,Je,Er,ft-Xr,zr,Br,br);if(cn)return cn}}return null},vr=function(Re,Je,Er){if(Je)return!r.some(function(Br){var br=document.createEvent("CustomEvent");return br.initCustomEvent(Re,!0,Je,Er||{}),!Br.dispatchEvent(br)},this);r.forEach(function(Br){var br=document.createEvent("CustomEvent");br.initCustomEvent(Re,!0,Je,Er||{}),Br.dispatchEvent(br)},this)},cr=function(Re){for(var Je=0;Je<n.length;Je++){var Er=n[Je];if(n[Je].id===Re)return Er}},Mr,Gr=function(Re){if(Re!==void 0){if(e.selected!==Re&&r[0].getContext){e.selected=Re;var Je=r[0].getContext("2d");Je.fillStyle=e.backgroundColor,Je.clearRect(0,0,r[0].width,r[0].height),Je.fillRect(0,0,r[0].width,r[0].height);for(var Er=0;Er<n.length;Er++){var Br=n[Er];(!Mr||Mr&&(0,u.get)(Br,["info","item","twiceRender"]))&&sr(Br.gx,Br.gy,Br.info,Br.word,Br.weight,Br.distance,Br.theta,Br.rotateDeg,Br.attributes,Br.id,!0)}}return}var br=r[0];if(br.getContext)H=Math.ceil(br.width/c),X=Math.ceil(br.height/c);else{var zr=br.getBoundingClientRect();H=Math.ceil(zr.width/c),X=Math.ceil(zr.height/c)}if(!!vr("wordcloudstart",!0)){ut=e.origin?[e.origin[0]/c,e.origin[1]/c]:[H/2,X/(h?4:2)],ft=Math.floor(Math.sqrt(H*H+X*X)),G=[];var Rr,Pr,Xr;if(!br.getContext||e.clearCanvas)for(r.forEach(function(ln){if(ln.getContext){var An=ln.getContext("2d");An.fillStyle=e.backgroundColor,An.clearRect(0,0,H*(c+1),X*(c+1)),An.fillRect(0,0,H*(c+1),X*(c+1))}else ln.textContent="",ln.style.backgroundColor=e.backgroundColor,ln.style.position="relative"}),Rr=H;Rr--;)for(G[Rr]=[],Pr=X;Pr--;)G[Rr][Pr]=!0;else{var Jr=document.createElement("canvas").getContext("2d");Jr.fillStyle=e.backgroundColor,Jr.fillRect(0,0,1,1);var _n=Jr.getImageData(0,0,1,1).data,cn=br.getContext("2d").getImageData(0,0,H*c,X*c).data;Rr=H;for(var kn,Gn;Rr--;)for(G[Rr]=[],Pr=X;Pr--;){Gn=c;t:for(;Gn--;)for(kn=c;kn--;)for(Xr=4;Xr--;)if(cn[((Pr*c+Gn)*H*c+(Rr*c+kn))*4+Xr]!==_n[Xr]){G[Rr][Pr]=!1;break t}G[Rr][Pr]!==!1&&(G[Rr][Pr]=!0)}cn=Jr=_n=void 0}if(e.onWordCloudHover||e.onWordCloudClick){for(Wt=!0,Rr=H+1;Rr--;)ae[Rr]=[];e.onWordCloudHover&&br.addEventListener("mousemove",Be),e.onWordCloudClick&&(br.addEventListener("click",ke),br.addEventListener("touchstart",ke),br.addEventListener("touchend",function(ln){ln.preventDefault()}),br.style.webkitTapHighlightColor="rgba(0, 0, 0, 0)"),br.addEventListener("wordcloudstart",function ln(){br.removeEventListener("wordcloudstart",ln),br.removeEventListener("mousemove",Be),br.removeEventListener("click",ke),ce=void 0})}if(e.animatable){Xr=0;var Bn,ui;e.wait!==0?(Bn=window.setTimeout,ui=window.clearTimeout):(Bn=window.setImmediate,ui=window.clearImmediate);var ti=function(An,Ln){r.forEach(function(Li){Li.addEventListener(An,Ln)},this)},Ra=function(An,Ln){r.forEach(function(Li){Li.removeEventListener(An,Ln)},this)},fi=function ln(){Ra("wordcloudstart",ln),ui(dn)};ti("wordcloudstart",fi);var dn=Bn(function ln(){if(Xr>=e.data.length){ui(dn),vr("wordcloudstop",!1),Ra("wordcloudstart",fi);return}xt=new Date().getTime();var An=Sr(e.data[Xr]),Ln=!vr("wordclouddrawn",!0,{item:e.data[Xr],drawn:An});if($e()||Ln){ui(dn),e.abort(),vr("wordcloudabort",!1),vr("wordcloudstop",!1),Ra("wordcloudstart",fi);return}Xr++,dn=Bn(ln,e.wait)},e.wait)}else{t.maskImage&&r.forEach(function(ln){if(ln.getContext){var An=ln.getContext("2d");An.fillStyle=e.backgroundColor,An.clearRect(0,0,H*(c+1),X*(c+1)),An.fillRect(0,0,H*(c+1),X*(c+1))}});for(var wi=[],Oi=0;Oi<e.data.length;Oi++){var Qn=Sr(e.data[Oi]);Qn&&wi.push(Qn)}if(wi.length===e.data.length&&!Mr){for(r.forEach(function(ln){if(ln.getContext){var An=ln.getContext("2d");An.fillStyle=e.backgroundColor,An.clearRect(0,0,H*(c+1),X*(c+1)),An.fillRect(0,0,H*(c+1),X*(c+1))}}),Rr=H;Rr--;)for(G[Rr]=[],Pr=X;Pr--;)G[Rr][Pr]=!0;Mr=!0;for(var Cr=0;Cr<e.data.length;Cr++)Sr((0,q.__assign)((0,q.__assign)({},e.data[Cr]),{twiceRender:Mr}))}}}};Gr()};uh.isSupported=lh,uh.minFontSize=jo;var rI=uh,nI=function(i){(0,q.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e._toolTipsAction=function(n,a,o,s){a?(e._toolTips.update({items:[{color:n.color||"red",name:n.word,value:n.weight}],x:o.offsetX,y:o.offsetY}),e._toolTips.show()):e._toolTips.hide(),e._toolTips.render(),e._configHoverAction&&e._configHoverAction(n,a,o,s)},e._configHoverAction=t.onWordCloudHover,e._enableToolTips=(0,u.get)(t,"tooltip.visible",!0),e.options=(0,u.deepMix)({},{width:400,height:400,enableToolTips:!0},t,{onWordCloudHover:e._enableToolTips?e._toolTipsAction:e._configHoverAction}),e}return r.prototype.init=function(){i.prototype.init.call(this),this._initToolTips()},r.prototype.render=function(){i.prototype.render.call(this),this._render()},r.prototype._initToolTips=function(){this._toolTips=new tI({showTitle:!1,visible:!1,parent:this.options.container,follow:!0,inPanel:!1,items:[]}),this._toolTips.init()},r.prototype._render=function(){this._targetCanvas=this.canvas.get("el"),this.options.maskImage?this._handleMaskImage():this._start()},r.prototype._handleMaskImage=function(){var t=this,e=new Image;e.src=this.options.maskImage+"?"+new Date().getTime(),e.crossOrigin="Anonymous",e.onload=function(){e.naturalHeight+e.naturalWidth===0||e.width+e.height===0?t._start():t._startWithMaskImage(e)},e.onerror=function(){console.error("image %s load failed !!!",t.options.maskImage),t._start()}},r.prototype._start=function(){this._handleG2PlotConfig();var t=this._targetCanvas.getContext("2d"),e=this.canvas.get("width")/this.canvas.get("el").width;t.scale(e,e),rI(this._targetCanvas,this.options)},r.prototype._handleG2PlotConfig=function(){var t=this.options.wordStyle.fontSize||[10,60],e=this.options.wordStyle.rotation||[-Math.PI/2,Math.PI/2],n,a,o;this.options.wordStyle.active?(n=!0,a=this.options.wordStyle.active.shadowColor||"#333",o=this.options.wordStyle.active.shadowBlur||10):n=!1,this.options=(0,u.deepMix)({},this.options,{minFontSize:t[0],maxFontSize:t[1],minRotation:e[0],maxRotation:e[1],active:n,shadowColor:a,shadowBlur:o})},r.prototype._startWithMaskImage=function(t){var e=this._scaleMaskImageCanvas(this._transformWhite2BlackPixels(t)),n=e.maskImageCanvas,a=e.maskImageContext,o=document.createElement("canvas").getContext("2d");o.fillStyle=this.options.backgroundColor||"#fff",o.fillRect(0,0,1,1);for(var s=o.getImageData(0,0,1,1).data,l=a.getImageData(0,0,n.width,n.height),f=a.createImageData(l),h=0;h<l.data.length;h+=4)l.data[h+3]>128?(f.data[h]=s[0],f.data[h+1]=s[1],f.data[h+2]=s[2],f.data[h+3]=s[3]):(f.data[h]=s[0],f.data[h+1]=s[1],f.data[h+2]=s[2],f.data[h+3]=254);a.putImageData(f,0,0);var c=this._targetCanvas.getContext("2d");c.drawImage(n,0,0),this.options=(0,u.deepMix)({},this.options,{clearCanvas:!1}),this._start()},r.prototype._scaleMaskImageCanvas=function(t){var e=document.createElement("canvas");e.width=this.canvas.get("width"),e.height=this.canvas.get("height");var n=e.getContext("2d");return n.imageSmoothingEnabled=!0,n.drawImage(t,0,0,t.width,t.height,0,0,e.width,e.height),{maskImageCanvas:e,maskImageContext:n}},r.prototype._transformWhite2BlackPixels=function(t){var e=document.createElement("canvas");e.width=t.width,e.height=t.height;var n=e.getContext("2d");n.drawImage(t,0,0,t.width,t.height);for(var a=n.getImageData(0,0,e.width,e.height),o=4,s=0,l=255,f=0;f<a.data.length;f+=o){var h=a.data[f]+a.data[f+1]+a.data[f+2],c=a.data[f+3];c<128||h>250*3?(a.data[f]=l,a.data[f+1]=l,a.data[f+2]=l,a.data[f+3]=s):(a.data[f]=s,a.data[f+1]=s,a.data[f+2]=s,a.data[f+3]=l)}return n.putImageData(a,0,0),e},r}(pl),iI=nI,aI=function(i){(0,q.__extends)(r,i);function r(t,e){var n=this;return e.renderer="canvas",n=i.call(this,t,e)||this,n}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="wordCloud",e.container=this.containerDOM,i.prototype.createLayers.call(this,e)},r}(Dr),oI=aI;Wr("wordCloud",iI);var sI={rose:"interval"},lI=si(sI);(0,u.assign)(Qr,lI);var uI={rose:"interval"},fI={rose:"column"},Hg=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="rose",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,innerRadius:0,label:{visible:!0,type:"inner",autoRotate:!0,adjustColor:!1},legend:{visible:!0,position:"right"},tooltip:{visible:!0,shared:!1,showCrosshairs:!1,showMarkers:!1},columnStyle:{stroke:"white",lineWidth:1},xAxis:{visible:!1,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},r.prototype.getOptions=function(t){var e=i.prototype.getOptions.call(this,t),n=t.sectorStyle,a=t.categoryField,o=t.radiusField;return(0,u.deepMix)({},e,{columnStyle:n,xField:a,yField:o})},r.prototype.getRadiusScale=function(){var t=this.options.radiusField;t&&this.view.getScaleByField(t)},r.prototype.getAngleScale=function(){var t=this.options.categoryField;t&&this.view.getScaleByField(t)},r.prototype.geometryParser=function(t,e){return t==="g2"?uI[e]:fI[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.radiusField]={},e[t.categoryField]={type:"cat"},this.setConfig("scales",e)},r.prototype.coord=function(){var t=this.options,e={type:"polar",cfg:{radius:t.radius,innerRadius:t.innerRadius||0}};this.setConfig("coordinate",e)},r.prototype.addGeometry=function(){var t=this.options,e=zn("interval","main",{plot:this,positionFields:[t.categoryField,t.radiusField],widthRatio:{rose:1}});e.label=this.extractLabel(),e.adjust=this.adjustRoseAdjust(),this.rose=e,t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},r.prototype.adjustRoseAdjust=function(){},r.prototype.geometryTooltip=function(){this.rose.tooltip={};var t=this.options.tooltip;t.fields&&(this.rose.tooltip.fields=t.fields),t.formatter&&(this.rose.tooltip.callback=t.formatter,t.fields||(this.rose.tooltip.fields=[this.options.radiusField,this.options.categoryField,this.options.colorField]))},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.rose.animate=!1)},r.prototype.annotation=function(){},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,m)},r.prototype.extractLabel=function(){var t=this.options;if(!t.label||!t.label.visible)return!1;var e=(0,u.deepMix)({},t.label);this.adjustLabelOptions(e);var n=[t.categoryField,t.radiusField],a=mi("label",(0,q.__assign)({plot:this,labelType:"polar",fields:n},e));return a},r.prototype.adjustLabelOptions=function(t){var e=this.options.radiusField;if(t){var n=t.offset,a=t.type,o=t.content;a==="inner"?t.offset=n<0?n:-10:a==="outer"&&(t.offset=n>=0?n:10),o||(t.content=function(s,l){return""+l._origin[e]})}},r}(Fn),fh=Hg;Wr("rose",Hg);var hI=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="rose",i.prototype.createLayers.call(this,e)},r.prototype.getRadiusScale=function(){var t=this.layers[0];return t.getRadiusScale()},r.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},r.getDefaultOptions=fh.getDefaultOptions,r}(Dr),Wg=hI,cI=function(i){var r=i.opacity||1;return{opacity:r*.5}},vI=function(i){var r=i.opacity||1;return{opacity:r*.5}};zi("funnel",{columnStyle:{normal:{},active:cI,disable:vI,selected:{lineWidth:1,stroke:"black"}}});var jg=d(26485);function dI(i,r){r===void 0&&(r=!1);var t=i.x,e=i.y,n=i.y0,a=i.size,o,s;(0,u.isArray)(e)?(o=e[0],s=e[1]):(o=n,s=e);var l,f;(0,u.isArray)(t)?(l=t[0],f=t[1]):(l=t-a/2,f=t+a/2);var h=[{x:l,y:o},{x:l,y:s}];return r?h.push({x:f,y:(s+o)/2}):h.push({x:f,y:s},{x:f,y:o}),h}function pI(i,r){var t=[],e=i.points,n=i.nextPoints;if(r){var a=r.yValues,o=r.yValuesMax,s=r.yValuesNext,l=(e[0].y+e[1].y)/2,f=a[0]+a[1],h=a.map(function(B){return B/f/.5}),c=(o[0]/(o[0]+o[1])-.5)*.9,v=.001;if((0,u.isNil)(n))t.push(["M",e[0].x,c+(e[0].y-l)*h[0]+l],["L",e[1].x,c+l],["L",e[2].x,c+l],["L",e[3].x,c+(e[3].y-l)*h[0]+l],["Z"]),t.push(["M",e[0].x,c+.002+l],["L",e[1].x,c+.002+(e[1].y-l)*h[1]+l],["L",e[2].x,c+.002+(e[2].y-l)*h[1]+l],["L",e[3].x,c+.002+l],["Z"]);else{var x=s[0]+s[1],A=s.map(function(B){return B/x/.5});t.push(["M",e[0].x,c+(e[0].y-l)*h[0]+l-v],["L",e[1].x,c+l-v],["L",n[1].x,c+l-v],["L",n[0].x,c+(n[3].y-l)*A[0]+l-v],["Z"]),t.push(["M",e[0].x,c+l+v],["L",e[1].x,c+(e[1].y-l)*h[1]+l+v],["L",n[1].x,c+(n[2].y-l)*A[1]+l+v],["L",n[0].x,c+l+v],["Z"])}}else(0,u.isNil)(n)?t.push(["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["L",e[2].x,e[2].y],["L",e[3].x,e[3].y],["Z"]):t.push(["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["L",n[1].x,n[1].y],["L",n[0].x,n[0].y],["Z"]);return t}rn("interval","funnel-basic-rect",{getPoints:function(i){return i.size=i.size*1.8,dI(i)},draw:function(i,r){var t,e=(0,jg.getStyle)(i,!1,!0),n=(0,u.get)(i,"data.__compare__"),a=this.parsePath(pI(i,n));return r.addShape("path",(t={name:"interval",attrs:(0,q.__assign)((0,q.__assign)({},e),{path:a})},t.__compare__=n,t))},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}});function hh(i,r,t){return(1-t)*i+t*r}function gI(i,r){var t=r.reverse,e=r.ratioUpper,n=r.ratioLower,a=[],o=i[0],s=(i[1].x+i[2].x)/2,l=1.2,f=.6;if(t){var h=n;n=e,e=h}var c=(o.x-s)*hh(f,l,n)+s;a.push(["M",c,o.y]);for(var v=1,x=i.length;v<x;v++){var A=i[v].x;switch(v){case 1:case 2:A=(A-s)*hh(f,l,e)+s;break;case 3:A=(A-s)*hh(f,l,n)+s;break}a.push(["L",A,i[v].y])}return a.push(["L",c,o.y]),a.push(["z"]),a}rn("interval","funnel-dynamic-rect",{draw:function(i,r){var t=(0,jg.getStyle)(i,!1,!0),e=(0,u.get)(i,"data.__custom__"),n=this.parsePath(gI(i.points,e));return r.addShape("path",{attrs:(0,q.__assign)((0,q.__assign)({},t),{path:n})})},getMarker:function(i){var r=i.color,t=i.isInPolar;return{symbol:t?"circle":"square",style:{r:t?4.5:4,fill:r}}}});function Ug(i,r){var t=r||{},e=t.duration,n=e===void 0?200:e,a=t.delay,o=t.easing,s=t.callback,l=t.reverse,f=i.getBBox(),h=l?f.maxX:f.minX,c=(f.minY+f.maxY)/2,v=i.setClip({type:"rect",attrs:{x:f.x,y:f.y,width:f.width,height:f.height}}),x={matrix:[1,0,0,0,1,0,0,0,1]};v.setMatrix(bn.transform(v.getMatrix(),[["t",-h,-c],["s",0,1],["t",h,c]]));var A={fillOpacity:i.attr("fillOpacity"),strokeOpacity:i.attr("strokeOpacity"),opacity:i.attr("opacity")};i.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),v.animate(x,{duration:200,easing:o,callback:function(){i.setClip(null),v.remove()},delay:a}),i.animate(A,{duration:n,easing:o,delay:a}),s&&setTimeout(function(){return s(i)},n+a)}Ug.animationName="funnelScaleInX",Un("funnelScaleInX",Ug);function Zg(i,r){var t=r||{},e=t.duration,n=e===void 0?200:e,a=t.delay,o=t.easing,s=t.callback,l=t.reverse,f=i.getBBox(),h=(f.minX+f.maxX)/2,c=l?f.maxY:f.minY,v=i.setClip({type:"rect",attrs:{x:f.x,y:f.y,width:f.width,height:f.height}}),x={matrix:[1,0,0,0,1,0,0,0,1]};v.setMatrix(bn.transform(v.getMatrix(),[["t",-h,-c],["s",1,0],["t",h,c]]));var A={fillOpacity:i.attr("fillOpacity"),strokeOpacity:i.attr("strokeOpacity"),opacity:i.attr("opacity")};i.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),v.animate(x,{duration:200,easing:o,callback:function(){i.setClip(null),v.remove()},delay:a}),i.animate(A,{duration:n,easing:o,delay:a}),s&&setTimeout(function(){return s(i)},n+a)}Zg.animationName="funnelScaleInY",Un("funnelScaleInY",Zg);function Yl(i,r,t){return(1-t)*i+t*r}var yI={column:"interval"},mI={interval:"funnel"},Kg=function(i){(0,q.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.type="funnel",e._shouldResetPercentages=!0,e._shouldResetLabels=!0,e._shouldResetCompareTexts=!0,e._legendsListenerAttached=!1,e._onLegendContainerMouseDown=function(n){var a=e.options,o=n.target.get("name");if(o.startsWith("legend-item")){var s=n.target.get("parent");if(s.set("unchecked",!s.get("unchecked")),e.refreshPercentages(),e.refreshLabels(),a.dynamicHeight){var l=e._findCheckedDataByMouseDownLegendItem(s);e._genCustomFieldForDynamicHeight(l)}if(a.compareField){var l=e._findCheckedDataByMouseDownLegendItem(s);e._updateDataForCompare(l),e.refreshCompareTexts()}}},e.adjustProps(e.options),t.dynamicHeight&&e._genCustomFieldForDynamicHeight(e.getData()),t.compareField&&(e.options.data=e._reduceDataForCompare(e.getData())),e}return r.getDefaultOptions=function(t){var e={label:{visible:!0,adjustColor:!0},percentage:{visible:!0,offsetX:t.transpose?0:40,offsetY:t.transpose?40:0,spacing:4,line:{visible:!0,style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.15)"}},text:{content:"\u8F6C\u5316\u7387",style:{fill:"rgba(0, 0, 0, 0.65)"}},value:{visible:!0,style:{fill:"black"},formatter:function(n,a){return(100*a/n).toFixed(2)+"%"}}},tooltip:{visible:!0,shared:!0,showTitle:!1,showCrosshairs:!1,showMarkers:!1},animation:(0,u.deepMix)({},ro.DEFAULT_ANIMATE_CFG,{appear:{duration:800}}),dynamicHeight:!1,compareText:{visible:!0,offsetX:-16,offsetY:-16,style:{fill:"black"}},legend:{position:"bottom-center"},interactions:[{type:"tooltip"},{type:"legend-filter"}]};return(0,u.deepMix)({},i.getDefaultOptions.call(this),e)},r.prototype.getColorScale=function(){var t=this.options.xField;if(t)return this.view.getScaleByField(t)},r.prototype.coord=function(){var t=this.options,e={type:"rect",actions:t.transpose?t.dynamicHeight?[["transpose"],["scale",1,-1]]:[["scale",1,-1]]:t.dynamicHeight?[]:[["transpose"],["scale",1,-1]]};this.setConfig("coordinate",e)},r.prototype.axis=function(){this.setConfig("axes",!1)},r.prototype.adjustFunnel=function(t){var e=this.options;t.shape=e.dynamicHeight?"funnel-dynamic-rect":"funnel-basic-rect",t.color={fields:[e.xField],values:e.color&&(Array.isArray(e.color)?e.color:[e.color])},(0,u.isFunction)(e.funnelStyle)?t.style={callback:e.funnelStyle}:t.style={cfg:e.funnelStyle},t.adjust=[{type:e.dynamicHeight?"stack":"symmetric"}]},r.prototype.tooltip=function(){var t=this.options;t.compareField&&(0,u.deepMix)(t.tooltip,{htmlContent:function(e,n){var a,o,s,l;a=pi.CONTAINER_CLASS,o=(0,at.Z)('<div class="'+a+'"></div>'),(0,vt.Z)(o,wo.default[a]);var f=o;if(e){a=pi.TITLE_CLASS,o=(0,at.Z)('<div class="'+a+'"></div>'),(0,vt.Z)(o,wo.default[a]),f.appendChild(o);var h=o;a=pi.MARKER_CLASS,o=(0,at.Z)('<span class="'+a+'"></span>'),(0,vt.Z)(o,wo.default[a]),(0,vt.Z)(o,{width:"10px",height:"10px"}),h.appendChild(o),l=o,o=(0,at.Z)("<span>"+e+"</span>"),h.appendChild(o)}if(n){a=pi.LIST_CLASS,o=(0,at.Z)('<ul class="'+a+'"></ul>'),(0,vt.Z)(o,wo.default[a]),f.appendChild(o);var c=o;n.reduce(function(v,x){s||(s=x.color);var A=(0,u.get)(x,"point._origin.__compare__.compareValues"),B=(0,u.get)(x,"point._origin.__compare__.yValues");return B.forEach(function(G,H){return v.push([A[H],G])}),v},[]).forEach(function(v,x){var A=v[0],B=v[1];a=pi.LIST_ITEM_CLASS,o=(0,at.Z)('<li class="'+a+'" data-index='+x+"></li>"),(0,vt.Z)(o,wo.default[a]),c.appendChild(o);var G=o;a=pi.NAME_CLASS,o=(0,at.Z)('<span class="'+a+'">'+A+"</span>"),(0,vt.Z)(o,wo.default[a]),G.appendChild(o),a=pi.VALUE_CLASS,o=(0,at.Z)('<span class="'+a+'">'+B+"</span>"),(0,vt.Z)(o,wo.default[a]),G.appendChild(o)})}return s&&l&&(0,vt.Z)(l,{backgroundColor:s}),f}}),i.prototype.tooltip.call(this)},r.prototype.addGeometry=function(){var t=this.options,e=zn("interval","main",{positionFields:[t.dynamicHeight?"_":t.xField,t.yField],plot:this});this.adjustFunnel(e),this.funnel=e,this.setConfig("geometry",e),t.compareField||this.geometryTooltip()},r.prototype.geometryTooltip=function(){var t=this.options.tooltip;t.fields&&(this.funnel.tooltip||(this.funnel.tooltip={}),this.funnel.tooltip.fields=t.fields),t.formatter&&(this.funnel.tooltip||(this.funnel.tooltip={}),this.funnel.tooltip.callback=t.formatter,t.fields||(this.funnel.tooltip.fields=[this.options.xField,this.options.yField]))},r.prototype.animation=function(){var t=this;i.prototype.animation.call(this);var e=this.options;if(e.animation===!1)this.funnel.animate=!1;else{var n=this.getData(),a=(0,u.get)(e,"animation.appear.duration"),o=a/(n.length||1);this._animationAppearTimeoutHandler&&(clearTimeout(this._animationAppearTimeoutHandler),delete this._animationAppearTimeoutHandler),this._animationAppearTimeoutHandler=setTimeout(function(){t.fadeInPercentages(o),e.compareField&&t.fadeInCompareTexts(o),delete t._animationAppearTimeoutHandler},a),this.funnel.animate=(0,u.deepMix)({},e.animation,{appear:{animation:e.transpose?"funnelScaleInX":"funnelScaleInY",duration:o,delay:function(s){return(0,u.findIndex)(n,function(l){return(0,u.isEqual)(l,s)})*o},callback:function(s){t.fadeInLabels(s,.5*o)}},enter:{animation:"fade-in"}})}},r.prototype.afterRender=function(){var t=this.options;if(this.resetLabels(),this.resetPercentages(),t.compareField&&this.resetCompareTexts(),t.padding=="auto"){var e=this._findPercentageContainer();e&&this.paddingController.registerPadding(e,"inner",!0);var n=this._findCompareTextContainer();n&&this.paddingController.registerPadding(n,"inner",!0)}if(i.prototype.afterRender.call(this),t.animation===!1&&(this.fadeInLabels(),this.fadeInPercentages(),t.compareField&&this.fadeInCompareTexts()),!this._legendsListenerAttached){this._legendsListenerAttached=!0;var a=this.view.getController("legend").container;a.on("mousedown",this._onLegendContainerMouseDown)}},r.prototype.updateConfig=function(t){t=this.adjustProps(t),i.prototype.updateConfig.call(this,t),this._legendsListenerAttached=!1},r.prototype.changeData=function(t){var e=this.options;if(e.animation!==!1&&(this._shouldResetPercentages=!1,this._shouldResetLabels=!1),e.dynamicHeight){var n=this._findCheckedDataInNewData(t);this._genCustomFieldForDynamicHeight(n)}if(e.compareField){t=this._reduceDataForCompare(t);var n=this._findCheckedDataInNewData(t);this._updateDataForCompare(n)}i.prototype.changeData.call(this,t),this.refreshPercentages(),this.refreshLabels(),e.compareField&&this.fadeInCompareTexts()},r.prototype.geometryParser=function(t,e){return t==="g2"?yI[e]:mI[e]},r.prototype.adjustProps=function(t){return t.compareField&&(t.dynamicHeight=!1),t.dynamicHeight&&((0,u.set)(t,"meta."+t.yField+".nice",!1),(0,u.set)(t,"tooltip.shared",!1)),t},r.prototype.resetPercentages=function(){var t=this;if(!!this._shouldResetPercentages){var e=this.options,n=e.percentage||{},a=n.offsetX,o=n.offsetY,s=n.spacing,l=n.line,f=l===void 0?{}:l,h=n.text,c=h===void 0?{}:h,v=n.value,x=v===void 0?{}:v,A=Date.now(),B=this._findPercentageContainer(!0);this._eachShape(function(G,H,X,ut){if(H>0){var ft=G.getBBox(),xt=ft.minX,Yt=ft.maxX,Kt=ft.maxY,te=ft.minY,Wt=e.transpose?xt:Yt,ae=e.transpose&&e.compareField?Kt:te,ce=t._findPercentageMembersInContainerByIndex(B,H,!0),he=ce.line,Pe=ce.text,Be=ce.value,ke=[function(Ve,He,lr,sr,dr){lr&&(lr.attr((0,u.deepMix)({},f.style,{x1:Ve,y1:He,x2:e.transpose?Ve+a:Ve-a,y2:e.transpose?He-o:He+o,opacity:0})),lr.set("adjustTimestamp",A));var Qe=0,hr=0,Sr=function(){sr&&(sr.attr((0,u.deepMix)({},c.style,{x:e.transpose?Ve+a:Ve-a-s-hr-s,y:e.transpose?He-o-s:He+o,opacity:0,text:c.content,textAlign:e.transpose?"left":"right",textBaseline:e.transpose?"bottom":"middle"})),sr.set("adjustTimestamp",A),Qe=sr.getBBox().width)},vr=function(){dr&&(dr.attr((0,u.deepMix)({},x.style,{x:e.transpose?Ve+a+Qe+s:Ve-a-s,y:e.transpose?He-o-s:He+o,opacity:0,text:(0,u.isFunction)(x.formatter)?e.compareField?x.formatter((0,u.get)(ut,"__compare__.yValues.0"),(0,u.get)(X,"__compare__.yValues.0")):x.formatter(ut[e.yField],X[e.yField]):"",textAlign:e.transpose?"left":"right",textBaseline:e.transpose?"bottom":"middle"})),dr.set("adjustTimestamp",A),hr=dr.getBBox().width)};e.transpose?(Sr(),vr()):(vr(),Sr())},function(Ve,He,lr,sr,dr){lr&&(lr.attr((0,u.deepMix)({},f.style,{x1:Ve,y1:He,x2:Ve+a,y2:e.transpose?e.compareField?He+o:He-o:He+o,opacity:0})),lr.set("adjustTimestamp",A));var Qe=0;sr&&(sr.attr((0,u.deepMix)({},c.style,{x:e.transpose?Ve+a:Ve+a+s,y:e.transpose?e.compareField?He+o+s:He-o-s:He+o,opacity:0,text:c.content,textAlign:"left",textBaseline:e.transpose?e.compareField?"top":"bottom":"middle"})),sr.set("adjustTimestamp",A),Qe=sr.getBBox().width),dr&&(dr.attr((0,u.deepMix)({},x.style,{x:e.transpose?Ve+a+Qe+s:Ve+a+s+Qe+s,y:e.transpose?e.compareField?He+o+s:He-o-s:He+o,opacity:0,text:(0,u.isFunction)(x.formatter)?e.compareField?x.formatter((0,u.get)(ut,"__compare__.yValues.1"),(0,u.get)(X,"__compare__.yValues.1")):x.formatter(ut[e.yField],X[e.yField]):"",textAlign:"left",textBaseline:e.transpose?e.compareField?"top":"bottom":"middle"})),dr.set("adjustTimestamp",A))}];if(e.compareField){var We=[xt,te],Ke=We[0],$e=We[1];[[Ke,$e],[Wt,ae]].forEach(function(Ve,He){var lr=Ve[0],sr=Ve[1];return ke[He](lr,sr,he&&he[He],Pe&&Pe[He],Be&&Be[He])})}else ke[1](Wt,ae,he,Pe,Be)}ut=X,H++}),B.get("children").forEach(function(G){G.get("adjustTimestamp")!=A&&(G.attr({opacity:0}),B.set(G.get("id"),null),setTimeout(function(){return G.remove()},0))})}},r.prototype.fadeInPercentages=function(t,e){var n=this,a=this.options,o=this._findPercentageContainer(),s=function(l){var f={minX:Infinity,maxX:-Infinity,minY:Infinity,maxY:-Infinity};n._eachShape(function(h,c){var v=n._findPercentageMembersInContainerByIndex(o,c),x={minX:Infinity,maxX:-Infinity,minY:Infinity,maxY:-Infinity},A=function(G){if(G&&G.get("type")=="text"){var H=G.getBBox(),X=H.minX,ut=H.maxX,ft=H.minY,xt=H.maxY;X<x.minX&&(x.minX=X),ut>x.maxX&&(x.maxX=ut),ft<x.minY&&(x.minY=ft),xt>x.maxY&&(x.maxY=xt)}};if((0,u.each)(v,function(G){return(0,u.isArray)(G)?A(G[l]):A(G)}),x.minX>f.maxX||x.maxX<f.minX||x.minY>f.maxY||x.maxY<f.minY){var B=function(G){if(G){var H={opacity:1};t?G.animate(H,t):G.attr(H)}};(0,u.each)(v,function(G){return(0,u.isArray)(G)?B(G[l]):B(G)}),(0,u.assign)(f,x)}})};a.compareField?[0,1].forEach(s):s(),t&&e&&setTimeout(e,t)},r.prototype.fadeOutPercentages=function(t,e){var n=this,a=this._findPercentageContainer();this._eachShape(function(o,s){var l=n._findPercentageMembersInContainerByIndex(a,s),f=function(h){if(h){var c={opacity:0};t?h.animate(c,t):h.attr(c)}};(0,u.each)(l,function(h){return(0,u.isArray)(h)?h.forEach(f):f(h)})}),t&&e&&setTimeout(e,t)},r.prototype.refreshPercentages=function(t){var e=this,n=this.options;if(n.animation!==!1){var a=this._calcRefreshFadeDurations(),o=a.fadeOutDuration,s=a.fadeInDuration;this._shouldResetPercentages=!1,this.fadeOutPercentages(o,function(){e._shouldResetPercentages=!0,e.resetPercentages(),e.fadeInPercentages(s,t)})}},r.prototype._findPercentageContainer=function(t){t===void 0&&(t=!1);var e=this.view.middleGroup,n=e.get("percentageContainer");return!n&&t&&(n=e.addGroup(),e.set("percentageContainer",n)),n},r.prototype._findPercentageMembersInContainerByIndex=function(t,e,n){n===void 0&&(n=!1);var a=this.options,o=a.percentage||{},s=o.visible,l=o.line,f=l===void 0?{}:l,h=o.text,c=h===void 0?{}:h,v=o.value,x=v===void 0?{}:v,A={line:void 0,text:void 0,value:void 0};if(s===!1||!t)return A;if(f.visible!==!1){var B=function(ut){var ft="_percentage-line-"+e+"-"+ut,xt=t.get(ft);return!xt&&n&&(xt=t.addShape({id:ft,type:"line",attrs:{}}),t.set(ft,xt)),xt},G=a.compareField?[0,1].map(B):B(0);A.line=G}if(c.visible!==!1){var B=function(ft){var xt="_percentage-text-"+e+"-"+ft,Yt=t.get(xt);return!Yt&&n&&(Yt=t.addShape({id:xt,type:"text",attrs:{}}),t.set(xt,Yt)),Yt},H=a.compareField?[0,1].map(B):B(0);A.text=H}if(x.visible!==!1){var B=function(ft){var xt="_percentage-value-"+e+"-"+ft,Yt=t.get(xt);return!Yt&&n&&(Yt=t.addShape({id:xt,type:"text",attrs:{}}),t.set(xt,Yt)),Yt},X=a.compareField?[0,1].map(B):B(0);A.value=X}return A},r.prototype._calcRefreshFadeDurations=function(){var t=this.options,e=(0,u.get)(t,"animation.update.duration"),n=(0,u.get)(t,"animation.enter.duration"),a=Math.min(n,e)*.6,o=Math.max(n,e)*1.2;return{fadeInDuration:a,fadeOutDuration:o}},r.prototype.resetLabels=function(){var t=this;if(!!this._shouldResetLabels){var e=this.options,n=e.xField,a=e.yField,o=Date.now(),s=this._getGeometry().labelsContainer,l=e.label||{},f=(0,u.deepMix)((0,q.__assign)({},this.theme.label),e.label.style,{opacity:0,textAlign:"center",textBaseline:"middle"}),h;this._eachShape(function(c,v,x,A){var B,G=c.get("element");v==0&&(h=x);var H=c.getBBox(),X=H.minX,ut=H.maxX,ft=H.minY,xt=H.maxY,Yt=x[n],Kt=x[a];l.adjustColor&&(f.fill=t._getAdjustedTextFillByShape(c));var te=x.__compare__,Wt,ae=(B={},B[bs]=x,B.element=G,B.elementIndex=A,B.mappingDatum=[].concat(G.getModel().mappingData)[0],B.mappingDatumIndex=0,B);l.formatter?Wt=l.formatter(Yt,ae,v,Kt,h[a]):te?Wt=[0,1].map(function(){return""+Kt}).join(e.transpose?`

`:"    "):Wt=Yt+" "+Kt;var ce=t._findLabelInContainerByIndex(s,v,!0),he=te?te.yValues[0]/(te.yValues[0]+te.yValues[1]):.5;ce&&(ce.attr((0,q.__assign)((0,q.__assign)({},f),{x:Yl(X,ut,e.transpose?.5:he),y:Yl(ft,xt,e.transpose?he:.5),text:Wt})),ce.set("adjustTimestamp",o))}),s.get("children").forEach(function(c){c.get("adjustTimestamp")!=o&&(c.attr({opacity:0}),s.set(c.get("id"),null),setTimeout(function(){return c.remove()}))})}},r.prototype.fadeInLabels=function(t,e,n){var a=this,o=this._getGeometry().labelsContainer;this._eachShape(function(s,l){if(!t||t==s){var f=a._findLabelInContainerByIndex(o,l);if(f){var h=s.getBBox(),c=f.getBBox();if(c.minX>=h.minX&&c.maxX<=h.maxX&&c.minY>=h.minY&&c.maxY<=h.maxY){var v={opacity:1};e?f.animate(v,e):f.attr(v)}}}}),e&&n&&setTimeout(n,e)},r.prototype.fadeOutLabels=function(t,e,n){var a=this,o=this._getGeometry().labelsContainer;this._eachShape(function(s,l){if(!t||t==s){var f=a._findLabelInContainerByIndex(o,l);if(f){var h={opacity:0};e?f.animate(h,e):f.attr(h)}}}),e&&n&&setTimeout(n,e)},r.prototype.refreshLabels=function(t){var e=this,n=this.options;if(n.animation!==!1){var a=this._calcRefreshFadeDurations(),o=a.fadeOutDuration,s=a.fadeInDuration;this._shouldResetLabels=!1,this.fadeOutLabels(null,o,function(){e._shouldResetLabels=!0,e.resetLabels(),e.fadeInLabels(null,s,t)})}},r.prototype._findLabelInContainerByIndex=function(t,e,n){var a;n===void 0&&(n=!1);var o=this.options,s;if(((a=o.label)===null||a===void 0?void 0:a.visible)===!1)return s;var l="_label-"+e;return s=t.get(l),!s&&n&&(s=t.addShape({id:l,type:"text",attrs:{}}),t.set(l,s)),s},r.prototype.resetCompareTexts=function(){if(!!this._shouldResetCompareTexts){var t=this.options,e,n;if(this._eachShape(function(x,A,B){A==0&&(e=x.get("parent").getBBox(),n=(0,u.get)(B,"__compare__"))}),e&&n&&(0,u.get)(t,"compareText.visible")!==!1){var a=this._findCompareTextContainer(!0),o=n.yValuesMax,s=n.compareValues,l=e.minX,f=e.maxX,h=e.minY,c=e.maxY,v=a.get("children");[0,1].forEach(function(x){var A=v[x];A||(A=a.addShape({type:"text"})),A.attr((0,u.deepMix)({},(0,u.get)(t,"compareText.style"),{text:t.transpose?s[x]:x?"  "+s[x]:s[x]+"  ",x:t.transpose?l+(0,u.get)(t,"compareText.offsetX"):Yl(l,f,o[0]/(o[0]+o[1])),y:t.transpose?Yl(h,c,o[0]/(o[0]+o[1]))+(x?8:-8):h+(0,u.get)(t,"compareText.offsetY"),opacity:0,textAlign:t.transpose?"right":x?"left":"right",textBaseline:t.transpose&&x?"top":"bottom"}))})}}},r.prototype.fadeInCompareTexts=function(t,e){var n=this._findCompareTextContainer();if(n){var a=n.get("children");[0,1].forEach(function(o){var s=a[o];if(s){var l={opacity:1};t?s.animate(l,t):s.attr(l)}})}t&&e&&setTimeout(e,t)},r.prototype.fadeOutCompareTexts=function(t,e){var n=this._findCompareTextContainer();if(n){var a=n.get("children");[0,1].forEach(function(o){var s=a[o];if(s){var l={opacity:0};t?s.animate(l,t):s.attr(l)}})}t&&e&&setTimeout(e,t)},r.prototype.refreshCompareTexts=function(t){var e=this,n=this.options;if(n.animation!==!1){var a=this._calcRefreshFadeDurations(),o=a.fadeInDuration,s=a.fadeOutDuration;this._shouldResetCompareTexts=!1,this.fadeOutCompareTexts(s,function(){e._shouldResetCompareTexts=!0,e.resetCompareTexts(),e.fadeInCompareTexts(o,t)})}},r.prototype._findCompareTextContainer=function(t){t===void 0&&(t=!1);var e=this.view.middleGroup,n=e.get("compareTextContainer");return!n&&t&&(n=e.addGroup(),e.set("compareTextContainer",n)),n},r.prototype._eachShape=function(t){var e,n=this._findCheckedData(this.getData()),a=n.length,o=0,s;(e=this._getGeometry())===null||e===void 0||e.elements.forEach(function(l,f){var h=l.shape,c=n[o];o<a&&t(h,o,c,s,f),s=c,o++})},r.prototype._getGeometry=function(){return this.view.geometries[0]},r.prototype._getAdjustedTextFillByShape=function(t){var e=t.attr("fill"),n=t.attr("opacity")?t.attr("opacity"):1,a=Ha(e),o=Math.round(a[0]*.299+a[1]*.587+a[2]*.114)/n,s=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],l=Il(s,o);return l},r.prototype._genCustomFieldForDynamicHeight=function(t){var e=this.options,n=t.reduce(function(o,s){return o+s[e.yField]},0),a=1;t.forEach(function(o,s){var l=o[e.yField],f=l/n,h=a-f;o.__custom__={datumIndex:s,dataLength:t.length,ratioUpper:a,ratioLower:h,reverse:e.transpose},a=h})},r.prototype._findCheckedDataByMouseDownLegendItem=function(t){var e=t.get("parent").get("children").map(function(a){return!a.get("unchecked")}),n=this.getData().filter(function(a,o){return e[o]});return n},r.prototype._findCheckedDataInNewData=function(t){var e=this.options,n=this.view.getController("legend").container,a=n.findAll(function(s){return s.get("name")=="legend-item"}).filter(function(s){return s.get("unchecked")}).map(function(s){return s.get("id").replace("-legend-item-","")}),o=t.filter(function(s){return!(0,u.contains)(a,s[e.xField])});return o},r.prototype._findCheckedData=function(t){var e,n=this.options;if((e=n.legend)===null||e===void 0?void 0:e.visible){var a=this.view.getController("legend").container,o=a.findAll(function(l){return l.get("name")=="legend-item"}).filter(function(l){return!l.get("unchecked")}).map(function(l){return l.get("id").replace("-legend-item-","")}),s=t.filter(function(l){return(0,u.contains)(o,l[n.xField])});return s}else return this.processData(n.data)},r.prototype._reduceDataForCompare=function(t){var e=this.options,n,a=[-Infinity,-Infinity];return t=t.reduce(function(o,s){var l,f=s[e.xField],h=s[e.yField],c=s[e.compareField];n||(n=c);var v=o.find(function(A){return A[e.xField]==f});v||(v=(l={},l[e.xField]=f,l[e.yField]=0,l.__compare__={compareValues:[],yValues:[],yValuesMax:[],yValuesNext:void 0,transpose:e.transpose},l),o.push(v));var x=c==n?0:1;return v.__compare__.yValues[x]=h,a[x]<h&&(a[x]=h),v.__compare__.compareValues[x]=c,o},[]),t.forEach(function(o,s){o[e.yField]=(0,u.get)(o,"__compare__.yValues",[]).reduce(function(l,f){return l+=f},0),(0,u.set)(o,"__compare__.yValuesMax",a),(0,u.set)(o,"__compare__.yValuesNext",(0,u.get)(t,s+1+".__compare__.yValues"))}),t},r.prototype._updateDataForCompare=function(t){var e=[-Infinity,-Infinity];t.forEach(function(n){var a=(0,u.get)(n,"__compare__.yValues");[0,1].forEach(function(o){a[o]>e[o]&&(e[o]=a[o])})}),t.forEach(function(n,a){(0,u.set)(n,"__compare__.yValuesMax",e),(0,u.set)(n,"__compare__.yValuesNext",(0,u.get)(t,a+1+".__compare__.yValues"))})},r}(Fn),xI=Kg;Wr("funnel",Kg);var bI=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="funnel",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=xI.getDefaultOptions,r}(Dr),wI=bI,$g=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="stackedRose",t.baseType="rose",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},r.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},r.prototype.adjustRoseAdjust=function(){return[{type:"stack"}]},r.prototype.geometryTooltip=function(){this.rose.tooltip={};var t=this.options.tooltip;t.fields&&(this.rose.tooltip.fields=t.fields),t.formatter&&(this.rose.tooltip.callback=t.formatter,t.fields||(this.rose.tooltip.fields=[this.options.radiusField,this.options.categoryField,this.options.stackField]))},r}(fh),SI=$g;Wr("stackedRose",$g);var CI=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="stackedRose",i.prototype.createLayers.call(this,e)},r.prototype.getRadiusScale=function(){var t=this.layers[0];return t.getRadiusScale()},r.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},r.getDefaultOptions=SI.getDefaultOptions,r}(Dr),Qg=CI,Jg=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="groupedRose",t.baseType="rose",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},r.prototype.getColorScale=function(){var t=this.options.groupField;if(t)return this.view.getScaleByField(t)},r.prototype.adjustRoseAdjust=function(){return[{type:"dodge",marginRatio:1}]},r.prototype.geometryTooltip=function(){this.rose.tooltip={};var t=this.options.tooltip;t.fields&&(this.rose.tooltip.fields=t.fields),t.formatter&&(this.rose.tooltip.callback=t.formatter,t.fields||(this.rose.tooltip.fields=[this.options.radiusField,this.options.categoryField,this.options.groupField]))},r}(fh),MI=Jg;Wr("groupedRose",Jg);var EI=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="groupedRose",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=MI.getDefaultOptions,r}(Dr),qg=EI,_I={area:"area",line:"line",point:"point"},AI=si(_I);(0,u.assign)(Qr,AI);var PI=function(i){var r=i.opacity||1;return{opacity:r}},TI=function(i){var r=i.opacity||1;return{opacity:r*.5}},OI=function(i){var r=i.opacity||1;return{opacity:r}},LI=function(i){var r=i.opacity||1;return{opacity:r*.5}},II=function(i){var r=i.lineWidth||1;return{lineWidth:r+2}},kI=function(i){var r=i.fill||i.fillStyle,t=i.size||i.radius;return{radius:t+1,shadowBlur:t,shadowColor:r,stroke:r,strokeOpacity:1,lineWidth:1}},BI=function(i){var r=i.fill||i.fillStyle,t=i.size||i.radius;return{radius:t+2,shadowBlur:t,shadowColor:r,stroke:r,strokeOpacity:1,lineWidth:2}},DI=function(i){var r=i.opacity||i.fillOpacity||1;return{opacity:r*.5}};zi("radar",{areaStyle:{normal:{},active:PI,disable:TI,selected:{lineWidth:1,stroke:"#333333"}},lineStyle:{normal:{},active:OI,disable:LI,selected:II},pointStyle:{normal:{},active:kI,disable:DI,selected:BI}});var FI={area:"area",line:"line",point:"point"},ty=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="radar",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,smooth:!1,line:{visible:!0,size:2,style:{opacity:1}},area:{visible:!0,style:{opacity:.25}},point:{visible:!1,size:4,shape:"point",style:{opacity:1}},angleAxis:{visible:!0,autoRotateTitle:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,line:{style:{lineDash:[0,0]}}},label:{visible:!0,offset:16,autoRotate:!0,autoHide:!0},title:{visible:!1}},radiusAxis:{min:0,visible:!0,nice:!0,autoRotateTitle:!0,line:{visible:!0},tickLine:{visible:!0},gridType:"line",grid:{visible:!0,line:{style:{lineDash:[0,0]}}},label:{visible:!0,autoHide:!0,autoRotate:!0},title:{visible:!1}},label:{visible:!1,type:"point"},legend:{visible:!0,position:"left-top"},tooltip:{visible:!0,shared:!0,showCrosshairs:!1}})},r.prototype.init=function(){var t=this.options;t.xField=t.angleField,t.yField=t.radiusField,i.prototype.init.call(this)},r.prototype.getAngleScale=function(){var t=this.options.angleField;return this.view.getScaleByField(t)},r.prototype.getRadiusScale=function(){var t=this.options.radiusField;return this.view.getScaleByField(t)},r.prototype.getColorScale=function(){var t=this.options.seriesField;return this.view.getScaleByField(t)},r.prototype.geometryParser=function(t,e){return FI[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.angleField]={},(0,u.has)(t,"angleAxis")&&qn(e[t.angleField],t.angleAxis),e[t.radiusField]={},(0,u.has)(t,"radiusAxis")&&qn(e[t.radiusField],t.radiusAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){var t=this.options,e={type:"polar",cfg:{radius:t.radius}};this.setConfig("coordinate",e)},r.prototype.axis=function(){var t=this.options,e=mi("axis",{plot:this,dim:"angle"}),n=mi("axis",{plot:this,dim:"radius"}),a={};a[t.angleField]=e,a[t.radiusField]=n,this.setConfig("axes",a)},r.prototype.addGeometry=function(){var t=this.options;if(t.area.visible){var e=zn("area","main",{plot:this});this.setConfig("geometry",e),this.area=e}if(t.line&&t.line.visible){var n=zn("line","main",{plot:this});this.setConfig("geometry",n),this.line=n}if(t.point&&t.point.visible){var a=zn("point","guide",{plot:this});this.setConfig("geometry",a),this.point=a}t.label&&this.label(),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip()},r.prototype.geometryTooltip=function(){var t=this.line?this.line:this.area;t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[this.options.angleField,this.options.radiusField]),this.options.seriesField&&t.tooltip.fields.push(this.options.seriesField))},r.prototype.label=function(){var t=this.options;if(t.label.visible===!1){this.point&&(this.point.label=!1),this.line&&(this.line.label=!1),this.area&&(this.area.label=!1);return}var e=mi("label",(0,q.__assign)({fields:[t.radiusField],cfg:{type:"polar",autoRotate:!1},plot:this},t.label));this.point?this.point.label=e:this.line?this.line.label=e:this.area&&(this.area.label=e)},r.prototype.annotation=function(){},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.area&&(this.area.animate=!1),this.line&&(this.line.animate=!1),this.point&&(this.point.animate=!1))},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,M)},r}(Fn),RI=ty;Wr("radar",ty);var NI=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="radar",i.prototype.createLayers.call(this,e)},r.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},r.prototype.getRadiusScale=function(){var t=this.layers[0];return t.getRadiusScale()},r.prototype.getColorScale=function(){var t=this.layers[0];return t.getColorScale()},r.getDefaultOptions=RI.getDefaultOptions,r}(Dr),ey=NI,GI=d(89810),YI=d(79189),zI=function(){function i(r){var t=this.getDefaultOptions();this.options=(0,u.deepMix)(t,r,{}),this.x=this.options.x,this.y=this.options.y,this.html=this.options.html,this.container=this.options.container}return i.prototype.render=function(){if((0,u.isElement)(this.container)){this.wrapperNode=(0,at.Z)('<div class="g2plot-htmlStatistic"></div>'),this.container.appendChild(this.wrapperNode),(0,vt.Z)(this.wrapperNode,{position:"absolute",pointerEvents:"none"});var r=this.html;this.wrapperNode.appendChild(r),this.setDomPosition(this.x,this.y)}},i.prototype.updateHtml=function(r){(0,u.isType)(r,"HTMLDivElement")?(this.wrapperNode.innerHTML="",this.wrapperNode.appendChild(r)):this.wrapperNode.innerHTML=r,this.setDomPosition(this.x,this.y)},i.prototype.updatePosition=function(r,t){this.x=r,this.y=t,this.setDomPosition(r,t)},i.prototype.destroy=function(){this.container.removeChild(this.wrapperNode)},i.prototype.getDefaultOptions=function(){return{x:0,y:0,width:0,height:0,html:"",container:null,alignX:"middle",alignY:"middle"}},i.prototype.setDomPosition=function(r,t){var e=r,n=t,a=(0,GI.Z)(this.wrapperNode),o=(0,YI.Z)(this.wrapperNode);this.options.alignX==="middle"&&(e=r-a/2),this.options.alignY==="middle"&&(n=t-o/2),(0,vt.Z)(this.wrapperNode,{top:Math.round(n)+"px",left:Math.round(e)+"px",transform:a>0?"none":"translate(-50%, -50%)"})},i}(),ry=zI,XI="color:#4d4d4d;font-size:14px;text-align:center;line-height:2;font-family:'-apple-system',BlinkMacSystemFont,'SegoeUI',Roboto,'HelveticaNeue',Helvetica,'PingFangSC','HiraginoSansGB','MicrosoftYaHei',SimSun,'sans-serif';pointer-events:none;",VI="font-size:32px;font-weight:bold;color:#4D4D4D";function HI(i,r){var t='<span class="liquid-guide-value" style='+VI+">"+i+"</span>";return'<div class="liquid-guide-html '+r+'" style='+XI+">"+t+"</div>"}var WI=function(i){(0,q.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.view=t.view,e.plot=t.plot,e.statisticClass=t.statisticClass,e.adjustOptions(),e}return r.prototype.getTotalHtmlString=function(){var t=document.createElement("div"),e=this.plot.options,n=e.value,a=n===void 0?0:n,o=e.statistic;if(o&&!o.visible)return t;var s=this.options.htmlContent(a);return(0,u.isType)(s,"HTMLDivElement")?t.appendChild(s):t.innerHTML=HI(s,this.statisticClass),t},r.prototype.adjustOptions=function(){this.html=this.getTotalHtmlString();var t=this.view.coordinateBBox,e=t.minX,n=t.minY,a=t.width,o=t.height;this.x=e+a/2,this.y=n+o/2},r}(ry),jI=WI,UI={liquid:"intervl",statistic:"annotation-text"},ZI=si(UI);(0,u.assign)(Qr,ZI);var ny=Ai(),iy={splitPoints:function(i){var r=[],t=i.x,e=i.y;return e=(0,u.isArray)(e)?e:[e],(0,u.each)(e,function(n,a){var o={x:(0,u.isArray)(t)?t[a]:t,y:n};r.push(o)}),r},addFillAttrs:function(i,r){r.color&&!i.fill&&(i.fill=r.color),(0,u.isNumber)(r.opacity)&&(i.opacity=i.fillOpacity=r.opacity)},addStrokeAttrs:function(i,r){r.color&&!i.stroke&&(i.stroke=r.color),(0,u.isNumber)(r.opacity)&&(i.opacity=i.strokeOpacity=r.opacity)}},ch={lerp:function(i,r,t){return(1-t)*i+t*r}},KI=function(i){var r={lineWidth:0,fill:ny.color,fillOpacity:.85},t=(0,u.mix)({},r,i.style);return iy.addFillAttrs(t,i),i.color&&!t.stroke&&(t.stroke=t.stroke||i.color),t},$I=function(i){var r={fill:"#fff",stroke:ny.color,fillOpacity:0,lineWidth:2},t=(0,u.mix)({},r,i.style);return iy.addStrokeAttrs(t,i),t};function QI(i,r,t,e){return r===0?[[i+1/2*t/Math.PI/2,e/2],[i+1/2*t/Math.PI,e],[i+t/4,e]]:r===1?[[i+1/2*t/Math.PI/2*(Math.PI-2),e],[i+1/2*t/Math.PI/2*(Math.PI-1),e/2],[i+t/4,0]]:r===2?[[i+1/2*t/Math.PI/2,-e/2],[i+1/2*t/Math.PI,-e],[i+t/4,-e]]:[[i+1/2*t/Math.PI/2*(Math.PI-2),-e],[i+1/2*t/Math.PI/2*(Math.PI-1),-e/2],[i+t/4,0]]}function JI(i,r,t,e,n,a,o){for(var s=Math.ceil(2*i/t*4)*2,l=[],f=e;f<-Math.PI*2;)f+=Math.PI*2;for(;f>0;)f-=Math.PI*2;f=f/Math.PI/2*t;var h=a-i+f-i*2;l.push(["M",h,r]);for(var c=0,v=0;v<s;++v){var x=v%4,A=QI(v*t/4,x,t,n);l.push(["C",A[0][0]+h,-A[0][1]+r,A[1][0]+h,-A[1][1]+r,A[2][0]+h,-A[2][1]+r]),v===s-1&&(c=A[2][0])}return l.push(["L",c+h,o+i]),l.push(["L",h,o+i]),l.push(["L",h,r]),l}function qI(i,r,t,e,n,a,o,s){for(var l=o.getBBox(),f=l.maxX-l.minX,h=l.maxY-l.minY,c=5e3,v=0;v<e;v++){var x=e<=1?0:v/(e-1),A=a.addShape("path",{attrs:{path:JI(s,l.minY+h*t,f/4,0,f/ch.lerp(56,64,x),i,r),fill:n,opacity:ch.lerp(.6,.3,x)}}),B=zo([["t",f/2,0]]);A.animate({matrix:B},{duration:ch.lerp(c,.7*c,x),repeat:!0})}}rn("interval","liquid-fill-gauge",{draw:function(i,r){var t=.5,e=Infinity;(0,u.each)(i.points,function(v){v.x<e&&(e=v.x)});var n=.5,a=this.parsePoint({x:n,y:t}),o=this.parsePoint({x:e,y:.5}),s=a.x-o.x,l=Math.min(s,o.y),f=KI(i).fill,h=r.addGroup({name:"waves",attrs:{x:a.x,y:a.y}});h.setClip({type:"circle",attrs:{x:a.x,y:a.y,r:l}});var c=h.get("clipShape");return qI(a.x,a.y,1-i.points[1].y,3,f,h,c,l*4),r.addShape("circle",{name:"wrap",attrs:(0,u.mix)($I(i),{x:a.x,y:a.y,r:l,fill:"transparent"})}),h[0]}});function ay(i,r){var t=i.get("parent"),e=t.getBBox(),n=Math.min(Math.max(0,(0,u.get)(r,"factor",.5)),1),a=(0,u.get)(r,"delay",0),o=(0,u.get)(r,"duration",800),s=r.callback,l=(e.minX+e.maxX)/2,f=e.maxY,h=t.find(function(B){return B.get("name")=="wrap"}),c=h.attr("opacity");h.attr("opacity",0),h.animate({opacity:c},o*n,"easeLinear",null,a);var v=t.find(function(B){return B.get("name")=="waves"}),x=(0,u.clone)(v.attr("matrix"))||[1,0,0,0,1,0,0,0,1],A=zo(x,[["t",-l,-f],["s",1,0],["t",l,f]]);v.setMatrix(A),v.animate({matrix:x},o,r.easing,function(){return s&&s(t,h,v)},a)}ay.animationName="liquidMoveIn",Un("liquidMoveIn",ay);var tk={column:"interval"},ek={interval:"liquid"},oy=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="liquid",t.shouldFadeInAnnotation=!0,t}return r.getDefaultOptions=function(){var t={padding:[0,0,0,0],animation:{factor:.4,easing:"easeExpOut",duration:800},liquidStyle:{lineWidth:2},color:"#6a99f9",interactions:[],statistic:{visible:!0}};return(0,u.deepMix)({},i.getDefaultOptions.call(this),t)},r.prototype.beforeInit=function(){var t=this.options,e=t.min,n=t.max,a=t.value;if(!(0,u.isNumber)(e))throw new Error("The min value of Liquid is required, and the type of min must be Number.");if(!(0,u.isNumber)(n))throw new Error("The max value of Liquid is required, and the type of max must be Number.");if(!(0,u.isNumber)(a))throw new Error("The value of Liquid is required, and the type of value must be Number.")},r.prototype.init=function(){this.options.data=[{}],i.prototype.init.call(this)},r.prototype.coord=function(){},r.prototype.scale=function(){var t=this.options,e=t.min,n=t.max,a={value:{}};qn(a.value,{min:Math.min(e,n),max:Math.max(e,n)}),this.setConfig("scales",a),i.prototype.scale.call(this)},r.prototype.axis=function(){this.setConfig("axes",!1)},r.prototype.adjustLiquid=function(t){var e=this.options;t.shape={values:["liquid-fill-gauge"]},t.tooltip=!1;var n=e.liquidStyle;(0,u.isFunction)(n)&&(n=n()),n&&(t.style=n)},r.prototype.addGeometry=function(){var t=zn("interval","main",{positionFields:[1,"value"],plot:this});this.adjustLiquid(t);var e=this.getViewRange(),n=Math.min(e.width,e.height)*.8,a=this.options.liquidSize?this.options.liquidSize:n;t.size={values:[a]},this.liquid=t,this.setConfig("geometry",t)},r.prototype.animation=function(){var t=this.options;if(t.animation===!1)this.liquid.animate=!1;else{var e=(0,u.get)(t,"animation.factor"),n=(0,u.get)(t,"animation.easing"),a=(0,u.get)(t,"animation.duration");this.liquid.animate={appear:{animation:"liquidMoveIn",factor:e,easing:n,duration:a}}}},r.prototype.geometryParser=function(t,e){return t==="g2"?tk[e]:ek[e]},r.prototype.annotation=function(){var t=[],e=this.extractStatistic();t.push(e),this.setConfig("annotations",t)},r.prototype.useHtmlContent=function(){var t=this.options,e=t.statistic||{};return(0,u.isFunction)(e.htmlContent)},r.prototype.extractStatistic=function(){if(!this.useHtmlContent()){var t=this.options,e=t.statistic||{},n;(0,u.isFunction)(e.formatter)?n=e.formatter(t.value):n=""+t.value;var a,o;if(n){var s=Math.min(this.width,this.height);a=s/n.length*.5,o=Math.max(1,Math.ceil(.025*a))}var l;if(e.visible!==!1){var f=(0,u.deepMix)({style:{fontSize:a,shadowBlur:o}},{top:!0,content:n,type:"text",position:["50%","50%"],style:{opacity:l,fill:"transparent",shadowColor:"transparent",textAlign:"center"}},e);return delete f.visible,delete f.formatter,delete f.adjustColor,f}}},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,P)},r.prototype.afterRender=function(){var t;((t=this.options.statistic)===null||t===void 0?void 0:t.visible)&&!this.useHtmlContent()&&this.fadeInAnnotation();var e=this.options,n=e.padding?e.padding:this.config.theme.padding;if(e.defaultState&&n!=="auto"&&this.stateController.defaultStates(e.defaultState),n==="auto"&&this.paddingController.processAutoPadding(),this.useHtmlContent()){var a=this.canvas.get("container");if(this.statistic&&a.removeChild(this.statistic.wrapperNode),this.options.statistic&&this.options.statistic.visible){var o=this.canvas.get("container");(0,vt.Z)(o,{position:"relative"}),this.statistic=new jI((0,q.__assign)({container:o,view:this.view,plot:this},this.options.statistic)),this.statistic.render()}i.prototype.afterRender.call(this)}},r.prototype.processData=function(){var t=this.options;return[{_:"_",value:t.value}]},r.prototype.changeValue=function(t){var e=this.options;e.value=t,this.changeData([])},r.prototype.fadeInAnnotation=function(){var t=this,e=this.options,n=this.view.foregroundGroup.findAll(function(s){return s.get("name")==="annotation-text"})[0],a=e.animation||{},o=this.calcAnnotationColorStyle();this.shouldFadeInAnnotation?n.animate(o,a.duration*Math.min(1,1.5*a.factor),null,function(){t.shouldFadeInAnnotation=!1}):(0,u.forIn)(o,function(s,l){return n.attr(l,s)})},r.prototype.calcAnnotationColorStyle=function(){var t=this.options,e={fill:"#f6f6f6",shadowColor:"black"},n={fill:"#303030",shadowColor:"white"};if((0,u.get)(t,"statistic.adjustColor")===!1)return{fill:(0,u.get)(t,"statistic.style.fill",n.fill),shadowColor:(0,u.get)(t,"statistic.style.shadowColor",n.shadowColor)};var a=t.min,o=t.max,s=t.value;a=Math.min(a,o),o=Math.max(a,o);var l;if(a==o?l=1:l=(s-a)/(o-a),l>.55){var f=this.options.color,h=.8,c=Ha(f),v=Math.round(c[0]*.299+c[1]*.587+c[2]*.114)/h;return v<156?e:n}return n},r.prototype.updateConfig=function(t){i.prototype.updateConfig.call(this,t),this.shouldFadeInAnnotation=!0},r.prototype.getViewRange=function(){var t=i.prototype.getViewRange.call(this),e=this.options.liquidStyle,n=e.lineWidth?e.lineWidth:2,a=t.minX,o=t.minY,s=t.width,l=t.height,f=Math.min(s,l)-n*2,h=a+s/2,c=o+l/2,v=h-f/2,x=c-f/2;return new Nr(v,x,f,f)},r}(Fn),vh=oy;Wr("liquid",oy);var rk=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="liquid",i.prototype.createLayers.call(this,e)},r.prototype.changeValue=function(t,e){if(e===void 0&&(e=!1),e)this.eachLayer(function(a){a instanceof vh&&a.changeValue(t)});else{var n=this.layers[0];n instanceof vh&&n.changeValue(t)}},r.getDefaultOptions=vh.getDefaultOptions,r}(Dr),sy=rk,ly=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="histogram",t}return r.prototype.init=function(){this.options.xField="range",this.options.yField="count",i.prototype.init.call(this)},r.prototype.processData=function(t){var e=this,n=this.options,a=n.binField,o=n.binWidth,s=n.binNumber,l=(0,u.clone)(t);(0,u.sortBy)(l,a);var f=(0,u.valuesOfKey)(l,a),h=(0,u.getRange)(f),c=h.max-h.min,v=o;if(!o&&s&&(v=c/s),!o&&!s){var x=vd(f);v=c/x}var A={};(0,u.each)(l,function(G){var H=G[a],X=e.getBin(H,v),ut=X[0]+"-"+X[1];(0,u.hasKey)(A,ut)||(A[ut]={name:ut,range:X,count:0,data:[]}),A[ut].data.push(G),A[ut].count+=1});var B=[];return(0,u.each)(A,function(G){B.push(G)}),B},r.prototype.scale=function(){i.prototype.scale.call(this);var t=this.config.scales.range;t.nice=!1,t.type="linear"},r.prototype.getBin=function(t,e){var n=Math.floor(t/e);return[e*n,e*(n+1)]},r}(Wo),nk=ly;Wr("histogram",ly);var ik=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="histogram",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=nk.getDefaultOptions,r}(Dr),uy=ik,ak={epanechnikov:function(i){return Math.abs(i)<=1?.75*(1-i*i):0},gaussian:function(i){return 1/Math.sqrt(Math.PI*2)*Math.exp(-.5*Math.pow(i,2))},uniform:function(i){return Math.abs(i)<=1?.5:0},triangle:function(i){return Math.abs(i)<=1?1-Math.abs(i):0},quartic:function(i){var r=1-i*i;return Math.abs(i)<=1?15/16*r*r:0},triweight:function(i){var r=1-i*i;return Math.abs(i)<=1?15/16*Math.pow(r,3):0},cosinus:function(i){var r=Math.PI/4*Math.cos(.5*Math.PI*i);return Math.abs(i)<=1?r:0}},fy=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="density",t}return r.prototype.init=function(){var t=this.options.xAxis?(0,u.clone)(this.options.xAxis):{};this.options.xField="value",this.options.yField="density",this.options.xAxis=(0,u.deepMix)({},t,{type:"linear"}),this.options.smooth=!0,i.prototype.init.call(this)},r.prototype.processData=function(t){var e=this,n=this.options,a=n.binField,o=n.binWidth,s=n.binNumber,l=n.kernel,f=l||"epanechnikov",h=ak[f],c=(0,u.clone)(t);(0,u.sortBy)(c,a);var v=(0,u.valuesOfKey)(c,a),x=(0,u.getRange)(v),A=x.max-x.min,B=s,G=o;!s&&o&&(B=Math.floor(A/o)),!o&&s&&(G=A/s),!s&&!o&&(B=vd(v),G=A/s);var H=(0,er.getScale)("linear"),X=new H({min:x.min,max:x.max,tickCount:B,nice:!1}),ut=X.getTicks(),ft=[];return(0,u.each)(ut,function(xt){var Yt=e.kernelDensityEstimator(G,h,xt,v);ft.push({value:xt.text,density:Yt})}),ft},r.prototype.kernelDensityEstimator=function(t,e,n,a){var o=0;return(0,u.each)(a,function(s){var l=(n.tickValue-s)/t;o+=e(l)}),a.length===0?0:o/a.length},r}(qf),ok=fy;Wr("density",fy);var tY=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="density",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=ok.getDefaultOptions,r}(Dr),eY=null,sk={ring:"interval"},lk=si(sk);(0,u.assign)(Qr,lk);var uk="color:#4d4d4d;font-size:14px;text-align:center;line-height:2;font-family:'-apple-system',BlinkMacSystemFont,'SegoeUI',Roboto,'HelveticaNeue',Helvetica,'PingFangSC','HiraginoSansGB','MicrosoftYaHei',SimSun,'sans-serif';pointer-events:none;",fk="font-weight:300;white-space: nowrap;text-overflow: ellipsis;",hk="font-size:32px;font-weight:bold;color:#4D4D4D";function ck(i,r,t,e){var n=uk+"width:"+e+"px;",a=i?'<span class="ring-guide-name" style='+fk+">"+i+"</span><br/>":"",o='<span class="ring-guide-value" style='+hk+">"+r+"</span>";return'<div class="ring-guide-html '+t+'" style='+n+">"+a+o+"</div>"}var vk=function(i){(0,q.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.view=t.view,e.plot=t.plot,e.statisticClass=t.statisticClass,e.adjustOptions(),e}return r.prototype.triggerOn=function(){var t=this,e=this.options.triggerOn;this.view.on("interval:"+e,(0,u.debounce)(function(a){var o=t.parseStatisticData("item",a.data.data,a.data.color),s=t.getStatisticHtmlString(o);t.updateHtml(s)},150));var n=this.options.triggerOff?this.options.triggerOff:"mouseleave";this.view.on("interval:"+n,(0,u.debounce)(function(){var a=t.getTotalHtmlString();t.updateHtml(a)},150))},r.prototype.getTotalHtmlString=function(){var t;if(this.options.content)t=this.options.content;else{var e=this.getTotalValue();t=this.parseStatisticData("total",e)}var n;this.options.htmlContent?n=this.options.htmlContent(t,this.getStatisticSize()):n=this.getStatisticTemplate(t);var a=document.createElement("div");return(0,u.isType)(n,"HTMLDivElement")?a.appendChild(n):a.innerHTML=n,a},r.prototype.adjustOptions=function(){this.html=this.getTotalHtmlString();var t=this.view.coordinateBBox,e=t.minX,n=t.minY,a=t.width,o=t.height;this.x=e+a/2,this.y=n+o/2},r.prototype.getTotalValue=function(){var t,e=0,n=this.plot.options,a=n.angleField,o=n.colorField,s=this.options.totalLabel;(0,u.each)(this.plot.options.data,function(f){typeof f[a]=="number"&&(e+=f[a])});var l=(t={},t[a]=e,t[o]=s,t);return l},r.prototype.parseStatisticData=function(t,e,n){var a=this.plot,o=a.options,s=o.angleField,l=o.colorField,f=a.getScaleByField(s),h=a.getScaleByField(l),c={name:h?h.getText(e[l]):null,value:f.getText(e[s])};return t==="item"&&(c.itemData=e,c.color=n),c},r.prototype.getStatisticTemplate=function(t){var e=this.getStatisticSize(),n=ck(t.name,t.value,this.statisticClass,e);return n},r.prototype.getStatisticSize=function(){var t=this.plot.view.coordinateBBox,e=this.plot.options,n=e.radius,a=e.innerRadius,o=Math.min(t.width,t.height),s=o*n*a;return s},r.prototype.getStatisticHtmlString=function(t){var e=this.options.htmlContent,n;return e?n=e(t,this.getStatisticSize()):n=this.getStatisticTemplate(t),n},r}(ry),dk=vk,pk={ring:"interval"},gk={interval:"ring"},hy=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="donut",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{radius:.8,innerRadius:.64,tooltip:{visible:!1},statistic:{visible:!0,totalLabel:"\u603B\u8BA1",triggerOn:"mouseenter",triggerOff:"mouseleave"}})},r.prototype.beforeInit=function(){i.prototype.beforeInit.call(this),r.centralId++,this.statisticClass="statisticClassId"+r.centralId,this.adjustLabelDefaultOptions()},r.prototype.afterRender=function(){var t=this.canvas.get("container");if(this.statistic&&(t.removeChild(this.statistic.wrapperNode),this.statistic=null),this.options.statistic&&this.options.statistic.visible){var e=this.canvas.get("container");(0,vt.Z)(e,{position:"relative"}),this.statistic=new dk((0,q.__assign)({container:e,view:this.view,plot:this,statisticClass:this.statisticClass},this.options.statistic)),this.statistic.render(),this.options.statistic.triggerOn&&this.statistic.triggerOn()}i.prototype.afterRender.call(this)},r.prototype.destroy=function(){this.statistic&&this.statistic.destroy(),i.prototype.destroy.call(this)},r.prototype.geometryParser=function(t,e){return t==="g2"?pk[e]:gk[e]},r.prototype.coord=function(){var t=this.options,e={type:"theta",cfg:{radius:t.radius,innerRadius:t.innerRadius}};this.setConfig("coordinate",e)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,k)},r.prototype.adjustLabelDefaultOptions=function(){var t=this.options.label;if(t&&t.type==="inner"){var e=t.style||{};e.textAlign||(e.textAlign="center"),t.style=e,t.offset||(t.offset=(this.options.innerRadius-1)/2*100+"%")}},r.centralId=0,r}(Dg),cy=hy;Wr("donut",hy);var yk=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="donut",i.prototype.createLayers.call(this,e)},r.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},r.getDefaultOptions=cy.getDefaultOptions,r}(Dr),vy=yk;function mk(i,r,t){var e=i.style,n=i.defaultStyle,a=i.color,o=(0,q.__assign)((0,q.__assign)({},n),e);return a&&(r&&(o.stroke=a),t&&(o.fill=a)),o}function xk(i){var r=[],t=i[0];r.push(["M",t.x,t.y]);for(var e=1,n=i.length;e<n;e++)r.push(["L",i[e].x,i[e].y]);return r.push(["L",t.x,t.y]),r.push(["z"]),r}rn("interval","waterfall",{draw:function(i,r){var t=mk(i,!1,!0),e=this.parsePath(xk(i.points)),n=r.addShape("path",{attrs:(0,q.__assign)((0,q.__assign)({},t),{path:e}),name:"interval"}),a=(0,u.get)(i.style,"leaderLine");if(a&&a.visible){var o=a.style||{};if(i.nextPoints){var s=[["M",i.points[2].x,i.points[2].y],["L",i.nextPoints[0].x,i.nextPoints[0].y]];s=this.parsePath(s),r.addShape("path",{attrs:(0,q.__assign)({path:s,stroke:"#d3d3d3",lineDash:[4,2],lineWidth:1},o),name:"leader-line"})}}return n}});var dy=2,bk=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustLabel=function(t,e){var n,a,o=e.shape,s=o.getBBox(),l=e.getData(),f=l[$i],h=l[this.layer.options.yField],c=(0,u.isArray)(f)?f[1]:f,v=this.options.formatter,x=[].concat(e.getModel().mappingData),A=v?x[0]&&x[0]._origin[zl]:0,B=v?v(c,(n={},n[bs]=(a=x[0])===null||a===void 0?void 0:a._origin,n.mappingDatum=x[0],n.mappingDatumIndex=0,n.element=e,n.elementIndex=A,n),A):c,G=(s.minY+s.maxY)/2,H="bottom";h<0?(G=s.maxY+dy,H="top"):G=s.minY-dy,t.attr("y",G),t.attr("text",B),t.attr("textBaseline",H)},r}(rh),rY=null;Yi("waterfall",bk);function wk(){return{fill:"#fff",fontSize:12,lineHeight:12,stroke:"rgba(0, 0, 0, 0.45)"}}var Sk=function(){function i(r){this.textAttrs={},this.view=r.view,this.fields=r.fields,this.formatter=r.formatter,this.textAttrs=(0,u.mix)(wk(),r.style),this._init()}return i.prototype.draw=function(){var r=this;if(!(!this.view||this.view.destroyed)){var t=(0,u.clone)(this.view.getData());this.container=this.view.foregroundGroup.addGroup();var e=this.view.geometries[0].elements.map(function(n){return n.shape});(0,u.each)(e,function(n,a){if(!!n.cfg.origin){var o=n.cfg.origin.data,s=n.getBBox(),l=o[$i],f=l;(0,u.isArray)(l)&&(f=l[1]-l[0]),f=f>0?"+"+f:f,o[dh]&&(f=l[0]-l[1]);var h=f;if(r.formatter){var c=e[a].attr("fill");h=r.formatter(""+f,{_origin:t[a],color:c},a)}var v=r.container.addShape("text",{attrs:(0,q.__assign)({text:h,textBaseline:"middle",textAlign:"center",x:(s.minX+s.maxX)/2,y:(s.minY+s.maxY)/2},r.textAttrs),name:"dill-label"});v.getBBox().height>s.height&&v.set("visible",!1)}}),this.view.getCanvas().draw()}},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype._init=function(){var r=this;this.view.on(sn.VIEW_LIFE_CIRCLE.BEFORE_RENDER,function(){r.clear()}),this.view.on(sn.VIEW_LIFE_CIRCLE.AFTER_RENDER,function(){r.draw()})},i}(),Ck=Sk,Mk={waterfall:"interval"},Ek={interval:"waterfall"},$i="$$value$$",dh="$$total$$",zl="$$index$$",py=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="watarfall",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{legend:{visible:!1,position:"bottom"},label:{visible:!0,adjustPosition:!0},diffLabel:{visible:!0},leaderLine:{visible:!0},showTotal:{visible:!0,label:"\u603B\u8BA1\u503C"},waterfallStyle:{lineWidth:0},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1}})},r.prototype.getOptions=function(t){var e=i.prototype.getOptions.call(this,t);return this.adjustLegendOptions(e),this.adjustMeta(e),e},r.prototype.afterInit=function(){i.prototype.afterInit.call(this);var t=this.options;t.diffLabel&&t.diffLabel.visible?this.diffLabel=new Ck({view:this.view,fields:[t.xField,t.yField,$i],formatter:t.diffLabel.formatter,style:t.diffLabel.style}):this.diffLabel&&(this.diffLabel.clear(),this.diffLabel=null)},r.prototype.afterRender=function(){i.prototype.afterRender.call(this);var t=this.options;this.view.on("tooltip:change",function(e){for(var n=e.items,a=0;a<n.length;a++){var o=n[a],s=(0,u.get)(o,"data",{});if(o.name=s[t.xField],o.value=s[t.yField],!o.value&&s[dh]){var l=s[$i];o.value=l[0]-l[1]}e.items[a]=o}}),this.renderLabel()},r.prototype.renderLabel=function(){var t=io(this.view,"interval");this.options.label&&this.options.label.visible&&this.doRenderLabel(t,(0,q.__assign)({type:"waterfall"},this.options.label))},r.prototype.geometryParser=function(t,e){return t==="g2"?Mk[e]:Ek[e]},r.prototype.interaction=function(){this.setConfig("interactions",[{type:"tooltip"},{type:"active-region"}])},r.prototype.addGeometry=function(){var t=this.options,e={type:"interval",position:{fields:[t.xField,$i]},shape:{values:["waterfall"]}};e.style=this._parseStyle(),e.color=this._parseColor(),this.waterfall=e,this.options.tooltip&&(this.options.tooltip.fields||this.options.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},r.prototype.processData=function(t){var e,n=[],a=this.options.xField,o=this.options.yField;if((0,u.map)(t,function(f,h){var c,v=f[o];if(h>0){var x=n[h-1][$i];(0,u.isArray)(x)?v=[x[1],f[o]+x[1]]:v=[x,f[o]+x]}n.push((0,q.__assign)((0,q.__assign)({},f),(c={},c[$i]=v,c[zl]=h,c)))}),this.options.showTotal&&this.options.showTotal.visible){var s=(0,u.map)(t,function(f){return f[o]}),l=(0,u.reduce)(s,function(f,h){return f+h},0);n.push((e={},e[a]=this.options.showTotal.label,e[o]=null,e[$i]=[l,0],e[zl]=n.length,e[dh]=!0,e))}return n},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},(0,u.has)(t,"xAxis")&&qn(e[t.xField],t.xAxis),e[$i]={},(0,u.has)(t,"yAxis")&&qn(e[$i],t.yAxis),this.setConfig("scales",e)},r.prototype.axis=function(){var t=mi("axis",{plot:this,dim:"x"}),e=mi("axis",{plot:this,dim:"y"}),n={};n[this.options.xField]=t,n[$i]=e,this.setConfig("axes",n)},r.prototype.coord=function(){},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,N)},r.prototype.geometryTooltip=function(){this.waterfall.tooltip={};var t=this.options.tooltip;t.fields&&(this.waterfall.tooltip.fields=t.fields),t.formatter&&(this.waterfall.tooltip.callback=t.formatter,t.fields||(this.waterfall.tooltip.fields=[this.options.xField,$i]))},r.prototype._parseStyle=function(){var t=this.options.waterfallStyle,e=this.options.leaderLine,n={};return(0,u.isFunction)(t)?n.callback=function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];return Object.assign({},t.apply(void 0,a),{leaderLine:e})}:n.cfg=(0,q.__assign)((0,q.__assign)({},t),{leaderLine:e}),n},r.prototype._parseColor=function(){var t=this,e=this.options,n=this.options,a=n.xField,o=n.yField,s={fields:[a,o,$i,zl]};if((0,u.isFunction)(e.color))s.callback=e.color;else{var l="#f4664a",f="#30bf78",h="rgba(0, 0, 0, 0.25)";if((0,u.isString)(e.color))l=f=h=e.color;else if((0,u.isObject)(e.color)){var c=e.color,v=c.rising,x=c.falling,A=c.total;l=v,f=x,h=A}s.callback=function(B,G,H,X){return X===t.options.data.length?h||(H[0]>=0?l:f):((0,u.isArray)(H)?H[1]-H[0]:H)>=0?l:f}}return s},r.prototype.adjustLegendOptions=function(t){var e=t.legend;e&&(e.visible=!1)},r.prototype.adjustMeta=function(t){var e=t.meta;if(e){var n=e?e[t.yField]:{};n.alias=n.alias||t.yField,t.meta[$i]=n}},r}(Fn),_k=py;Wr("waterfall",py);var Ak=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="waterfall",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=_k.getDefaultOptions,r}(Dr),gy=Ak,Pk=function(){function i(r){this.quadrantGroups=[],this.regionData=[],this.lineData=[],this.options=r,this.view=this.options.view,this.init()}return i.prototype.init=function(){var r=this.options,t=r.xBaseline,e=r.yBaseline,n=this.view.getCoordinate(),a=this.view.getScaleByField(this.options.plotOptions.xField),o=this.view.getScaleByField(this.options.plotOptions.yField),s;if(t>a.min&&t<a.max){var l=(t-a.min)/(a.max-a.min);s=[new Nr(n.start.x,n.end.y,n.getWidth()*l,n.getHeight()),new Nr(n.start.x+n.getWidth()*l,n.end.y,n.getWidth()*(1-l),n.getHeight())];var f={start:{x:n.start.x+n.getWidth()*l,y:n.end.y},end:{x:n.start.x+n.getWidth()*l,y:n.start.y}};this.lineData.push(f)}else s=[new Nr(n.start.x,n.end.y,n.getWidth(),n.getHeight())];if(e>o.min&&e<o.max){var l=(e-o.min)/(o.max-o.min),h={start:{x:n.start.x,y:n.start.y-n.getHeight()*l},end:{x:n.end.x,y:n.start.y-n.getHeight()*l}};this.lineData.push(h);var c={name:t<=a.min?"top-right":"top-left",bbox:new Nr(s[0].minX,s[0].minY,s[0].width,s[0].height*(1-l)),index:t<=a.min?2:0};this.regionData.push(c);var v={name:t<=a.min?"bottom-right":"bottom-left",bbox:new Nr(s[0].minX,s[0].minY+s[0].height*(1-l),s[0].width,s[0].height*l),index:t<=a.min?3:1};if(this.regionData.push(v),s.length>1){var x={name:"top-right",bbox:new Nr(s[1].minX,s[1].minY,s[1].width,s[1].height*(1-l)),index:2};this.regionData.push(x);var A={name:"bottom-right",bbox:new Nr(s[1].minX,s[1].minY+s[1].height*(1-l),s[1].width,s[1].height*l),index:3};this.regionData.push(A)}}else if(s.length===2)if(e<=o.min){var B={name:"top-left",bbox:s[0],index:0};this.regionData.push(B);var x={name:"top-right",bbox:s[1],index:2};this.regionData.push(x)}else{var G={name:"bottom-left",bbox:s[0],index:1};this.regionData.push(G);var A={name:"bottom-right",bbox:s[1],index:3};this.regionData.push(A)}else if(t<=a.min)if(e<=o.min){var x={name:"top-right",bbox:s[0],index:2};this.regionData.push(x)}else{var A={name:"bottom-right",bbox:s[0],index:3};this.regionData.push(A)}else if(e<=o.min){var B={name:"top-left",bbox:s[0],index:0};this.regionData.push(B)}else{var G={name:"bottom-left",bbox:s[0],index:1};this.regionData.push(G)}this.container=this.view.backgroundGroup.addGroup()},i.prototype.render=function(){var r=this;if(this.regionData.length>0){var t=this.getDefaultStyle(),e=this.getRegionStyle(this.regionData);(0,u.each)(this.regionData,function(a){var o=a.index,s=r.container.addGroup(),l=s.addShape("rect",{attrs:(0,q.__assign)({x:a.bbox.minX,y:a.bbox.minY,width:a.bbox.width,height:a.bbox.height},e[o]),name:"quadrant"});if(r.options.label&&r.options.label.text){var f=(0,u.deepMix)({},t.label,r.options.label),h=r.getLabelConfig(a,f);s.addShape("text",{attrs:(0,q.__assign)({},h),name:"quadrant-label"})}l.set("data",a),r.quadrantGroups.push(s)});var n=(0,u.deepMix)({},t.line,this.options.lineStyle);(0,u.each)(this.lineData,function(a){r.container.addShape("path",{attrs:(0,q.__assign)({path:[["M",a.start.x,a.start.y],["L",a.end.x,a.end.y]]},n),name:"quadrant-line"})}),this.view.canvas.draw()}},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype.getDefaultStyle=function(){return{line:{stroke:"#9ba29a",lineWidth:1},regionStyle:[{fill:"#000000",opacity:.05},{fill:"#ffffff",opacity:0},{fill:"#ffffff",opacity:0},{fill:"#000000",opacity:.05}],label:{position:"outter-inner",offset:10,style:{fontSize:14,fill:"#ccc"}}}},i.prototype.getRegionStyle=function(r){var t=this.getDefaultStyle(),e=t.regionStyle;if(this.options.regionStyle){var n=this.options.regionStyle;(0,u.isArray)(n)?e=e.map(function(a,o){return n.length>o&&n[o]?n[o]:a}):(0,u.isFunction)(n)&&(0,u.each)(r,function(a,o){e[o]=n(a)})}return e},i.prototype.getLabelConfig=function(r,t){var e=r.index,n=0,a=0,o={},s=t.text;(0,u.isFunction)(s)?s=s(r):(0,u.isArray)(s)&&(s=s[e]);var l=t.position,f=l.split("-"),h=r.name.split("-");return h[1]==="left"?(f[0]==="inner"&&(n=r.bbox.maxX-t.offset,o.textAlign="right"),f[0]==="outter"&&(n=r.bbox.minX+t.offset,o.textAlign="left")):h[1]==="right"&&(f[0]==="inner"&&(n=r.bbox.minX+t.offset,o.textAlign="left"),f[0]==="outter"&&(n=r.bbox.maxX-t.offset,o.textAlign="right")),h[0]==="top"?(f[1]==="inner"&&(a=r.bbox.maxY-t.offset,o.textBaseline="bottom"),f[1]==="outter"&&(a=r.bbox.minY+t.offset,o.textBaseline="top")):h[0]==="bottom"&&(f[1]==="inner"&&(a=r.bbox.minY+t.offset,o.textBaseline="top"),f[1]==="outter"&&(a=r.bbox.maxY-t.offset,o.textBaseline="bottom")),o=(0,u.deepMix)({},t.style,o),o.lineHeight=o.fontSize,(0,q.__assign)({x:n,y:a,text:s},o)},i}(),Tk=Pk,Mo=d(56645),Ok={exp:Mo.regressionExp,linear:Mo.regressionLinear,loess:Mo.regressionLoess,log:Mo.regressionLog,poly:Mo.regressionPoly,pow:Mo.regressionPow,quad:Mo.regressionQuad};function Lk(i,r){return Math.sqrt(i*(1-i)/r)*1.96}var Ik=function(){function i(r){var t={type:"linear",style:{stroke:"#9ba29a",lineWidth:2,opacity:.5,lineJoin:"round",lineCap:"round"},showConfidence:!1,confidenceStyle:{fill:"#ccc",opacity:.1}};this.options=(0,u.deepMix)({},t,r),this.view=this.options.view,this.init()}return i.prototype.init=function(){var r=this.options.plotOptions,t=r.xField,e=r.yField,n=r.data,a=Ok[this.options.type]().x(function(o){return o[t]}).y(function(o){return o[e]});this.data=this.processData(a(n)),this.container=this.view.backgroundGroup.addGroup()},i.prototype.render=function(){var r=this.view.getScaleByField(this.options.plotOptions.xField),t=this.view.getScaleByField(this.options.plotOptions.yField),e=this.view.getCoordinate(),n=this.data.trendlineData,a=(0,er.getScale)("linear"),o=this.adjustScale(r,n,"x"),s=new a({min:o.min,max:o.max}),l=this.adjustScale(t,n,"y"),f=new a({min:l.min,max:l.max});if(this.options.showConfidence){var h=this.getConfidencePath(s,f,e);this.container.addShape("path",{attrs:(0,q.__assign)({path:h},this.options.confidenceStyle),name:"confidence"})}var c=this.getTrendlinePoints(s,f,e),v=[[0,0],[1,1]],x=Vf(c,!1,v);this.shape=this.container.addShape("path",{attrs:(0,q.__assign)({path:x},this.options.style),name:"trendline"})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.destroy()},i.prototype.processData=function(r){var t=[],e=[];return(0,u.each)(r,function(n){t.push({x:n[0],y:n[1]});var a=Lk(r.rSquared,n[1]);e.push({x:n[0],y0:n[1]-a,y1:n[1]+a})}),{trendlineData:t,confidenceData:e}},i.prototype.getTrendlinePoints=function(r,t,e){var n=[];return(0,u.each)(this.data.trendlineData,function(a){var o=r.scale(a.x),s=t.scale(a.y),l=e.start.x+e.width*o,f=e.start.y-e.height*s;n.push({x:l,y:f})}),n},i.prototype.getConfidencePath=function(r,t,e){var n=[],a=[],o=[];(0,u.each)(this.data.confidenceData,function(c){var v=r.scale(c.x),x=t.scale(c.y0),A=t.scale(c.y1),B=e.start.x+e.width*v,G=e.start.y-e.height*x,H=e.start.y-e.height*A;n.push({x:B,y:G}),a.push({x:B,y:H})});for(var s=0;s<n.length;s++){var l=s===0?"M":"L",f=n[s];!isNaN(f.x)&&!isNaN(f.y)&&o.push([l,f.x,f.y])}for(var h=a.length-1;h>0;h--){var f=a[h];!isNaN(f.x)&&!isNaN(f.y)&&o.push(["L",f.x,f.y])}return o},i.prototype.adjustScale=function(r,t,e){var n=r.min,a=r.max,o=this.options.plotOptions,s=o.data,l=o.xField,f=o.yField,h=e==="x"?l:f,c=(0,u.minBy)(s,h)[h],v=(0,u.maxBy)(s,h)[h],x=(n-c)/(v-c),A=(a-v)/(v-c),B=(0,u.minBy)(t,e)[e],G=(0,u.maxBy)(t,e)[e];return{min:B+x*(G-B),max:G+A*(G-B)}},i}(),kk=Ik,Bk={point:"point",trendline:"trendline",confidence:"confidence",quadrant:"quadrant",quadrantLabel:"quadrant-label",quadrantLine:"quadrant-line"},Dk=si(Bk);(0,u.assign)(Qr,Dk);var Fk=function(i){var r=i.stroke||"#000";return{stroke:r}},Rk=function(i){var r=i.stroke||"#000",t=i.lineWidth||2;return{stroke:r,lineWidth:t}},Nk=function(i){var r=i.fillOpacity||i.opacity||.3;return{fillOpacity:r}};zi("scatter",{pointStyle:{normal:{},active:Fk,selected:Rk,inactive:Nk}});var Gk={scatter:"point"},Yk={point:"point"},yy=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="scatter",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{pointSize:4,pointStyle:{lineWidth:1,strokeOpacity:1,fillOpacity:.95,stroke:"#fff"},xAxis:{nice:!0,grid:{visible:!0},line:{visible:!0}},yAxis:{nice:!0,grid:{visible:!0},line:{visible:!0}},tooltip:{visible:!0,shared:null,showTitle:!1,showMarkers:!1,showCrosshairs:!1},label:{visible:!1},shape:"circle"})},r.prototype.afterRender=function(){i.prototype.afterRender.call(this),this.quadrant&&this.quadrant.destroy(),this.trendline&&this.trendline.destroy(),this.options.quadrant&&this.options.quadrant.visible&&(this.quadrant=new Tk((0,q.__assign)({view:this.view,plotOptions:this.options},this.options.quadrant)),this.quadrant.render()),this.options.trendline&&this.options.trendline.visible&&(this.trendline=new kk((0,q.__assign)({view:this.view,plotOptions:this.options},this.options.trendline)),this.trendline.render())},r.prototype.destroy=function(){this.quadrant&&(this.quadrant.destroy(),this.quadrant=null),this.trendline&&(this.trendline.destroy(),this.trendline=null),i.prototype.destroy.call(this)},r.prototype.isValidLinearValue=function(t){return(0,u.isNil)(t)?!1:!Number.isNaN(Number(t))},r.prototype.processData=function(t){var e=this,n=this.options,a=n.xField,o=n.yField,s=(0,u.get)(this.options,["xAxis","type"],"linear"),l=(0,u.get)(this.options,["yAxis","type"],"linear");if(s&&l){var f=t.filter(function(h){return!(s==="linear"&&!e.isValidLinearValue(h[a])||l==="linear"&&!e.isValidLinearValue(h[o]))}).map(function(h){var c;return(0,q.__assign)((0,q.__assign)({},h),(c={},c[a]=s==="linear"?Number(h[a]):String(h[a]),c[o]=l==="linear"?Number(h[o]):String(h[o]),c))});return f}return t},r.prototype.geometryParser=function(t,e){return t==="g2"?Gk[e]:Yk[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={},(0,u.has)(t,"xAxis")&&qn(e[t.xField],t.xAxis),e[t.yField]={},(0,u.has)(t,"yAxis")&&qn(e[t.yField],t.yAxis);var n=(0,u.find)(t.interactions,function(o){return o.type==="timeline"});if(n&&(0,u.get)(n,"cfg.key")){var a=n.cfg.key;e[a]?e[a].key=!0:e[a]={key:!0}}this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){},r.prototype.annotation=function(){},r.prototype.addGeometry=function(){var t=zn("point","circle",{plot:this});if(this.points=t,this.options.tooltip&&this.options.tooltip.visible){var e=this.options.tooltip,n=e.showTitle,a=e.titleField;this.extractTooltip(),this.setConfig("tooltip",(0,q.__assign)({showTitle:n,title:n?a:void 0},this.options.tooltip))}this.options.label&&this.label(),this.setConfig("geometry",t)},r.prototype.label=function(){var t=this.options;if(t.label.visible===!1){this.points&&(this.points.label=!1);return}var e=mi("label",(0,q.__assign)((0,q.__assign)({fields:t.label.field?[t.label.field]:[t.yField]},t.label),{plot:this}));this.points&&(this.points.label=e)},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.points.animate=!1)},r.prototype.parseEvents=function(t){i.prototype.parseEvents.call(this,t||V)},r.prototype.extractTooltip=function(){this.points.tooltip={};var t=this.options.tooltip;t.fields?this.points.tooltip.fields=t.fields:this.points.tooltip.fields=[this.options.xField,this.options.yField],t.formatter&&(this.points.tooltip.callback=t.formatter,this.options.colorField&&this.points.tooltip.fields.push(this.options.colorField))},r}(Fn),my=yy;Wr("scatter",yy);var zk=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="scatter",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=my.getDefaultOptions,r}(Dr),xy=zk,Xk=d(75564);rn("point","bubble-point",{draw:function(i,r){var t=(0,Xk.iV)(this,i,r,"circle",!1);if(!i.style.stroke){var e=t.attr("fill");t.attr("stroke",e)}return t},getMarker:function(i){var r=i.color;return{symbol:"circle",style:{r:4.5,fill:r}}}});var Vk=function(i){var r=i.stroke||"#000",t=i.fillOpacity||i.opacity||.95;return{stroke:r,fillOpacity:t}},Hk=function(i){var r=i.stroke||"#000",t=i.lineWidth||2;return{stroke:r,lineWidth:t}},Wk=function(i){var r=i.fillOpacity||i.opacity||.3;return{fillOpacity:r}};zi("bubble",{pointStyle:{normal:{},active:Vk,selected:Hk,inactive:Wk}});var by=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="bubble",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{pointSize:[2,32],pointStyle:{stroke:null,strokeOpacity:1,fillOpacity:.5},label:{position:"middle",style:{stroke:"#fff",lineWidth:2}},shape:"bubble-point"})},r.prototype.getSizeScale=function(){var t=this.options.sizeField;t&&this.view.getScaleByField(t)},r.prototype.legend=function(){var t;i.prototype.legend.call(this),!(this.options.legend&&this.options.legend.visible===!1)&&this.setConfig("legends",(t={},t[this.options.sizeField]=!1,t))},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,V)},r}(my),jk=by;Wr("bubble",by);var Uk=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="bubble",i.prototype.createLayers.call(this,e)},r.prototype.getSizeScale=function(){var t=this.layers[0];return t.getSizeScale()},r.getDefaultOptions=jk.getDefaultOptions,r}(Dr),wy=Uk,Zk={bullet:"interval",bulletTarget:"bullet-target"},Kk=si(Zk);(0,u.assign)(Qr,Kk);var $k=function(){function i(r,t){this.view=r,this.cfg=t,this._init()}return i.prototype.draw=function(){if(!(!this.view||this.view.destroyed)){this.container=this.view.middleGroup.addGroup(),this.container.set("name","rectGroups"),this.container.setZIndex(-100);for(var r=this.getGeometry(),t=(0,u.map)(r==null?void 0:r.elements,function(o){return o.shape}),e=0;e<this.cfg.ranges.length;e+=1){var n=t[e].getBBox(),a=n.width/t[e].get("origin").data[this.cfg.yField];this.drawRect(n,this.cfg.ranges[e]||[0,1],a)}this.view.canvas.draw()}},i.prototype.drawRect=function(r,t,e){for(var n=this.cfg,a=n.rangeColors,o=r.minX,s=r.minY-r.height*(n.rangeSize-1)/2,l=1;l<t.length;l+=1){var f=(t[l]-t[l-1])*n.rangeMax*e;this.container.addShape("rect",{name:"bullet-rect",attrs:{width:f,height:r.height*n.rangeSize,x:o,y:s,fill:a[(l-1)%a.length],fillOpacity:.25}}).set("zIndex",-1),o+=f}if(n.axis&&n.axis.visible){var h=n.rangeMax/(n.axis.tickCount-1),c=new Nr(r.x,s,o,r.height*n.rangeSize);this.drawBulletTicks(c,h,e)}},i.prototype.drawBulletTicks=function(r,t,e){for(var n=this.cfg,a=n.axis.style,o=n.axis.tickCount,s=n.axis.position,l=(0,u.get)(a,"lineHeight",0)-a.fontSize/2,f=0;f<o;f+=1){var h=r.minX+t*f*e,c=""+t*f;if(n.axis.formatter&&(c=n.axis.formatter(c,f)),this.container.addShape("text",{name:"tick",attrs:(0,q.__assign)({x:h,y:s==="before"?r.minY-l:r.maxY+l,text:""+c},a)}),n.axis.tickLine&&n.axis.tickLine.visible){var v=n.axis.tickLine;f>0&&f!==o-1&&this.container.addShape("path",{attrs:(0,q.__assign)({path:[["M",h,r.minY],["L",h,r.maxY]]},v)}).set("zIndex",-1)}}},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype._init=function(){var r=this;this.view.on("beforerender",function(){r.clear()}),this.view.on("afterrender",function(){r.draw()})},i.prototype.getGeometry=function(){return(0,u.find)(this.view.geometries,function(r){return r.type==="interval"})},i}(),Qk=$k,Jk=function(){function i(r,t){this.view=r,this.cfg=t,this._init()}return i.prototype.draw=function(){if(!(!this.view||this.view.destroyed)){this.container=this.view.foregroundGroup.addGroup(),this.container.set("name","targetGroups");for(var r=(0,u.map)(this.getGeometry().elements,function(a){return a.shape}),t=0;t<this.cfg.targets.length;t+=1){var e=r[t].getBBox(),n=e.width/r[t].get("origin").data[this.cfg.yField];this.drawTarget(e,this.cfg.targets[t],n)}this.view.canvas.draw()}},i.prototype.drawTarget=function(r,t,e){var n=this,a=this.cfg,o=a.markerColors;t.forEach(function(s,l){var f=a.markerStyle;n.container.addShape("rect",{name:"bullet-target",attrs:(0,q.__assign)((0,q.__assign)({width:f.width,height:r.height*a.markerSize-f.width/2,x:r.minX+s*e,y:r.minY-r.height*(a.markerSize-1)/2},f),{fill:o[l%o.length]||f.fill})})})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype._init=function(){var r=this;this.view.on("beforerender",function(){r.clear()}),this.view.on("afterrender",function(){r.draw()})},i.prototype.getGeometry=function(){return(0,u.find)(this.view.geometries,function(r){return r.type==="interval"})},i}(),qk=Jk,tB=function(i){var r=i.opacity||1;return{opacity:r*.5,lineWidth:0}},eB=function(i){var r=i.opacity||1;return{opacity:r*.5}};zi("bullet",{columnStyle:{normal:{},active:tB,disable:eB,selected:{}}});var rB={bullet:"interval"},nB={interval:"bullet"},iB="$$stackField$$",aB="$$xField$$",oB="$$yField$$",Sy=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="bullet",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{data:[],stackField:iB,xField:aB,yField:oB,rangeColors:["rgba(91, 143, 249, 0.45)"],measureSize:12,rangeSize:2,markerSize:2,markerColors:[],markerStyle:{width:2,fill:"#5B8FF9",lineWidth:0},axis:{visible:!1,position:"before",tickCount:6,formatter:function(t,e){return""+e},style:{fill:"rgba(0, 0, 0, 0.25)",textBaseline:"middle",textAlign:"center",fontSize:12,lineHeight:16},tickLine:{visible:!0,lineWidth:1,stroke:"#FFF",lineDash:[4,2]}},xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},label:{visible:!0}},yAxis:{visible:!1,nice:!1},tooltip:{visible:!1,trigger:"item",crosshairs:!1},label:{visible:!0,offset:4,style:{fill:"rgba(0, 0, 0, 0.45)",stroke:"#fff",lineWidth:1}}})},r.prototype.afterRender=function(){i.prototype.afterRender.call(this),this.view.removeInteraction("legend-filter")},r.prototype.scale=function(){var t=this.options,e={};e[t.yField]={},(0,u.has)(t,"yAxis")&&qn(e[t.yField],t.yAxis),e[t.xField]={type:"cat"},(0,u.has)(t,"xAxis")&&qn(e[t.xField],t.xAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.getOptions=function(t){var e=i.prototype.getOptions.call(this,t);return this.adjustOptions(e),e},r.prototype.afterInit=function(){i.prototype.afterInit.call(this);var t=this.options,e=t.data.map(function(a){return a.ranges}),n=t.data.map(function(a){return a.targets});this.bulletRect=new Qk(this.view,{ranges:e,rangeMax:t.rangeMax,yField:t.yField,rangeSize:t.rangeSize,rangeColors:t.rangeColors||[],axis:t.axis}),this.bulletTarget=new qk(this.view,{targets:n,yField:t.yField,markerSize:t.markerSize,markerColors:t.markerColors||[],markerStyle:t.markerStyle})},r.prototype.geometryParser=function(t,e){return t==="g2"?rB[e]:nB[e]},r.prototype.coord=function(){this.setConfig("coordinate",{actions:[["transpose"]]})},r.prototype.legend=function(){var t=this.options,e=t.markerStyle.fill,n=t.measureColors||this.theme.colors,a=[{name:"\u5B9E\u9645\u8FDB\u5EA6",value:"\u5B9E\u9645\u8FDB\u5EA6",marker:{symbol:"square",style:{fill:n[0]}}},{name:"\u76EE\u6807\u503C",value:"\u76EE\u6807\u503C",marker:{symbol:"line",style:{stroke:e,lineWidth:2}}}],o=(0,q.__assign)({custom:!0,position:"bottom",items:a},t.legend);this.setConfig("legends",o)},r.prototype.addGeometry=function(){var t=this.options,e=zn("interval","main",{positionFields:[t.xField,t.yField],plot:this});e.adjust=[{type:"stack"}],t.label&&(e.label=this.extractLabel()),this.bullet=e,this.setConfig("geometry",e)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,$)},r.prototype.extractLabel=function(){var t=this.options,e=(0,u.deepMix)({},t.label);if(e.visible===!1)return!1;var n=mi("label",(0,q.__assign)({plot:this,labelType:"barLabel",fields:[t.yField]},e));return n},r.prototype.adjustOptions=function(t){t.barSize=t.measureSize||12,this.adjustYAxisOptions(t)},r.prototype.adjustYAxisOptions=function(t){var e=[];t.data.forEach(function(n){return e.push(n.measures.reduce(function(a,o){return a+o},0))}),e.push(t.rangeMax),t.yAxis.max=Math.max.apply([],e)},r.prototype.processData=function(t){var e=this.options,n=[];return t.forEach(function(a,o){for(var s,l=0;l<a.measures.length;l+=1){var f=a.measures[l],h=a.title||""+o;n.push((s={},s[e.xField]=h,s[e.yField]=f,s[e.stackField]=""+l,s))}}),n},r}(Fn),sB=Sy;Wr("bullet",Sy);var lB=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="bullet",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=sB.getDefaultOptions,r}(Dr),Cy=lB,Uo="$$day$$",Zo="$$week$$",My="$$date$$",nY="$$is_month_center$$",Ko="YYYY-MM-DD",uB=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],fB=["S","M","T","W","T","F","S"],_s=864e5;function hB(i){var r=(0,q.__spreadArrays)(i).sort(function(t,e){return t.getTime()-e.getTime()});return[ao.default.format((0,u.head)(r),Ko),ao.default.format((0,u.last)(r),Ko)]}function iY(i){var r=i||new Date;return[fecha.format(new Date(r.getFullYear(),0,1),FORMATTER),fecha.format(new Date(r.getFullYear(),11,30),FORMATTER)]}function cB(i){return i.getMonth()!==Xl(new Date(i),7*_s).getMonth()}function vB(i){return i.getMonth()!==Xl(new Date(i),_s).getMonth()}function Ey(i){var r=new Date(i.getFullYear(),0,1);return Math.ceil(((i.getTime()-r.getTime())/_s+r.getDay()+1)/7)}function dB(i){return i.getDay()}function Xl(i,r){return i.setMilliseconds(i.getMilliseconds()+r),i}function _y(i){var r,t=i[0],e=i[1],n=ao.default.parse(t,Ko),a=ao.default.parse(e,Ko);return n>a&&(r=[n,a],a=r[0],n=r[1]),[n,a]}function pB(i,r,t){for(var e=[],n=_y(r),a=n[0],o=n[1],s=new Date(a),l=function(){var f,h=ao.default.format(s,Ko),c=(0,u.find)(i,function(v){return v[t]===h});e.push((0,q.__assign)((f={},f[Uo]=dB(s),f[Zo]=""+Ey(s),f[t]=h,f[My]=new Date(s),f),c)),Xl(s,_s)};s<=o;)l();return e}function gB(i){var r=_y(i),t=r[0],e=r[1],n=new Map;function a(l){var f=l.getMonth(),h=Ey(l);n.has(f)||n.set(f,[]),n.get(f).push(h)}for(var o=new Date(t);o<=e;)a(o),Xl(o,_s*7);e<o&&a(e);var s={};return n.forEach(function(l,f){var h=Math.ceil(((0,u.head)(l)+(0,u.last)(l))/2);s[h]=f}),s}var yB={rect:"polygon"},mB=si(yB);(0,u.assign)(Qr,mB);var Ay=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="calendar",t}return r.getDefaultOptions=function(){var t;return(0,u.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{line:{visible:!1},grid:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!1}},yAxis:{line:{visible:!1},grid:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!1}},legend:{visible:!1},meta:(t={},t[Uo]={type:"cat",alias:"Day",values:[0,1,2,3,4,5,6]},t[Zo]={type:"cat",alias:"Month"},t),tooltip:{visible:!0,showTitle:!0,showCrosshairs:!1,showMarkers:!1,title:"date"}})},r.prototype.processData=function(t){var e=this.options.dateField,n=this.options.dateRange;if((0,u.isNil)(n)){var a=(0,u.map)(t,function(o){return ao.default.parse(""+o[e],Ko)});n=hB(a)}return pB(t,n,e)},r.prototype.addGeometry=function(){var t=this.options,e=t.valueField,n=t.colors,a=t.tooltip,o={type:"polygon",position:{fields:[Zo,Uo]},shape:{values:["calendar-polygon"]},color:{fields:[e],values:n},label:this.extractLabel()};a&&(a.fields||a.formatter)&&this.geometryTooltip(o),this.setConfig("geometry",o)},r.prototype.geometryTooltip=function(t){t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[Zo,Uo]))},r.prototype.extractLabel=function(){var t=this.options,e=t.label;if(e&&e.visible===!1)return!1;var n=this.options.valueField;return mi("label",(0,q.__assign)({plot:this,fields:[n],position:"top",offset:0},e))},r.prototype.coord=function(){var t={type:"rect",cfg:{},actions:[["reflect","y"]]};this.setConfig("coordinate",t)},r.prototype.geometryParser=function(){return""},r.prototype.axis=function(){var t=mi("axis",{plot:this,dim:"x"}),e=mi("axis",{plot:this,dim:"y"}),n={};n[Zo]=t,n[Uo]=e,this.setConfig("axes",n)},r.prototype.scale=function(){i.prototype.scale.call(this);var t=gB(this.options.dateRange),e=this.config.scales,n=this.options,a=n.weeks,o=a===void 0?fB:a,s=n.months,l=s===void 0?uB:s,f=e[Zo],h=e[Uo];f.formatter=function(A){var B=t[A];return B!==void 0?l[B]:""},h.formatter=function(A){return o[A]||""};var c=this.options,v=c.xAxis,x=c.yAxis;f.alias=(0,u.get)(v,["title","text"],f.alias),h.alias=(0,u.get)(x,["title","text"],h.alias),this.setConfig("scales",e)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,Z)},r}(Fn),xB=Ay;Wr("calendar",Ay),rn("polygon","calendar-polygon",{draw:function(i,r){if(!(0,u.isEmpty)(i.points)){var t=i.points,e=[["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",t[2].x,t[2].y],["L",t[3].x,t[3].y],["Z"]];e=this.parsePath(e);var n=(0,q.__assign)((0,q.__assign)({stroke:"#fff",lineWidth:1,fill:i.color},i.style),{path:e}),a=r.addShape("path",{attrs:n}),o=i.data[My];if(cB(o)){var s=[["M",t[2].x,t[2].y],["L",t[3].x,t[3].y]];r.addShape("path",{zIndex:1,attrs:{path:this.parsePath(s),lineWidth:1,stroke:"#404040"}}),vB(o)&&r.addShape("path",{zIndex:1,attrs:{path:this.parsePath([["M",t[1].x,t[1].y],["L",t[2].x,t[2].y]]),lineWidth:1,stroke:"#404040"}})}return r.sort(),a}}});var bB=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="calendar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=xB.getDefaultOptions,r}(Dr),wB=bB,Py=function(){function i(r){this.uid=r}return i.prototype.setOption=function(r,t){this.type=r,this.options=t,this.axis=t.axis,this.pivot=t.pivot},i.prototype.render=function(){var r=this;rn("point","gauge",{draw:function(t,e){var n,a,o;this.gauge={},this.gauge.options=r.options,this.gauge.axis=r.axis,this.gauge.pivot=r.pivot,this.gauge.type=r.type;var s=this.gauge,l=this.gauge.type,f=t.points[0],h=this.parsePoint({x:0,y:0}),c=this.parsePoint({x:f.x||0,y:1});s.center=h,s.group=e;var v={x:h.x-c.x,y:h.y-c.y};this.gauge.ringRadius=Math.sqrt(v.x*v.x+v.y*v.y);var x=this.getAngleRange(),A=x.starAngle,B=x.endAngle,G=f.x*(B-A)+A;switch(l){case"meterGauge":this.drawBarGauge(G),this.gauge.axis.visible&&((n=this.gauge.axis.tickLine)===null||n===void 0?void 0:n.visible)&&this.drawInSideAxis();break;case"fanGauge":this.drawGauge(G),this.gauge.axis.visible&&((a=this.gauge.axis.tickLine)===null||a===void 0?void 0:a.visible)&&this.drawOutSideAxis();break;case"standardGauge":default:this.drawGauge(G),this.gauge.axis.visible&&((o=this.gauge.axis.tickLine)===null||o===void 0?void 0:o.visible)&&this.drawAxis();break}this.gauge.pivot.visible&&this.drawPivot(t,e)},drawGauge:function(t){var e=this.gauge.options.range;this.drawBottomRing(),e&&e.length?this.drawRangeColor():this.drawCurrentRing(t)},drawRangeColor:function(){for(var t=this.gauge.options,e=t.min,n=t.max,a=t.range,o=t.color,s=t.rangeStyle,l=o||Ai().colors,f=this.getAngleRange(),h=f.starAngle,c=f.endAngle,v={min:e,max:n,starAngle:h,endAngle:c},x=0;x<a.length;x++){var A=this.valueToAngle(a[x],v),B=this.valueToAngle(a[x+1],v);if(B>=A){var G=this.getPath(A,B),H=(0,u.deepMix)({fill:l[x]},s);this.drawRing(G,H)}}},drawBottomRing:function(){var t=this.getAngleRange(),e=t.starAngle,n=t.endAngle,a=this.gauge.options.rangeBackgroundStyle,o=this.getPath(e,n);this.drawRing(o,a)},drawCurrentRing:function(t){var e=this.getAngleRange().starAngle,n=this.gauge.rangeStyle,a=this.getPath(e,t);this.drawRing(a,n)},drawInSideAxis:function(){for(var t=this.gauge.options,e=t.min,n=t.max,a=t.axis,o=this.getAngleRange(),s=o.starAngle,l=o.endAngle,f={min:e,max:n,starAngle:s,endAngle:l},h=(n-e)/a.tickCount,c=0;c<a.tickCount;c++){var v=e+c*h,x=this.valueToAngle(v+h/2,f);this.drawRect(x,{length:a.tickLine.length,style:a.tickLine.style})}},drawAxis:function(){for(var t=this.gauge.axis,e=this.gauge.options,n=e.min,a=e.max,o=this.getAngleRange(),s=o.starAngle,l=o.endAngle,f={min:n,max:a,starAngle:s,endAngle:l},h=(a-n)/(t.tickCount-1),c=0;c<t.tickCount;c++){var v=n+c*h,x=this.valueToAngle(v,f),A=(0,u.clone)(t.tickLine.style);c%5!=0&&(A.lineWidth=A.lineWidth/2),this.drawRect(x,{length:c%5==0?t.tickLine.length:t.tickLine.length/2,style:A})}},drawOutSideAxis:function(){for(var t=this.gauge.axis,e=this.gauge.options,n=e.min,a=e.max,o=this.getAngleRange(),s=o.starAngle,l=o.endAngle,f={min:n,max:a,starAngle:s,endAngle:l},h=(a-n)/(t.tickCount-1),c=0;c<t.tickCount;c++){var v=n+c*h,x=this.valueToAngle(v,f);this.drawRect(x,{length:t.tickLine.length,style:t.tickLine.style})}},drawBarGauge:function(t){for(var e=this,n=this.gauge.options,a=n.min,o=n.max,s=n.range,l=n.color,f=n.rangeStyle,h=n.rangeBackgroundStyle,c=l||Ai().colors,v=this.getAngleRange(),x=v.starAngle,A=v.endAngle,B={min:a,max:o,starAngle:x,endAngle:A},G=(A-x)/(50-1),H=G/3,X=0;X<50;X++){var ut=x+X*G,ft=this.getPath(ut-H/2,ut+H-H/2),xt=h;if(s&&s.length){var Yt=s.map(function(Wt){return e.valueToAngle(Wt,B)}),Kt=cE(Yt,ut),te=Math.min(Kt,s.length-1);xt=(0,u.deepMix)({},{fill:c[te-1]},f)||h}else xt=t>=ut?(0,u.deepMix)({},{fill:l},f):h;this.drawRing(ft,xt)}},getAngleRange:function(){var t=this.gauge.options.angle,e=90-(360-t)*.5,n=(270-90-e)*Math.PI/180,a=(270+90+e)*Math.PI/180;return{starAngle:n,endAngle:a}},valueToAngle:function(t,e){var n=e.min,a=e.max,o=e.starAngle,s=e.endAngle;if(t===a)return s;if(t===n)return o;var l=(t-n)/(a-n);a===n&&(l=1);var f=l*(s-o)+o;return f=Math.max(f,o),f=Math.min(f,s),f},drawRing:function(t,e){this.gauge.group.addShape("path",{attrs:(0,u.deepMix)({},{path:t},e)})},drawRect:function(t,e){var n=this.gauge.axis,a=(0,q.__assign)((0,q.__assign)({},n),e),o=a.offset,s=a.length,l=this.gauge.center,f;o<0?f=this.gauge.ringRadius-this.gauge.options.rangeSize+o:f=this.gauge.ringRadius+o;var h=f*Math.cos(t)+l.x,c=f*Math.sin(t)+l.y,v=(f+s)*Math.cos(t)+l.x,x=(f+s)*Math.sin(t)+l.y,A=this.gauge.group.addShape("line",{attrs:(0,u.deepMix)({},{x1:h,y1:c,x2:v,y2:x},e.style)});A.set("name","axis-tickLine")},getPath:function(t,e){var n=this.gauge.center,a=this.gauge.ringRadius,o=this.gauge.options.rangeSize,s=a*Math.cos(t)+n.x,l=a*Math.sin(t)+n.y,f=(a-o)*Math.cos(t)+n.x,h=(a-o)*Math.sin(t)+n.y,c=a*Math.cos(e)+n.x,v=a*Math.sin(e)+n.y,x=(a-o)*Math.cos(e)+n.x,A=(a-o)*Math.sin(e)+n.y,B=Math.abs(t-e)>Math.PI?1:0;return[["M",s,l],["A",a,a,0,B,1,c,v],["L",x,A],["A",a-o,a-o,0,B,0,f,h],["Z"]]},drawPivot:function(t){var e=this.getAngleRange(),n=e.starAngle,a=e.endAngle,o=this.gauge.options,s=o.radius,l=o.rangeSize,f=this.gauge.pivot,h=f.thickness,c=f.thickness/2.5,v=this.gauge.group,x=t.points[0],A=this.parsePoint({x:0,y:0}),B=x.x*(a-n)+n,G=(this.gauge.ringRadius-l)*s*Math.cos(B)+this.gauge.center.x,H=(this.gauge.ringRadius-l)*s*Math.sin(B)+this.gauge.center.y,X={x:G,y:H};if(f.base.visible&&v.addShape("circle",{attrs:(0,u.deepMix)({},{x:A.x,y:A.y,r:f.base.size?f.base.size/2:h*2.2},f.base.style)}),f.pointer.visible){var ut={x:A.x-X.x,y:A.y-X.y},ft=Math.sqrt(ut.x*ut.x+ut.y*ut.y);ut.x*=1/ft,ut.y*=1/ft;var xt=-Math.PI/2,Yt=Math.cos(xt)*ut.x-Math.sin(xt)*ut.y,Kt=Math.sin(xt)*ut.x+Math.cos(xt)*ut.y,te=Math.PI/2,Wt=Math.cos(te)*ut.x-Math.sin(te)*ut.y,ae=Math.sin(te)*ut.x+Math.cos(te)*ut.y,ce=[["M",X.x+Yt*c,X.y+Kt*c],["L",A.x+Yt*h,A.y+Kt*h],["L",A.x+Wt*h,A.y+ae*h],["L",X.x+Wt*c,X.y+ae*c],["Z"]];v.addShape("path",{attrs:(0,u.deepMix)({},{path:ce},f.pointer.style)}),v.addShape("circle",{attrs:{x:X.x,y:X.y,r:c,fill:f.pointer.style.fill}}),v.addShape("circle",{attrs:{x:A.x,y:A.y,r:h,fill:f.pointer.style.fill}})}f.pin.visible&&v.addShape("circle",{attrs:(0,u.deepMix)({},{x:A.x,y:A.y,r:c/1.2},f.pin.style)})}})},i}(),SB={range:"point",statistic:"annotation-text"},CB=si(SB);(0,u.assign)(Qr,CB);var Ty=function(i){(0,q.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.type="gauge",e}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{startAngle:-7/6,endAngle:1/6,rangeBackgroundStyle:{fill:"#f0f0f0"},rangeSize:24,statistic:{position:["50%","80%"]},axis:{visible:!0,offset:-10,tickCount:21,subTickCount:4,tickLine:{visible:!0,length:5,style:{stroke:"#aaa",lineWidth:2}},label:{visible:!0,offset:8,style:{fill:"#aaa",fontSize:16,textAlign:"center",textBaseline:"middle"}}},pivot:{visible:!0,thickness:6,pin:{visible:!0,size:2,style:{fill:"#2E364B"}},base:{visible:!0,style:{fill:"#EEEEEE"}},pointer:{visible:!0,style:{fill:"#CFCFCF"}}}})},r.prototype.init=function(){var t=this.options,e=t.value,n=t.range,a=(n||[]).map(function(A){return+A}).sort(function(A,B){return A-B}),o=this.options,s=o.min,l=s===void 0?a[0]:s,f=o.max,h=f===void 0?a[a.length-1]:f,c=o.format,v=c===void 0?function(A){return""+A}:c,x=v(e);this.options.data=[{value:e||0}],this.options.valueText=x,this.options.min=l,this.options.max=h,this.options.format=v,this.initG2Shape(),i.prototype.init.call(this)},r.prototype.initG2Shape=function(){this.gaugeShape=new Py((0,u.uniqueId)()),this.gaugeShape.setOption(this.type,(0,u.deepMix)({},this.options,{radius:.6,angle:240,textPosition:"100%"})),this.gaugeShape.render()},r.prototype.geometryParser=function(){return"gauge"},r.prototype.scale=function(){var t=this.options,e=t.min,n=t.max,a=t.format,o={value:{}};qn(o.value,{min:e,max:n,minLimit:e,maxLimit:n,nice:!0,formatter:a,tickInterval:20}),this.setConfig("scales",o),i.prototype.scale.call(this)},r.prototype.coord=function(){var t={type:"polar",cfg:{radius:1,startAngle:this.options.startAngle*Math.PI,endAngle:this.options.endAngle*Math.PI}};this.setConfig("coordinate",t)},r.prototype.axis=function(){var t=this.options.axis,e={value:{line:null,grid:null,tickLine:null}},n;t.offset<0?n=t.offset-this.options.rangeSize-t.tickLine.length-t.label.offset:n=t.offset+t.tickLine.length+t.label.offset,t.label.visible?e.value.label={offset:n,textStyle:t.label.style,autoRotate:!0}:e.value.label={style:{opacity:0}},e["1"]=!1,e.value=t.visible?e.value:!1,this.setConfig("axes",e)},r.prototype.addGeometry=function(){var t=this.options.pivot.pointer.style.fill||this.theme.defaultColor,e={type:"point",position:{fields:["value","1"]},shape:{values:["gauge"]},color:{values:[t]}};this.setConfig("geometry",e)},r.prototype.annotation=function(){var t=this.options.statistic,e=[];if(t&&t.visible){var n=this.renderStatistic();e.push(n)}this.setConfig("annotations",e)},r.prototype.renderStatistic=function(){var t=Math.max(this.options.width,this.options.height)/20,e=this.options.statistic,n={type:"text",content:e.text,top:!0,position:e.position,style:{fill:e.color,fontSize:e.size?e.size:t*1.2,textAlign:"center",textBaseline:"middle"}};return n},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,J)},r}(Fn),ph=Ty;Wr("gauge",Ty);var MB=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="gauge",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=ph.getDefaultOptions,r}(Dr),Oy=MB,Ly=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="fanGauge",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{rangeColor:"#F6445A",rangeSize:70,axis:{visible:!0,offset:5,tickCount:10,subTickCount:4,tickLine:{visible:!0,length:3,style:{stroke:"#aaa",lineWidth:3}},label:{visible:!0,style:{fill:"#aaa",fontSize:16,textAlign:"center",textBaseline:"middle"}}}})},r.prototype.initG2Shape=function(){this.gaugeShape=new Py((0,u.uniqueId)()),this.gaugeShape.setOption(this.type,(0,u.deepMix)({},this.options,{radius:1,angle:120,textPosition:"125%",bottomRatio:3.5})),this.gaugeShape.render()},r.prototype.axis=function(){var t={value:!1,1:!1};this.setConfig("axes",t)},r.prototype.annotation=function(){var t=this.options.statistic,e=[];if(t&&t.visible){var n=this.renderStatistic();e.push(n)}var a=this.renderSideText(),o=e.concat(a);this.setConfig("annotations",o)},r.prototype.renderSideText=function(){var t=this.options,e=t.max,n=t.min,a=t.format,o=t.rangeSize,s=t.axis,l=12;return[n,e].map(function(f,h){return{type:"text",top:!0,position:["50%","50%"],content:a(f),style:(0,u.deepMix)({},s.label.style,{textAlign:"center"}),offsetX:h?o:-o,offsetY:l}})},r}(ph),EB=Ly;Wr("fanGauge",Ly);var _B=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="fanGauge",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=EB.getDefaultOptions,r}(Dr),Iy=_B,ky=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="meterGauge",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{axis:{visible:!0,offset:-10,tickCount:25,subTickCount:4,tickLine:{visible:!0,length:2,style:{stroke:"#aaa",lineWidth:1}}}})},r}(ph),AB=ky;Wr("meterGauge",ky);var PB=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="meterGauge",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=AB.getDefaultOptions,r}(Dr),By=PB,TB=d(42473),Wa=d.n(TB),aY=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="donut",i.prototype.createLayers.call(this,e),Wa()(!1,'Please use "Donut" instead of "Ring" which was not recommended.')},r.getDefaultOptions=cy.getDefaultOptions,r}(Dr),oY=null,sY=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="groupedColumn",i.prototype.createLayers.call(this,e),Wa()(!1,'Please use "GroupedColumn" instead of "GroupColumn" which was not recommended.')},r.getDefaultOptions=ih.getDefaultOptions,r}(Dr),lY=null,uY=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="groupedBar",i.prototype.createLayers.call(this,e),Wa()(!1,'Please use "GroupedBar" instead of "GroupBar" which was not recommended.')},r.getDefaultOptions=jp.getDefaultOptions,r}(Dr),fY=null,hY=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="percentStackedArea",i.prototype.createLayers.call(this,e),Wa()(!1,'Please use "PercentStackedArea" instead of "PercentageStackArea" which was not recommended.')},r.getDefaultOptions=cg.getDefaultOptions,r}(Dr),cY=null,vY=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="percentStackedBar",i.prototype.createLayers.call(this,e),Wa()(!1,'Please use "PercentStackedBar" instead of "PercentageStackBar" which was not recommended.')},r.getDefaultOptions=Kp.getDefaultOptions,r}(Dr),dY=null,pY=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="percentStackedColumn",i.prototype.createLayers.call(this,e),Wa()(!1,'Please use "PercentStackedColumn" instead of "PercentageStackColumn" which was not recommended.')},r.getDefaultOptions=Tg.getDefaultOptions,r}(Dr),gY=null,yY=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="stackedArea",i.prototype.createLayers.call(this,e),Wa()(!1,'Please use "StackedArea" instead of "StackArea" which was not recommended.')},r.getDefaultOptions=eh.getDefaultOptions,r}(Dr),mY=null,xY=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="stackedBar",i.prototype.createLayers.call(this,e),Wa()(!1,'Please use "StackedBar" instead of "StackBar" which was not recommended.')},r.getDefaultOptions=Qf.getDefaultOptions,r}(Dr),bY=null,wY=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="stackedColumn",i.prototype.createLayers.call(this,e),Wa()(!1,'Please use "StackedColumn" instead of "StackColumn" which was not recommended.')},r.getDefaultOptions=Bl.getDefaultOptions,r}(Dr),SY=null,OB=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{title:{visible:!1},description:{visible:!1},padding:[0,0,0,0],legend:{visible:!1},xAxis:{visible:!1},yAxis:{visible:!1},tooltip:{visible:!1}})},r.prototype.coord=function(){},r.prototype.addGeometry=function(){},r.prototype.annotation=function(){var t=this,e=this.options,n=[],a={line:{style:{lineWidth:1,stroke:"#66d6a8"}}};(0,u.each)(e.guideLine,function(o){var s=mi("guideLine",{plot:t,cfg:(0,u.deepMix)({},a,o)});n.push(s)}),this.setConfig("annotations",n)},r}(Fn),Vl=OB,LB=function(){function i(r){(0,u.assign)(this,r),this.init()}return i.prototype.destroy=function(){this.shape&&this.shape.destroy()},i.prototype.update=function(r,t,e){var n={};if((0,u.assign)(this,r),this.coord=this.view.geometries[0].coordinate,r.value){var a=this.coord.convert({x:0,y:this.value}).x,o=[1,0,0,0,1,0,a,0,1];n.matrix=o}if(r.style){var s=this.shape,l=s.attrs,f=(0,u.deepMix)({},l,r.style);n=(0,u.deepMix)({},f,n)}this.shape.stopAnimate(),this.shape.animate(n,t,e)},i.prototype.init=function(){this.coord=this.view.geometries[0].coordinate,this.container=this.view.foregroundGroup.addGroup();var r=this.coord.convert({x:0,y:this.value}).x,t=this.coord.center.y-this.progressSize/2-2,e=this.coord.center.y+this.progressSize/2+2,n=(0,u.deepMix)({},{stroke:"grey",lineWidth:1},this.style);this.shape=this.container.addShape("path",{attrs:(0,q.__assign)({path:[["M",0,t],["L",0,e]]},n),name:"progress-marker"}),this.shape.move(r,0),this.canvas.draw()},i}(),Dy=LB,IB={progress:"interval"},kB=si(IB);(0,u.assign)(Qr,kB);var BB={progress:"interval"},DB={interval:"progress"},Fy=["#55A6F3","#E8EDF3"],Ry=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="progress",t.isEntered=!1,t}return r.prototype.processProps=function(){var t=this.options;t.data=this.processData();var e={padding:[0,0,0,0],xField:"value",yField:"1",stackField:"type",barSize:t.size?t.size:this.getSize(),barStyle:t.progressStyle,color:this.parseColorProps(t)||Fy};t=(0,u.mix)(t,e)},r.prototype.init=function(){this.processProps(),i.prototype.init.call(this)},r.prototype.beforeInit=function(){var t=this.options.percent;if(!(0,u.isNumber)(t))throw new Error("Percent value is required, and the type of percent must be Number.")},r.prototype.update=function(t){var e=this.options;if((0,u.hasKey)(t,"percent")&&(e.percent=t.percent,this.changeData(this.processData())),t.style&&(this.styleUpdateAnimation(t.style),this.updateColorConfigByStyle(t.style)),t.color){var n=void 0;(0,u.isArray)(t.color)?(this.options.color=t.color,n=[{fill:t.color[0]},{fill:t.color[1]}]):(this.options.color[0]=t.color,n={fill:t.color}),this.styleUpdateAnimation(n)}t.marker&&(this.updateMarkers(t.marker),this.options.marker=t.marker)},r.prototype.destroy=function(){this.markers&&this.markers.length>0&&((0,u.each)(this.markers,function(t){t.destroy()}),this.markers=[]),i.prototype.destroy.call(this)},r.prototype.afterRender=function(){var t=this;this.options.marker&&!this.markers&&(this.markers=[],(0,u.each)(this.options.marker,function(s){var l=(0,u.mix)({canvas:t.canvas,view:t.view,progressSize:t.options.barSize},s),f=new Dy(l);t.markers.push(f)}));var e=this.view.geometries[0].container,n=e.getBBox(),a=e.addShape("rect",{attrs:{width:n.width,height:n.height,x:n.minX,y:n.minY,fill:"rgba(0,0,0,0)"}});this.canvas.draw(),a.on("mouseenter",function(s){t.isEntered=!0,t.view.emit("progress:mouseenter",s)}),a.on("mouseleave",function(s){t.isEntered=!1,t.view.emit("progress:mouseleave",s)});var o=this.canvas.get("container");o.addEventListener("mouseleave",function(s){t.isEntered&&(t.view.emit("progress:mouseleave",s),t.isEntered=!1)})},r.prototype.geometryParser=function(t,e){return t==="g2"?BB[e]:DB[e]},r.prototype.coord=function(){this.setConfig("coordinate",{actions:[["transpose"]]})},r.prototype.addGeometry=function(){var t=this.options,e=zn("interval","main",{positionFields:[t.yField,t.xField],plot:this});e.adjust=[{type:"stack"}],(0,u.has)(t,"animation")&&(e.animate=t.animation),this.setConfig("geometry",e)},r.prototype.parseEvents=function(t){t?i.prototype.parseEvents.call(this,t):i.prototype.parseEvents.call(this,lt)},r.prototype.parseColorProps=function(t){var e;if(t.color)if((0,u.isFunction)(t.color)?e=t.color(t.percent):e=t.color,(0,u.isString)(e)){var n=(0,u.clone)(Fy);return n[0]=e,n}else return e;return t.color},r.prototype.processData=function(){var t=this.options,e=[{type:"current",value:t.percent},{type:"rest",value:1-t.percent}];return e},r.prototype.updateMarkers=function(t){var e=t.length,n=this.getUpdateAnimationOptions();if((0,u.each)(this.markers,function(f,h){h>e-1?f.destroy():f.update(t[h],n.duration,n.easing)}),this.markers.length<e)for(var a=this.markers.length,o=a;o<e;o++){var s=(0,u.deepMix)({},{canvas:this.canvas,view:this.view,progressSize:this.options.barSize},t[o]),l=new Dy(s);this.markers.push(l)}},r.prototype.getSize=function(){var t=this.height;return t>=50?10:4},r.prototype.styleUpdateAnimation=function(t){var e=this.getUpdateAnimationOptions(),n=e.duration,a=e.easing,o=[],s=this.view,l=s.geometries;(0,u.each)(l,function(f){if(f.type==="interval"){var h=f.elements;(0,u.each)(h,function(c){o.push.apply(o,c.shape)})}}),(0,u.isArray)(t)?(0,u.each)(t,function(f,h){o[h].animate(f,n,a)}):o[0].animate(t,n,a)},r.prototype.getUpdateAnimationOptions=function(){var t=450,e="easeQuadInOut",n=this.options.animation;return n&&n.update&&(n.update.duration&&(t=n.update.duration),n.update.easing&&(e=n.update.easing)),{duration:t,easing:e}},r.prototype.updateColorConfigByStyle=function(t){var e=this;(0,u.isArray)(t)?(0,u.each)(t,function(n,a){n.fill&&(e.options.color[a]=n.fill)}):t.fill&&(this.options.color[0]=t.fill)},r}(Vl),Ny=Ry;Wr("progress",Ry);var FB=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="progress",i.prototype.createLayers.call(this,e)},r.prototype.update=function(t,e){var n=this.layers[0];n.update(t,e)},r.getDefaultOptions=Ny.getDefaultOptions,r}(Dr),Gy=FB,RB={ringProgress:"interval"},NB=si(RB);(0,u.assign)(Qr,NB);var GB=["#55A6F3","#E8EDF3"],Yy=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="ringProgrsss",t}return r.prototype.processProps=function(){var t=this.options;t.data=this.processData();var e={padding:[0,0,0,0],xField:"value",yField:"1",stackField:"type",barStyle:t.progressStyle,color:this.parseColorProps(t)||GB};t=(0,u.mix)(t,e)},r.prototype.coord=function(){var t={type:"theta",cfg:{radius:1,innerRadius:this.getThickness(this.options.size)}};this.setConfig("coordinate",t)},r.prototype.annotation=function(){},r.prototype.addGeometry=function(){var t=this.options;this.ring=zn("interval","main",{positionFields:[t.yField,t.xField],plot:this}),this.ring.adjust=[{type:"stack"}],this.setConfig("geometry",this.ring)},r.prototype.animation=function(){this.ring.animate={appear:{duration:1e3}}},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,rt)},r.prototype.getThickness=function(t){var e=this.width,n=this.height,a=Math.min(e,n);return t?1-t/a:a>=60?1-20/a:1-10/a},r}(Ny),YB=Yy;Wr("ringProgress",Yy);var zB=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="ringProgress",i.prototype.createLayers.call(this,e)},r.prototype.update=function(t){var e=this.layers[0];e.update(t)},r.getDefaultOptions=YB.getDefaultOptions,r}(Dr),zy=zB,XB={onColumnClick:"interval:click",onColumnDblclick:"interval:dblclick",onColumnMousemove:"interval:mousemove",onColumnMousedown:"interval:mousedown",onColumnMouseup:"interval:mouseup",onColumnMouseenter:"interval:mouseenter",onColumnMouseleave:"interval:mouseleave",onColumnContextmenu:"interval:contextmenu"};(0,u.assign)(Qr,XB);var VB=.6,HB={column:"interval"},WB={interval:"column"},Xy=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="tinyColumn",t}return r.prototype.init=function(){this.processProps(),i.prototype.init.call(this)},r.prototype.geometryParser=function(t,e){return t==="g2"?HB[e]:WB[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},this.setConfig("scales",e)},r.prototype.addGeometry=function(){var t=this.options,e=zn("interval","main",{positionFields:[t.xField,t.yField],plot:this});this.setConfig("geometry",e)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,bt)},r.prototype.processProps=function(){var t={padding:[0,0,0,0],columnSize:this.getSize()};this.options=(0,u.mix)(this.options,t)},r.prototype.getSize=function(){var t=this.options,e=this.getColumnNum(t.data,t.xField),n=this.width;return n/e*VB},r.prototype.getColumnNum=function(t,e){var n=[];return(0,u.each)(t,function(a){var o=a[e];n.indexOf(o)<0&&n.push(o)}),n.length},r}(Vl),jB=Xy;Wr("tinyColumn",Xy);var UB=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="tinyColumn",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=jB.getDefaultOptions,r}(Dr),Vy=UB,ZB={onAreaClick:"area:click",onAreaDblclick:"area:dblclick",onAreaMousemove:"area:mousemove",onAreaMousedown:"area:mousedown",onAreaMouseup:"area:mouseup",onAreaMouseenter:"area:mouseenter",onAreaMouseleave:"area:mouseleave",onAreaContextmenu:"area:contextmenu",onLineClick:"line:click",onLineDblclick:"line:dblclick",onLineMousemove:"line:mousemove",onLineMousedown:"line:mousedown",onLineMouseup:"line:mouseup",onLineMouseenter:"line:mouseenter",onLineMouseleave:"line:mouseleave",onLineContextmenu:"line:contextmenu"};(0,u.assign)(Qr,ZB);var KB={area:"area",line:"line"},Hy=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="tinyArea",t}return r.prototype.geometryParser=function(t,e){return KB[e]},r.prototype.addGeometry=function(){this.area=zn("area","mini",{plot:this}),this.setConfig("geometry",this.area),this.line=zn("line","mini",{plot:this}),this.setConfig("geometry",this.line)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,Ot)},r}(Vl),$B=Hy;Wr("tinyArea",Hy);var QB=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="tinyArea",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=$B.getDefaultOptions,r}(Dr),Wy=QB,JB={onLineClick:"line:click",onLineDblclick:"line:dblclick",onLineMousemove:"line:mousemove",onLineMousedown:"line:mousedown",onLineMouseup:"line:mouseup",onLineMouseenter:"line:mouseenter",onLineMouseleave:"line:mouseleave",onLineContextmenu:"line:contextmenu"};(0,u.assign)(Qr,JB);var qB={line:"line"},jy=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="tinyLine",t}return r.prototype.geometryParser=function(t,e){return qB[e]},r.prototype.addGeometry=function(){this.line=zn("line","mini",{plot:this}),this.setConfig("geometry",this.line)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,Bt)},r}(Vl),tD=jy;Wr("tinyLine",jy);var eD=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="tinyLine",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=tD.getDefaultOptions,r}(Dr),Uy=eD,gh=5,rD=function(i){(0,q.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.geomLayers=[],e.legends=[],e.requiredField=["xField","yField"],e.options=e.getOptions(t),e.initialOptions=(0,u.deepMix)({},t),e.themeController=new zf,e}return r.getDefaultOptions=function(){return{title:{visible:!1,alignTo:"left",text:""},description:{visible:!1,text:"",alignTo:"left"}}},r.prototype.getOptions=function(t){var e=this.options||{},n=i.prototype.getOptions.call(this,t),a=this.constructor.getDefaultOptions(t);return(0,u.deepMix)({},n,a,e,t)},r.prototype.checkData=function(){for(var t=this,e,n,a=this.options,o=a.data,s=a.xField,l=a.yField,f=0;f<this.requiredField.length;f++){var h=this.requiredField[f];if(!(0,u.hasKey)(this.options,h))return!1}return!(!(0,u.isArray)(l)||l.length<2||!(0,u.isArray)(o)||o.length===0||((e=o[0])===null||e===void 0?void 0:e.length)===0&&((n=o[1])===null||n===void 0?void 0:n.length)===0||((0,u.each)(o,function(c,v){if(!(0,u.isArray)(c)||c.length===0){var x=t.getMockData(v);o[v]=x}}),!o[0][0][s]||!o[1][0][s]))},r.prototype.init=function(){i.prototype.init.call(this),this.theme=this.themeController.getTheme(this.options,this.type),this.drawTitle(),this.drawDescription()},r.prototype.updateConfig=function(t){this.doDestroy(),this.options=this.getOptions(t),this.processOptions(this.options)},r.prototype.changeData=function(t){t&&t.length<2||!(0,u.isArray)(t[0])||(0,u.each)(this.geomLayers,function(e,n){e.changeData(t[n])})},r.prototype.changeDataByIndex=function(t,e){if(!(0,u.isArray)(t[0])){var n=this.geomLayers[e];n.changeData(t)}},r.prototype.doDestroy=function(){(0,u.each)(this.geomLayers,function(t){t.doDestroy()}),this.geomLayers=[],(0,u.each)(this.legends,function(t){t.destroy()}),this.legends=[]},r.prototype.createLayer=function(t,e,n){var a=this.getViewRange(),o=new t((0,q.__assign)({canvas:this.canvas,container:this.container,x:a.minX,y:a.minY,width:a.width,height:a.height,data:e},n));return this.geomLayers.push(o),o},r.prototype.getLeftYAxisMax=function(){var t=this.getScaleData(0),e=this.getScaleData(1);return t.min==0&&t.max===0?Math.max(e.max,0):t.max},r.prototype.yAxis=function(t){var e=this.getScaleData(0),n=this.options.yAxis,a=t===0?n.leftConfig:n.rightConfig,o=this.colors[t],s=(0,u.clone)(a),l={title:"stroke",line:"stroke",label:"fill",tickLine:"stroke"};a.visible&&a.colorMapping&&(0,u.each)(s,function(h,c){if(!(0,u.isString)(h)&&(0,u.hasKey)(l,c)){var v=l[c];h.style||(h.style={}),h.style[v]=o}}),a.visible||(s.title.visible=!1,s.tickLine.visible=!1,s.label.visible=!1,s.line.visible=!1,s.visible=!0);var f=this.getYAxisGlobalConfig();return t===0&&e.max===0&&e.min===0&&(s.max=this.getLeftYAxisMax()),(0,u.deepMix)({},f,s)},r.prototype.getTicks=function(){for(var t=this.options.yAxis,e=this.getScaleData(0),n=(0,er.getScale)("linear"),a=new n((0,u.deepMix)({},{min:0,max:this.getLeftYAxisMax(),nice:!0,values:e.values},{tickCount:t.tickCount})),o=a.ticks.length,s=t.max?a.max:this.getScaleData(1).max,l=s/(o-1),f=[],h=0;h<o;h++){var c=h*l;Number.isInteger(c)||(c=parseFloat(c.toFixed(1))),f.push(c)}return f},r.prototype.getScaleData=function(t){var e=this.options,n=e.data,a=e.yField,o=e.yAxis,s=[];(0,u.each)(n[t],function(h){s.push(h[a[t]])}),s.sort(function(h,c){return h-c});var l=s[0],f=o.max?o.max:s[s.length-1];return{min:l,max:f,values:s}},r.prototype.getDataByXField=function(t,e){var n=this.options,a=n.data,o=n.xField,s=a[e];return s.filter(function(l){return l[o]===t})},r.prototype.getYAxisGlobalConfig=function(){var t=this.options.yAxis,e=t.min,n=t.max,a=t.tickCount;return{min:e,max:n,tickCount:a}},r.prototype.adjustLayout=function(){var t=this,e,n,a=Ai().bleeding;(0,u.isArray)(a)&&(0,u.each)(a,function(x,A){typeof a[A]=="function"&&(a[A]=a[A](t.options))});var o=this.getViewRange(),s=this.transfromPadding(this.geomLayers[0].options.padding),l=this.transfromPadding(this.geomLayers[1].options.padding),f=0,h,c;((e=this.options.legend)===null||e===void 0?void 0:e.visible)&&(h=this.legends[0].getLayoutBBox(),c=this.legends[1].getLayoutBBox(),f=h.height+gh*2);var v=s.map(function(x,A){return A===0?Math.max.apply(null,[x+f,l[A]]):Math.max.apply(null,[x,l[A]])});this.geomLayers[0].updateConfig({padding:v}),this.geomLayers[0].render(),this.geomLayers[1].updateConfig({padding:v}),this.geomLayers[1].render(),((n=this.options.legend)===null||n===void 0?void 0:n.visible)&&(this.legends[0].setLocation({x:a[3],y:o.minY+gh}),this.legends[1].setLocation({x:o.maxX-a[1]-c.width,y:o.minY+gh}))},r.prototype.transfromPadding=function(t){return typeof t=="string"||typeof t=="number"?[Number(t)]:t},r.prototype.legendFilter=function(t){var e=this,n=this.legends[t],a=n.get("group");a.on("click",function(){var o=n.get("items")[0];o.unchecked?(n.setItemState(o,"unchecked",!1),e.showLayer(t)):(n.setItemState(o,"unchecked",!0),e.hideLayer(t))})},r.prototype.hideLayer=function(t){var e=this.geomLayers[t],n=this.options.yField[t],a=e.view,o=this.getYAxisContainer(a,n);o&&o.set("visible",!1),this.setGeometryVisibility(a,!1),this.canvas.draw()},r.prototype.showLayer=function(t){var e=this.geomLayers[t],n=this.options.yField[t],a=e.view,o=this.getYAxisContainer(a,n);o&&o.set("visible",!0),this.setGeometryVisibility(a,!0),this.canvas.draw()},r.prototype.setGeometryVisibility=function(t,e){(0,u.each)(t.geometries,function(n){var a=n.container,o=n.labelsContainer;a&&a.set("visible",e),o&&o.set("visible",e)})},r.prototype.getYAxisContainer=function(t,e){var n,a=t.controllers.filter(function(l){return(0,u.hasKey)(l,"axisContainer")})[0];if(a){var o=a,s=o.axisContainer.get("children");(0,u.each)(s,function(l){var f=l.get("component").get("field");f===e&&(n=l)})}return n},r.prototype.getUnCheckedValue=function(){var t=[];return(0,u.each)(this.legends,function(e){var n=e.getItemsByState("unchecked");(0,u.each)(n,function(a){t.push(a.name)})}),t},r.prototype.drawTitle=function(){var t=this.options,e=this.layerBBox;if(this.title&&(this.title.destroy(),this.title=null),Go(t.title)){var n=this.width,a=this.theme,o=new gl({leftMargin:e.minX+a.title.padding[3],rightMargin:e.maxX-a.title.padding[1],topMargin:e.minY+a.title.padding[0],text:t.title.text,style:(0,u.mix)(a.title,t.title.style),wrapperWidth:n-a.title.padding[3]-a.title.padding[1],container:this.container.addGroup(),theme:a,index:Go(t.description)?0:1,plot:this,alignTo:t.title.alignTo,name:"title"});this.title=o}},r.prototype.drawDescription=function(){var t=this.options,e=this.layerBBox;if(this.description&&(this.description.destroy(),this.description=null),Go(t.description)){var n=this.width,a=this.theme,o=0;if(this.title){var s=this.title.getBBox();o+=s.minY+s.height,o+=a.description.padding[0]}else o+=e.minY+a.title.padding[0];var l=new gl({leftMargin:e.minX+a.description.padding[3],topMargin:o,rightMargin:e.maxX-a.title.padding[1],text:t.description.text,style:(0,u.mix)(a.description,t.description.style),wrapperWidth:n-a.description.padding[3]-a.description.padding[1],container:this.container.addGroup(),theme:a,index:1,plot:this,alignTo:t.description.alignTo,name:"description"});this.description=l}},r.prototype.getViewRange=function(){this.layerBBox||(this.layerBBox=new Nr(this.x,this.y,this.width,this.height));var t=this.layerBBox.minX,e=this.layerBBox.maxX,n=this.layerBBox.minY,a=this.layerBBox.maxY,o=[this.title,this.description];return(0,u.each)(o,function(s){if(s){var l=s.position,f=s.getBBox(),h=f.minX,c=f.maxX,v=f.minY,x=f.maxY;x>=n&&x<=a&&l==="top"&&(n=x),v>=n&&v<=a&&l==="bottom"&&(a=v),c>t&&c<=e&&l==="left"&&(t=c),h>=t&&c<=e&&l==="right"&&(e=h)}}),new Nr(t,n,e-t,a-n)},r.prototype.getMockData=function(t){var e=this.options,n=e.xField,a=e.yField,o={};return o[n]="null",o[a[t]]=0,[o]},r}(pl),Zy=rD,Ky={lineSize:2,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},$y={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,offset:12}},Qy=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="dualLine",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{legend:{visible:!0},yAxis:{leftConfig:$y,rightConfig:$y},lineConfigs:[(0,u.deepMix)({},Ky,{color:"#5B8FF9"}),(0,u.deepMix)({},Ky,{color:"#e76c5e"})]})},r.prototype.init=function(){var t=this;if(i.prototype.init.call(this),!!this.checkData()){var e=this.options,n=e.data,a=e.meta,o=e.xField,s=e.yField,l=e.xAxis,f=e.tooltip,h=e.lineConfigs,c=e.legend,v=e.events,x=e.customMeta;this.colors=[h[0].color,h[1].color];var A=this.getYAxisGlobalConfig(),B=this.createLayer(Cs,n[0],(0,q.__assign)({meta:a,xField:o,yField:s[0],xAxis:{visible:!1},yAxis:(0,u.deepMix)({},A,{grid:{visible:!1},nice:!0},this.yAxis(0)),tooltip:{visible:!1},events:v},h[0]));B.render();var G={};G[s[1]]={ticks:this.getTicks()};var H=this.createLayer(Cs,n[1],(0,q.__assign)({xField:o,yField:s[1],meta:x?a:(0,u.deepMix)({},a,G),serieField:s[1],xAxis:l,yAxis:(0,u.deepMix)({},A,{position:"right",nice:!1},this.yAxis(1)),tooltip:(0,u.deepMix)({},{showMarkers:!1,custom:{onChange:function(X,ut){t.tooltip(X,ut)}}},f),events:v},h[1]));H.render(),c.visible&&this.customLegend(),this.adjustLayout()}},r.prototype.tooltip=function(t,e){var n=this.getUnCheckedValue();if(n.length===this.colors.length){t.style.display="none";return}else t.style.display="block";var a=this.options,o=a.yField,s=a.legend,l=(0,u.clone)(e.items[0]),f=this.getDataByXField(e.title,0)[0];f&&(0,u.findIndex)(e.items,function(h){return h.name===o[0]})<0&&e.items.push((0,q.__assign)((0,q.__assign)({},l),{mappingData:(0,u.deepMix)({},l.mappingData,{_origin:f}),data:f,name:o[0],value:f[o[0]],color:this.colors[0]})),s.visible&&(0,u.each)(this.legends,function(h,c){var v=h.get("items")[0];if(v.unchecked){var x=c===0?1:0;e.items.splice(x,1)}})},r.prototype.customLegend=function(){var t=this,e=this.options,n=e.yField,a=e.legend,o=this.colors,s=this.container.addGroup(),l=a;(0,u.each)(this.geomLayers,function(f,h){var c=(0,u.deepMix)({},{symbol:"circle",style:{r:4,fill:o[h]}},l.marker),v=[{name:n[h],unchecked:!1,marker:c}],x=new yr.Legend.Category({id:t.type,container:s,x:0,y:0,items:v,updateAutoRender:!0,itemBackground:null,itemName:l.text});x.init(),x.render(),t.legends.push(x)}),(0,u.each)(this.geomLayers,function(f,h){t.legendFilter(h)})},r}(Zy),nD=Qy;Wr("dualLine",Qy);var iD=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="dualLine",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=nD.getDefaultOptions,r}(Dr),Jy=iD,aD={color:"#f5bc32",lineSize:4,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},oD={color:"#5B8FF9"},qy={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},t0=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="columnLine",t.legends=[],t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{leftConfig:qy,rightConfig:qy},lineConfig:aD,columnConfig:oD,legend:{visible:!0}})},r.prototype.beforeInit=function(){var t,e,n=this,a=n.options,o=n.initialOptions;if(a.lineSeriesField&&(a.yAxis.rightConfig.colorMapping=!1,((t=o.lineConfig)===null||t===void 0?void 0:t.lineSize)||(a.lineConfig.lineSize=3),!((e=o.lineConfig)===null||e===void 0?void 0:e.color))){var s=Ai(),l=s.colors,f=s.colors_20,h=this.getValueBySeriesField(),c=h.length>l.length?f:l,v=[];(0,u.each)(h,function(x,A){v.push(c[A+1])}),a.lineConfig.color=v}},r.prototype.init=function(){if(i.prototype.init.call(this),!!this.checkData()){var t=this.options,e=t.data,n=t.meta,a=t.xField,o=t.yField,s=t.lineSeriesField,l=t.legend,f=t.lineConfig,h=t.columnConfig,c=t.events,v=t.customMeta;this.colors=[h.color,f.color],this.drawColumn();var x={};x[o[1]]={ticks:this.getTicks()};var A=this.createLayer(Cs,e[1],(0,q.__assign)({xField:a,yField:o[1],seriesField:s,meta:v?n:(0,u.deepMix)({},n,x),xAxis:{visible:!1},yAxis:(0,u.deepMix)({},{position:"right",grid:{visible:!1},nice:!0},this.yAxis(1)),tooltip:{visible:!1},legend:{visible:!1},events:c},f));A.render(),l.visible&&this.customLegend(),this.adjustLayout()}},r.prototype.drawColumn=function(){var t=this,e=this.options,n=e.data,a=e.xField,o=e.yField,s=e.xAxis,l=e.tooltip,f=e.columnConfig,h=e.meta,c=e.events,v=this.createLayer(Wo,n[0],(0,q.__assign)({xField:a,yField:o[0],meta:h,xAxis:s,yAxis:(0,u.deepMix)({},{grid:{visible:!0},nice:!0},this.yAxis(0)),tooltip:(0,u.deepMix)({},{showMarkers:!1,custom:{onChange:function(x,A){t.tooltip(x,A)}}},l),events:c},f));v.render()},r.prototype.tooltip=function(t,e){var n=this,a=this.options,o=a.xField,s=a.yField,l=a.tooltip,f=(0,u.clone)(e.items[0]),h=this.getDataByXField(e.title,1),c=(0,u.get)(l,"formatter");if(h&&(0,u.each)(h,function(G,H){var X=n.geomLayers[1].options.seriesField,ut=X?G[X]:s[1],ft=c?c(G[o],G[s[1]],G[X]):{name:ut,value:G[s[1]]};e.items.push((0,q.__assign)((0,q.__assign)((0,q.__assign)((0,q.__assign)({},f),{mappingData:(0,u.deepMix)({},f.mappingData,{_origin:h}),data:G}),ft),{color:(0,u.isArray)(n.colors[1])?n.colors[1][H]:n.colors[1]}))}),this.options.legend.visible){var v=this.getUnCheckedValue(),x=this.legends[0].get("items").length+this.legends[1].get("items").length;if(v.length===x){t.style.display="none";return}else t.style.display="block";var A=[],B=[];(0,u.each)(e.items,function(G){var H=G.name;!(0,u.contains)(A,H)&&!(0,u.contains)(v,H)&&(A.push(H),B.push(G))}),(0,u.each)(e.items,function(G,H){H<B.length?e.items[H]=B[H]:e.items.pop()})}},r.prototype.customLegend=function(){var t=this,e=this.options,n=e.yField,a=e.legend,o=this.colors,s=this.container.addGroup(),l=a,f=["square","circle"];(0,u.each)(this.geomLayers,function(h,c){var v;if(h.options.seriesField){var x=t.getValueBySeriesField();v=t.createNormalLegend(x,f[c],o[c],l,s)}else v=t.createSingleLegend(n[c],f[c],o[c],l,s);t.legends.push(v)}),(0,u.each)(this.geomLayers,function(h,c){h.options.seriesField?t.multipleLegendFilter(c,h.options.seriesField):t.legendFilter(c)})},r.prototype.createSingleLegend=function(t,e,n,a,o){var s=(0,u.deepMix)({},{symbol:e,style:{r:4,fill:n}},a.marker),l=[{name:t,unchecked:!1,marker:s}],f=new yr.Legend.Category({id:this.type,container:o,x:0,y:0,items:l,updateAutoRender:!0,itemBackground:null,itemName:a.text});return f.init(),f.render(),f},r.prototype.createNormalLegend=function(t,e,n,a,o){var s=[];(0,u.each)(t,function(f,h){s.push({name:f,unchecked:!1,marker:{symbol:e,style:{r:4,fill:n[h]}}})});var l=new yr.Legend.Category({id:this.type,container:o,x:0,y:0,items:s,updateAutoRender:!0,itemBackground:null,itemName:a.text,offsetX:0});return l.init(),l.render(),l},r.prototype.multipleLegendFilter=function(t,e){var n=this,a=this.legends[t],o=[],s=a.get("group"),l=!1;s.on("click",function(f){var h=n.geomLayers[t].view,c=f.target.get("delegateObject").item;c.unchecked?(l===!0&&(n.showLayer(t),l=!1),(0,u.pull)(o,c.name),h.filter(c.value,function(v){return!(0,u.contains)(o,v)}),h.render(),a.setItemState(c,"unchecked",!1)):(a.setItemState(c,"unchecked",!0),o.push(c.name),o.length===n.legends[t].get("items").length?(n.hideLayer(t),l=!0):(h.filter(e,function(v){return!(0,u.contains)(o,v)}),h.render())),n.canvas.draw()})},r.prototype.getValueBySeriesField=function(){var t=this.options,e=t.lineSeriesField,n=t.data,a=n[1],o=[];return(0,u.each)(a,function(s){var l=s[e];(0,u.contains)(o,l)||o.push(l)}),o},r}(Zy),yh=t0;Wr("columnLine",t0);var sD=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="columnLine",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=yh.getDefaultOptions,r}(Dr),e0=sD,lD={color:"#f5bc32",lineSize:4,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},uD={color:["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"]},r0={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},n0=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="groupedColumnLine",t.requiredField=["xField","yField","columnGroupField"],t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{leftConfig:(0,u.deepMix)({},r0,{colorMapping:!1}),rightConfig:r0},lineConfig:lD,columnConfig:uD,legend:{visible:!0}})},r.prototype.beforeInit=function(){var t,e,n=this,a=n.options,o=n.initialOptions,s=this.getValueByGroupField();if(a.lineSeriesField&&(a.yAxis.rightConfig.colorMapping=!1,((t=o.lineConfig)===null||t===void 0?void 0:t.lineSize)||(a.lineConfig.lineSize=3),!((e=o.lineConfig)===null||e===void 0?void 0:e.color))){var l=Ai(),f=l.colors,h=l.colors_20,c=this.getValueBySeriesField(),v=c.length>f.length?h:f,x=[],A=s.length;(0,u.each)(c,function(G,H){x.push(v[H+A])}),a.lineConfig.color=x}var B=this.options.columnConfig.color;this.options.columnConfig.color=B.slice(0,s.length)},r.prototype.drawColumn=function(){var t=this,e=this.options,n=e.data,a=e.xField,o=e.yField,s=e.columnGroupField,l=e.xAxis,f=e.tooltip,h=e.columnConfig,c=e.events,v=this.createLayer(ih,n[0],(0,q.__assign)({xField:a,yField:o[0],groupField:s,xAxis:l,yAxis:(0,u.deepMix)({},this.yAxis(0),{grid:{visible:!0},nice:!0}),legend:{visible:!1},tooltip:(0,u.deepMix)({},f,{showMarkers:!1,custom:{onChange:function(x,A){t.tooltip(x,A)}}}),events:c},h));v.render()},r.prototype.customLegend=function(){var t=this,e=this.options,n=e.yField,a=e.legend,o=this.colors,s=this.container.addGroup(),l=a,f=["square","circle"];(0,u.each)(this.geomLayers,function(h,c){var v;if(h.options.seriesField){var x=t.getValueBySeriesField();v=t.createNormalLegend(x,f[c],o[c],l,s)}else if(h.options.groupField){var x=t.getValueByGroupField();v=t.createNormalLegend(x,f[c],o[c],l,s)}else v=t.createSingleLegend(n[c],f[c],o[c],l,s);t.legends.push(v)}),(0,u.each)(this.geomLayers,function(h,c){h.options.seriesField?t.multipleLegendFilter(c,h.options.seriesField):h.options.groupField?t.multipleLegendFilter(c,h.options.groupField):t.legendFilter(c)})},r.prototype.getValueByGroupField=function(){var t=this.options,e=t.columnGroupField,n=t.data,a=n[0],o=[];return(0,u.each)(a,function(s){var l=s[e];(0,u.contains)(o,l)||o.push(l)}),o},r.prototype.getMockData=function(t){var e=this.options,n=e.xField,a=e.yField,o=e.columnGroupField,s={};s[n]="null_1",s[a[t]]=0,s[o]="null_a";var l={};return l[n]="null_1",l[a[t]]=1,l[o]="null_a",[s,l]},r}(yh),fD=n0;Wr("groupedColumnLine",n0);var hD=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="groupedColumnLine",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=fD.getDefaultOptions,r}(Dr),i0=hD,cD={color:"#f5bc32",lineSize:4,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},vD={color:["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"]},a0={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},o0=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="groupedColumnLine",t.requiredField=["xField","yField","columnStackField"],t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{leftConfig:(0,u.deepMix)({},a0,{colorMapping:!1}),rightConfig:a0},lineConfig:cD,columnConfig:vD,legend:{visible:!0}})},r.prototype.beforeInit=function(){var t,e,n=this.getValueByStackField(),a=this,o=a.options,s=a.initialOptions;if(o.lineSeriesField&&(o.yAxis.rightConfig.colorMapping=!1,((t=s.lineConfig)===null||t===void 0?void 0:t.lineSize)||(o.lineConfig.lineSize=3),!((e=s.lineConfig)===null||e===void 0?void 0:e.color))){var l=Ai(),f=l.colors,h=l.colors_20,c=this.getValueBySeriesField(),v=c.length>f.length?h:f,x=[],A=n.length;(0,u.each)(c,function(G,H){x.push(v[H+A])}),o.lineConfig.color=x}var B=this.options.columnConfig.color;this.options.columnConfig.color=B.slice(0,n.length)},r.prototype.drawColumn=function(){var t=this,e=this.options,n=e.data,a=e.xField,o=e.yField,s=e.columnStackField,l=e.xAxis,f=e.tooltip,h=e.columnConfig,c=e.events,v=this.createLayer(Bl,n[0],(0,q.__assign)({xField:a,yField:o[0],stackField:s,xAxis:l,yAxis:(0,u.deepMix)({},this.yAxis(0),{grid:{visible:!0},nice:!0}),legend:{visible:!1},tooltip:(0,u.deepMix)({},f,{showMarkers:!1,custom:{onChange:function(x,A){t.tooltip(x,A)}}}),events:c},h));v.render()},r.prototype.customLegend=function(){var t=this,e=this.options,n=e.yField,a=e.legend,o=this.colors,s=this.container.addGroup(),l=a,f=["square","circle"];(0,u.each)(this.geomLayers,function(h,c){var v;if(h.options.seriesField){var x=t.getValueBySeriesField();v=t.createNormalLegend(x,f[c],o[c],l,s)}else if(h.options.stackField){var x=t.getValueByStackField();v=t.createNormalLegend(x,f[c],o[c],l,s)}else v=t.createSingleLegend(n[c],f[c],o[c],l,s);t.legends.push(v)}),(0,u.each)(this.geomLayers,function(h,c){h.options.seriesField?t.multipleLegendFilter(c,h.options.seriesField):h.options.stackField?t.multipleLegendFilter(c,h.options.stackField):t.legendFilter(c)})},r.prototype.getValueByStackField=function(){var t=this.options,e=t.columnStackField,n=t.data,a=n[0],o=[];return(0,u.each)(a,function(s){var l=s[e];(0,u.contains)(o,l)||o.push(l)}),o},r.prototype.getUnCheckedValue=function(){var t=[];return(0,u.each)(this.legends,function(e){var n=e.getItemsByState("unchecked");(0,u.each)(n,function(a){t.push(a.name)})}),t},r.prototype.getMockData=function(t){var e=this.options,n=e.xField,a=e.yField,o=e.columnStackField,s={};s[n]="null_1",s[a[t]]=0,s[o]="null_a";var l={};return l[n]="null_1",l[a[t]]=1,l[o]="null_a",[s,l]},r}(yh),dD=o0;Wr("stackedColumnLine",o0);var pD=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="stackedColumnLine",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=dD.getDefaultOptions,r}(Dr),s0=pD,gD=function(r){return r.charAt(0).toUpperCase()+r.slice(1).replace(/-(\w)/g,function(t,e){return e.toUpperCase()})},CY=function(r,t){return JSON.stringify(r)===JSON.stringify(t)},yD=function(r,t){return new Set(r.concat(t)).size===r.length},mD=function(r,t){var e={}.toString;return e.call(r)==="[object "+t+"]"},xD=function(r){if(!r)return r;var t={};for(var e in r)t[e]=r[e];return t},As={sameArray:yD,camelCase:gD,isType:mD,clone:xD},bD=d(73935),wD=function(r){var t=document.createElement("div");return t.className="g2-tooltip eva-charts-tootip",bD.render(r,t),t},mh=wD;function l0(i,r){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(i);r&&(e=e.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,e)}return t}function SD(i){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?l0(Object(t),!0).forEach(function(e){CD(i,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):l0(Object(t)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(t,e))})}return i}function CD(i,r,t){return r in i?Object.defineProperty(i,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[r]=t,i}function Ur(i,r){var t=(0,R.useRef)(),e=(0,R.useRef)(null),n=function(){var l,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"image/png",h=arguments.length>1?arguments[1]:void 0;return(l=t.current)===null||l===void 0?void 0:l.canvas.cfg.el.toDataURL(f,h)},a=function(l){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"image/png",h=arguments.length>2?arguments[2]:void 0;try{var c;l&&l.indexOf(".")===-1&&(l="".concat(l,".png"));var v=l;if(!v){var x,A=r;v="".concat((A==null||(x=A.title)===null||x===void 0?void 0:x.text)||(i==null?void 0:i.name),".png")}var B=(c=t.current)===null||c===void 0?void 0:c.canvas.cfg.el.toDataURL(f,h),G=document.createElement("a");G.href=B,G.download=v,document.body.appendChild(G),G.click(),document.body.removeChild(G),G=null}catch(H){console.log(H)}},o=function(){var l,f,h,c,v;if((l=r.statistic)===null||l===void 0?void 0:l.htmlContent){var x=r.statistic.htmlContent;r.statistic.htmlContent=function(){var B=x.apply(void 0,arguments);return As.isType(B,"String")||As.isType(B,"Number")||As.isType(B,"HTMLDivElement")?B:mh(B)}}if(((f=r.tooltip)===null||f===void 0||(h=f.custom)===null||h===void 0?void 0:h.container)&&(r.tooltip.custom.container=mh(r.tooltip.custom.container)),(c=r.tooltip)===null||c===void 0||(v=c.custom)===null||v===void 0?void 0:v.customContent){var A=r.tooltip.custom.customContent;r.tooltip.custom.customContent=function(B,G){var H=A(B,G)||"";return As.isType(H,"HTMLDivElement")?H:mh(H)}}};return(0,R.useEffect)(function(){t.current&&(r.onlyChangeData?t.current.changeData((r==null?void 0:r.data)||[]):(o(),t.current.updateConfig(r),t.current.render()))},[(r==null?void 0:r.memoData)?r.memoData:JSON.stringify(r)]),(0,R.useEffect)(function(){if(!e.current)return function(){return null};o();var s=new i(e.current,SD({},r));return s.__proto__.toDataURL=function(l,f){return n(l,f)},s.__proto__.downloadImage=function(l,f,h){return a(l,f,h)},s.render(),t.current=As.clone(s),function(){return s.destroy()}},[]),{chart:t,container:e,toDataURL:n,downloadImage:a}}var MD=R.createContext({});function Hl(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Hl=function(t){return typeof t}:Hl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hl(i)}function ED(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")}function u0(i,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(i,e.key,e)}}function _D(i,r,t){return r&&u0(i.prototype,r),t&&u0(i,t),i}function AD(i,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(r&&r.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),r&&xh(i,r)}function xh(i,r){return xh=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},xh(i,r)}function PD(i){var r=LD();return function(){var e=Wl(i),n;if(r){var a=Wl(this).constructor;n=Reflect.construct(e,arguments,a)}else n=e.apply(this,arguments);return TD(this,n)}}function TD(i,r){return r&&(Hl(r)==="object"||typeof r=="function")?r:OD(i)}function OD(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function LD(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(i){return!1}}function Wl(i){return Wl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Wl(i)}var ID=function(i){AD(t,i);var r=PD(t);function t(){var e;return ED(this,t),e=r.apply(this,arguments),e.state={hasError:!1},e.renderError=function(n){switch(n){default:return R.createElement("h5",null,"\u7EC4\u4EF6\u51FA\u9519\u4E86\uFF0C\u8BF7\u6838\u67E5\u540E\u91CD\u8BD5\uFF1A ",n.message)}},e}return _D(t,[{key:"render",value:function(){return this.state.hasError?this.renderError(this.state.error):this.props.children}}],[{key:"getDerivedStateFromError",value:function(n){return{hasError:!0,error:n}}},{key:"getDerivedStateFromProps",value:function(n,a){return a.children!==n.children?{children:n.children,hasError:!1,error:void 0}:null}}]),t}(R.Component),Vr=ID,MY=MD.Provider;function kD(i,r){if(i==null)return{};var t=BD(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function BD(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var f0=(0,R.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=kD(i,["chartRef","style","className"]),s=Ur(sg,o),l=s.chart,f=s.container;return(0,R.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,R.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),R.createElement(Vr,null,R.createElement("div",{className:a,style:n,ref:f}))});f0.defaultProps=sg.getDefaultOptions();var DD=f0;function FD(i,r){if(i==null)return{};var t=RD(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function RD(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var h0=(0,R.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=FD(i,["chartRef","style","className"]),s=Ur(Xp,o),l=s.chart,f=s.container;return(0,R.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,R.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),R.createElement(Vr,null,R.createElement("div",{className:a,style:n,ref:f}))});h0.defaultProps=Xp.getDefaultOptions();var ND=h0;function GD(i,r){if(i==null)return{};var t=YD(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function YD(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var c0=(0,R.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=GD(i,["chartRef","style","className"]),s=Ur(wy,o),l=s.chart,f=s.container;return(0,R.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,R.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),R.createElement(Vr,null,R.createElement("div",{className:a,style:n,ref:f}))});c0.defaultProps=wy.getDefaultOptions();var zD=c0;function XD(i,r){if(i==null)return{};var t=VD(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function VD(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var v0=(0,R.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=XD(i,["chartRef","style","className"]),s=Ur(Cy,o),l=s.chart,f=s.container;return(0,R.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,R.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),R.createElement(Vr,null,R.createElement("div",{className:a,style:n,ref:f}))});v0.defaultProps=Cy.getDefaultOptions();var HD=v0;function WD(i,r){if(i==null)return{};var t=jD(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function jD(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var UD=(0,R.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=WD(i,["chartRef","style","className"]),s=Ur(wB,o),l=s.chart,f=s.container;return(0,R.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,R.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),R.createElement(Vr,null,R.createElement("div",{className:a,style:n,ref:f}))}),ZD=UD;function KD(i,r){if(i==null)return{};var t=$D(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function $D(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var d0=(0,R.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=KD(i,["chartRef","style","className"]),s=Ur(yg,o),l=s.chart,f=s.container;return(0,R.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,R.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),R.createElement(Vr,null,R.createElement("div",{className:a,style:n,ref:f}))});d0.defaultProps=yg.getDefaultOptions();var p0=d0;function QD(i,r){if(i==null)return{};var t=JD(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function JD(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var g0=(0,R.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=QD(i,["chartRef","style","className"]),s=Ur(e0,o),l=s.chart,f=s.container;return(0,R.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,R.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),R.createElement(Vr,null,R.createElement("div",{className:a,style:n,ref:f}))});g0.defaultProps=e0.getDefaultOptions();var qD=g0;function t5(i,r){if(i==null)return{};var t=e5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function e5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var y0=(0,R.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=t5(i,["chartRef","style","className"]),s=Ur(Gg,o),l=s.chart,f=s.container;return(0,R.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,R.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),R.createElement(Vr,null,R.createElement("div",{className:a,style:n,ref:f}))});y0.defaultProps=Gg.getDefaultOptions();var r5=y0;function n5(i,r){if(i==null)return{};var t=i5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function i5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var m0=(0,R.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=n5(i,["chartRef","style","className"]),s=Ur(vy,o),l=s.chart,f=s.container;return(0,R.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,R.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),R.createElement(Vr,null,R.createElement("div",{className:a,style:n,ref:f}))});m0.defaultProps=vy.getDefaultOptions();var x0=m0;function a5(i,r){if(i==null)return{};var t=o5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function o5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var b0=(0,R.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=a5(i,["chartRef","style","className"]),s=Ur(Jy,o),l=s.chart,f=s.container;return(0,R.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,R.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),R.createElement(Vr,null,R.createElement("div",{className:a,style:n,ref:f}))});b0.defaultProps=Jy.getDefaultOptions();var s5=b0;function l5(i,r){if(i==null)return{};var t=u5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function u5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var w0=(0,R.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=l5(i,["chartRef","style","className"]),s=Ur(Iy,o),l=s.chart,f=s.container;return(0,R.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,R.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),R.createElement(Vr,null,R.createElement("div",{className:a,style:n,ref:f}))});w0.defaultProps=Iy.getDefaultOptions();var f5=w0;function h5(i,r){if(i==null)return{};var t=c5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function c5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var v5=(0,R.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=h5(i,["chartRef","style","className"]),s=Ur(wI,o),l=s.chart,f=s.container;return(0,R.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,R.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),R.createElement(Vr,null,R.createElement("div",{className:a,style:n,ref:f}))}),d5=v5;function p5(i,r){if(i==null)return{};var t=g5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function g5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var S0=(0,R.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=p5(i,["chartRef","style","className"]),s=Ur(Oy,o),l=s.chart,f=s.container;return(0,R.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,R.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),R.createElement(Vr,null,R.createElement("div",{className:a,style:n,ref:f}))});S0.defaultProps=Oy.getDefaultOptions();var C0=S0;function y5(i,r){if(i==null)return{};var t=m5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function m5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var M0=(0,R.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=y5(i,["chartRef","style","className"]),s=Ur(Up,o),l=s.chart,f=s.container;return(0,R.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,R.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),R.createElement(Vr,null,R.createElement("div",{className:a,style:n,ref:f}))});M0.defaultProps=Up.getDefaultOptions();var x5=M0;function b5(i,r){if(i==null)return{};var t=w5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function w5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var E0=(0,R.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=b5(i,["chartRef","style","className"]),s=Ur(xg,o),l=s.chart,f=s.container;return(0,R.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,R.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),R.createElement(Vr,null,R.createElement("div",{className:a,style:n,ref:f}))});E0.defaultProps=xg.getDefaultOptions();var S5=E0;function C5(i,r){if(i==null)return{};var t=M5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function M5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var _0=(0,R.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=C5(i,["chartRef","style","className"]),s=Ur(i0,o),l=s.chart,f=s.container;return(0,R.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,R.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),R.createElement(Vr,null,R.createElement("div",{className:a,style:n,ref:f}))});_0.defaultProps=i0.getDefaultOptions();var E5=_0;function _5(i,r){if(i==null)return{};var t=A5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function A5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var A0=(0,R.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=_5(i,["chartRef","style","className"]),s=Ur(qg,o),l=s.chart,f=s.container;return(0,R.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,R.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),R.createElement(Vr,null,R.createElement("div",{className:a,style:n,ref:f}))});A0.defaultProps=qg.getDefaultOptions();var P5=A0;function T5(i,r){if(i==null)return{};var t=O5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function O5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var P0=(0,R.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=T5(i,["chartRef","style","className"]),s=Ur(Vg,o),l=s.chart,f=s.container;return(0,R.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,R.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),R.createElement(Vr,null,R.createElement("div",{className:a,style:n,ref:f}))});P0.defaultProps=Vg.getDefaultOptions();var L5=P0;function I5(i,r){if(i==null)return{};var t=k5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function k5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var T0=(0,R.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=I5(i,["chartRef","style","className"]),s=Ur(uy,o),l=s.chart,f=s.container;return(0,R.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,R.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),R.createElement(Vr,null,R.createElement("div",{className:a,style:n,ref:f}))});T0.defaultProps=uy.getDefaultOptions();var B5=T0;function D5(i,r){if(i==null)return{};var t=F5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function F5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var O0=(0,R.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=D5(i,["chartRef","style","className"]),s=Ur(Sp,o),l=s.chart,f=s.container;return(0,R.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,R.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),R.createElement(Vr,null,R.createElement("div",{className:a,style:n,ref:f}))});O0.defaultProps=Sp.getDefaultOptions();var L0=O0;function R5(i,r){if(i==null)return{};var t=N5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function N5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var I0=(0,R.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=R5(i,["chartRef","style","className"]),s=Ur(sy,o),l=s.chart,f=s.container;return(0,R.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,R.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),R.createElement(Vr,null,R.createElement("div",{className:a,style:n,ref:f}))});I0.defaultProps=sy.getDefaultOptions();var k0=I0;function G5(i,r){if(i==null)return{};var t=Y5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function Y5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var B0=(0,R.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=G5(i,["chartRef","style","className"]),s=Ur(By,o),l=s.chart,f=s.container;return(0,R.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,R.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),R.createElement(Vr,null,R.createElement("div",{className:a,style:n,ref:f}))});B0.defaultProps=By.getDefaultOptions();var z5=B0;function X5(i,r){if(i==null)return{};var t=V5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function V5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var D0=(0,R.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=X5(i,["chartRef","style","className"]),s=Ur(vg,o),l=s.chart,f=s.container;return(0,R.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,R.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),R.createElement(Vr,null,R.createElement("div",{className:a,style:n,ref:f}))});D0.defaultProps=vg.getDefaultOptions();var H5=D0;function W5(i,r){if(i==null)return{};var t=j5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function j5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var F0=(0,R.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=W5(i,["chartRef","style","className"]),s=Ur($p,o),l=s.chart,f=s.container;return(0,R.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,R.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),R.createElement(Vr,null,R.createElement("div",{className:a,style:n,ref:f}))});F0.defaultProps=$p.getDefaultOptions();var U5=F0;function Z5(i,r){if(i==null)return{};var t=K5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function K5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var R0=(0,R.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=Z5(i,["chartRef","style","className"]),s=Ur(Og,o),l=s.chart,f=s.container;return(0,R.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,R.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),R.createElement(Vr,null,R.createElement("div",{className:a,style:n,ref:f}))});R0.defaultProps=Og.getDefaultOptions();var $5=R0;function Q5(i,r){if(i==null)return{};var t=J5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function J5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var N0=(0,R.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=Q5(i,["chartRef","style","className"]),s=Ur(Fg,o),l=s.chart,f=s.container;return(0,R.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,R.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),R.createElement(Vr,null,R.createElement("div",{className:a,style:n,ref:f}))});N0.defaultProps=Fg.getDefaultOptions();var q5=N0;function tF(i,r){if(i==null)return{};var t=eF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function eF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var G0=(0,R.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=tF(i,["chartRef","style","className"]),s=Ur(Gy,o),l=s.chart,f=s.container;return(0,R.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,R.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),R.createElement(Vr,null,R.createElement("div",{className:a,style:n,ref:f}))});G0.defaultProps=Gy.getDefaultOptions();var Y0=G0;function rF(i,r){if(i==null)return{};var t=nF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function nF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var z0=(0,R.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=rF(i,["chartRef","style","className"]),s=Ur(ey,o),l=s.chart,f=s.container;return(0,R.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,R.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),R.createElement(Vr,null,R.createElement("div",{className:a,style:n,ref:f}))});z0.defaultProps=ey.getDefaultOptions();var X0=z0;function iF(i,r){if(i==null)return{};var t=aF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function aF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var V0=(0,R.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=iF(i,["chartRef","style","className"]),s=Ur(rg,o),l=s.chart,f=s.container;return(0,R.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,R.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),R.createElement(Vr,null,R.createElement("div",{className:a,style:n,ref:f}))});V0.defaultProps=rg.getDefaultOptions();var oF=V0;function sF(i,r){if(i==null)return{};var t=lF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function lF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var H0=(0,R.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=sF(i,["chartRef","style","className"]),s=Ur(Ag,o),l=s.chart,f=s.container;return(0,R.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,R.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),R.createElement(Vr,null,R.createElement("div",{className:a,style:n,ref:f}))});H0.defaultProps=Ag.getDefaultOptions();var uF=H0;function fF(i,r){if(i==null)return{};var t=hF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function hF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var W0=(0,R.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=fF(i,["chartRef","style","className"]),s=Ur(zy,o),l=s.chart,f=s.container;return(0,R.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,R.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),R.createElement(Vr,null,R.createElement("div",{className:a,style:n,ref:f}))});W0.defaultProps=zy.getDefaultOptions();var j0=W0;function cF(i,r){if(i==null)return{};var t=vF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function vF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var U0=(0,R.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=cF(i,["chartRef","style","className"]),s=Ur(Wg,o),l=s.chart,f=s.container;return(0,R.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,R.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),R.createElement(Vr,null,R.createElement("div",{className:a,style:n,ref:f}))});U0.defaultProps=Wg.getDefaultOptions();var dF=U0;function pF(i,r){if(i==null)return{};var t=gF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function gF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Z0=(0,R.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=pF(i,["chartRef","style","className"]),s=Ur(xy,o),l=s.chart,f=s.container;return(0,R.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,R.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),R.createElement(Vr,null,R.createElement("div",{className:a,style:n,ref:f}))});Z0.defaultProps=xy.getDefaultOptions();var yF=Z0;function mF(i,r){if(i==null)return{};var t=xF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function xF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var K0=(0,R.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=mF(i,["chartRef","style","className"]),s=Ur(fg,o),l=s.chart,f=s.container;return(0,R.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,R.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),R.createElement(Vr,null,R.createElement("div",{className:a,style:n,ref:f}))});K0.defaultProps=fg.getDefaultOptions();var bF=K0;function wF(i,r){if(i==null)return{};var t=SF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function SF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var $0=(0,R.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=wF(i,["chartRef","style","className"]),s=Ur(Hp,o),l=s.chart,f=s.container;return(0,R.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,R.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),R.createElement(Vr,null,R.createElement("div",{className:a,style:n,ref:f}))});$0.defaultProps=Hp.getDefaultOptions();var CF=$0;function MF(i,r){if(i==null)return{};var t=EF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function EF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Q0=(0,R.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=MF(i,["chartRef","style","className"]),s=Ur(Sg,o),l=s.chart,f=s.container;return(0,R.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,R.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),R.createElement(Vr,null,R.createElement("div",{className:a,style:n,ref:f}))});Q0.defaultProps=Sg.getDefaultOptions();var _F=Q0;function AF(i,r){if(i==null)return{};var t=PF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function PF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var J0=(0,R.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=AF(i,["chartRef","style","className"]),s=Ur(s0,o),l=s.chart,f=s.container;return(0,R.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,R.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),R.createElement(Vr,null,R.createElement("div",{className:a,style:n,ref:f}))});J0.defaultProps=s0.getDefaultOptions();var TF=J0;function OF(i,r){if(i==null)return{};var t=LF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function LF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var q0=(0,R.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=OF(i,["chartRef","style","className"]),s=Ur(Qg,o),l=s.chart,f=s.container;return(0,R.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,R.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),R.createElement(Vr,null,R.createElement("div",{className:a,style:n,ref:f}))});q0.defaultProps=Qg.getDefaultOptions();var IF=q0;function kF(i,r){if(i==null)return{};var t=BF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function BF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var tm=(0,R.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=kF(i,["chartRef","style","className"]),s=Ur(Dp,o),l=s.chart,f=s.container;return(0,R.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,R.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),R.createElement(Vr,null,R.createElement("div",{className:a,style:n,ref:f}))});tm.defaultProps=Dp.getDefaultOptions();var DF=tm;function FF(i,r){if(i==null)return{};var t=RF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function RF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var em=(0,R.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=FF(i,["chartRef","style","className"]),s=Ur(Wy,o),l=s.chart,f=s.container;return(0,R.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,R.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),R.createElement(Vr,null,R.createElement("div",{className:a,style:n,ref:f}))});em.defaultProps=Wy.getDefaultOptions();var rm=em;function NF(i,r){if(i==null)return{};var t=GF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function GF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var nm=(0,R.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=NF(i,["chartRef","style","className"]),s=Ur(Vy,o),l=s.chart,f=s.container;return(0,R.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,R.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),R.createElement(Vr,null,R.createElement("div",{className:a,style:n,ref:f}))});nm.defaultProps=Vy.getDefaultOptions();var im=nm;function YF(i,r){if(i==null)return{};var t=zF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function zF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var am=(0,R.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=YF(i,["chartRef","style","className"]),s=Ur(Uy,o),l=s.chart,f=s.container;return(0,R.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,R.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),R.createElement(Vr,null,R.createElement("div",{className:a,style:n,ref:f}))});am.defaultProps=Uy.getDefaultOptions();var XF=am;function VF(i,r){if(i==null)return{};var t=HF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function HF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var om=(0,R.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=VF(i,["chartRef","style","className"]),s=Ur(kp,o),l=s.chart,f=s.container;return(0,R.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,R.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),R.createElement(Vr,null,R.createElement("div",{className:a,style:n,ref:f}))});om.defaultProps=kp.getDefaultOptions();var WF=om;function jF(i,r){if(i==null)return{};var t=UF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function UF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var sm=(0,R.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=jF(i,["chartRef","style","className"]),s=Ur(gy,o),l=s.chart,f=s.container;return(0,R.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,R.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),R.createElement(Vr,null,R.createElement("div",{className:a,style:n,ref:f}))});sm.defaultProps=gy.getDefaultOptions();var ZF=sm;function KF(i,r){if(i==null)return{};var t=$F(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function $F(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var QF=(0,R.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=KF(i,["chartRef","style","className"]),s=Ur(oI,o),l=s.chart,f=s.container;return(0,R.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,R.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),R.createElement(Vr,null,R.createElement("div",{className:a,style:n,ref:f}))}),lm=QF,JF={i8:"3.8.5"},Nn=d(50229),qF={getDefaultCfg:function(){return{}},getEvents:function(){return{}},shouldBegin:function(){return!0},shouldUpdate:function(){return!0},shouldEnd:function(){return!0},bind:function(r){var t=this,e=this.events;this.graph=r,(this.type==="drag-canvas"||this.type==="brush-select"||this.type==="lasso-select")&&r.get("canvas").set("draggable",!0),(0,xn.default)(e,function(n,a){r.on(a,n)}),document.addEventListener("visibilitychange",function(){t.keydown=!1})},unbind:function(r){var t=this.events;(this.type==="drag-canvas"||this.type==="brush-select"||this.type==="lasso-select")&&r.get("canvas").set("draggable",!1),(0,xn.default)(t,function(e,n){r.off(n,e)})},get:function(r){return this[r]},set:function(r,t){return this[r]=t,this}},tR=function(){function i(){}return i.registerBehavior=function(r,t){if(!t)throw new Error("please specify handler for this behavior: "+r);var e=(0,Nn.d9)(qF);Object.assign(e,t);var n=function(o){var s=this;Object.assign(this,this.getDefaultCfg(),o);var l=this.getEvents();this.events=null;var f={};l&&((0,Nn.S6)(l,function(h,c){f[c]=(0,Nn.Ko)(s,h)}),this.events=f)};n.prototype=e,i.types[r]=n},i.hasBehavior=function(r){return!!i.types[r]},i.getBehavior=function(r){return i.types[r]},i.types={},i}(),bh=tR,wh;(function(i){i.CLICK="click",i.DBLCLICK="dblclick",i.MOUSEDOWN="mousedown",i.MOUDEUP="mouseup",i.CONTEXTMENU="contextmenu",i.MOUSEENTER="mouseenter",i.MOUSEOUT="mouseout",i.MOUSEOVER="mouseover",i.MOUSEMOVE="mousemove",i.MOUSELEAVE="mouseleave",i.DRAGSTART="dragstart",i.DRAGEND="dragend",i.DRAG="drag",i.DRAGENTER="dragenter",i.DRAGLEAVE="dragleave",i.DRAGOVER="dragover",i.DRAGOUT="dragout",i.DDROP="drop",i.KEYUP="keyup",i.KEYDOWN="keydown",i.WHEEL="wheel",i.FOCUS="focus",i.BLUR="blur",i.TOUCHSTART="touchstart",i.TOUCHMOVE="touchmove",i.TOUCHEND="touchend",i.NODE_CONTEXTMENU="node:contextmenu",i.NODE_CLICK="node:click",i.NODE_DBLCLICK="node:dblclick",i.NODE_MOUSEDOWN="node:mousedown",i.NODE_MOUSEUP="node:mouseup",i.NODE_MOUSEENTER="node:mouseenter",i.NODE_MOUSELEAVE="node:mouseleave",i.NODE_MOUSEMOVE="node:mousemove",i.NODE_MOUSEOUT="node:mouseout",i.NODE_MOUSEOVER="node:mouseover",i.NODE_DROP="node:drop",i.NODE_DRAGOVER="node:dragover",i.NODE_DRAGENTER="node:dragenter",i.NODE_DRAGLEAVE="node:dragleave",i.NODE_DRAGSTART="node:dragstart",i.NODE_DRAG="node:drag",i.NODE_DRAGEND="node:dragend",i.COMBO_CONTEXTMENU="combo:contextmenu",i.COMBO_CLICK="combo:click",i.COMBO_DBLCLICK="combo:dblclick",i.COMBO_MOUSEDOWN="combo:mousedown",i.COMBO_MOUSEUP="combo:mouseup",i.COMBO_MOUSEENTER="combo:mouseenter",i.COMBO_MOUSELEAVE="combo:mouseleave",i.COMBO_MOUSEMOVE="combo:mousemove",i.COMBO_MOUSEOUT="combo:mouseout",i.COMBO_MOUSEOVER="combo:mouseover",i.COMBO_DROP="combo:drop",i.COMBO_DRAGOVER="combo:dragover",i.COMBO_DRAGENTER="combo:dragenter",i.COMBO_DRAGLEAVE="combo:dragleave",i.COMBO_DRAGSTART="combo:dragstart",i.COMBO_DRAG="combo:drag",i.COMBO_DRAGEND="combo:dragend",i.EDGE_CONTEXTMENU="edge:contextmenu",i.EDGE_CLICK="edge:click",i.EDGE_DBLCLICK="edge:dblclick",i.EDGE_MOUSEDOWN="edge:mousedown",i.EDGE_MOUSEUP="edge:mouseup",i.EDGE_MOUSEENTER="edge:mouseenter",i.EDGE_MOUSELEAVE="edge:mouseleave",i.EDGE_MOUSEMOVE="edge:mousemove",i.EDGE_MOUSEOUT="edge:mouseout",i.EDGE_MOUSEOVER="edge:mouseover",i.EDGE_DROP="edge:drop",i.EDGE_DRAGOVER="edge:dragover",i.EDGE_DRAGENTER="edge:dragenter",i.EDGE_DRAGLEAVE="edge:dragleave",i.CANVAS_CONTEXTMENU="canvas:contextmenu",i.CANVAS_CLICK="canvas:click",i.CANVAS_DBLCLICK="canvas:dblclick",i.CANVAS_MOUSEDOWN="canvas:mousedown",i.CANVAS_MOUSEUP="canvas:mouseup",i.CANVAS_MOUSEENTER="canvas:mouseenter",i.CANVAS_MOUSELEAVE="canvas:mouseleave",i.CANVAS_MOUSEMOVE="canvas:mousemove",i.CANVAS_MOUSEOUT="canvas:mouseout",i.CANVAS_MOUSEOVER="canvas:mouseover",i.CANVAS_DROP="canvas:drop",i.CANVAS_DRAGENTER="canvas:dragenter",i.CANVAS_DRAGLEAVE="canvas:dragleave",i.CANVAS_DRAGSTART="canvas:dragstart",i.CANVAS_DRAG="canvas:drag",i.CANVAS_DRAGEND="canvas:dragend",i.BEFORERENDER="beforerender",i.AFTERRENDER="afterrender",i.BEFOREADDITEM="beforeadditem",i.AFTERADDITEM="afteradditem",i.BEFOREREMOVEITEM="beforeremoveitem",i.AFTERREMOVEITEM="afterremoveitem",i.BEFOREUPDATEITEM="beforeupdateitem",i.AFTERUPDATEITEM="afterupdateitem",i.BEFOREITEMVISIBILITYCHANGE="beforeitemvisibilitychange",i.AFTERITEMVISIBILITYCHANGE="afteritemvisibilitychange",i.BEFOREITEMSTATECHANGE="beforeitemstatechange",i.AFTERITEMSTATECHANGE="afteritemstatechange",i.BEFOREITEMREFRESH="beforeitemrefresh",i.AFTERITEMREFRESH="afteritemrefresh",i.BEFOREITEMSTATESCLEAR="beforeitemstatesclear",i.AFTERITEMSTATESCLEAR="afteritemstatesclear",i.BEFOREMODECHANGE="beforemodechange",i.AFTERMODECHANGE="aftermodechange",i.BEFORELAYOUT="beforelayout",i.AFTERLAYOUT="afterlayout",i.BEFORECREATEEDGE="beforecreateedge",i.AFTERCREATEEDGE="aftercreateedge",i.BEFOREGRAPHREFRESHPOSITION="beforegraphrefreshposition",i.AFTERGRAPHREFRESHPOSITION="aftergraphrefreshposition",i.BEFOREGRAPHREFRESH="beforegraphrefresh",i.AFTERGRAPHREFRESH="aftergraphrefresh",i.BEFOREANIMATE="beforeanimate",i.AFTERANIMATE="afteranimate",i.BEFOREPAINT="beforepaint",i.AFTERPAINT="afterpaint",i.GRAPHSTATECHANGE="graphstatechange",i.AFTERACTIVATERELATIONS="afteractivaterelations",i.NODESELECTCHANGE="nodeselectchange",i.TOOLTIPCHANGE="tooltipchange",i.WHEELZOOM="wheelzoom",i.VIEWPORTCHANGE="viewportchange",i.DRAGNODEEND="dragnodeend",i.STACKCHANGE="stackchange"})(wh||(wh={}));var ya=d(16185),eR=d(21885),rR=function(i){(0,q.__extends)(r,i);function r(t,e){var n=i.call(this,t,e)||this;return n.item=e.item,n.canvasX=e.canvasX,n.canvasY=e.canvasY,n.wheelDelta=e.wheelDelta,n.detail=e.detail,n}return r}(eR.Z),Sh=function(r){var t=0,e=0,n=0,a=0;if((0,ya.default)(r))t=e=n=a=r;else if((0,un.default)(r)){var o=parseInt(r,10);t=e=n=a=o}else(0,yi.default)(r)&&(t=r[0],n=(0,gi.default)(r[1])?r[0]:r[1],a=(0,gi.default)(r[2])?r[0]:r[2],e=(0,gi.default)(r[3])?n:r[3]);return[t,n,a,e]},jl=function(r){var t=new rR(r.type,r);return t.clientX=r.clientX,t.clientY=r.clientY,t.x=r.x,t.y=r.y,t.target=r.target,t.currentTarget=r.currentTarget,t.bubbles=!0,t.item=r.item,t},um=function(r){if(!r)return!1;for(var t=9,e=[1,0,0,0,1,0,0,0,1],n=0;n<t;n++)if(r[n]!==e[n])return!0;return!1},ja=function(r){return Number.isNaN(Number(r))},fm=function(r){for(var t=Infinity,e=-Infinity,n=Infinity,a=-Infinity,o=0;o<r.length;o++){var s=r[o],l=s.getBBox(),f=l.minX,h=l.minY,c=l.maxX,v=l.maxY;f<t&&(t=f),h<n&&(n=h),c>e&&(e=c),v>a&&(a=v)}var x=Math.floor(t),A=Math.floor(n),B=Math.ceil(e)-Math.floor(t),G=Math.ceil(a)-Math.floor(n);return{x,y:A,width:B,height:G,minX:t,minY:n,maxX:e,maxY:a}},nR=function(r,t){t===void 0&&(t=15);for(var e=r.length,n=t*2,a=["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left"],o={},s=[],l={},f=0;f<e;f++){var h=r[f],c=h.source,v=h.target,x=c+"-"+v;if(!s[f]){o[x]||(o[x]=[]),s[f]=!0,o[x].push(h);for(var A=0;A<e;A++)if(f!==A){var B=r[A],G=B.source,H=B.target;s[A]||(c===H&&v===G?(o[x].push(B),s[A]=!0,l[G+"|"+H+"|"+(o[x].length-1)]=!0):c===G&&v===H&&(o[x].push(B),s[A]=!0))}}}for(var X in o)for(var ut=o[X],ft=ut.length,xt=0;xt<ft;xt++){var Yt=ut[xt];if(Yt.source===Yt.target){Yt.type="loop",Yt.loopCfg={position:a[xt%8],dist:Math.floor(xt/8)*20+50};continue}Yt.type="quadratic";var Kt=(xt%2==0?1:-1)*(l[Yt.source+"|"+Yt.target+"|"+xt]?-1:1);ft%2==1?Yt.curveOffset=Kt*Math.ceil(xt/2)*n:Yt.curveOffset=Kt*(Math.floor(xt/2)*n+t)}return r},hm=Math.abs,iR=10,aR=["shift","ctrl","alt","control"],oR={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,scalableRange:0}},getEvents:function(){return{dragstart:"onMouseDown",mousedown:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp",mouseup:"onMouseUp","canvas:click":"onMouseUp",keyup:"onKeyUp",focus:"onKeyUp",keydown:"onKeyDown",touchstart:"onMouseDown",touchmove:"onMouseMove",touchend:"onMouseUp"}},updateViewport:function(r){var t=this.origin,e=+r.clientX,n=+r.clientY;if(!(ja(e)||ja(n))){var a=e-t.x,o=n-t.y;this.get("direction")==="x"?o=0:this.get("direction")==="y"&&(a=0),this.origin={x:e,y:n};var s=this.graph.get("width"),l=this.graph.get("height"),f=this.graph.get("canvas").getCanvasBBox();(f.minX<=s+this.scalableRange&&f.minX+a>s+this.scalableRange||f.maxX+this.scalableRange>=0&&f.maxX+this.scalableRange+a<0)&&(a=0),(f.minY<=l+this.scalableRange&&f.minY+o>l+this.scalableRange||f.maxY+this.scalableRange>=0&&f.maxY+this.scalableRange+o<0)&&(o=0),this.graph.translate(a,o)}},onMouseDown:function(r){var t=this,e=r.originalEvent;if(!(e&&e.button!==0)&&!(r.name!==wh.TOUCHSTART&&window&&window.event&&typeof window!="undefined"&&!window.event.buttons&&!window.event.button)&&!(t.keydown||r.shape)&&(t.origin={x:r.clientX,y:r.clientY},t.dragging=!1,this.enableOptimize)){for(var n=this.graph,a=n.getEdges(),o=0,s=a.length;o<s;o++){var l=a[o].get("group").get("children");!l||l.forEach(function(X){X.hide()})}for(var f=n.getNodes(),h=0,c=f.length;h<c;h++)for(var v=f[h].getContainer(),x=v.get("children"),A=0,B=x;A<B.length;A++){var G=B[A],H=G.get("isKeyShape");H||G.hide()}}},onMouseMove:function(r){var t=this.graph;if(!(this.keydown||r.shape)&&(r=jl(r),!!this.origin)){if(this.dragging)r.type="drag",t.emit("canvas:drag",r);else{if(hm(this.origin.x-r.clientX)+hm(this.origin.y-r.clientY)<iR)return;this.shouldBegin.call(this,r)&&(r.type="dragstart",t.emit("canvas:dragstart",r),this.dragging=!0)}this.shouldUpdate.call(this,r)&&this.updateViewport(r)}},onMouseUp:function(r){var t=this.graph;if(!(this.keydown||r.shape)){if(this.enableOptimize){for(var e=t.getEdges(),n=0,a=e.length;n<a;n++){var o=e[n].get("group").get("children");!o||o.forEach(function(G){G.show()})}for(var s=t.getNodes(),l=0,f=s.length;l<f;l++)for(var h=s[l].getContainer(),c=h.get("children"),v=0,x=c;v<x.length;v++){var A=x[v],B=A.get("isKeyShape");B||A.show()}}if(!this.dragging){this.origin=null;return}r=jl(r),this.shouldEnd.call(this,r)&&this.updateViewport(r),r.type="dragend",t.emit("canvas:dragend",r),this.endDrag()}},endDrag:function(){this.origin=null,this.dragging=!1,this.dragbegin=!1},onKeyDown:function(r){var t=this,e=r.key;!e||(aR.indexOf(e.toLowerCase())>-1?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){this.keydown=!1,this.origin=null,this.dragging=!1,this.dragbegin=!1}},sR=d(6767),Ul=d.n(sR),Zl=d(21997),Kl=2,cm=.16,lR=.05,uR=.05,fR=.15,vm=5,dm=4,hR=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function pm(i,r,t){var e;return Math.round(i.h)>=60&&Math.round(i.h)<=240?e=t?Math.round(i.h)-Kl*r:Math.round(i.h)+Kl*r:e=t?Math.round(i.h)+Kl*r:Math.round(i.h)-Kl*r,e<0?e+=360:e>=360&&(e-=360),e}function gm(i,r,t){if(i.h===0&&i.s===0)return i.s;var e;return t?e=i.s-cm*r:r===dm?e=i.s+cm:e=i.s+lR*r,e>1&&(e=1),t&&r===vm&&e>.1&&(e=.1),e<.06&&(e=.06),Number(e.toFixed(2))}function ym(i,r,t){var e;return t?e=i.v+uR*r:e=i.v-fR*r,e>1&&(e=1),Number(e.toFixed(2))}function Ch(i){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[],e=(0,Zl.Z)(i),n=vm;n>0;n-=1){var a=e.toHsv(),o=(0,Zl.Z)({h:pm(a,n,!0),s:gm(a,n,!0),v:ym(a,n,!0)}).toHexString();t.push(o)}t.push(e.toHexString());for(var s=1;s<=dm;s+=1){var l=e.toHsv(),f=(0,Zl.Z)({h:pm(l,s),s:gm(l,s),v:ym(l,s)}).toHexString();t.push(f)}return r.theme==="dark"?hR.map(function(h){var c=h.index,v=h.opacity,x=Zl.Z.mix(r.backgroundColor||"#141414",t[c],v*100).toHexString();return x}):t}var Mh={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Fi={},Eh={};Object.keys(Mh).forEach(function(i){Fi[i]=Ch(Mh[i]),Fi[i].primary=Fi[i][5],Eh[i]=Ch(Mh[i],{theme:"dark",backgroundColor:"#141414"}),Eh[i].primary=Eh[i][5]});var EY=Fi.red,_Y=Fi.volcano,AY=Fi.gold,PY=Fi.orange,TY=Fi.yellow,OY=Fi.lime,LY=Fi.green,IY=Fi.cyan,kY=Fi.blue,BY=Fi.geekblue,DY=Fi.purple,FY=Fi.magenta,RY=Fi.grey,Pa=function(r,t,e){var n=Ul()(r),a=Ul()(t);return Ul()([(1-e)*n.color[0]+e*a.color[0],(1-e)*n.color[1]+e*a.color[1],(1-e)*n.color[2]+e*a.color[2]]).rgb()},mm=function(r,t,e,n){t===void 0&&(t="#fff"),e===void 0&&(e="default"),n===void 0&&(n="rgb(150, 150, 150)");var a=Pa(t,r,.05).rgb().toString(),o=Pa(t,n,.02).rgb().toString(),s=Pa(t,n,.05).rgb().toString(),l=Pa(t,n,.1).rgb().toString(),f=Pa(t,n,.2).rgb().toString(),h=Pa(t,n,.3).rgb().toString(),c=Ch(r,{theme:e,backgroundColor:t}),v=Ul()(r).hex().toLowerCase(),x=c.indexOf(v),A=r;return x!==-1&&(A=c[x+1]),{mainStroke:r,mainFill:Pa(t,r,.1).rgb().toString(),activeStroke:r,activeFill:a,inactiveStroke:Pa(t,r,.4).rgb().toString(),inactiveFill:a,selectedStroke:r,selectedFill:t,highlightStroke:A,highlightFill:Pa(t,r,.2).rgb().toString(),disableStroke:h,disableFill:s,edgeMainStroke:h,edgeActiveStroke:r,edgeInactiveStroke:f,edgeSelectedStroke:r,edgeHighlightStroke:r,edgeDisableStroke:l,comboMainStroke:h,comboMainFill:o,comboActiveStroke:r,comboActiveFill:a,comboInactiveStroke:h,comboInactiveFill:o,comboSelectedStroke:r,comboSelectedFill:o,comboHighlightStroke:A,comboHighlightFill:o,comboDisableStroke:f,comboDisableFill:s}},cR="rgb(95, 149, 255)",vR="rgb(255, 255, 255)",xm="rgb(0, 0, 0)",en=mm(cR,vR),Xe={version:"3.8.5",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",customGroupContainerClassName:"custom-group-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:en.mainStroke,fill:en.mainFill},size:20,color:en.mainStroke,linkPoints:{size:8,lineWidth:1,fill:en.activeFill,stroke:en.activeStroke}},nodeStateStyles:{active:{fill:en.activeFill,stroke:en.activeStroke,lineWidth:2,shadowColor:en.mainStroke,shadowBlur:10},selected:{fill:en.selectedFill,stroke:en.selectedStroke,lineWidth:4,shadowColor:en.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:en.highlightFill,stroke:en.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:en.inactiveFill,stroke:en.inactiveStroke,lineWidth:1},disable:{fill:en.disableFill,stroke:en.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:xm,textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:en.edgeMainStroke,lineAppendWidth:2},color:en.edgeMainStroke},edgeStateStyles:{active:{stroke:en.edgeActiveStroke,lineWidth:1},selected:{stroke:en.edgeSelectedStroke,lineWidth:2,shadowColor:en.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:en.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:en.edgeInactiveStroke,lineWidth:1},disable:{stroke:en.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:xm,textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:en.comboMainFill,lineWidth:1,stroke:en.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:en.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:en.comboActiveStroke,lineWidth:1,fill:en.comboActiveFill},selected:{stroke:en.comboSelectedStroke,lineWidth:2,fill:en.comboSelectedFill,shadowColor:en.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:en.comboHighlightStroke,lineWidth:2,fill:en.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:en.comboInactiveStroke,fill:en.comboInactiveFill,lineWidth:1},disable:{stroke:en.comboDisableStroke,fill:en.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},textWaterMarkerConfig:{width:150,height:100,compatible:!1,text:{x:0,y:60,lineHeight:20,rotate:20,fontSize:14,fontFamily:"Microsoft YaHei",fill:"rgba(0, 0, 0, 0.1)",baseline:"Middle"}},imageWaterMarkerConfig:{width:150,height:130,compatible:!1,image:{x:0,y:0,width:30,height:20,rotate:0}},waterMarkerImage:"https://gw.alipayobjects.com/os/s/prod/antv/assets/image/logo-with-text-73b8a.svg"},dR={getDefaultCfg:function(){return{updateEdge:!0,delegateStyle:{},enableDelegate:!1,onlyChangeComboSize:!1,comboActiveState:"",selectedState:"selected"}},getEvents:function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave","combo:drop":"onDropCombo","node:drop":"onDropNode","canvas:drop":"onDropCanvas"}},validationCombo:function(r){if(!this.origin||!r||r.destroyed)return!1;var t=r.getType();return t==="combo"},onDragStart:function(r){var t=this;if(!!this.shouldBegin.call(this,r)){var e=r.item;if(!(!e||e.destroyed||e.hasLocked())){var n=e.getContainer();n.set("capture",!1);var a=r.target;if(a){var o=a.get("isAnchorPoint");if(o)return}var s=this.graph;this.targets=[],this.targetCombo=null;var l=s.findAllByState("node",this.selectedState),f=e.get("id"),h=l.filter(function(v){var x=v.get("id");return f===x});h.length===0?this.targets.push(e):l.length>1?l.forEach(function(v){var x=v.hasLocked();x||t.targets.push(v)}):this.targets.push(e);var c=[];this.targets.forEach(function(v){c.push((0,Nn.d9)(v.getModel()))}),this.set("beforeDragNodes",c),this.origin={x:r.x,y:r.y},this.point={},this.originPoint={}}}},onDrag:function(r){var t=this;!this.origin||!this.shouldUpdate(this,r)||(this.get("enableDelegate")?this.updateDelegate(r):this.targets.map(function(e){t.update(e,r)}))},onDragEnd:function(r){if(!(!this.origin||!this.shouldEnd.call(this,r))){var t=r.item;if(t){var e=t.getContainer();e.set("capture",!0)}this.delegateRect&&(this.delegateRect.remove(),this.delegateRect=null),this.updatePositions(r);var n=this.graph;if(n.get("enabledStack")){var a={before:{nodes:this.get("beforeDragNodes"),edges:[],combos:[]},after:{nodes:[],edges:[],combos:[]}};this.targets.forEach(function(o){a.after.nodes.push(o.getModel())}),n.pushStack("update",(0,Nn.d9)(a))}n.emit("dragnodeend",{items:this.targets,targetItem:null}),this.point={},this.origin=null,this.originPoint={},this.targets.length=0,this.targetCombo=null}},onDropCombo:function(r){var t=r.item;if(!!this.validationCombo(t)){this.updatePositions(r);var e=this.graph;if(this.comboActiveState&&e.setItemState(t,this.comboActiveState,!1),this.targetCombo=t,this.onlyChangeComboSize)e.updateCombos();else{var n=t.getModel();this.targets.map(function(a){var o=a.getModel();o.comboId!==n.id&&e.updateComboTree(a,n.id)}),e.updateCombo(t)}e.emit("dragnodeend",{items:this.targets,targetItem:this.targetCombo})}},onDropCanvas:function(r){var t=this.graph;!this.targets||this.targets.length===0||(this.updatePositions(r),this.onlyChangeComboSize?t.updateCombos():this.targets.map(function(e){var n=e.getModel();n.comboId&&t.updateComboTree(e)}))},onDropNode:function(r){if(!(!this.targets||this.targets.length===0)){var t=this,e=r.item;this.updatePositions(r);var n=t.graph,a=e.getModel().comboId;if(a){var o=n.findById(a);t.comboActiveState&&n.setItemState(o,t.comboActiveState,!1),this.targets.map(function(s){var l=s.getModel();a!==l.comboId&&n.updateComboTree(s,a)}),n.updateCombo(o)}else this.targets.map(function(s){var l=s.getModel();l.comboId&&n.updateComboTree(s)});n.emit("dragnodeend",{items:this.targets,targetItem:e})}},onDragEnter:function(r){var t=r.item;if(!!this.validationCombo(t)){var e=this.graph;this.comboActiveState&&e.setItemState(t,this.comboActiveState,!0)}},onDragLeave:function(r){var t=r.item;if(!!this.validationCombo(t)){var e=this.graph;this.comboActiveState&&e.setItemState(t,this.comboActiveState,!1)}},updatePositions:function(r){var t=this;!this.targets||this.targets.length===0||this.get("enableDelegate")&&this.targets.map(function(e){return t.update(e,r)})},update:function(r,t){var e=this.origin,n=r.get("model"),a=r.get("id");this.point[a]||(this.point[a]={x:n.x||0,y:n.y||0});var o=t.x-e.x+this.point[a].x,s=t.y-e.y+this.point[a].y,l={x:o,y:s};this.get("updateEdge")?this.graph.updateItem(r,l,!1):r.updatePosition(l)},updateDelegate:function(r){var t=this.graph;if(this.delegateRect){var v=r.x-this.origin.x+this.originPoint.minX,x=r.y-this.origin.y+this.originPoint.minY;this.delegateRect.attr({x:v,y:x})}else{var e=this.graph.get("group"),n=(0,Nn.b$)({},Xe.delegateStyle,this.delegateStyle),a=this.calculationGroupPosition(r),o=a.x,s=a.y,l=a.width,f=a.height,h=a.minX,c=a.minY;this.originPoint={x:o,y:s,width:l,height:f,minX:h,minY:c},this.delegateRect=e.addShape("rect",{attrs:(0,q.__assign)({width:l,height:f,x:o,y:s},n),name:"rect-delegate-shape"}),this.delegateRect.set("capture",!1)}},calculationGroupPosition:function(r){var t=this.graph,e=t.findAllByState("node",this.selectedState);e.length===0&&e.push(r.item);for(var n=Infinity,a=-Infinity,o=Infinity,s=-Infinity,l=0;l<e.length;l++){var f=e[l],h=f.getBBox(),c=h.minX,v=h.minY,x=h.maxX,A=h.maxY;c<n&&(n=c),v<o&&(o=v),x>a&&(a=x),A>s&&(s=A)}var B=Math.floor(n),G=Math.floor(o),H=Math.ceil(a)-Math.floor(n),X=Math.ceil(s)-Math.floor(o);return{x:B,y:G,width:H,height:X,minX:n,minY:o}}},pR={getDefaultCfg:function(){return{trigger:"mouseenter",activeState:"active",inactiveState:"inactive",resetSelected:!1,shouldUpdate:function(){return!0}}},getEvents:function(){return this.get("trigger")==="mouseenter"?{"node:mouseenter":"setAllItemStates","node:mouseleave":"clearActiveState"}:{"node:click":"setAllItemStates","canvas:click":"clearAllItemStates"}},setAllItemStates:function(r){var t=r.item,e=this.graph;if(this.item=t,!!this.shouldUpdate(r.item,{event:r,action:"activate"})){for(var n=this,a=this.activeState,o=this.inactiveState,s=e.getNodes(),l=e.getEdges(),f=s.length,h=l.length,c=0;c<f;c++){var v=s[c],x=v.hasState("selected");n.resetSelected&&x&&e.setItemState(v,"selected",!1),e.setItemState(v,a,!1),o&&e.setItemState(v,o,!0)}for(var c=0;c<h;c++){var A=l[c];e.setItemState(A,a,!1),o&&e.setItemState(A,o,!0)}o&&e.setItemState(t,o,!1),e.setItemState(t,a,!0);for(var B=t.getEdges(),G=B.length,c=0;c<G;c++){var A=B[c],H=void 0;A.getSource()===t?H=A.getTarget():H=A.getSource(),o&&e.setItemState(H,o,!1),e.setItemState(H,a,!0),e.setItemState(A,o,!1),e.setItemState(A,a,!0),A.toFront()}e.emit("afteractivaterelations",{item:r.item,action:"activate"})}},clearActiveState:function(r){var t=this,e=t.get("graph");if(!!t.shouldUpdate(r.item,{event:r,action:"deactivate"})){var n=this.activeState,a=this.inactiveState,o=e.get("autoPaint");e.setAutoPaint(!1);for(var s=e.getNodes(),l=e.getEdges(),f=s.length,h=l.length,c=0;c<f;c++){var v=s[c];e.clearItemStates(v,[n,a])}for(var c=0;c<h;c++){var x=l[c];e.clearItemStates(x,[n,a,"deactivate"])}e.paint(),e.setAutoPaint(o),e.emit("afteractivaterelations",{item:r.item||t.get("item"),action:"deactivate"})}},clearAllItemStates:function(r){var t=this,e=t.graph;if(!!t.shouldUpdate(r.item,{event:r,action:"deactivate"})){for(var n=this.activeState,a=this.inactiveState,o=e.getNodes(),s=e.getEdges(),l=o.length,f=s.length,h=0;h<l;h++){var c=o[h];e.clearItemStates(c,[n,a])}for(var h=0;h<f;h++){var v=s[h];e.clearItemStates(v,[n,a,"deactivate"])}e.emit("afteractivaterelations",{item:r.item||t.get("item"),action:"deactivate"})}}},$l=Math.min,bm=Math.max,wm=Math.abs,Sm="shift",gR=["drag","shift","ctrl","alt","control"],yR={getDefaultCfg:function(){return{brushStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:Sm,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return gR.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=Sm,console.warn("Behavior brush-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.trigger==="drag"?{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates"}:{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates",keyup:"onKeyUp",keydown:"onKeyDown"}},onMouseDown:function(r){var t=r.item,e=this.brush;t||this.trigger!=="drag"&&!this.keydown||(this.selectedNodes&&this.selectedNodes.length!==0&&this.clearStates(),e||(e=this.createBrush()),this.originPoint={x:r.canvasX,y:r.canvasY},e.attr({width:0,height:0}),e.show(),this.dragging=!0)},onMouseMove:function(r){!this.dragging||this.trigger!=="drag"&&!this.keydown||this.updateBrush(r)},onMouseUp:function(r){var t=this.graph;!this.brush&&!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.brush.remove(!0),this.brush=null,this.getSelectedNodes(r),this.dragging=!1)},clearStates:function(){var r=this,t=r.graph,e=r.selectedState,n=t.findAllByState("node",e),a=t.findAllByState("edge",e);n.forEach(function(o){return t.setItemState(o,e,!1)}),a.forEach(function(o){return t.setItemState(o,e,!1)}),this.selectedNodes=[],this.selectedEdges=[],this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedNodes:function(r){var t=this,e=this,n=e.graph,a=e.originPoint,o=e.shouldUpdate,s=this.selectedState,l={x:r.x,y:r.y},f=n.getPointByCanvas(a.x,a.y),h=$l(l.x,f.x),c=bm(l.x,f.x),v=$l(l.y,f.y),x=bm(l.y,f.y),A=[],B=[];n.getNodes().forEach(function(H){var X=H.getBBox();if(X.centerX>=h&&X.centerX<=c&&X.centerY>=v&&X.centerY<=x&&o(H,"select")){A.push(H);var ut=H.getModel();B.push(ut.id),n.setItemState(H,s,!0)}});var G=[];this.includeEdges&&A.forEach(function(H){var X=H.getOutEdges();X.forEach(function(ut){var ft=ut.getModel(),xt=ft.source,Yt=ft.target;B.includes(xt)&&B.includes(Yt)&&o(ut,"select")&&(G.push(ut),n.setItemState(ut,t.selectedState,!0))})}),this.selectedEdges=G,this.selectedNodes=A,this.onSelect&&this.onSelect(A,G),n.emit("nodeselectchange",{selectedItems:{nodes:A,edges:G},select:!0})},createBrush:function(){var r=this,t=r.graph.get("canvas").addShape("rect",{attrs:r.brushStyle,capture:!1,name:"brush-shape"});return this.brush=t,t},updateBrush:function(r){var t=this.originPoint;this.brush.attr({width:wm(r.canvasX-t.x),height:wm(r.canvasY-t.y),x:$l(r.canvasX,t.x),y:$l(r.canvasY,t.y)})},onKeyDown:function(r){var t=r.key;if(!!t){var e=this.trigger.toLowerCase(),n=t.toLowerCase();n===e||n==="control"&&e==="ctrl"||n==="ctrl"&&e==="control"?this.keydown=!0:this.keydown=!1}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.keydown=!1}},Cm="shift",mR=["shift","ctrl","alt","control"],xR={getDefaultCfg:function(){return{multiple:!0,trigger:Cm,selectedState:"selected"}},getEvents:function(){var r=this;return mR.indexOf(r.trigger.toLowerCase())>-1||(r.trigger=Cm,console.warn("Behavior brush-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),r.multiple?{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick",keyup:"onKeyUp",keydown:"onKeyDown"}:{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick"}},onClick:function(r){var t=this,e=r.item;if(!(!e||e.destroyed)){var n=e.getType(),a=this,o=a.graph,s=a.keydown,l=a.multiple,f=a.shouldUpdate,h=a.shouldBegin;if(!!h.call(this,r)){if(!s||!l){var c=o.findAllByState(n,this.selectedState);(0,xn.default)(c,function(A){A!==e&&o.setItemState(A,t.selectedState,!1)})}if(e.hasState(this.selectedState)){f.call(this,r)&&o.setItemState(e,this.selectedState,!1);var v=o.findAllByState("node",this.selectedState),x=o.findAllByState("combo",this.selectedState);o.emit("nodeselectchange",{target:e,selectedItems:{nodes:v,combos:x},select:!1})}else{f.call(this,r)&&o.setItemState(e,this.selectedState,!0);var v=o.findAllByState("node",this.selectedState),x=o.findAllByState("combo",this.selectedState);o.emit("nodeselectchange",{target:e,selectedItems:{nodes:v,combos:x},select:!0})}}}},onCanvasClick:function(){var r=this,t=this.graph,e=t.findAllByState("node",this.selectedState);(0,xn.default)(e,function(a){t.setItemState(a,r.selectedState,!1)});var n=t.findAllByState("combo",this.selectedState);(0,xn.default)(n,function(a){t.setItemState(a,r.selectedState,!1)}),t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[],combos:[]},select:!1})},onKeyDown:function(r){var t=r.key;!t||(t.toLowerCase()===this.trigger.toLowerCase()||t.toLowerCase()==="control"?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.keydown=!1}},Qi=d(31502);Qi.translate=function(i,r,t){var e=new Array(9);return Qi.fromTranslation(e,t),Qi.multiply(i,e,r)},Qi.rotate=function(i,r,t){var e=new Array(9);return Qi.fromRotation(e,t),Qi.multiply(i,e,r)},Qi.scale=function(i,r,t){var e=new Array(9);return Qi.fromScaling(e,t),Qi.multiply(i,e,r)},Qi.transform=function(i,r){for(var t=[].concat(i),e=0,n=r.length;e<n;e++){var a=r[e];switch(a[0]){case"t":Qi.translate(t,t,[a[1],a[2]]);break;case"s":Qi.scale(t,t,[a[1],a[2]]);break;case"r":Qi.rotate(t,t,a[1]);break;default:break}}return t};var Ua=Qi,Ta=d(76172);Ta.angle=function(i,r){var t=Ta.dot(i,r)/(Ta.length(i)*Ta.length(r));return Math.acos((0,u.clamp)(t,-1,1))},Ta.direction=function(i,r){return i[0]*r[1]-r[0]*i[1]},Ta.angleTo=function(i,r,t){var e=Ta.angle(i,r),n=Ta.direction(i,r)>=0;return t?n?Math.PI*2-e:e:n?e:Math.PI*2-e},Ta.vertical=function(i,r,t){return t?(i[0]=r[1],i[1]=-1*r[0]):(i[0]=-1*r[1],i[1]=r[0]),i};var Tn=Ta,bR=d(88395),Mm=bR,Oa=function(i,r){var t=i?(0,u.clone)(i):[1,0,0,0,1,0,0,0,1];return(0,u.each)(r,function(e){switch(e[0]){case"t":Ua.translate(t,t,[e[1],e[2]]);break;case"s":Ua.scale(t,t,[e[1],e[2]]);break;case"r":Ua.rotate(t,t,e[1]);break;case"m":Ua.multiply(t,t,e[1]);break;default:return!1}}),t},Em=.05,wR={getDefaultCfg:function(){return{sensitivity:2,minZoom:void 0,maxZoom:void 0,enableOptimize:!1,optimizeZoom:.7,fixSelectedItems:{fixAll:!1,fixLineWidth:!1,fixLabel:!1,fixState:"selected"}}},getEvents:function(){var r=this.fixSelectedItems;return r.fixState||(r.fixState="selected"),r.fixAll&&(r.fixLineWidth=!0,r.fixLabel=!0),{wheel:"onWheel",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd"}},onTouchStart:function(r){var t=r.originalEvent.touches,e=t[0],n=t[1];r.preventDefault(),!!n&&(this.startPoint={pageX:e.pageX,pageY:e.pageY},this.moveable=!0,n&&(this.endPoint={pageX:n.pageX,pageY:n.pageY}),this.originScale=this.currentScale||1)},onTouchMove:function(r){if(!!this.moveable){r.preventDefault();var t=r.originalEvent.touches,e=t[0],n=t[1];if(!!n){this.endPoint||(this.endPoint={pageX:n.pageX,pageY:n.pageY});var a=function(x,A){return Math.hypot(A.x-x.x,A.y-x.y)},o=a({x:e.pageX,y:e.pageY},{x:n.pageX,y:n.pageY})/a({x:this.startPoint.pageX,y:this.startPoint.pageY},{x:this.endPoint.pageX,y:this.endPoint.pageY}),s=this.originScale*o;this.currentScale=s;var l=this.get("minZoom")||this.graph.get("minZoom"),f=this.get("maxZoom")||this.graph.get("maxZoom");if(!(s>f||s<l)){var h=this.graph.get("canvas"),c=h.getPointByClient(r.clientX,r.clientY);this.graph.zoomTo(s,{x:c.x,y:c.y}),this.graph.emit("wheelzoom",r)}}}},onTouchEnd:function(){this.moveable=!1,this.endPoint=null},onWheel:function(r){var t=this,e=this,n=e.graph,a=e.fixSelectedItems;if(!!this.shouldUpdate.call(this,r)){r.preventDefault();var o=n.get("canvas"),s=o.getPointByClient(r.clientX,r.clientY),l=this.get("sensitivity"),f=n.getZoom(),h=f,c=f;r.wheelDelta<0?h=1-Em*l:h=1/(1-Em*l),c=f*h;var v=this.get("minZoom")||n.get("minZoom"),x=this.get("maxZoom")||n.get("maxZoom");if(!(c>x||c<v)){var A=this.get("enableOptimize");if(A){var B=this.get("optimizeZoom"),G=this.get("optimized"),H=n.getNodes(),X=n.getEdges(),ut=H.length,ft=X.length;if(!G){for(var xt=0;xt<ut;xt++){var Yt=H[xt];if(!Yt.destroyed)for(var Kt=Yt.get("group").get("children"),te=Kt.length,Wt=0;Wt<te;Wt++){var ae=Kt[Wt];!ae.destoryed&&!ae.get("isKeyShape")&&ae.hide()}}for(var ce=0;ce<ft;ce++)for(var he=X[ce],Kt=he.get("group").get("children"),te=Kt.length,Wt=0;Wt<te;Wt++){var ae=Kt[Wt];ae.hide()}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var Pe=setTimeout(function(){var Pr=n.getZoom(),Xr=t.get("optimized");if(Xr){t.set("optimized",!1);for(var Jr=0;Jr<ut;Jr++){var _n=H[Jr],cn=_n.get("group").get("children"),kn=cn.length;if(Pr<B)_n.getKeyShape().show();else for(var Gn=0;Gn<kn;Gn++){var wi=cn[Gn];wi.get("visible")||wi.show()}}for(var Oi=0;Oi<ft;Oi++){var Qn=X[Oi],cn=Qn.get("group").get("children"),kn=cn.length;if(Pr<B)Qn.getKeyShape().show();else for(var Gn=0;Gn<kn;Gn++){var wi=cn[Gn];wi.get("visible")||wi.show()}}}},500);this.set("timeout",Pe)}if(f<=1){var Be=void 0,ke=void 0;if(a.fixAll||a.fixLineWidth||a.fixLabel){Be=n.findAllByState("node",a.fixState),ke=n.findAllByState("edge",a.fixState);for(var We=f/c,Ke=Be.length,$e=0;$e<Ke;$e++){var Yt=Be[$e],Ve=Yt.getContainer(),He=Yt.getModel(),lr=Yt.getOriginStyle(),sr=Yt.getStateStyle(a.fixState),dr=Yt.get("shapeFactory").getShape(He.shape||He.type).getStateStyle(a.fixState,Yt)[a.fixState];if(a.fixAll){if(c<=1){var Qe=(0,u.clone)(Ve.getMatrix());Qe||(Qe=[1,0,0,0,1,0,0,0,1]);var hr=Yt.getModel(),Sr=hr.x,vr=hr.y;Ua.translate(Qe,Qe,[-Sr,-vr]),Ua.scale(Qe,Qe,[We,We]),Ua.translate(Qe,Qe,[Sr,vr]),Ve.setMatrix(Qe)}}else for(var Kt=Ve.get("children"),te=Kt.length,Wt=0;Wt<te;Wt++){var ae=Kt[Wt],cr=void 0,Mr=void 0;if(a.fixLabel){var Gr=ae.get("type");if(Gr==="text"){cr=ae.attr("fontSize")||12;var gr=sr[ae.get("name")],Re=dr[ae.get("name")],Je=gr?gr.fontSize:12,Er=Re?Re.fontSize:12,Br=Je||Er||12;if(c<=1&&ae.attr("fontSize",Br/c),Mr)break}}if(a.fixLineWidth&&ae.get("isKeyShape")){Mr=ae.attr("lineWidth")||0;var br=sr.lineWidth||dr.lineWidth||lr.lineWidth||0;if(c<=1&&ae.attr("lineWidth",br/c),cr)break}}}for(var zr=ke.length,Rr=0;Rr<zr;Rr++)for(var he=ke[Rr],Ve=he.getContainer(),Kt=Ve.get("children"),He=he.getModel(),sr=he.getStateStyle(a.fixState),dr=he.get("shapeFactory").getShape(He.shape||He.type).getStateStyle(a.fixState,he)[a.fixState],te=Kt.length,Wt=0;Wt<te;Wt++){var ae=Kt[Wt],cr=void 0,Mr=void 0;if(a.fixLabel||a.fixAll){var Gr=ae.get("type");if(Gr==="text"){cr=ae.attr("fontSize")||12;var gr=sr[ae.get("name")],Re=dr[ae.get("name")],Je=gr?gr.fontSize:12,Er=Re?Re.fontSize:12,Br=Je||Er||12;if(c<=1&&ae.attr("fontSize",Br/c),Mr)break}}if((a.fixLineWidth||a.fixAll)&&ae.get("isKeyShape")){Mr=ae.attr("lineWidth")||0;var br=sr.lineWidth||dr.lineWidth||1;if(c<=1&&ae.attr("lineWidth",br/c),cr)break}}}}n.zoomTo(c,{x:s.x,y:s.y}),n.emit("wheelzoom",r)}}}},Cn=d(1513),$n=d(57821),_m={onMouseEnter:function(r){var t=r.item;this.currentTarget=t,this.showTooltip(r),this.graph.emit("tooltipchange",{item:r.item,action:"show"})},onMouseMove:function(r){if(!this.shouldUpdate(r)){this.hideTooltip();return}!this.currentTarget||r.item!==this.currentTarget||this.updatePosition(r)},onMouseLeave:function(r){!this.shouldEnd(r)||(this.hideTooltip(),this.graph.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null)},showTooltip:function(r){var t=this.container;if(!(!r.item||r.item.destroyed)){t||(t=this.createTooltip(this.graph.get("canvas")),this.container=t);var e=this.formatText(r.item.get("model"),r);t.innerHTML=e,(0,Cn.Z)(this.container,{visibility:"visible"}),this.updatePosition(r)}},hideTooltip:function(){(0,Cn.Z)(this.container,{visibility:"hidden"})},updatePosition:function(r){var t=this.get("shouldBegin"),e=this,n=e.width,a=e.height,o=e.container,s=e.graph;if(!t(r)){(0,Cn.Z)(o,{visibility:"hidden"});return}var l=s.getPointByClient(r.clientX,r.clientY),f=s.getCanvasByPoint(l.x,l.y),h=f.x,c=f.y,v=o.getBoundingClientRect();h>n/2?h-=v.width:h+=this.offset,c>a/2?c-=v.height:c+=this.offset;var x=h+"px",A=c+"px";(0,Cn.Z)(this.container,{left:x,top:A,visibility:"visible"})},createTooltip:function(r){var t=r.get("el");t.style.position="relative";var e=(0,$n.Z)('<div class="g6-tooltip g6-'+this.item+'-tooltip"></div>');return t.parentNode.appendChild(e),(0,Cn.Z)(e,{position:"absolute",visibility:"visible"}),this.width=r.get("width"),this.height=r.get("height"),this.container=e,this.graph.get("tooltips").push(e),e}},SR=(0,q.__assign)({getDefaultCfg:function(){return{item:"node",offset:12,formatText:function(t){return t.label}}},getEvents:function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},_m),CR=(0,q.__assign)({getDefaultCfg:function(){return{item:"edge",offset:12,formatText:function(t){return"source: "+t.source+" target: "+t.target}}},getEvents:function(){return{"edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},_m),Pi=d(90497),MR={getDefaultCfg:function(){return{delegate:!0,delegateStyle:{},delegateShapes:{},delegateShapeBBoxs:{}}},getEvents:function(){return{dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd","canvas:mouseleave":"onOutOfRange"}},onDragStart:function(r){var t=this.graph,e=r.target,n=e.get("groupId");if(!!n){var a=t.get("customGroupControll"),o=a.customGroup,s=o[n].nodeGroup;this.targetGroup=s,this.mouseOrigin={x:r.x,y:r.y};for(var l=t.save().groups,f=null,h=0;h<l.length;h++){var c=l[h];if(n===c.id){f=c.parentId;break}}if(f){var v=o[f].nodeGroup;a.setGroupStyle(v.get("keyShape"),"hover")}}},onDrag:function(r){!this.mouseOrigin||this.updateDelegate(r)},onDragEnd:function(r){var t=this.graph,e=r.target.get("groupId");if(this.delegateShapes[e]&&(this.delegateShapeBBox=this.delegateShapes[e].getBBox(),this.delegateShapes[e].remove(),delete this.delegateShapes[e]),!!this.delegateShapeBBox){var n=t.get("customGroupControll"),a=this.delegateShapeBBoxs[e];n.updateGroup(e,a,this.mouseOrigin),this.mouseOrigin=null,this.shapeOrigin=null,n.resetNodePoint(),this.delegateShapeBBox=null}},updateDelegate:function(r){var t=this.graph,e=r.target.get("groupId"),n=this.targetGroup.get("keyShape"),a=this.delegateShapes[e],o=n.getBBox(),s=n.get("type");if(a){var H=this,X=H.mouseOrigin,ut=H.shapeOrigin,ft=r.x-X.x,xt=r.y-X.y,Yt=ft+ut.x,Kt=xt+ut.y;a.attr({x:Yt,y:Kt}),this.delegateShapeBBoxs[e]=a.getBBox()}else{var l=t.get("delegateGroup"),f=o.x,h=o.y,c=o.width,v=o.height,x=(0,q.__assign)({width:c,height:v},(0,Pi.default)({},Xe.delegateStyle,this.delegateStyle));if(s==="circle"){var A=c>v?c/2:v/2,B=f+A,G=h+A;a=l.addShape("circle",{attrs:(0,q.__assign)({x:B,y:G,r:A},x),name:"circle-delegate-shape"}),this.shapeOrigin={x:B,y:G}}else a=l.addShape("rect",{attrs:(0,q.__assign)({x:f,y:h},x),name:"rect-delegate-shape"}),this.shapeOrigin={x:f,y:h};this.delegateShapes[e]=a,this.delegateShapeBBoxs[e]=a.getBBox()}},onOutOfRange:function(r){var t=this,e=this.graph.get("canvas").get("el"),n=function a(o){o.target!==e&&(t.onDragEnd(r),document.body.removeEventListener("mouseup",a,!0))};this.mouseOrigin&&document.body.addEventListener("mouseup",n,!0)}},ER=document.body,_R={getDefaultCfg:function(){return{updateEdge:!0,delegate:!0,delegateStyle:{},maxMultiple:1.1,minMultiple:1}},getEvents:function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd","canvas:mouseleave":"onOutOfRange",dragover:"onDragOver",dragleave:"onDragLeave"}},onDragOver:function(r){var t=this.graph,e=r.target,n=e.get("groupId");if(n&&this.origin){var a=t.get("customGroupControll"),o=a.getDeletageGroupById(n);if(o){var s=o.nodeGroup,l=s.get("keyShape");this.inGroupId=n,a.setGroupStyle(l,"hover")}}},onDragLeave:function(r){var t=this.graph,e=r.target,n=e.get("groupId");if(n&&this.origin){var a=t.get("customGroupControll"),o=a.getDeletageGroupById(n);if(o){var s=o.nodeGroup,l=s.get("keyShape");a.setGroupStyle(l,"default")}}n||(this.inGroupId=null)},onDragStart:function(r){var t=this.graph;if(!!this.shouldBegin.call(this,r)){var e=r.item;this.target=e;var n=e.getModel(),a=n.groupId;if(a){var o=t.get("customGroupControll"),s=o.getDeletageGroupById(a);if(s){var l=s.nodeGroup,f=l.get("keyShape");o.setGroupStyle(f,"hover"),this.inGroupId=a}}this.origin={x:r.x,y:r.y},this.point={},this.originPoint={}}},onDrag:function(r){if(!!this.origin&&!!this.get("shouldUpdate").call(this,r)){this.update(this.target,r,!0);var t=r.item,e=this.graph,n=t.getModel(),a=n.groupId;if(a){var o=e.get("customGroupControll"),s=o.getDeletageGroupById(a);if(s){var l=s.nodeGroup,f=l.get("keyShape");this.inGroupId!==a?o.setGroupStyle(f,"default"):o.setGroupStyle(f,"hover")}}}},onDragEnd:function(r){if(!(!this.origin||!this.shouldEnd.call(this,r))){if(this.shape&&(this.shape.remove(),this.shape=null),this.target){var t=this.target.get("delegateShape");t&&(t.remove(),this.target.set("delegateShape",null))}this.target&&this.update(this.target,r),this.point={},this.origin=null,this.originPoint={},this.target=null,this.setCurrentGroupStyle(r)}},setCurrentGroupStyle:function(r){var t=this.graph,e=r.item,n=e.getModel(),a=n.groupId,o=n.id,s=t.get("customGroupControll"),l=s.customGroup,f=t.get("groupNodes");if(this.inGroupId&&a){var h=l[a].nodeGroup;if(!h)return;var c=h.get("keyShape"),v=e.getBBox(),x=c.getBBox(),A=v.centerX,B=v.centerY,G=x.minX,H=x.minY,X=x.maxX,ut=x.maxY;if(!(A<X*this.maxMultiple&&A>G*this.minMultiple&&B<ut*this.maxMultiple&&B>H*this.minMultiple)||this.inGroupId!==a){var ft=f[a];f[a]=ft.filter(function(Kt){return Kt!==o}),s.dynamicChangeGroupSize(r,h,c),delete n.groupId}if(this.inGroupId!==a){var xt=l[this.inGroupId].nodeGroup;if(!xt)return;var Yt=xt.get("keyShape");f[this.inGroupId].indexOf(o)===-1&&f[this.inGroupId].push(o),n.groupId=this.inGroupId,s.dynamicChangeGroupSize(r,xt,Yt)}s.setGroupStyle(c,"default")}else if(this.inGroupId&&!a){var xt=l[this.inGroupId].nodeGroup;if(!xt)return;var c=xt.get("keyShape");f[this.inGroupId].indexOf(o)===-1&&f[this.inGroupId].push(o),n.groupId=this.inGroupId,s.dynamicChangeGroupSize(r,xt,c)}else if(!this.inGroupId&&a){Object.keys(f).forEach(function(Wt){var ae=f[Wt];f[Wt]=ae.filter(function(ce){return ce!==o})});var h=l[a].nodeGroup;if(!h)return;var c=h.get("keyShape");s.dynamicChangeGroupSize(r,h,c),delete n.groupId}this.inGroupId=null},onOutOfRange:function(r){var t=this,e=t.graph.get("canvas").get("el");function n(a){a.target!==e&&(r.item=t.target,t.onDragEnd(r),document.body.removeEventListener("mouseup",n,!0))}t.origin&&ER.addEventListener("mouseup",n,!0)},update:function(r,t,e){var n=this.origin,a=r.get("model"),o=r.get("id");this.point[o]||(this.point[o]={x:a.x,y:a.y});var s=t.x-n.x+this.point[o].x,l=t.y-n.y+this.point[o].y;if(e){this.updateDelegate(t,s,l);return}var f={x:s,y:l};this.get("updateEdge")?this.graph.updateItem(r,f):(r.updatePosition(f),this.graph.paint())},updateDelegate:function(r,t,e){var n=this.graph,a=r.item,o=n.get("groupType"),s=a.get("keyShape").getBBox();if(!this.shape){var l=n.get("delegateGroup"),f=(0,Pi.default)({},Xe.delegateStyle,this.delegateStyle);this.target&&(this.shape=l.addShape("rect",{attrs:(0,q.__assign)({width:s.width,height:s.height,x:t-s.width/2,y:e-s.height/2},f),name:"delegate-shape"}),this.target.set("delegateShape",this.shape)),this.shape.set("capture",!1)}this.target&&(o==="circle"?this.shape.attr({x:t-s.width/2,y:e-s.height/2}):o==="rect"&&this.shape.attr({x:t,y:e}))}},Am="dblclick",AR=["click","dblclick"],PR={getDefaultCfg:function(){return{trigger:Am}},getEvents:function(){var r,t;return AR.includes(this.trigger)?t=this.trigger:(t=Am,console.warn("Behavior collapse-expand-group \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),r={},r[""+t]="onGroupClick",r},onGroupClick:function(r){var t=r.target,e=this.graph,n=t.get("groupId");if(!!n){var a=e.get("customGroupControll");a.collapseExpandGroup(n)}}},Pm="click",TR=["click","dblclick"],OR={getDefaultCfg:function(){return{trigger:Pm,onChange:function(){}}},getEvents:function(){var r,t;return TR.includes(this.trigger)?t=this.trigger:(t=Pm,console.warn("Behavior collapse-expand \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),r={},r["node:"+t]="onNodeClick",r.touchstart="onNodeClick",r},onNodeClick:function(r){var t=r.item,e=this.graph.findDataById(t.get("id"));if(!!e){var n=e.children;if(!(!n||n.length===0)){var a=!e.collapsed;if(!!this.shouldBegin(r,a)&&(e.collapsed=a,t.getModel().collapsed=a,this.graph.emit("itemcollapsed",{item:r.item,collapsed:a}),!!this.shouldUpdate(r,a))){try{this.onChange(t,a)}catch(o){console.warn("G6 \u81EA 3.0.4 \u7248\u672C\u652F\u6301\u76F4\u63A5\u4ECE item.getModel() \u83B7\u53D6\u6E90\u6570\u636E(\u4E34\u65F6\u901A\u77E5\uFF0C\u5C06\u57283.2.0\u7248\u672C\u4E2D\u6E05\u9664)",o)}this.graph.layout()}}}}},LR=function i(r,t){if(t(r)!==!1&&r){var e=r.get("combos");if(e.length===0)return!1;(0,Nn.S6)(e,function(n){i(n,t)})}},IR={getDefaultCfg:function(){return{enableDelegate:!1,delegateStyle:{},onlyChangeComboSize:!1,activeState:"",selectedState:"selected"}},getEvents:function(){return{"combo:dragstart":"onDragStart","combo:drag":"onDrag","combo:dragend":"onDragEnd","combo:drop":"onDrop","node:drop":"onNodeDrop","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave"}},validationCombo:function(r){var t=r.item;if(!t||t.destroyed||!this.shouldUpdate(this,r))return!1;var e=t.getType();return e==="combo"},onDragStart:function(r){var t=this,e=this.graph,n=r.item;if(!!this.validationCombo(r)){this.targets=[];var a=e.findAllByState("combo",this.selectedState),o=n.get("id"),s=a.filter(function(l){var f=l.get("id");return o===f});s.length===0?this.targets.push(n):this.targets=a,this.activeState&&this.targets.map(function(l){var f=l.getModel();if(f.parentId){var h=e.findById(f.parentId);h&&e.setItemState(h,t.activeState,!0)}}),this.point={},this.originPoint={},this.origin={x:r.x,y:r.y},this.currentItemChildCombos=[],LR(n,function(l){if(l.destroyed)return!1;var f=l.getModel();return t.currentItemChildCombos.push(f.id),!0})}},onDrag:function(r){var t=this;if(!!this.origin&&!!this.validationCombo(r))if(this.enableDelegate)this.updateDelegate(r);else{if(this.activeState){var e=this.graph,n=r.item,a=n.getModel(),o=e.getCombos(),s=n.getBBox(),l=s.centerX,f=s.centerY,h=s.width,c=o.filter(function(v){var x=v.getModel();return a.parentId,x.id!==a.id&&!t.currentItemChildCombos.includes(x.id)});c.map(function(v){var x=v.getBBox(),A=x.centerX,B=x.centerY,G=x.width,H=l-A,X=f-B,ut=2*Math.sqrt(H*H+X*X);h+G-ut>.8*h?e.setItemState(v,t.activeState,!0):e.setItemState(v,t.activeState,!1)})}(0,Nn.S6)(this.targets,function(v){t.updateCombo(v,r)})}},updatePositions:function(r){var t=this;this.enableDelegate&&(0,Nn.S6)(this.targets,function(e){t.updateCombo(e,r)})},onDrop:function(r){var t=this,e=r.item;if(!(!e||!this.targets||e.destroyed)){this.updatePositions(r);var n=this.graph,a=e.getModel();this.targets.map(function(o){var s=o.getModel();s.parentId!==a.id?(t.activeState&&n.setItemState(e,t.activeState,!1),t.onlyChangeComboSize?n.updateCombo(o):n.updateComboTree(o,a.id)):n.updateCombo(e)}),this.end(e,r),this.endComparison=!0}},onNodeDrop:function(r){var t=this;if(!(!this.targets||this.targets.length===0)){this.updatePositions(r);var e=this.graph,n=r.item,a=n.getModel().comboId,o;if(a){if(this.activeState){var s=e.findById(a);e.setItemState(s,this.activeState,!1)}this.targets.map(function(l){t.onlyChangeComboSize?e.updateCombo(l):a!==l.getID()&&(o=e.findById(a),a!==l.getModel().parentId&&e.updateComboTree(l,a))})}else this.targets.map(function(l){if(t.onlyChangeComboSize)e.updateCombo(l);else{var f=l.getModel();f.comboId&&e.updateComboTree(l)}});this.endComparison=!0,this.end(o,r)}},onDragEnter:function(r){if(!!this.origin&&!!this.validationCombo(r)){var t=r.item,e=this.graph;this.activeState&&e.setItemState(t,this.activeState,!0)}},onDragLeave:function(r){if(!!this.origin&&!!this.validationCombo(r)){var t=r.item,e=this.graph;this.activeState&&e.setItemState(t,this.activeState,!1)}},onDragEnd:function(r){if(!(!this.targets||this.targets.length===0)){var t=r.item;this.updatePositions(r);var e=this.getParentCombo(t.getModel().parentId),n=this.graph;e&&this.activeState&&n.setItemState(e,this.activeState,!1),this.end(void 0,r)}},end:function(r,t){var e=this;if(!!this.origin){var n=this.graph;if(this.delegateShape){var a=n.get("delegateGroup");a.clear(),this.delegateShape=null}r&&this.activeState&&n.setItemState(r,this.activeState,!1),r||this.targets.map(function(o){e.onlyChangeComboSize?n.updateCombo(o):n.updateComboTree(o)}),this.point=[],this.origin=null,this.originPoint=null,this.targets.length=0}},traverse:function(r,t){var e=this;if(t(r)!==!1&&r){var n=r.get("combos");(0,Nn.S6)(n,function(o){e.traverse(o,t)});var a=r.get("nodes");(0,Nn.S6)(a,function(o){e.traverse(o,t)})}},updateCombo:function(r,t){var e=this;this.traverse(r,function(n){return n.destroyed?!1:(e.updateSignleItem(n,t),!0)})},updateSignleItem:function(r,t){var e=this.origin,n=this.graph,a=r.getModel(),o=r.get("id");this.point[o]||(this.point[o]={x:a.x,y:a.y});var s=t.x-e.x+this.point[o].x,l=t.y-e.y+this.point[o].y;n.updateItem(r,{x:s,y:l})},getParentCombo:function(r){var t=this.graph;if(!!r){var e=t.findById(r);if(!!e)return e}},updateDelegate:function(r){var t=this.graph;if(this.delegateShape){var v=r.x-this.origin.x+this.originPoint.minX,x=r.y-this.origin.y+this.originPoint.minY;this.delegateShape.attr({x:v,y:x})}else{var e=t.get("delegateGroup"),n=null;this.targets.length>1?n=fm(this.targets):n=this.targets[0].getBBox();var a=n.x,o=n.y,s=n.width,l=n.height,f=n.minX,h=n.minY;this.originPoint={x:a,y:o,width:s,height:l,minX:f,minY:h};var c=(0,q.__assign)((0,q.__assign)({},Xe.delegateStyle),this.delegateStyle);this.delegateShape=e.addShape("rect",{attrs:(0,q.__assign)({width:n.width,height:n.height,x:n.x,y:n.y},c),name:"combo-delegate-shape"})}}},Tm="dblclick",kR=["click","dblclick"],BR={getDefaultCfg:function(){return{trigger:Tm,relayout:!0}},getEvents:function(){var r,t;return kR.includes(this.trigger)?t=this.trigger:(t=Tm,console.warn("Behavior collapse-expand-group \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),r={},r["combo:"+t]="onComboClick",r},onComboClick:function(r){var t=r.item,e=this,n=e.graph,a=e.relayout;if(!(!t||t.destroyed||t.getType()!=="combo")){var o=t.getModel(),s=o.id;!s||(n.collapseExpandCombo(s),a&&n.get("layout")?n.layout():n.refreshPositions())}}},Om=function(r,t,e){return r>=t&&r<=e},Ps=function(r,t,e,n){var a=.001,o={x:e.x-r.x,y:e.y-r.y},s={x:t.x-r.x,y:t.y-r.y},l={x:n.x-e.x,y:n.y-e.y},f=s.x*l.y-s.y*l.x,h=f*f,c=s.x*s.x+s.y*s.y,v=l.x*l.x+l.y*l.y,x=null;if(h>a*c*v){var A=(o.x*l.y-o.y*l.x)/f,B=(o.x*s.y-o.y*s.x)/f;Om(A,0,1)&&Om(B,0,1)&&(x={x:r.x+A*s.x,y:r.y+A*s.y})}return x},Lm=function(r,t){var e=r.x,n=r.y,a=r.width,o=r.height,s=e+a/2,l=n+o/2,f=[],h={x:s,y:l};f.push({x:e,y:n}),f.push({x:e+a,y:n}),f.push({x:e+a,y:n+o}),f.push({x:e,y:n+o}),f.push({x:e,y:n});for(var c=null,v=1;v<f.length&&(c=Ps(f[v-1],f[v],h,t),!c);v++);return c},Im=function(r,t){var e=r.x,n=r.y,a=r.r,o=t.x,s=t.y,l=o-e,f=s-n,h=Math.sqrt(l*l+f*f);if(h<a)return null;var c=Math.sign(l),v=Math.sign(f),x=Math.atan(f/l);return{x:e+Math.abs(a*Math.cos(x))*c,y:n+Math.abs(a*Math.sin(x))*v}},km=function(r,t){var e=r.rx,n=r.ry,a=r.x,o=r.y,s=t.x-a,l=t.y-o,f=Math.atan2(l/n,s/e);return f<0&&(f+=2*Math.PI),{x:a+e*Math.cos(f),y:o+n*Math.sin(f)}},Ts=function(r,t,e){e===void 0&&(e=1);var n=[r.x,r.y,e];return(!t||isNaN(t[0]))&&(t=[1,0,0,0,1,0,0,0,1]),Mm.transformMat3(n,n,t),{x:n[0],y:n[1]}},Bm=function(r,t,e){e===void 0&&(e=1),(!t||isNaN(t[0]))&&(t=[1,0,0,0,1,0,0,0,1]);var n=Ua.invert([],t);n||(n=[1,0,0,0,1,0,0,0,1]);var a=[r.x,r.y,e];return Mm.transformMat3(a,a,n),{x:a[0],y:a[1]}},_h=function(r,t,e){var n=r.x-t.x,a=r.y-t.y,o=r.x-e.x,s=r.y-e.y,l=(r.x*r.x-t.x*t.x-t.y*t.y+r.y*r.y)/2,f=(r.x*r.x-e.x*e.x-e.y*e.y+r.y*r.y)/2,h=a*o-n*s;return{x:-(s*l-a*f)/h,y:-(n*f-o*l)/h}},Os=function(r,t){var e=r.x-t.x,n=r.y-t.y;return Math.sqrt(e*e+n*n)},Dm=function(r,t){var e=[];return r.forEach(function(n){var a=[];n.forEach(function(o){a.push(o*t)}),e.push(a)}),e},Ah=function(r){for(var t=[],e=r.length,n=0;n<e;n+=1){t[n]=[];for(var a=0;a<e;a+=1)n===a?t[n][a]=0:r[n][a]===0||!r[n][a]?t[n][a]=Infinity:t[n][a]=r[n][a]}for(var o=0;o<e;o+=1)for(var n=0;n<e;n+=1)for(var a=0;a<e;a+=1)t[n][a]>t[n][o]+t[o][a]&&(t[n][a]=t[n][o]+t[o][a]);return t},Ph=function(r,t){var e=r.nodes,n=r.edges,a=[],o={};if(!e)throw new Error("invalid nodes data!");return e&&e.forEach(function(s,l){o[s.id]=l;var f=[];a.push(f)}),n&&n.forEach(function(s){var l=s.source,f=s.target,h=o[l],c=o[f];a[h][c]=1,t||(a[c][h]=1)}),a},Fm=function(r,t){r.translate(t.x,t.y)},Rm=function(r,t){var e=r.getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]);var n=r.getCanvasBBox(),a=t.x-n.minX,o=t.y-n.minY,s=Oa(e,[["t",a,o]]);r.setMatrix(s)},DR=function(r,t){var e=r.getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]);var n=t;(0,yi.default)(t)||(n=[t,t]),(0,yi.default)(t)&&t.length===1&&(n=[t[0],t[0]]),e=Oa(e,[["s",n[0],n[1]]]),r.setMatrix(e)},FR=function(r,t){var e=r.getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]),e=Oa(e,[["r",t]]),r.setMatrix(e)},Ql=function(r,t,e){for(var n=[],a=0;a<r;a++)n[a]=0;return e.forEach(function(o){o.source&&(n[t[o.source]]+=1),o.target&&(n[t[o.target]]+=1)}),n};function RR(i,r,t){return(t[0]-i[0])*(r[1]-i[1])==(r[0]-i[0])*(t[1]-i[1])&&Math.min(i[0],r[0])<=t[0]&&t[0]<=Math.max(i[0],r[0])&&Math.min(i[1],r[1])<=t[1]&&t[1]<=Math.max(i[1],r[1])}var Ls=function(r,t,e){var n=!1,a=r.length,o=1e-6;function s(c){return Math.abs(c)<o?0:c<0?-1:1}if(a<=2)return!1;for(var l=0;l<a;l++){var f=r[l],h=r[(l+1)%a];if(RR(f,h,[t,e]))return!0;s(f[1]-e)>0!=s(h[1]-e)>0&&s(t-(e-f[1])*(f[0]-h[0])/(f[1]-h[1])-f[0])<0&&(n=!n)}return n},Nm=function(r,t){return!(t.minX>r.maxX||t.maxX<r.minX||t.minY>r.maxY||t.maxY<r.minY)},NR=function(r,t){var e=!1;return(0,u.each)(r,function(n){if(Ps(n.from,n.to,t.from,t.to))return e=!0,!1}),e},Th=function(r,t){var e=function(v){var x=v.map(function(B){return B[0]}),A=v.map(function(B){return B[1]});return{minX:Math.min.apply(null,x),maxX:Math.max.apply(null,x),minY:Math.min.apply(null,A),maxY:Math.max.apply(null,A)}},n=function(v){for(var x=[],A=v.length,B=0;B<A-1;B++){var G=v[B],H=v[B+1];x.push({from:{x:G[0],y:G[1]},to:{x:H[0],y:H[1]}})}if(x.length>1){var X=v[0],ut=v[A-1];x.push({from:{x:ut[0],y:ut[1]},to:{x:X[0],y:X[1]}})}return x};if(r.length<2||t.length<2)return!1;var a=e(r),o=e(t);if(!Nm(a,o))return!1;var s=!1;if((0,u.each)(t,function(c){if(Ls(r,c[0],c[1]))return s=!0,!1}),s||((0,u.each)(r,function(c){if(Ls(t,c[0],c[1]))return s=!0,!1}),s))return!0;var l=n(r),f=n(t),h=!1;return(0,u.each)(f,function(c){if(NR(l,c))return h=!0,!1}),h},Eo=function(){function i(r,t,e,n){this.x1=r,this.y1=t,this.x2=e,this.y2=n}return i.prototype.getBBox=function(){var r=Math.min(this.x1,this.x2),t=Math.min(this.y1,this.y2),e=Math.max(this.x1,this.x2),n=Math.max(this.y1,this.y2),a={x:r,y:t,minX:r,minY:t,maxX:e,maxY:n,width:e-r,height:n-t};return a},i}(),Oh=function(r,t){var e={top:[r.minX,r.minY,r.maxX,r.minY],left:[r.minX,r.minY,r.minX,r.maxY],bottom:[r.minX,r.maxY,r.maxX,r.maxY],right:[r.maxX,r.minY,r.maxX,r.maxY]};return e[t]},GR=function(r,t){var e=(t.x2-t.x1)*(r.y1-t.y1)-(t.y2-t.y1)*(r.x1-t.x1),n=(r.x2-r.x1)*(r.y1-t.y1)-(r.y2-r.y1)*(r.x1-t.x1),a=(t.y2-t.y1)*(r.x2-r.x1)-(t.x2-t.x1)*(r.y2-r.y1);if(a){var o=e/a,s=n/a;if(o>=0&&o<=1&&s>=0&&s<=1)return o}return Number.POSITIVE_INFINITY},Gm=function(r,t){for(var e=["top","left","bottom","right"],n=r.getBBox(),a=0,o=[],s=0;s<4;s++){var l=Oh(n,e[s]),f=l[0],h=l[1],c=l[2],v=l[3];o[s]=Ps({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},{x:f,y:h},{x:c,y:v}),o[s]&&(a+=1)}return[o,a]},Lh=function(r,t){for(var e=["top","left","bottom","right"],n=r.getBBox(),a=Number.POSITIVE_INFINITY,o=0,s=0;s<4;s++){var l=Oh(n,e[s]),f=l[0],h=l[1],c=l[2],v=l[3],x=GR(t,new Eo(f,h,c,v));x=Math.abs(x-.5),x>=0&&x<=1&&(o+=1,a=x<a?x:a)}return o===0?-1:a},Ym=function(r){var t=0,e=0;if(r.length>0){for(var n=0,a=r;n<a.length;n++){var o=a[n];t+=o.x,e+=o.y}t/=r.length,e/=r.length}return{x:t,y:e}},Jl=function(r,t){return Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2)},zm=function(r,t){var e=t.x1,n=t.y1,a=t.x2-e,o=t.y2-n,s=r.x-e,l=r.y-n,f=s*a+l*o,h;f<=0?h=0:(s=a-s,l=o-l,f=s*a+l*o,f<=0?h=0:h=f*f/(a*a+o*o));var c=s*s+l*l-h;return c<0&&(c=0),c},Ih=function(r,t,e){return e===void 0&&(e=.001),Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2)<Math.pow(e,2)},Xm=function(r,t){var e=r.x<t.x,n=r.x>t.x+t.width,a=r.y>t.y+t.height,o=r.y<t.y,s=e||n||a||o;if(!s)return 0;if(a&&!e&&!n)return Math.pow(t.y+t.height-r.y,2);if(o&&!e&&!n)return Math.pow(r.y-t.y,2);if(e&&!a&&!o)return Math.pow(t.x-r.x,2);if(n&&!a&&!o)return Math.pow(t.x+t.width-r.x,2);var l=Math.min(Math.abs(t.x-r.x),Math.abs(t.x+t.width-r.x)),f=Math.min(Math.abs(t.y-r.y),Math.abs(t.y+t.height-r.y));return l*l+f*f},YR=function(r,t){return!r||!t?r:r.replace(/\\?\{([^{}]+)\}/g,function(e,n){if(e.charAt(0)==="\\")return e.slice(1);var a=t[n];return a===0&&(a="0"),a||""})},Vm=function(r){var t=[];if(r.length<2)throw new Error("point length must largn than 2, now it's "+r.length);for(var e=0,n=r;e<n.length;e++){var a=n[e],o=a.x,s=a.y;t.push(o),t.push(s)}var l=(0,Us.catmullRom2Bezier)(t);return l.unshift(["M",r[0].x,r[0].y]),l},ql=function(r,t,e,n){e===void 0&&(e=0),n===void 0&&(n=0);var a={x:(1-e)*r.x+e*t.x,y:(1-e)*r.y+e*t.y},o=[];Tn.normalize(o,[t.x-r.x,t.y-r.y]),o.length===0&&(o=[0,0]);var s=[-o[1]*n,o[0]*n];return a.x+=s[0],a.y+=s[1],a},Hm=function(r,t){var e=r.length;if(!e)return"";for(var n="",a="",o=0;o<e;o++){var s=r[o];o===0?a="M{x} {y}":a="L{x} {y}",n+=YR(a,s)}return t&&(n+="Z"),n},tu=function(r){var t=[];return r.forEach(function(e){var n=e[0];if(n!=="A")for(var a=1;a<e.length;a=a+2)t.push([e[a],e[a+1]]);else{var o=e.length;t.push([e[o-2],e[o-1]])}}),t},kh=function(r){if(r.length<2)throw new Error("point length must largn than 2, now it's "+r.length);var t=r[0],e=r[1],n=r[r.length-1],a=r[r.length-2];r.unshift(n),r.unshift(a),r.push(t),r.push(e);for(var o=[],s=1;s<r.length-2;s+=1){var l=r[s-1].x,f=r[s-1].y,h=r[s].x,c=r[s].y,v=r[s+1].x,x=r[s+1].y,A=s!==r.length-2?r[s+2].x:v,B=s!==r.length-2?r[s+2].y:x,G=h+(v-l)/6,H=c+(x-f)/6,X=v-(A-h)/6,ut=x-(B-c)/6;o.push(["C",G,H,X,ut,v,x])}return o.unshift(["M",n.x,n.y]),o},Wm=function(r,t){return Tn.scale([],Tn.normalize([],r),t)},jm=function(r,t){var e=[r[1]-t[1],t[0]-r[0]],n=Math.sqrt(e[0]*e[0]+e[1]*e[1]);if(n===0)throw new Error("p0 should not be equal to p1");return[e[0]/n,e[1]/n]},Um=function(r,t){return[t[0]-r[0],t[1]-r[1]]};function Zm(i,r){var t=function(c){var v=[c[0][0],c[0][1]-r],x=[c[0][0],c[0][1]+r];return"M "+v+" A "+r+","+r+",0,0,0,"+x+" A "+r+","+r+",0,0,0,"+v},e=function(c){var v=Tn.scale([],jm(c[0],c[1]),r),x=Tn.scale([],v,-1),A=Tn.add([],c[0],v),B=Tn.add([],c[1],v),G=Tn.add([],c[1],x),H=Tn.add([],c[0],x);return"M "+A+" L "+B+" A "+[r,r,"0,0,0",G].join(",")+" L "+H+" A "+[r,r,"0,0,0",A].join(",")};if(!i||i.length<1)return"";if(i.length===1)return t(i);if(i.length===2)return e(i);for(var n=new Array(i.length),a=0;a<n.length;++a){var o=a===0?i[i.length-1]:i[a-1],s=i[a],l=Tn.scale([],jm(o,s),r);n[a]=[Tn.add([],o,l),Tn.add([],s,l)]}var f="A "+[r,r,"0,0,0,"].join(",");return n=n.map(function(h,c){var v="";return c===0&&(v="M "+n[n.length-1][1]+" "),v+=f+h[0]+" L "+h[1],v}),n.join(" ")}function Km(i,r){var t=i.length,e=function(h){var c=[h[0][0],h[0][1]-r],v=[h[0][0],h[0][1]+r];return"M "+c+" A "+[r,r,"0,0,0",v].join(",")+" A "+[r,r,"0,0,0",c].join(",")},n=function(h){var c=Um(h[0],h[1]),v=Wm(c,r),x=Tn.add([],h[0],Tn.scale([],v,-1)),A=Tn.add([],h[1],v),B=1.2*r,G=Wm(Tn.normalize([],c),B),H=Tn.scale([],G,-1),X=Tn.add([],x,H),ut=Tn.add([],A,H),ft=Tn.add([],x,G);return"M "+x+" C "+[X,ut,A].join(",")+" S "+[ft,x].join(",")+" Z"};if(!i||t<1)return"";if(t===1)return e(i);if(t===2)return n(i);for(var a=i.map(function(f,h){var c=i[(h+1)%t];return{p:f,v:Tn.normalize([],Um(f,c))}}),o=0;o<a.length;++o){var s=o>0?o-1:t-1,l=Tn.normalize([],Tn.add([],a[s].v,Tn.scale([],a[o].v,-1)));a[o].p=Tn.add([],a[o].p,Tn.scale([],l,r))}return a.map(function(f){var h=f.p;return{x:h[0],y:h[1]}})}var $m="shift",zR=["drag","shift","ctrl","alt","control"],XR=function(r,t){var e,n=r.getKeyShape();if(r.get("type")==="path")e=tu(n.attr("path"));else{var a=n.getCanvasBBox();e=[[a.minX,a.minY],[a.maxX,a.minY],[a.maxX,a.maxY],[a.minX,a.maxY]]}return Th(t,e)},VR={getDefaultCfg:function(){return{delegateStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:$m,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return zR.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=$m,console.warn("Behavior lasso-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.trigger==="drag"?{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd","canvas:click":"clearStates"}:{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd",keyup:"onKeyUp",keydown:"onKeyDown","canvas:click":"clearStates"}},onDragStart:function(r){var t=this.lasso,e=r.item;e||this.trigger!=="drag"&&!this.keydown||(this.selectedNodes&&this.selectedNodes.length!==0&&this.clearStates(),t||(t=this.createLasso()),this.dragging=!0,this.originPoint={x:r.x,y:r.y},this.points.push(this.originPoint),t.show())},onDragMove:function(r){!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.points.push({x:r.x,y:r.y}),this.updateLasso(r))},onDragEnd:function(r){!this.lasso&&!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.points.push(this.originPoint),this.getSelectedItems(),this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1)},getLassoPath:function(){var r=this.points,t=[];return r.length&&(r.forEach(function(e,n){n===0?t.push(["M",e.x,e.y]):t.push(["L",e.x,e.y])}),t.push(["L",r[0].x,r[0].y])),t},clearStates:function(){var r=this,t=r.graph,e=r.selectedState,n=t.findAllByState("node",e),a=t.findAllByState("edge",e);n.forEach(function(o){return t.setItemState(o,e,!1)}),a.forEach(function(o){return t.setItemState(o,e,!1)}),this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),this.selectedNodes=[],this.selectedEdges=[],t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedItems:function(){var r=this,t=this,e=t.graph,n=t.shouldUpdate,a=this.points.map(function(h){return[e.getCanvasByPoint(h.x,h.y).x,e.getCanvasByPoint(h.x,h.y).y]}),o=this.selectedState,s=[],l=[];e.getNodes().forEach(function(h){if(XR(h,a)&&n(h,"select")){s.push(h);var c=h.getModel();l.push(c.id),e.setItemState(h,o,!0)}});var f=[];this.includeEdges&&s.forEach(function(h){var c=h.getOutEdges();c.forEach(function(v){var x=v.getModel(),A=x.source,B=x.target;l.includes(A)&&l.includes(B)&&n(v,"select")&&(f.push(v),e.setItemState(v,r.selectedState,!0))})}),this.selectedEdges=f,this.selectedNodes=s,this.onSelect&&this.onSelect(s,f),e.emit("nodeselectchange",{selectedItems:{nodes:s,edges:f},select:!0})},createLasso:function(){var r=this,t=r.graph.get("delegateGroup").addShape("path",{attrs:(0,q.__assign)({path:[]},r.delegateStyle),capture:!1,name:"lasso-shape"});return this.lasso=t,this.points=[],t},updateLasso:function(r){var t=this;this.lasso.attr({path:t.getLassoPath()})},onKeyDown:function(r){var t=r.key;!t||(t.toLowerCase()===this.trigger.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.lasso&&(this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1),this.keydown=!1}},Qm="click",HR=["click","drag"],Jm=void 0,WR=["shift","ctrl","control","alt","meta",void 0],jR={getDefaultCfg:function(){return{trigger:Qm,key:Jm,edgeConfig:{}}},getEvents:function(){var r=this;HR.indexOf(r.trigger.toLowerCase())>-1||(r.trigger=Qm,console.warn("Behavior create-edge \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click'\uFF0C'drag'")),r.key&&WR.indexOf(r.key.toLowerCase())===-1&&(r.trigger=Jm,console.warn("Behavior create-edge \u7684 key \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'shift'\uFF0C'ctrl'\uFF0C'alt'\uFF0C'control'\uFF0C\u6216 undefined"));var t;return r.trigger==="drag"?t={"node:dragstart":"onClick","combo:dragstart":"onClick",drag:"updateEndPoint","node:drop":"onClick","combo:drop":"onClick",dragend:"onDragEnd"}:r.trigger==="click"&&(t={"node:click":"onClick",mousemove:"updateEndPoint","edge:click":"cancelCreating","canvas:click":"cancelCreating","combo:click":"onClick"}),r.key&&(t.keydown="onKeyDown",t.keyup="onKeyUp"),t},onDragEnd:function(r){var t=this;if(!(t.key&&!t.keydown)){var e=r.item;(!e||e.getID()===t.source||e.getType()!=="node")&&t.cancelCreating({item:t.edge,x:r.x,y:r.y})}},onClick:function(r){var t=this;if(!(t.key&&!t.keydown)){var e=r.item,n=t.graph,a=e.getModel();if(t.addingEdge&&t.edge){if(!t.shouldEnd.call(t,r))return;var o={target:a.id};t.source===a.id&&(o.type="loop"),n.emit("beforecreateedge",{}),n.updateItem(t.edge,o),n.emit("aftercreateedge",{edge:t.edge}),t.edge.getKeyShape().set("capture",!0),t.edge=null,t.addingEdge=!1}else{if(!t.shouldBegin.call(t,r))return;t.edge=n.addItem("edge",(0,q.__assign)({source:a.id,target:a.id},t.edgeConfig),!1),t.source=a.id,t.addingEdge=!0,t.edge.getKeyShape().set("capture",!1)}}},updateEndPoint:function(r){var t=this;if(!(t.key&&!t.keydown)){var e={x:r.x,y:r.y};if(!t.graph.findById(t.source)){t.addingEdge=!1;return}t.addingEdge&&t.edge&&t.graph.updateItem(t.edge,{target:e},!1)}},cancelCreating:function(r){var t=this;if(!(t.key&&!t.keydown)){var e=t.graph,n=r.item;if(t.addingEdge&&r.target&&r.target.isCanvas&&r.target.isCanvas()){e.removeItem(t.edge,!1),t.edge=null,t.addingEdge=!1;return}if(t.addingEdge&&t.edge===n){var a=!0;if(!e.get("groupByTypes"))for(var o=r.x,s=r.y,l=e.getNodes(),f=l.length,h=0;h<f;h++){var c=l[h],v=c.getModel(),x=c.getBBox();if(o<=x.maxX&&o>=x.minX&&s<=x.maxY&&s>=x.minY){if(!t.shouldEnd.call(t,{x:r.x,y:r.y,canvasX:r.canvasX,canvasY:r.canvasY,clientX:r.clientX,clientY:r.clientY,item:c}))return;e.emit("beforecreateedge",{}),e.updateItem(t.edge,{target:v.id}),e.emit("aftercreateedge",{edge:t.edge}),a=!1;break}}a&&e.removeItem(t.edge,!1),t.edge=null,t.addingEdge=!1}}},onKeyDown:function(r){var t=this,e=r.key;!e||(e.toLowerCase()===t.key.toLowerCase()?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){var r=this;r.addingEdge&&r.edge&&(r.graph.removeItem(r.edge,!1),r.addingEdge=!1,r.edge=null),this.keydown=!1}},qm="ctrl",UR=["shift","ctrl","alt","control"],ZR="1",KR={getDefaultCfg:function(){return{trigger:qm,combinedKey:ZR,functionName:"fitView",functionParams:[]}},getEvents:function(){return UR.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=qm,console.warn("Behavior shortcuts-fit-view \u7684 trigger \u53C2\u6570 '"+this.trigger+"' \u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.combinedKey===this.trigger&&(this.combinedKey=void 0),{keyup:"onKeyUp",keydown:"onKeyDown"}},onKeyDown:function(r){var t=r.key;if(!!t){var e=this.trigger.toLowerCase(),n=t.toLowerCase();this.triggerKeydown||(n===e||n==="control"&&e==="ctrl"||n==="ctrl"&&e==="control"?this.triggerKeydown=!0:this.triggerKeydown=!1);var a=this.graph;if(!a[this.functionName])return console.warn("Behavior shortcuts-fit-view \u7684 functionName \u53C2\u6570 '"+this.functionName+"' \u4E0D\u5408\u6CD5\uFF0C\u5B83\u4E0D\u662F Graph \u7684\u4E00\u4E2A\u51FD\u6570\u540D"),{};if(this.triggerKeydown&&!this.combinedKey){this.functionParams&&this.functionParams.length?a[this.functionName].apply(a,this.functionParams):a[this.functionName]();return}var o=this.combinedKey.toLowerCase();this.triggerKeydown&&(n===o||n==="control"&&o==="ctrl"||n==="ctrl"&&o==="control")&&(this.functionParams&&this.functionParams.length?a[this.functionName].apply(a,this.functionParams):a[this.functionName]())}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.triggerKeydown=!1}},$R={"drag-canvas":oR,"zoom-canvas":wR,"drag-node":dR,"activate-relations":pR,"brush-select":yR,"click-select":xR,"lasso-select":VR,tooltip:SR,"edge-tooltip":CR,"drag-group":MR,"drag-node-with-group":_R,"collapse-expand-group":PR,"collapse-expand":OR,"drag-combo":IR,"collapse-expand-combo":BR,"create-edge":jR,"shortcuts-call":KR};(0,xn.default)($R,function(i,r){bh.registerBehavior(r,i)});var tx=bh,_o=d(19083),Is=d(19270),ma=d(27549),ex=d(54544),QR=function(r){var t=(0,ex.default)(r.groups,"id"),e=(0,ex.default)(r.groups,"parentId"),n={};for(var a in e)if(!!a){var o=e[a],s=t[a];if(s&&o){var l=(0,q.__spreadArrays)(o,s);n[a]=l}else o&&(n[a]=o)}var f=(0,q.__assign)((0,q.__assign)({},t),n),h={};for(var c in f)if(!(!c||c==="undefined")){var o=f[c].map(function(B){return B.id});h[c]=o}var v={},x=function(B){if(!B||B==="undefined")return"continue";for(var G=h[B],H=[],X=0,ut=G;X<ut.length;X++){var ft=ut[X],xt=f[ft].map(function(Kt){return Kt.id});H.push.apply(H,xt)}var Yt=r.nodes?r.nodes.filter(function(Kt){return H.indexOf(Kt.groupId)>-1||H.indexOf(Kt.parentId)>-1}).map(function(Kt){return Kt.id}):[];v[B]=Yt};for(var c in h)x(c);return v},JR=function(){function i(r){this.graph=r,this.destroyed=!1,this.modes=r.get("modes")||{default:[]},this.formatModes(),this.mode=r.get("defaultMode")||"default",this.currentBehaves=[],this.setMode(this.mode)}return i.prototype.formatModes=function(){var r=this.modes;(0,xn.default)(r,function(t){(0,xn.default)(t,function(e,n){(0,un.default)(e)&&(t[n]={type:e})})})},i.prototype.setBehaviors=function(r){var t=this.graph,e=this.modes[r],n=[],a;(0,xn.default)(e||[],function(o){var s=bh.getBehavior(o.type);!s||(a=new s(o),a&&(a.bind(t),n.push(a)))}),this.currentBehaves=n},i.mergeBehaviors=function(r,t){return(0,xn.default)(t,function(e){r.indexOf(e)<0&&((0,un.default)(e)&&(e={type:e}),r.push(e))}),r},i.filterBehaviors=function(r,t){var e=[];return r.forEach(function(n){var a="";(0,un.default)(n)?a=n:a=n.type,t.indexOf(a)<0&&e.push(n)}),e},i.prototype.setMode=function(r){var t=this,e=t.modes,n=t.graph,a=r,o=e[a];!o||(n.emit("beforemodechange",{mode:r}),(0,xn.default)(this.currentBehaves,function(s){s.unbind(n)}),this.setBehaviors(a),n.emit("aftermodechange",{mode:r}),this.mode=r)},i.prototype.getMode=function(){return this.mode},i.prototype.manipulateBehaviors=function(r,t,e){var n=this,a;if((0,yi.default)(r)?a=r:a=[r],(0,yi.default)(t))return(0,xn.default)(t,function(s){n.modes[s]?e?n.modes[s]=i.mergeBehaviors(n.modes[s]||[],a):n.modes[s]=i.filterBehaviors(n.modes[s]||[],a):e&&(n.modes[s]=a)}),this;var o=t;return t||(o=this.mode),this.modes[o]||e&&(this.modes[o]=a),e?this.modes[o]=i.mergeBehaviors(this.modes[o]||[],a):this.modes[o]=i.filterBehaviors(this.modes[o]||[],a),this.setMode(this.mode),this},i.prototype.destroy=function(){this.graph=null,this.modes=null,this.currentBehaves=null,this.destroyed=!0},i}(),qR=JR,t3=function(){function i(r){this.destroyed=!1,this.graph=r,this.destroyed=!1}return i.prototype.getViewCenter=function(){var r=this.getFormatPadding(),t=this.graph,e=this.graph.get("width"),n=t.get("height");return{x:(e-r[1]-r[3])/2+r[3],y:(n-r[0]-r[2])/2+r[0]}},i.prototype.fitCenter=function(){var r=this.graph,t=r.get("group");t.resetMatrix();var e=t.getCanvasBBox();if(!(e.width===0||e.height===0)){var n=this.getViewCenter(),a={x:e.x+e.width/2,y:e.y+e.height/2};r.translate(n.x-a.x,n.y-a.y)}},i.prototype.fitView=function(){var r=this.graph,t=this.getFormatPadding(),e=r.get("width"),n=r.get("height"),a=r.get("group");a.resetMatrix();var o=a.getCanvasBBox();if(!(o.width===0||o.height===0)){var s=this.getViewCenter(),l={x:o.x+o.width/2,y:o.y+o.height/2};r.translate(s.x-l.x,s.y-l.y);var f=(e-t[1]-t[3])/o.width,h=(n-t[0]-t[2])/o.height,c=f;f>h&&(c=h),r.zoom(c,s)}},i.prototype.getFormatPadding=function(){var r=this.graph.get("fitViewPadding");return Sh(r)},i.prototype.focusPoint=function(r,t,e){var n=this,a=this.getViewCenter(),o=this.getPointByCanvas(a.x,a.y),s=this.graph.get("group").getMatrix();if(s||(s=[1,0,0,0,1,0,0,0,1]),t){var l=(o.x-r.x)*s[0],f=(o.y-r.y)*s[4],h=0,c=0,v=0,x=0;this.graph.get("canvas").animate(function(A){v=l*A,x=f*A,n.graph.translate(v-h,x-c),h=v,c=x},(0,q.__assign)({},e))}else this.graph.translate((o.x-r.x)*s[0],(o.y-r.y)*s[4])},i.prototype.getPointByCanvas=function(r,t){var e=this.graph.get("group").getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]);var n=Bm({x:r,y:t},e);return n},i.prototype.getPointByClient=function(r,t){var e=this.graph.get("canvas"),n=e.getPointByClient(r,t);return this.getPointByCanvas(n.x,n.y)},i.prototype.getClientByPoint=function(r,t){var e=this.graph.get("canvas"),n=this.getCanvasByPoint(r,t),a=e.getClientByPoint(n.x,n.y);return{x:a.x,y:a.y}},i.prototype.getCanvasByPoint=function(r,t){var e=this.graph.get("group").getMatrix();return e||(e=[1,0,0,0,1,0,0,0,1]),Ts({x:r,y:t},e)},i.prototype.focus=function(r,t,e){(0,un.default)(r)&&(r=this.graph.findById(r));var n=r.get("group"),a=n.getMatrix();a||(a=[1,0,0,0,1,0,0,0,1]),r&&this.focusPoint({x:a[6],y:a[7]},t,e)},i.prototype.changeSize=function(r,t){var e=this.graph;if(!(0,ya.default)(r)||!(0,ya.default)(t))throw Error("invalid canvas width & height, please make sure width & height type is number");e.set({width:r,height:t});var n=e.get("canvas");n.changeSize(r,t);var a=e.get("plugins");a.forEach(function(o){if(o.get("gridContainer")){var s=e.get("minZoom");(0,Cn.Z)(o.get("container"),{width:r+"px",height:t+"px"}),(0,Cn.Z)(o.get("gridContainer"),{width:r/s+"px",height:t/s+"px",left:0,top:0})}})},i.prototype.destroy=function(){this.graph=null,this.destroyed=!1},i}(),e3=t3,ks=d(73136),eu=d(61262),r3=function(){function i(r){this.preItem=null,this.graph=r,this.extendEvents=[],this.dragging=!1,this.destroyed=!1,this.initEvents()}return i.prototype.initEvents=function(){var r=this,t=r.graph,e=r.extendEvents,n=t.get("canvas"),a=n.get("el"),o=(0,eu.default)(this,"onCanvasEvents"),s=(0,eu.default)(this,"onExtendEvents"),l=(0,eu.default)(this,"onWheelEvent");n.on("*",o),this.canvasHandler=o,e.push((0,ks.Z)(a,"DOMMouseScroll",l)),e.push((0,ks.Z)(a,"mousewheel",l)),typeof window!="undefined"&&(e.push((0,ks.Z)(window,"keydown",s)),e.push((0,ks.Z)(window,"keyup",s)),e.push((0,ks.Z)(window,"focus",s)))},i.getItemRoot=function(r){for(;r&&!r.get("item");)r=r.get("parent");return r},i.prototype.onCanvasEvents=function(r){var t=this.graph,e=t.get("canvas"),n=r.target,a=r.type;r.canvasX=r.x,r.canvasY=r.y;var o={x:r.canvasX,y:r.canvasY},s=t.get("group"),l=s.getMatrix();if(l||(l=[1,0,0,0,1,0,0,0,1]),um(l)&&(o=t.getPointByClient(r.clientX,r.clientY)),r.x=o.x,r.y=o.y,r.currentTarget=t,n===e){a==="mousemove"&&this.handleMouseMove(r,"canvas"),r.target=e,r.item=null,t.emit(a,r),t.emit("canvas:"+a,r);return}var f=i.getItemRoot(n);if(!f){t.emit(a,r);return}var h=f.get("item");if(!h.destroyed){var c=h.getType();if(r.target=n,r.item=h,r.canvasX===r.x&&r.canvasY===r.y){var v=t.getCanvasByPoint(r.x,r.y);r.canvasX=v.x,r.canvasY=v.y}t.emit(a,r),r.name&&!r.name.includes(":")?t.emit(c+":"+a,r):t.emit(r.name,r),a==="dragstart"&&(this.dragging=!0),a==="dragend"&&(this.dragging=!1),a==="mousemove"&&this.handleMouseMove(r,c)}},i.prototype.onExtendEvents=function(r){this.graph.emit(r.type,r)},i.prototype.onWheelEvent=function(r){(0,gi.default)(r.wheelDelta)&&(r.wheelDelta=-r.detail),this.graph.emit("wheel",r)},i.prototype.handleMouseMove=function(r,t){var e=this,n=e.graph,a=e.preItem,o=n.get("canvas"),s=r.target===o?null:r.item;r=jl(r),a&&a!==s&&!a.destroyed&&(r.item=a,this.emitCustomEvent(a.getType(),"mouseleave",r),this.dragging&&this.emitCustomEvent(a.getType(),"dragleave",r)),s&&a!==s&&(r.item=s,this.emitCustomEvent(t,"mouseenter",r),this.dragging&&this.emitCustomEvent(t,"dragenter",r)),this.preItem=s},i.prototype.emitCustomEvent=function(r,t,e){e.type=t,this.graph.emit(r+":"+t,e)},i.prototype.destroy=function(){var r=this,t=r.graph,e=r.canvasHandler,n=r.extendEvents,a=t.get("canvas");a.off("*",e),(0,xn.default)(n,function(o){o.remove()}),this.dragging=!1,this.preItem=null,this.extendEvents.length=0,this.canvasHandler=null,this.destroyed=!0},i}(),n3=r3,rx=d(8289),nx=d(33643),ix=d(85260),i3=d(58070),a3={" ":.3329986572265625,a:.5589996337890625,A:.6569992065429687,b:.58599853515625,B:.6769989013671875,c:.5469985961914062,C:.7279998779296875,d:.58599853515625,D:.705999755859375,e:.554998779296875,E:.63699951171875,f:.37299957275390627,F:.5769989013671875,g:.5909988403320312,G:.7479995727539063,h:.555999755859375,H:.7199996948242188,i:.255999755859375,I:.23699951171875,j:.26699981689453123,J:.5169998168945312,k:.5289993286132812,K:.6899993896484375,l:.23499908447265624,L:.5879989624023437,m:.854998779296875,M:.8819992065429687,n:.5589996337890625,N:.7189987182617188,o:.58599853515625,O:.7669998168945312,p:.58599853515625,P:.6419998168945312,q:.58599853515625,Q:.7669998168945312,r:.3649993896484375,R:.6759994506835938,s:.504998779296875,S:.6319992065429687,t:.354998779296875,T:.6189987182617187,u:.5599990844726562,U:.7139999389648437,v:.48199920654296874,V:.6389999389648438,w:.754998779296875,W:.929998779296875,x:.5089996337890625,X:.63699951171875,y:.4959991455078125,Y:.66199951171875,z:.48699951171875,Z:.6239990234375,"0":.6,"1":.40099945068359377,"2":.6,"3":.6,"4":.6,"5":.6,"6":.6,"7":.5469985961914062,"8":.6,"9":.6,"[":.3329986572265625,"]":.3329986572265625,",":.26399993896484375,".":.26399993896484375,";":.26399993896484375,":":.26399993896484375,"{":.3329986572265625,"}":.3329986572265625,"\\":.5,"|":.19499969482421875,"=":.604998779296875,"+":.604998779296875,"-":.604998779296875,_:.5,"`":.3329986572265625," ~":.8329986572265625,"!":.3329986572265625,"@":.8579986572265625,"#":.6,$:.6,"%":.9699996948242188,"^":.517999267578125,"&":.7259994506835937,"*":.505999755859375,"(":.3329986572265625,")":.3329986572265625,"<":.604998779296875,">":.604998779296875,"/":.5,"?":.53699951171875},ua=Math.PI,Bh=Math.sin,Dh=Math.cos,xi=Bh(ua/8),bi=Dh(ua/8),ru=function(r,t){var e=r.getBBox(),n={x:e.minX,y:e.minY},a={x:e.maxX,y:e.maxY};if(t){var o=t.getMatrix();o||(o=[1,0,0,0,1,0,0,0,1]),n=Ts(n,o),a=Ts(a,o)}var s=n.x,l=n.y,f=a.x,h=a.y;return{x:s,y:l,minX:s,minY:l,maxX:f,maxY:h,width:f-s,height:h-l}},ax=function(r){var t=r.sourceNode||r.targetNode,e=t.get("group"),n=e.getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]);var a=t.getKeyShape(),o=a.getBBox(),s=r.loopCfg||{},l=s.dist||Math.max(o.width,o.height)*2,f=s.position||Xe.defaultLoopPosition,h=[n[6],n[7]],c=[r.startPoint.x,r.startPoint.y],v=[r.endPoint.x,r.endPoint.y],x=o.height/2,A=o.height/2,B=x*xi,G=x*bi,H=A*xi,X=A*bi;if(c[0]===v[0]&&c[1]===v[1]){switch(f){case"top":c=[h[0]-B,h[1]-G],v=[h[0]+H,h[1]-X];break;case"top-right":x=o.height/2,A=o.width/2,B=x*xi,G=x*bi,H=A*xi,X=A*bi,c=[h[0]+B,h[1]-G],v=[h[0]+X,h[1]-H];break;case"right":x=o.width/2,A=o.width/2,B=x*xi,G=x*bi,H=A*xi,X=A*bi,c=[h[0]+G,h[1]-B],v=[h[0]+X,h[1]+H];break;case"bottom-right":x=o.width/2,A=o.height/2,B=x*xi,G=x*bi,H=A*xi,X=A*bi,c=[h[0]+G,h[1]+B],v=[h[0]+H,h[1]+X];break;case"bottom":x=o.height/2,A=o.height/2,B=x*xi,G=x*bi,H=A*xi,X=A*bi,c=[h[0]+B,h[1]+G],v=[h[0]-H,h[1]+X];break;case"bottom-left":x=o.height/2,A=o.width/2,B=x*xi,G=x*bi,H=A*xi,X=A*bi,c=[h[0]-B,h[1]+G],v=[h[0]-X,h[1]+H];break;case"left":x=o.width/2,A=o.width/2,B=x*xi,G=x*bi,H=A*xi,X=A*bi,c=[h[0]-G,h[1]+B],v=[h[0]-X,h[1]-H];break;case"top-left":x=o.width/2,A=o.height/2,B=x*xi,G=x*bi,H=A*xi,X=A*bi,c=[h[0]-G,h[1]-B],v=[h[0]-H,h[1]-X];break;default:x=o.width/2,A=o.width/2,B=x*xi,G=x*bi,H=A*xi,X=A*bi,c=[h[0]-B,h[1]-G],v=[h[0]+H,h[1]-X]}if(s.clockwise===!1){var ut=[c[0],c[1]];c=[v[0],v[1]],v=[ut[0],ut[1]]}}var ft=[c[0]-h[0],c[1]-h[1]],xt=(x+l)/x,Yt=(A+l)/A;s.clockwise===!1&&(xt=(A+l)/A,Yt=(x+l)/x);var Kt=Tn.scale([],ft,xt),te=[h[0]+Kt[0],h[1]+Kt[1]],Wt=[v[0]-h[0],v[1]-h[1]],ae=Tn.scale([],Wt,Yt),ce=[h[0]+ae[0],h[1]+ae[1]];return r.startPoint={x:c[0],y:c[1]},r.endPoint={x:v[0],y:v[1]},r.controlPoints=[{x:te[0],y:te[1]},{x:ce[0],y:ce[1]}],r},nu=function(r,t,e,n,a){var o=1e-4,s=[],l=r.getPoint(t);if(l===null)return{x:0,y:0,angle:0};if(t<o)s=r.getStartTangent().reverse();else if(t>1-o)s=r.getEndTangent();else{var f=r.getPoint(t+o);s.push([l.x,l.y]),s.push([f.x,f.y])}var h=Math.atan2(s[1][1]-s[0][1],s[1][0]-s[0][0]);if(h<0&&(h+=ua*2),e&&(l.x+=Dh(h)*e,l.y+=Bh(h)*e),n){var c=h-ua/2;h>1/2*ua&&h<3*1/2*ua&&(c-=ua),l.x+=Dh(c)*n,l.y+=Bh(c)*n}var v={x:l.x,y:l.y,angle:h};return a?(h>1/2*ua&&h<3*1/2*ua&&(h-=ua),(0,q.__assign)({rotate:h},v)):v},ox=function i(r,t){if(t(r)===!1)return!1;if(r&&r.children){for(var e=r.children.length-1;e>=0;e--)if(!i(r.children[e],t))return!1}return!0},o3=function i(r,t){if(r&&r.children){for(var e=r.children.length-1;e>=0;e--)if(!i(r.children[e],t))return}return t(r)!==!1},Ri=function(r,t){typeof t=="function"&&ox(r,t)},fa=function(r,t){typeof t=="function"&&o3(r,t)},sx=function(r,t){var e=["V","TB","BT"],n={x:Infinity,y:Infinity},a={x:-Infinity,y:-Infinity},o="x",s="y";t&&e.indexOf(t)>=0&&(s="x",o="y");var l=0;Ri(r,function(c){return l++,c.x>a.x&&(a.x=c.x),c.x<n.x&&(n.x=c.x),c.y>a.y&&(a.y=c.y),c.y<n.y&&(n.y=c.y),!0});var f=ua*2/l,h=a[s]-n[s];return h===0||Ri(r,function(c){var v=(c[s]-n[s])/h*(ua*2-f)+f,x=Math.abs(o==="x"?c.x-r.x:c.y-r.y);return c.x=x*Math.cos(v),c.y=x*Math.sin(v),!0}),r},lx=function(r,t){return t*(a3[r]||1)},ux=function(r,t){var e=0,n=new RegExp("[\u4E00-\u9FA5]+");return r.split("").forEach(function(a){n.test(a)?e+=t:e+=lx(a,t)}),[e,t]},Fh=function(r,t){var e=[],n={},a={};r.forEach(function(s){a[s.id]=s}),r.forEach(function(s,l){var f=(0,u.clone)(s);f.itemType="combo",f.children=void 0,f.parentId===f.id?(console.warn("The parentId for combo "+f.id+" can not be the same as the combo's id"),delete f.parentId):f.parentId&&!a[f.parentId]&&(console.warn("The parent combo for combo "+f.id+" does not exist!"),delete f.parentId);var h=n[f.id];if(h){if(f.children=h.children,n[f.id]=f,h=f,!h.parentId){e.push(h);return}var c=n[h.parentId];if(c)c.children?c.children.push(f):c.children=[f];else{var v={id:h.parentId,children:[h]};n[h.parentId]=v,n[f.id]=f}return}if((0,u.isString)(s.parentId)){var x=n[s.parentId];if(x)x.children?x.children.push(f):x.children=[f],n[f.id]=f;else{var A={id:s.parentId,children:[f]};n[A.id]=A,n[f.id]=f}}else e.push(f),n[f.id]=f});var o={};return(t||[]).forEach(function(s){o[s.id]=s;var l=n[s.comboId];if(l){var f={id:s.id,comboId:s.comboId};l.children?l.children.push(f):l.children=[f],f.itemType="node",n[s.id]=f}}),e.forEach(function(s){s.depth=0,ox(s,function(l){var f,h=n[l.id].itemType;h==="node"?f=n[l.comboId]:f=n[l.parentId],f?h==="node"?l.depth=f.depth+1:l.depth=f.depth+2:l.depth=0;var c=o[l.id];return c&&(c.depth=l.depth),!0})}),e},Rh=function(r,t,e){var n=r,a,o={root:{children:r}},s=!1,l="root";(r||[]).forEach(function(x){if(!s){if(x.id===t){a=x,x.itemType==="combo"?a.parentId=e:a.comboId=e,s=!0;return}Ri(x,function(A){return o[A.id]={children:A.children},n=o[A.parentId||A.comboId||"root"].children,A&&(A.removed||t===A.id)&&n?(l=A.parentId||A.comboId||"root",a=A,A.itemType==="combo"?a.parentId=e:a.comboId=e,s=!0,!1):!0})}}),n=o[l].children;var f=n?n.indexOf(a):-1;if(f>-1&&n.splice(f,1),s||(a={id:t,itemType:"node",comboId:e},o[t]={children:void 0}),t){var h=!1;if(e){var c=0;(r||[]).forEach(function(x){h||Ri(x,function(A){return e===A.id?(h=!0,A.children?A.children.push(a):A.children=[a],c=A.depth,a.itemType==="node"?a.depth=c+2:a.depth=c+1,!1):!0})})}else(!e||!h)&&a.itemType!=="node"&&r.push(a);var v=a.depth;Ri(a,function(x){return x.itemType==="node"?v+=2:v+=1,x.depth=v,!0})}return r},Nh=function(r,t){var e={minX:Infinity,minY:Infinity,maxX:-Infinity,maxY:-Infinity,x:void 0,y:void 0,width:void 0,height:void 0,centerX:void 0,centerY:void 0};return!r||r.length===0||(r.forEach(function(n){var a=t.findById(n.id);if(!(!a||!a.isVisible())){a.set("bboxCanvasCache",void 0);var o=a.getCanvasBBox();o.x&&e.minX>o.minX&&(e.minX=o.minX),o.y&&e.minY>o.minY&&(e.minY=o.minY),o.x&&e.maxX<o.maxX&&(e.maxX=o.maxX),o.y&&e.maxY<o.maxY&&(e.maxY=o.maxY)}}),e.x=(e.minX+e.maxX)/2,e.y=(e.minY+e.maxY)/2,e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.centerX=(e.minX+e.maxX)/2,e.centerY=(e.minY+e.maxY)/2,Object.keys(e).forEach(function(n){(e[n]===Infinity||e[n]===-Infinity)&&(e[n]=void 0)})),e},s3=function(r){var t=r.group,e=r.height,n=r.width,a=r.x,o=r.y,s=t.get("canvas"),l=s.get("width"),f=s.get("height"),h={start:{x:0,y:0},end:{x:0,y:0}};return h.start.x=a/l,h.start.y=o/f,h.end.x=(a+n)/l,h.end.y=(o+e)/f,h};function iu(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?iu=function(t){return typeof t}:iu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iu(i)}function fx(i){if(typeof i!="string")return i;var r=function(Kt){if(typeof Kt!="string")return Kt;try{return JSON.parse(Kt.trim())}catch(te){return Kt.trim()}},t=r(i);if(typeof t!="string")return t;for(var e=function(Kt){return Kt[Kt.length-1]},n=i.trim(),a=[],o=[],s=function(){for(var Kt=[],te=0;te<arguments.length;te++)Kt[te]=arguments[te];return Kt.some(function(Wt){return e(o)===Wt})},l=function(){return e(a)},f=null,h=0,c="";h<n.length;){var v=n[h],x=s('"',"'");if(!x&&!v.trim()){h+=1;continue}var A=n[h-1]==="\\",B=s("}"),G=s("]"),H=s(","),X=l();if(x)if(e(o)===v&&!A){o.pop();var ut=r(c);X.push(ut),f=ut,c=""}else c+=v;else if(G&&v===",")c&&(X.push(r(c)),c="");else if(B&&v===":")o.push(","),c&&(X.push(c),c="");else if(H&&v===",")c&&(X.push(r(c)),c=""),o.pop();else if(v==="}"&&(B||H)){c&&(X.push(r(c)),c=""),H&&o.pop();for(var ft={},xt=1;xt<X.length;xt+=2)ft[X[xt-1]]=X[xt];a.pop(),a.length&&e(a).push(ft),o.pop(),f=ft}else v==="]"&&G?(c&&(X.push(r(c)),c=""),a.pop(),a.length&&e(a).push(X),o.pop(),f=X):v==="{"?(a.push([]),o.push("}")):v==="["?(a.push([]),o.push("]")):v==='"'?o.push('"'):v==="'"?o.push("'"):c+=v;h+=1}return f||c}var l3=function(r){return r.split("-").reduce(function(t,e){return t+e.charAt(0).toUpperCase()+e.slice(1)})},u3=function(r){return function(t){for(var e=r.length,n=[],a=0,o="";a<e;)if(r[a]==="{"&&r[a+1]==="{")n.push(o),o="",a+=2;else if(r[a]==="}"&&r[a+1]==="}"){if(n.length){var s=n.pop();o=(0,i3.default)(t,o,s.endsWith("=")?'"{'+o+'}"':o),n.push(s+o)}a+=2,o=""}else o+=r[a],a+=1;return n.push(o),n.map(function(l,f){return n[f-1]&&n[f-1].endsWith("=")?'"{'+l+'}"':l}).join("")}};function hx(i,r){var t={},e=i.getAttributeNames&&i.getAttributeNames()||[],n=i.children&&Array.from(i.children).map(function(s){return hx(s,r)}),a={},o=i.tagName?i.tagName.toLowerCase():"group";return o==="text"&&(t.text=i.innerText),a.type=o,o==="img"&&(a.type="image"),Array.from(e).forEach(function(s){var l=l3(s),f=i.getAttribute(s);try{if(l==="style"||l==="attrs"){var h=fx(f);t=(0,q.__assign)((0,q.__assign)({},t),h)}else a[l]=fx(f)}catch(c){if(l==="style")throw c;a[l]=f}}),a.attrs=t,r&&r.style&&a.name&&iu(r.style[a.name])==="object"&&(a.attrs=(0,q.__assign)((0,q.__assign)({},a.attrs),r.style[a.name])),r&&r.style&&a.keyshape&&(a.attrs=(0,q.__assign)((0,q.__assign)({},a.attrs),r.style)),n.length&&(a.children=n),a}function f3(i,r,t){var e=i.attrs,n=e===void 0?{}:e,a={x:r.x||0,y:r.y||0,width:t.width||0,height:t.height||0},o,s;switch(i.type){case"maker":case"circle":n.r&&(s=2*n.r,o=2*n.r);break;case"text":n.text&&(s=ux(n.text,n.fontSize||12)[0],o=16,a.y+=o,a.height=o,a.width=s,i.attrs=(0,q.__assign)({fontSize:12,fill:"#000"},n));break;default:n.width&&(s=n.width),n.height&&(o=n.height)}return o>=0&&(a.height=o),s>=0&&(a.width=s),n.marginTop&&(a.y+=n.marginTop),n.marginLeft&&(a.x+=n.marginLeft),a}function cx(i,r){var t;r===void 0&&(r={x:0,y:0});var e=(0,q.__assign)({x:0,y:0,width:0,height:0},r);if((t=i.children)===null||t===void 0?void 0:t.length){var n=i.attrs,a=n===void 0?{}:n,o=a.marginTop,s=(0,q.__assign)({},r);o&&(s.y+=o);for(var l=0;l<i.children.length;l++){i.children[l].attrs.key=(a.key||"root")+" -"+l+" ";var f=cx(i.children[l],s);if(f.bbox){var h=f.bbox;f.attrs.next==="inline"?s.x+=f.bbox.width:s.y+=f.bbox.height,h.width+h.x>e.width&&(e.width=h.width+h.x),h.height+h.y>e.height&&(e.height=h.height+h.y)}}}return i.bbox=f3(i,r,e),i.attrs=(0,q.__assign)((0,q.__assign)({},i.attrs),i.bbox),i}function vx(i,r){var t,e,n,a,o=(i||{}).type,s=((r==null?void 0:r.attrs)||{}).key;if(s&&i&&(i.attrs.key=s),!i&&r)return{action:"delete",val:r,type:o,key:s};if(i&&!r)return{action:"add",val:i,type:o};if(!i&&!r)return{action:"same",type:o};var l=[];if(((t=i.children)===null||t===void 0?void 0:t.length)>0||((e=r.children)===null||e===void 0?void 0:e.length)>0)for(var f=Math.max((n=i.children)===null||n===void 0?void 0:n.length,(a=r.children)===null||a===void 0?void 0:a.length),h=r.children||[],c=i.children||[],v=0;v<f;v+=1)l.push(vx(c[v],h[v]));var x=Object.keys(r.attrs),A=Object.keys(i.attrs);return r.type!==i.type?{action:"restructure",nowTarget:i,formerTarget:r,key:s,children:l}:x.filter(function(B){return B!=="children"}).some(function(B){return i.attrs[B]!==r.attrs[B]||!A.includes(B)})?{action:"change",val:i,children:l,type:o,key:s}:{action:"same",children:l,type:o,key:s}}function dx(i){var r={},t=function(n){var a=typeof i=="function"?i(n):i,o=u3(a)(n),s=document.createElement("div");s.innerHTML=o;var l=s.children[0],f=cx(hx(l,n));return s.remove(),f};return{draw:function(n,a){var o=t(n),s=a,l=function f(h){var c=h.attrs,v=c===void 0?{}:c,x=h.bbox,A=h.type,B=h.children,G=(0,q.__rest)(h,["attrs","bbox","type","children"]);if(h.type!=="group"){var H=a.addShape(h.type,(0,q.__assign)({attrs:v,origin:{bbox:x,type:A,children:B}},G));h.keyshape&&(s=H)}h.children&&h.children.forEach(function(X){return f(X)})};return l(o),r[n.id]=[o],s},update:function(n,a){r[n.id]||(r[n.id]=[]);var o=a.getContainer(),s=o.get("children"),l=t(n),f=r[n.id].pop(),h=vx(l,f),c=function A(B){var G;B.type!=="group"&&o.addShape(B.type,{attrs:B.attrs}),((G=B.children)===null||G===void 0?void 0:G.length)&&B.children.map(function(H){return A(H)})},v=function A(B){var G,H=s.find(function(X){return X.attrs.key===B.attrs.key});H&&o.removeChild(H),((G=B.children)===null||G===void 0?void 0:G.length)&&B.children.map(function(X){return A(X)})},x=function A(B){var G=B.key;if(B.type!=="group"){var H=s.find(function(ut){return ut.attrs.key===G});switch(B.action){case"change":if(H){var X=B.val.keyshape?a.getOriginStyle():{};H.attr((0,q.__assign)((0,q.__assign)({},X),B.val.attrs))}break;case"add":c(B.val);break;case"delete":v(B.val);break;case"restructure":v(B.formerTarget),c(B.nowTarget);break;default:break}}B.children&&B.children.forEach(function(ut){return A(ut)})};x(h),r[n.id].push(l)},getAnchorPoints:function(){return[[0,.5],[1,.5],[.5,1],[.5,0]]}}}var Gh={};function px(i){return Gh[i]||(Gh[i]=(0,u.upperFirst)(i)),Gh[i]}var h3={defaultShapeType:"defaultType",className:null,getShape:function(r){var t=this,e=t[r]||t[t.defaultShapeType];return e},draw:function(r,t,e){var n=this.getShape(r),a=n.draw(t,e);return n.afterDraw&&n.afterDraw(t,e,a),a},baseUpdate:function(r,t,e){var n=this.getShape(r);n.update&&n.update(t,e),n.afterUpdate&&n.afterUpdate(t,e)},setState:function(r,t,e,n){var a=this.getShape(r);a.setState(t,e,n)},shouldUpdate:function(r){var t=this.getShape(r);return!!t.update},getControlPoints:function(r,t){var e=this.getShape(r);return e.getControlPoints(t)},getAnchorPoints:function(r,t){var e=this.getShape(r);return e.getAnchorPoints(t)}},Yh={options:{},draw:function(r,t){return this.drawShape(r,t)},drawShape:function(){},afterDraw:function(){},afterUpdate:function(){},setState:function(){},getControlPoints:function(r){return r.controlPoints},getAnchorPoints:function(r){var t=this.options.anchorPoints,e=r.anchorPoints||t;return e}},au=function(){function i(){}return i.registerFactory=function(r,t){var e=px(r),n=h3,a=(0,q.__assign)((0,q.__assign)({},n),t);return i[e]=a,a.className=e,a},i.getFactory=function(r){var t=px(r);return i[t]},i.registerNode=function(r,t,e){var n=i.Node,a;if(typeof t=="string"||typeof t=="function"){var o=dx(t);a=(0,q.__assign)((0,q.__assign)({},n.getShape("single-node")),o)}else if(t.jsx){var s=t.jsx,o=dx(s);a=(0,q.__assign)((0,q.__assign)((0,q.__assign)({},n.getShape("single-node")),o),t)}else{var l=e?n.getShape(e):Yh;a=(0,q.__assign)((0,q.__assign)({},l),t)}return a.type=r,a.itemType="node",n[r]=a,a},i.registerEdge=function(r,t,e){var n=i.Edge,a=e?n.getShape(e):Yh,o=(0,q.__assign)((0,q.__assign)({},a),t);return o.type=r,o.itemType="edge",n[r]=o,o},i.registerCombo=function(r,t,e){var n=i.Combo,a=e?n.getShape(e):Yh,o=(0,q.__assign)((0,q.__assign)({},a),t);return o.type=r,o.itemType="combo",n[r]=o,o},i}(),Xn=au;au.registerFactory("node",{defaultShapeType:"circle"}),au.registerFactory("edge",{defaultShapeType:"line"}),au.registerFactory("combo",{defaultShapeType:"circle"});var zh="bboxCache",Xh="bboxCanvasCache",c3=function(){function i(r){this._cfg={},this.destroyed=!1;var t={id:void 0,type:"item",model:{},group:void 0,animate:!1,visible:!0,locked:!1,event:!0,keyShape:void 0,states:[]};this._cfg=Object.assign(t,this.getDefaultCfg(),r);var e=this.get("model"),n=e.id,a=this.get("type");n||(n=(0,u.uniqueId)(a),this.get("model").id=n),this.set("id",n);var o=r.group;o&&(o.set("item",this),o.set("id",n)),this.init(),this.draw();var s=e.shape||e.type||(a==="edge"?"line":"circle"),l=this.get("shapeFactory");if(l&&l[s]){var f=l[s].options;if(f&&f.stateStyles){var h=this.get("styles")||e.stateStyles;h=(0,u.deepMix)({},f.stateStyles,h),this.set("styles",h)}}}return i.prototype.calculateBBox=function(){var r=this.get("keyShape"),t=this.get("group"),e=ru(r,t);return e.x=e.minX,e.y=e.minY,e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.centerX=(e.minX+e.maxX)/2,e.centerY=(e.minY+e.maxY)/2,e},i.prototype.calculateCanvasBBox=function(){var r=this.get("keyShape"),t=this.get("group"),e=ru(r,t);return e.x=e.minX,e.y=e.minY,e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.centerX=(e.minX+e.maxX)/2,e.centerY=(e.minY+e.maxY)/2,e},i.prototype.drawInner=function(){var r=this,t=r.get("shapeFactory"),e=r.get("group"),n=r.get("model");e.clear();var a=n.visible;if(a!==void 0&&!a&&r.changeVisibility(a),!!t){r.updatePosition(n);var o=r.getShapeCfg(n),s=o.shape||o.type,l=t.draw(s,o,e);l&&(r.set("keyShape",l),l.set("isKeyShape",!0),l.set("draggable",!0)),this.setOriginStyle(),this.set("currentShape",s),this.restoreStates(t,s)}},i.prototype.setOriginStyle=function(r){var t={},e=this.get("group"),n=e.get("children"),a=this.getKeyShape(),o=this;(0,u.each)(n,function(f){var h=f.get("name");if(h)t[h]=o.getShapeStyleByName(h);else{var c=a.get("name"),v=o.getShapeStyleByName();c?t[c]=v:Object.assign(t,v)}});var s=this.getOriginStyle(),l={};r?l=(0,u.deepMix)({},s,t,r.style,{labelCfg:r.labelCfg}):l=(0,u.deepMix)({},s,t),o.set("originStyle",l)},i.prototype.restoreStates=function(r,t){var e=this,n=e.get("states");(0,u.each)(n,function(a){r.setState(t,a,!0,e)})},i.prototype.init=function(){var r=Xn.getFactory(this.get("type"));this.set("shapeFactory",r)},i.prototype.get=function(r){return this._cfg[r]},i.prototype.set=function(r,t){(0,u.isPlainObject)(r)?this._cfg=(0,q.__assign)((0,q.__assign)({},this._cfg),r):this._cfg[r]=t},i.prototype.getDefaultCfg=function(){return{}},i.prototype.clearCache=function(){this.set(zh,null),this.set(Xh,null)},i.prototype.beforeDraw=function(){},i.prototype.afterDraw=function(){},i.prototype.afterUpdate=function(){},i.prototype.draw=function(){this.beforeDraw(),this.drawInner(),this.afterDraw()},i.prototype.getShapeStyleByName=function(r){var t=this.get("group"),e=this.getKeyShape();if(r&&(e=t.find(function(a){return a.get("name")===r})),e){var n={};return(0,u.each)(e.attr(),function(a,o){o!=="img"&&(n[o]=a)}),n}return{}},i.prototype.getShapeCfg=function(r){var t=this.get("styles");if(t){var e=r;return e.style=(0,q.__assign)((0,q.__assign)({},t),r.style),e}return r},i.prototype.getStateStyle=function(r){var t=this.get("styles"),e=t&&t[r];return e},i.prototype.getOriginStyle=function(){return this.get("originStyle")},i.prototype.getCurrentStatesStyle=function(){var r=this,t={};return(0,u.each)(r.getStates(),function(e){t=Object.assign(t,r.getStateStyle(e))}),t},i.prototype.setState=function(r,t){var e=this.get("states"),n=this.get("shapeFactory"),a=r,o=r;(0,u.isString)(t)&&(a=r+":"+t,o=r+":");var s=e;if((0,u.isBoolean)(t)){var l=e.indexOf(o);if(t){if(l>-1)return;e.push(a)}else l>-1&&e.splice(l,1)}else if((0,u.isString)(t)){var f=e.filter(function(v){return v.includes(o)});f.length>0&&this.clearStates(f),s=s.filter(function(v){return!v.includes(o)}),s.push(a),this.set("states",s)}if(n){var h=this.get("model"),c=h.shape||h.type;n.setState(c,r,t,this)}},i.prototype.clearStates=function(r){var t=this,e=t.getStates(),n=t.get("shapeFactory"),a=t.get("model"),o=a.shape||a.type;r||(r=e),(0,u.isString)(r)&&(r=[r]);var s=e.filter(function(l){return r.indexOf(l)===-1});t.set("states",s),r.forEach(function(l){n.setState(o,l,!1,t)})},i.prototype.getContainer=function(){return this.get("group")},i.prototype.getKeyShape=function(){return this.get("keyShape")},i.prototype.getModel=function(){return this.get("model")},i.prototype.getType=function(){return this.get("type")},i.prototype.getID=function(){return this.get("id")},i.prototype.isItem=function(){return!0},i.prototype.getStates=function(){return this.get("states")},i.prototype.hasState=function(r){var t=this.getStates();return t.indexOf(r)>=0},i.prototype.refresh=function(){var r=this.get("model");this.updatePosition(r),this.updateShape(),this.afterUpdate(),this.clearCache()},i.prototype.isOnlyMove=function(r){return!1},i.prototype.update=function(r){var t=this.get("model"),e=t.visible,n=r.visible;e!==n&&n!==void 0&&this.changeVisibility(n);var a={x:t.x,y:t.y};r.x=isNaN(r.x)?t.x:r.x,r.y=isNaN(r.y)?t.y:r.y;var o=this.get("styles");if(r.stateStyles){var s=r.stateStyles;(0,u.mix)(o,s),delete r.stateStyles}Object.assign(t,r);var l=this.isOnlyMove(r);l?this.updatePosition(r):((a.x!==r.x||a.y!==r.y)&&this.updatePosition(r),this.updateShape()),this.afterUpdate(),this.clearCache()},i.prototype.updateShape=function(){var r=this.get("shapeFactory"),t=this.get("model"),e=t.shape||t.type;if(r.shouldUpdate(e)&&e===this.get("currentShape")){var n=this.getShapeCfg(t);r.baseUpdate(e,n,this)}else this.draw();this.setOriginStyle(t),this.restoreStates(r,e)},i.prototype.updatePosition=function(r){var t=this.get("model"),e=(0,u.isNil)(r.x)?t.x:r.x,n=(0,u.isNil)(r.y)?t.y:r.y,a=this.get("group");(0,u.isNil)(e)||(0,u.isNil)(n)||(a.resetMatrix(),Fm(a,{x:e,y:n}),t.x=e,t.y=n,this.clearCache())},i.prototype.getBBox=function(){var r=this.get(zh);return r||(r=this.calculateBBox(),this.set(zh,r)),r},i.prototype.getCanvasBBox=function(){var r=this.get(Xh);return r||(r=this.calculateCanvasBBox(),this.set(Xh,r)),r},i.prototype.toFront=function(){var r=this.get("group");r.toFront()},i.prototype.toBack=function(){var r=this.get("group");r.toBack()},i.prototype.show=function(){this.changeVisibility(!0)},i.prototype.hide=function(){this.changeVisibility(!1)},i.prototype.changeVisibility=function(r){var t=this.get("group");r?t.show():t.hide(),this.set("visible",r)},i.prototype.isVisible=function(){return this.get("visible")},i.prototype.enableCapture=function(r){var t=this.get("group");t&&t.set("capture",r)},i.prototype.destroy=function(){if(!this.destroyed){var r=this.get("animate"),t=this.get("group");r&&t.stopAnimate(),this.clearCache(),t.remove(),this._cfg=null,this.destroyed=!0}},i}(),gx=c3,ou={source:"start",target:"end"},La="Node",$o="Point",v3="Anchor",d3=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return{type:"edge",sourceNode:null,targetNode:null,startPoint:null,endPoint:null,linkCenter:!1}},r.prototype.setEnd=function(t,e){var n=ou[t]+$o,a=t+La,o=this.get(a);o&&!o.destroyed&&o.removeEdge(this),(0,u.isPlainObject)(e)?(this.set(n,e),this.set(a,null)):(e.addEdge(this),this.set(a,e),this.set(n,null))},r.prototype.getLinkPoint=function(t,e,n){var a=ou[t]+$o,o=t+La,s=this.get(a);if(!s){var l=this.get(o),f=t+v3,h=this.getPrePoint(t,n),c=e[f];(0,u.isNil)(c)||(s=l.getLinkPointByAnchor(c)),s=s||l.getLinkPoint(h),(0,u.isNil)(s.index)||this.set(t+"AnchorIndex",s.index)}return s},r.prototype.getPrePoint=function(t,e){if(e&&e.length){var n=t==="source"?0:e.length-1;return e[n]}var a=t==="source"?"target":"source";return this.getEndPoint(a)},r.prototype.getEndPoint=function(t){var e=t+La,n=ou[t]+$o,a=this.get(e);return a?a.get("model"):this.get(n)},r.prototype.getControlPointsByCenter=function(t){var e=this.getEndPoint("source"),n=this.getEndPoint("target"),a=this.get("shapeFactory"),o=t.shape||t.type;return a.getControlPoints(o,{startPoint:e,endPoint:n})},r.prototype.getEndCenter=function(t){var e=t+La,n=ou[t]+$o,a=this.get(e);if(a){var o=a.getBBox();return{x:o.centerX,y:o.centerY}}return this.get(n)},r.prototype.init=function(){i.prototype.init.call(this),this.setSource(this.get("source")),this.setTarget(this.get("target"))},r.prototype.getShapeCfg=function(t){var e=this,n=e.get("linkCenter"),a=i.prototype.getShapeCfg.call(this,t);if(n)a.startPoint=e.getEndCenter("source"),a.endPoint=e.getEndCenter("target");else{var o=a.controlPoints||e.getControlPointsByCenter(a);a.startPoint=e.getLinkPoint("source",t,o),a.endPoint=e.getLinkPoint("target",t,o)}return a.sourceNode=e.get("sourceNode"),a.targetNode=e.get("targetNode"),a},r.prototype.getModel=function(){var t=this.get("model"),e=this.get("source"+La),n=this.get("target"+La);return e?delete t["source"+La]:t.source=this.get("start"+$o),n?delete t["target"+La]:t.target=this.get("end"+$o),!(0,u.isString)(t.source)&&!(0,u.isPlainObject)(t.source)&&(t.source=t.source.getID()),!(0,u.isString)(t.target)&&!(0,u.isPlainObject)(t.target)&&(t.target=t.target.getID()),t},r.prototype.setSource=function(t){this.setEnd("source",t),this.set("source",t)},r.prototype.setTarget=function(t){this.setEnd("target",t),this.set("target",t)},r.prototype.getSource=function(){return this.get("source")},r.prototype.getTarget=function(){return this.get("target")},r.prototype.updatePosition=function(){},r.prototype.update=function(t){var e=this.get("model"),n=e.visible,a=t.visible;n!==a&&a!==void 0&&this.changeVisibility(a);var o=this.get("styles");if(t.stateStyles){var s=t.stateStyles;(0,u.mix)(o,s),delete t.stateStyles}Object.assign(e,t),this.updateShape(),this.afterUpdate(),this.clearCache()},r.prototype.destroy=function(){var t=this.get("source"+La),e=this.get("target"+La);t&&!t.destroyed&&t.removeEdge(this),e&&!e.destroyed&&e.removeEdge(this),i.prototype.destroy.call(this)},r}(gx),p3=d3,Bs=d(66974),Vh="anchorPointsCache",g3="bboxCache",y3=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getNearestPoint=function(t,e){for(var n=0,a=t[0],o=Os(t[0],e),s=0;s<t.length;s++){var l=t[s],f=Os(l,e);f<o&&(a=l,o=f,n=s)}return a.anchorIndex=n,a},r.prototype.getDefaultCfg=function(){return{type:"node",edges:[]}},r.prototype.getEdges=function(){return this.get("edges")},r.prototype.getInEdges=function(){var t=this;return this.get("edges").filter(function(e){return e.get("target")===t})},r.prototype.getOutEdges=function(){var t=this;return this.get("edges").filter(function(e){return e.get("source")===t})},r.prototype.getNeighbors=function(t){var e=this,n=this.get("edges");if(t==="target"){var a=function(f){return f.getSource()===e};return n.filter(a).map(function(l){return l.getTarget()})}if(t==="source"){var o=function(f){return f.getTarget()===e};return n.filter(o).map(function(l){return l.getSource()})}var s=function(f){return f.getSource()===e?f.getTarget():f.getSource()};return n.map(s)},r.prototype.getLinkPointByAnchor=function(t){var e=this.getAnchorPoints();return e[t]},r.prototype.getLinkPoint=function(t){var e=this.get("keyShape"),n=e.get("type"),a=this.get("type"),o,s,l=this.getBBox();a==="combo"?(o=(l.maxX+l.minX)/2,s=(l.maxY+l.minY)/2):(o=l.centerX,s=l.centerY);var f=this.getAnchorPoints(),h;switch(n){case"circle":h=Im({x:o,y:s,r:l.width/2},t);break;case"ellipse":h=km({x:o,y:s,rx:l.width/2,ry:l.height/2},t);break;default:h=Lm(l,t)}var c=h;return f.length&&(c||(c=t),c=this.getNearestPoint(f,c)),c||(c={x:o,y:s}),c},r.prototype.getAnchorPoints=function(){var t=this.get(Vh);if(!t){t=[];var e=this.get("shapeFactory"),n=this.getBBox(),a=this.get("model"),o=this.getShapeCfg(a),s=a.shape||a.type,l=e.getAnchorPoints(s,o)||[];(0,xn.default)(l,function(f,h){var c=(0,Bs.default)({x:n.minX+f[0]*n.width,y:n.minY+f[1]*n.height},f[2],{index:h});t.push(c)}),this.set(Vh,t)}return t},r.prototype.addEdge=function(t){this.get("edges").push(t)},r.prototype.lock=function(){this.set("locked",!0)},r.prototype.unlock=function(){this.set("locked",!1)},r.prototype.hasLocked=function(){return this.get("locked")},r.prototype.removeEdge=function(t){var e=this.getEdges(),n=e.indexOf(t);n>-1&&e.splice(n,1)},r.prototype.clearCache=function(){this.set(g3,null),this.set(Vh,null)},r.prototype.isOnlyMove=function(t){if(!t)return!1;var e=!(0,gi.default)(t.x),n=!(0,gi.default)(t.y),a=Object.keys(t);return a.length===1&&(e||n)||a.length===2&&e&&n},r}(gx),yx=y3,m3="bboxCache",mx="bboxCanvasCache",Hh="sizeCache",x3="anchorPointsCache",b3=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return{type:"combo",nodes:[],edges:[],combos:[]}},r.prototype.getShapeCfg=function(t){var e=this.get("styles"),n=this.get("bbox");if(e&&n){var a=t,o={r:Math.hypot(n.height,n.width)/2||Xe.defaultCombo.size[0]/2,width:n.width||Xe.defaultCombo.size[0],height:n.height||Xe.defaultCombo.size[1]};a.style=(0,q.__assign)((0,q.__assign)((0,q.__assign)({},e),t.style),o);var s=t.padding||Xe.defaultCombo.padding;return(0,ya.default)(s)?(o.r+=s,o.width+=s*2,o.height+=s*2):(o.r+=s[0],o.width+=s[1]+s[3]||s[1]*2,o.height+=s[0]+s[2]||s[0]*2),this.set(Hh,o),a}return t},r.prototype.calculateCanvasBBox=function(){var t=this.get("keyShape"),e=this.get("group"),n=ru(t,e);n.x=n.minX,n.y=n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2;var a=this.get(Hh);if(a){var o=t.get("type");o==="circle"?(n.width=a.r*2,n.height=a.r*2):(n.width=a.width,n.height=a.height),n.minX=n.centerX-n.width/2,n.minY=n.centerY-n.height/2,n.maxX=n.centerX+n.width/2,n.maxY=n.centerY+n.height/2}else n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2;return n},r.prototype.getChildren=function(){var t=this;return{nodes:t.getNodes(),combos:t.getCombos()}},r.prototype.getNodes=function(){var t=this;return t.get("nodes")},r.prototype.getCombos=function(){var t=this;return t.get("combos")},r.prototype.addChild=function(t){var e=this,n=t.getType();switch(n){case"node":e.addNode(t);break;case"combo":e.addCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},r.prototype.addCombo=function(t){var e=this;return e.get("combos").push(t),!0},r.prototype.addNode=function(t){var e=this;return e.get("nodes").push(t),!0},r.prototype.removeChild=function(t){var e=this,n=t.getType();switch(n){case"node":e.removeNode(t);break;case"combo":e.removeCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},r.prototype.removeCombo=function(t){if(!!t){var e=this.getCombos(),n=e.indexOf(t);return n>-1?(e.splice(n,1),!0):!1}},r.prototype.removeNode=function(t){if(!!t){var e=this.getNodes(),n=e.indexOf(t);return n>-1?(e.splice(n,1),!0):!1}},r.prototype.isOnlyMove=function(t){return!1},r.prototype.getBBox=function(){this.set(mx,null);var t=this.calculateCanvasBBox();return t},r.prototype.clearCache=function(){this.set(m3,null),this.set(mx,null),this.set(x3,null)},r.prototype.destroy=function(){if(!this.destroyed){var t=this.get("animate"),e=this.get("group");t&&e.stopAnimate(),this.clearCache(),this.set(Hh,null),this.set("bbox",null),e.remove(),this._cfg=null,this.destroyed=!0}},r}(yx),w3=b3,su="node",lu="edge",xx="vedge",uu="combo",S3="default",bx="Mapper",Za="stateStyles",C3=Object.hasOwnProperty,M3=function(){function i(r){this.graph=r,this.destroyed=!1}return i.prototype.addItem=function(r,t){var e=this,n=this.graph,a=r===xx?lu:r,o=n.get(a+"Group")||n.get("group"),s=(0,ix.default)(a),l=null,f=n.get(a+(0,ix.default)(Za))||{},h=n.get(S3+s);t[Za]&&(f=t[Za]);var c=n.get(a+bx);if(c){var v=c(t);v[Za]&&(f=v[Za],delete v[Za]),t=(0,Pi.default)({},h,t,v)}else h&&(0,xn.default)(h,function(ut,ft){C3.call(t,ft)||((0,nx.default)(ut)?t[ft]=(0,rx.default)(ut):t[ft]=h[ft])});if(t.shape&&!t.type&&console.warn("shape \u5B57\u6BB5\u5373\u5C06\u88AB\u5E9F\u5F03\uFF0C\u8BF7\u4F7F\u7528 type \u4EE3\u66FF"),n.emit("beforeadditem",{type:r,model:t}),r===lu||r===xx){var x=void 0,A=void 0;if(x=t.source,A=t.target,x&&(0,un.default)(x)&&(x=n.findById(x)),A&&(0,un.default)(A)&&(A=n.findById(A)),!x||!A){console.warn("The source or target node of edge "+t.id+" does not exist!");return}x.getType&&x.getType()==="combo"&&(t.isComboEdge=!0,n.updateCombo(x)),A.getType&&A.getType()==="combo"&&(t.isComboEdge=!0,n.updateCombo(A)),l=new p3({model:t,source:x,target:A,styles:f,linkCenter:n.get("linkCenter"),group:o.addGroup()})}else if(r===su)l=new yx({model:t,styles:f,group:o.addGroup()});else if(r===uu){var B=t.children,G=Nh(B,n);t.x=G.x||t.x||Math.random()*100,t.y=G.y||t.y||Math.random()*100;var H=o.addGroup();H.setZIndex(t.depth),l=new w3({model:t,styles:f,bbox:G,group:H});var X=l.getModel();(B||[]).forEach(function(ut){var ft=n.findById(ut.id);l.addChild(ft),ut.depth=X.depth+2}),t.collapsed&&setTimeout(function(){n.collapseCombo(l),e.updateCombo(l,[])},250)}if(l)return n.get(r+"s").push(l),n.get("itemMap")[l.get("id")]=l,n.emit("afteradditem",{item:l,model:t}),l},i.prototype.updateItem=function(r,t){var e=this.graph;if((0,un.default)(r)&&(r=e.findById(r)),!(!r||r.destroyed)){var n="";r.getType&&(n=r.getType());var a=e.get(n+bx),o=r.getModel();if(a){var s=(0,Pi.default)({},o,t),l=a(s),f=(0,Pi.default)({},o,l,t);l[Za]&&(r.set("styles",f[Za]),delete f[Za]),(0,xn.default)(f,function(x,A){t[A]=x})}else(0,xn.default)(t,function(x,A){o[A]&&(0,nx.default)(x)&&!(0,yi.default)(x)&&(t[A]=(0,q.__assign)((0,q.__assign)({},o[A]),t[A]))});if(e.emit("beforeupdateitem",{item:r,cfg:t}),n===lu){if(t.source){var h=t.source;(0,un.default)(h)&&(h=e.findById(h)),r.setSource(h)}if(t.target){var c=t.target;(0,un.default)(c)&&(c=e.findById(c)),r.setTarget(c)}}if(r.update(t),n===su||n===uu){var v=r.getEdges();(0,xn.default)(v,function(x){x.refresh()})}e.emit("afterupdateitem",{item:r,cfg:t})}},i.prototype.updateCombo=function(r,t){var e=this.graph;if((0,un.default)(r)&&(r=e.findById(r)),!(!r||r.destroyed)){var n=Nh(t,e);r.set("bbox",n),r.update({x:n.x,y:n.y});for(var a=r.getEdges()||[],o=a.length,s=0;s<o;s++){var l=a[s];l==null||l.refresh()}}},i.prototype.collapseCombo=function(r){var t=this.graph;(0,un.default)(r)&&(r=t.findById(r));var e=r.getChildren();e.nodes.forEach(function(n){t.hideItem(n)}),e.combos.forEach(function(n){t.hideItem(n)})},i.prototype.expandCombo=function(r){var t=this.graph;(0,un.default)(r)&&(r=t.findById(r));var e=r.getChildren();e.nodes.forEach(function(n){t.showItem(n)}),e.combos.forEach(function(n){n.getModel().collapsed?n.show():t.showItem(n)})},i.prototype.removeItem=function(r){var t=this,e=this.graph;if((0,un.default)(r)&&(r=e.findById(r)),!(!r||r.destroyed)){var n=(0,rx.default)(r.getModel());e.emit("beforeremoveitem",{item:n});var a="";r.getType&&(a=r.getType());var o=e.get(a+"s"),s=o.indexOf(r);if(s>-1&&o.splice(s,1),a===lu){var l=e.get("v"+a+"s"),f=l.indexOf(r);f>-1&&l.splice(f,1)}var h=r.get("id"),c=e.get("itemMap");delete c[h];var v=e.get("comboTrees"),x=r.get("id");if(a===su){var A=r.getModel().comboId;if(v){var B=v,G=!1;v.forEach(function(Yt){G||Ri(Yt,function(Kt){if(Kt.id===x&&B){var te=B.indexOf(Kt);return B.splice(te,1),G=!0,!1}return B=Kt.children,!0})})}for(var H=r.getEdges(),X=H.length-1;X>=0;X--)e.removeItem(H[X],!1);A&&e.updateCombo(A)}else if(a===uu){var ut=r.getModel().parentId,ft,xt=!1;(v||[]).forEach(function(Kt){xt||Ri(Kt,function(te){return te.id===x?(ft=te,xt=!0,!1):!0})}),ft.removed=!0,ft&&ft.children&&ft.children.forEach(function(Kt){t.removeItem(Kt.id)});for(var H=r.getEdges(),X=H.length;X>=0;X--)e.removeItem(H[X],!1);ut&&e.updateCombo(ut)}r.destroy(),e.emit("afterremoveitem",{item:n})}},i.prototype.setItemState=function(r,t,e){var n=this.graph,a=t;(0,un.default)(e)&&(a=t+":"+e),!(r.hasState(a)===e||(0,un.default)(e)&&r.hasState(a))&&(n.emit("beforeitemstatechange",{item:r,state:a,enabled:e}),r.setState(t,e),n.autoPaint(),n.emit("afteritemstatechange",{item:r,state:a,enabled:e}))},i.prototype.priorityState=function(r,t){var e=this.graph,n=r;(0,un.default)(r)&&(n=e.findById(r)),this.setItemState(n,t,!1),this.setItemState(n,t,!0)},i.prototype.clearItemStates=function(r,t){var e=this.graph;(0,un.default)(r)&&(r=e.findById(r)),e.emit("beforeitemstatesclear",{item:r,states:t}),r.clearStates(t),e.emit("afteritemstatesclear",{item:r,states:t})},i.prototype.refreshItem=function(r){var t=this.graph;(0,un.default)(r)&&(r=t.findById(r)),t.emit("beforeitemrefresh",{item:r}),r.refresh(),t.emit("afteritemrefresh",{item:r})},i.prototype.addCombos=function(r,t){var e=this,n=this.graph;(r||[]).forEach(function(o){fa(o,function(s){var l;return t.forEach(function(f){f.id===s.id&&(f.children=s.children,f.depth=s.depth,l=f)}),l&&e.addItem("combo",l),!0})});var a=n.get("comboGroup");a&&a.sort()},i.prototype.changeItemVisibility=function(r,t){var e=this,n=this.graph;if((0,un.default)(r)&&(r=n.findById(r)),!r){console.warn("The item to be shown or hidden does not exist!");return}if(n.emit("beforeitemvisibilitychange",{item:r,visible:t}),r.changeVisibility(t),r.getType&&r.getType()===su){var a=r.getEdges();(0,xn.default)(a,function(h){t&&!(h.get("source").isVisible()&&h.get("target").isVisible())||e.changeItemVisibility(h,t)})}else if(r.getType&&r.getType()===uu){var o=n.get("comboTrees"),s=r.get("id"),l=[],f=!1;(o||[]).forEach(function(c){f||!c.children||c.children.length===0||Ri(c,function(v){return v.id===s?(l=v.children,f=!0,!1):!0})}),l.forEach(function(c){var v=n.findById(c.id);e.changeItemVisibility(v,t)});var a=r.getEdges();(0,xn.default)(a,function(c){t&&!(c.get("source").isVisible()&&c.get("target").isVisible())||e.changeItemVisibility(c,t)})}return n.emit("afteritemvisibilitychange",{item:r,visible:t}),r},i.prototype.destroy=function(){this.graph=null,this.destroyed=!0},i}(),E3=M3,ha=function(){function i(){this.nodes=[],this.edges=[],this.combos=[],this.positions=[],this.destroyed=!1}return i.prototype.init=function(r){var t=this;t.nodes=r.nodes||[],t.edges=r.edges||[],t.combos=r.combos||[]},i.prototype.execute=function(){},i.prototype.layout=function(r){var t=this;t.init(r),t.execute()},i.prototype.getDefaultCfg=function(){return{}},i.prototype.updateCfg=function(r){var t=this;(0,Bs.default)(t,r)},i.prototype.destroy=function(){var r=this;r.positions=null,r.nodes=null,r.edges=null,r.destroyed=!0},i}(),wx={registerLayout:function(r,t,e){if(e===void 0&&(e=ha),!t)throw new Error("please specify handler for this layout: "+r);var n=function(a){(0,q.__extends)(o,a);function o(s){var l=a.call(this)||this,f=l,h={},c=f.getDefaultCfg();return(0,Bs.default)(h,c,t,s),(0,xn.default)(h,function(v,x){f[x]=v}),l}return o}(e);wx[r]=n}},Sx=wx;function _3(i,r,t,e){i.forEach(function(n,a){i[a].children=[],i[a].parent=[]}),e?r.forEach(function(n){var a=0;n.source&&(a=t[n.source]);var o=0;n.target&&(o=t[n.target]),i[a].children.push(i[o].id),i[o].parent.push(i[a].id)}):r.forEach(function(n){var a=0;n.source&&(a=t[n.source]);var o=0;n.target&&(o=t[n.target]),i[a].children.push(i[o].id),i[o].children.push(i[a].id)})}function A3(i,r,t){for(var e=t.length,n=0;n<e;n++)if(i.id===t[n].source&&r.id===t[n].target||r.id===t[n].source&&i.id===t[n].target)return!0;return!1}function P3(i,r){return i.degree<r.degree?-1:i.degree>r.degree?1:0}var T3=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.radius=null,t.startRadius=null,t.endRadius=null,t.startAngle=0,t.endAngle=2*Math.PI,t.clockwise=!0,t.divisions=1,t.ordering=null,t.angleRatio=1,t.nodes=[],t.edges=[],t.nodeMap={},t.degrees=[],t.width=300,t.height=300,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.edges,a=e.length,o=t.center;if(a!==0){if(a===1){e[0].x=o[0],e[0].y=o[1];return}var s=t.radius,l=t.startRadius,f=t.endRadius,h=t.divisions,c=t.startAngle,v=t.endAngle,x=(v-c)/a,A={};e.forEach(function(Wt,ae){A[Wt.id]=ae}),t.nodeMap=A;var B=Ql(e.length,A,n);t.degrees=B,!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight),!s&&!l&&!f?s=t.height>t.width?t.width/2:t.height/2:!l&&f?l=f:l&&!f&&(f=l);var G=t.angleRatio,H=x*G;t.astep=H;var X=t.ordering,ut=[];X==="topology"?ut=t.topologyOrdering():X==="topology-directed"?ut=t.topologyOrdering(!0):X==="degree"?ut=t.degreeOrdering():ut=e;for(var ft=t.clockwise,xt=Math.ceil(a/h),Yt=0;Yt<a;++Yt){var Kt=s;!Kt&&l!==null&&f!==null&&(Kt=l+Yt*(f-l)/(a-1)),Kt||(Kt=10+Yt*100/(a-1));var te=c+Yt%xt*H+2*Math.PI/h*Math.floor(Yt/xt);ft||(te=v-Yt%xt*H-2*Math.PI/h*Math.floor(Yt/xt)),ut[Yt].x=o[0]+Math.cos(te)*Kt,ut[Yt].y=o[1]+Math.sin(te)*Kt,ut[Yt].weight=B[Yt]}}},r.prototype.topologyOrdering=function(t){t===void 0&&(t=!1);var e=this,n=e.degrees,a=e.edges,o=e.nodes,s=(0,u.clone)(o),l=e.nodeMap,f=[s[0]],h=[o[0]],c=[],v=o.length;c[0]=!0,_3(s,a,l,t);var x=0;return s.forEach(function(A,B){if(B!==0)if((B===v-1||n[B]!==n[B+1]||A3(f[x],A,a))&&c[B]!==!0)f.push(A),h.push(o[l[A.id]]),c[B]=!0,x++;else{for(var G=f[x].children,H=!1,X=0;X<G.length;X++){var ut=l[G[X]];if(n[ut]===n[B]&&c[ut]!==!0){f.push(s[ut]),h.push(o[l[s[ut].id]]),c[ut]=!0,H=!0;break}}for(var ft=0;!H&&(c[ft]||(f.push(s[ft]),h.push(o[l[s[ft].id]]),c[ft]=!0,H=!0),ft++,ft!==v););}}),h},r.prototype.degreeOrdering=function(){var t=this,e=t.nodes,n=[],a=t.degrees;return e.forEach(function(o,s){o.degree=a[s],n.push(o)}),n.sort(P3),n},r}(ha),O3=T3,L3=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.nodeSize=30,t.minNodeSpacing=10,t.preventOverlap=!1,t.equidistant=!1,t.startAngle=3/2*Math.PI,t.clockwise=!0,t.sortBy="degree",t.nodes=[],t.edges=[],t.width=300,t.height=300,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],nodeSize:30,minNodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:3/2*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.edges,a=e.length,o=t.center;if(a!==0){if(a===1){e[0].x=o[0],e[0].y=o[1];return}var s=[],l;(0,yi.default)(t.nodeSize)?l=Math.max(t.nodeSize[0],t.nodeSize[1]):l=t.nodeSize,e.forEach(function(te){s.push(te);var Wt=l;(0,yi.default)(te.size)?Wt=Math.max(te.size[0],te.size[1]):(0,u.isNumber)(te.size)&&(Wt=te.size),l=Math.max(l,Wt)}),!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight),t.clockwise=t.counterclockwise!==void 0?!t.counterclockwise:t.clockwise;var f={},h={};if(s.forEach(function(te,Wt){f[te.id]=te,h[te.id]=Wt}),(t.sortBy==="degree"||!(0,un.default)(t.sortBy)||s[0][t.sortBy]===void 0)&&(t.sortBy="degree",!(0,u.isNumber)(e[0].degree))){var c=Ql(e.length,h,n);s.forEach(function(te,Wt){te.degree=c[Wt]})}s.sort(function(te,Wt){return Wt[t.sortBy]-te[t.sortBy]}),t.maxValueNode=s[0],t.maxLevelDiff=t.maxLevelDiff||t.maxValueNode[t.sortBy]/4;var v=[[]],x=v[0];s.forEach(function(te){if(x.length>0){var Wt=Math.abs(x[0][t.sortBy]-te[t.sortBy]);t.maxLevelDiff&&Wt>=t.maxLevelDiff&&(x=[],v.push(x))}x.push(te)});var A=l+t.minNodeSpacing;if(!t.preventOverlap){var B=v.length>0&&v[0].length>1,G=Math.min(t.width,t.height)/2-A,H=G/(v.length+(B?1:0));A=Math.min(A,H)}var X=0;if(v.forEach(function(te){var Wt=t.sweep;Wt===void 0&&(Wt=2*Math.PI-2*Math.PI/te.length);var ae=te.dTheta=Wt/Math.max(1,te.length-1);if(te.length>1&&t.preventOverlap){var ce=Math.cos(ae)-Math.cos(0),he=Math.sin(ae)-Math.sin(0),Pe=Math.sqrt(A*A/(ce*ce+he*he));X=Math.max(Pe,X)}te.r=X,X+=A}),t.equidistant){for(var ut=0,ft=0,xt=0;xt<v.length;xt++){var Yt=v[xt],Kt=Yt.r-ft;ut=Math.max(ut,Kt)}ft=0,v.forEach(function(te,Wt){Wt===0&&(ft=te.r),te.r=ft,ft+=ut})}v.forEach(function(te){var Wt=te.dTheta,ae=te.r;te.forEach(function(ce,he){var Pe=t.startAngle+(t.clockwise?1:-1)*Wt*he;ce.x=o[0]+ae*Math.cos(Pe),ce.y=o[1]+ae*Math.sin(Pe)})})}},r}(ha),I3=L3,k3=d(70681),Cx=d.n(k3),B3=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.rankdir="TB",t.nodesep=50,t.ranksep=50,t.controlPoints=!1,t.sortByCombo=!1,t}return r.prototype.getDefaultCfg=function(){return{rankdir:"TB",align:void 0,nodeSize:void 0,nodesepFunc:void 0,ranksepFunc:void 0,nodesep:50,ranksep:50,controlPoints:!1}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.nodeSize,a=t.rankdir;if(!!e){var o=t.edges||[],s=new(Cx()).graphlib.Graph,l;n?(0,yi.default)(n)?l=function(){return n}:l=function(){return[n,n]}:l=function(x){return x.size?(0,yi.default)(x.size)?x.size:[x.size,x.size]:[40,40]};var f=fu(t.nodesepFunc,t.nodesep,50),h=fu(t.ranksepFunc,t.ranksep,50);(a==="LR"||a==="RL")&&(f=fu(t.ranksepFunc,t.ranksep,50),h=fu(t.nodesepFunc,t.nodesep,50)),s.setDefaultEdgeLabel(function(){return{}}),s.setGraph(t),e.forEach(function(v){var x=l(v),A=h(v),B=f(v),G=x[0]+2*B,H=x[1]+2*A;s.setNode(v.id,{width:G,height:H})}),o.forEach(function(v){s.setEdge(v.source,v.target,{weight:v.weight||1})}),Cx().layout(s);var c;s.nodes().forEach(function(v){c=s.node(v);var x=e.findIndex(function(A){return A.id===v});e[x].x=c.x,e[x].y=c.y}),s.edges().forEach(function(v){c=s.edge(v);var x=o.findIndex(function(A){return A.source===v.v&&A.target===v.w});t.controlPoints&&o[x].type!=="loop"&&o[x].shape!=="loop"&&(o[x].controlPoints=c.points.slice(1,c.points.length-1))}),t.sortByCombo&&t.sortLevel("comboId")}},r.prototype.sortLevel=function(t){var e=this,n=e.nodes,a={};n.forEach(function(o){a[o.y]||(a[o.y]={y:o.y,nodes:[]}),a[o.y].nodes.push(o)}),Object.keys(a).forEach(function(o){var s=a[o].nodes,l=s.length,f={};if(s.forEach(function(B){var G=B.comboId;f[G]||(f[G]={x:0,y:0,count:0}),f[G].x+=B.x,f[G].y+=B.y,f[G].count++}),Object.keys(f).forEach(function(B){f[B].x/=f[B].count,f[B].y/=f[B].count}),l!==1){var h=s.sort(function(B,G){return B.x-G.x}),c=h[0].x,v=h[l-1].x,x=(v-c)/(l-1),A=s.sort(function(B,G){var H=B[t]||"undefined",X=G[t]||"undefined";return H<X?-1:H>X?1:0});A.forEach(function(B,G){B.x=c+G*x})}})},r}(ha),D3=B3;function fu(i,r,t){var e;return i?e=i:(0,u.isNumber)(r)?e=function(){return r}:e=function(){return t},e}function F3(i){const r=+this._x.call(null,i),t=+this._y.call(null,i);return Mx(this.cover(r,t),r,t,i)}function Mx(i,r,t,e){if(isNaN(r)||isNaN(t))return i;var n,a=i._root,o={data:e},s=i._x0,l=i._y0,f=i._x1,h=i._y1,c,v,x,A,B,G,H,X;if(!a)return i._root=o,i;for(;a.length;)if((B=r>=(c=(s+f)/2))?s=c:f=c,(G=t>=(v=(l+h)/2))?l=v:h=v,n=a,!(a=a[H=G<<1|B]))return n[H]=o,i;if(x=+i._x.call(null,a.data),A=+i._y.call(null,a.data),r===x&&t===A)return o.next=a,n?n[H]=o:i._root=o,i;do n=n?n[H]=new Array(4):i._root=new Array(4),(B=r>=(c=(s+f)/2))?s=c:f=c,(G=t>=(v=(l+h)/2))?l=v:h=v;while((H=G<<1|B)==(X=(A>=v)<<1|x>=c));return n[X]=a,n[H]=o,i}function R3(i){var r,t,e=i.length,n,a,o=new Array(e),s=new Array(e),l=Infinity,f=Infinity,h=-Infinity,c=-Infinity;for(t=0;t<e;++t)isNaN(n=+this._x.call(null,r=i[t]))||isNaN(a=+this._y.call(null,r))||(o[t]=n,s[t]=a,n<l&&(l=n),n>h&&(h=n),a<f&&(f=a),a>c&&(c=a));if(l>h||f>c)return this;for(this.cover(l,f).cover(h,c),t=0;t<e;++t)Mx(this,o[t],s[t],i[t]);return this}function N3(i,r){if(isNaN(i=+i)||isNaN(r=+r))return this;var t=this._x0,e=this._y0,n=this._x1,a=this._y1;if(isNaN(t))n=(t=Math.floor(i))+1,a=(e=Math.floor(r))+1;else{for(var o=n-t||1,s=this._root,l,f;t>i||i>=n||e>r||r>=a;)switch(f=(r<e)<<1|i<t,l=new Array(4),l[f]=s,s=l,o*=2,f){case 0:n=t+o,a=e+o;break;case 1:t=n-o,a=e+o;break;case 2:n=t+o,e=a-o;break;case 3:t=n-o,e=a-o;break}this._root&&this._root.length&&(this._root=s)}return this._x0=t,this._y0=e,this._x1=n,this._y1=a,this}function G3(){var i=[];return this.visit(function(r){if(!r.length)do i.push(r.data);while(r=r.next)}),i}function Y3(i){return arguments.length?this.cover(+i[0][0],+i[0][1]).cover(+i[1][0],+i[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Xi(i,r,t,e,n){this.node=i,this.x0=r,this.y0=t,this.x1=e,this.y1=n}function z3(i,r,t){var e,n=this._x0,a=this._y0,o,s,l,f,h=this._x1,c=this._y1,v=[],x=this._root,A,B;for(x&&v.push(new Xi(x,n,a,h,c)),t==null?t=Infinity:(n=i-t,a=r-t,h=i+t,c=r+t,t*=t);A=v.pop();)if(!(!(x=A.node)||(o=A.x0)>h||(s=A.y0)>c||(l=A.x1)<n||(f=A.y1)<a))if(x.length){var G=(o+l)/2,H=(s+f)/2;v.push(new Xi(x[3],G,H,l,f),new Xi(x[2],o,H,G,f),new Xi(x[1],G,s,l,H),new Xi(x[0],o,s,G,H)),(B=(r>=H)<<1|i>=G)&&(A=v[v.length-1],v[v.length-1]=v[v.length-1-B],v[v.length-1-B]=A)}else{var X=i-+this._x.call(null,x.data),ut=r-+this._y.call(null,x.data),ft=X*X+ut*ut;if(ft<t){var xt=Math.sqrt(t=ft);n=i-xt,a=r-xt,h=i+xt,c=r+xt,e=x.data}}return e}function X3(i){if(isNaN(h=+this._x.call(null,i))||isNaN(c=+this._y.call(null,i)))return this;var r,t=this._root,e,n,a,o=this._x0,s=this._y0,l=this._x1,f=this._y1,h,c,v,x,A,B,G,H;if(!t)return this;if(t.length)for(;;){if((A=h>=(v=(o+l)/2))?o=v:l=v,(B=c>=(x=(s+f)/2))?s=x:f=x,r=t,!(t=t[G=B<<1|A]))return this;if(!t.length)break;(r[G+1&3]||r[G+2&3]||r[G+3&3])&&(e=r,H=G)}for(;t.data!==i;)if(n=t,!(t=t.next))return this;return(a=t.next)&&delete t.next,n?(a?n.next=a:delete n.next,this):r?(a?r[G]=a:delete r[G],(t=r[0]||r[1]||r[2]||r[3])&&t===(r[3]||r[2]||r[1]||r[0])&&!t.length&&(e?e[H]=t:this._root=t),this):(this._root=a,this)}function V3(i){for(var r=0,t=i.length;r<t;++r)this.remove(i[r]);return this}function H3(){return this._root}function W3(){var i=0;return this.visit(function(r){if(!r.length)do++i;while(r=r.next)}),i}function j3(i){var r=[],t,e=this._root,n,a,o,s,l;for(e&&r.push(new Xi(e,this._x0,this._y0,this._x1,this._y1));t=r.pop();)if(!i(e=t.node,a=t.x0,o=t.y0,s=t.x1,l=t.y1)&&e.length){var f=(a+s)/2,h=(o+l)/2;(n=e[3])&&r.push(new Xi(n,f,h,s,l)),(n=e[2])&&r.push(new Xi(n,a,h,f,l)),(n=e[1])&&r.push(new Xi(n,f,o,s,h)),(n=e[0])&&r.push(new Xi(n,a,o,f,h))}return this}function U3(i){var r=[],t=[],e;for(this._root&&r.push(new Xi(this._root,this._x0,this._y0,this._x1,this._y1));e=r.pop();){var n=e.node;if(n.length){var a,o=e.x0,s=e.y0,l=e.x1,f=e.y1,h=(o+l)/2,c=(s+f)/2;(a=n[0])&&r.push(new Xi(a,o,s,h,c)),(a=n[1])&&r.push(new Xi(a,h,s,l,c)),(a=n[2])&&r.push(new Xi(a,o,c,h,f)),(a=n[3])&&r.push(new Xi(a,h,c,l,f))}t.push(e)}for(;e=t.pop();)i(e.node,e.x0,e.y0,e.x1,e.y1);return this}function Z3(i){return i[0]}function K3(i){return arguments.length?(this._x=i,this):this._x}function $3(i){return i[1]}function Q3(i){return arguments.length?(this._y=i,this):this._y}function Wh(i,r,t){var e=new jh(r==null?Z3:r,t==null?$3:t,NaN,NaN,NaN,NaN);return i==null?e:e.addAll(i)}function jh(i,r,t,e,n,a){this._x=i,this._y=r,this._x0=t,this._y0=e,this._x1=n,this._y1=a,this._root=void 0}function Ex(i){for(var r={data:i.data},t=r;i=i.next;)t=t.next={data:i.data};return r}var Vi=Wh.prototype=jh.prototype;Vi.copy=function(){var i=new jh(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root,t,e;if(!r)return i;if(!r.length)return i._root=Ex(r),i;for(t=[{source:r,target:i._root=new Array(4)}];r=t.pop();)for(var n=0;n<4;++n)(e=r.source[n])&&(e.length?t.push({source:e,target:r.target[n]=new Array(4)}):r.target[n]=Ex(e));return i},Vi.add=F3,Vi.addAll=R3,Vi.cover=N3,Vi.data=G3,Vi.extent=Y3,Vi.find=z3,Vi.remove=X3,Vi.removeAll=V3,Vi.root=H3,Vi.size=W3,Vi.visit=j3,Vi.visitAfter=U3,Vi.x=K3,Vi.y=Q3;function Hi(i){return function(){return i}}function so(i){return(i()-.5)*1e-6}var J3={value:function(){}};function _x(){for(var i=0,r=arguments.length,t={},e;i<r;++i){if(!(e=arguments[i]+"")||e in t||/[\s.]/.test(e))throw new Error("illegal type: "+e);t[e]=[]}return new hu(t)}function hu(i){this._=i}function q3(i,r){return i.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})}hu.prototype=_x.prototype={constructor:hu,on:function(r,t){var e=this._,n=q3(r+"",e),a,o=-1,s=n.length;if(arguments.length<2){for(;++o<s;)if((a=(r=n[o]).type)&&(a=tN(e[a],r.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(a=(r=n[o]).type)e[a]=Ax(e[a],r.name,t);else if(t==null)for(a in e)e[a]=Ax(e[a],r.name,null);return this},copy:function(){var r={},t=this._;for(var e in t)r[e]=t[e].slice();return new hu(r)},call:function(r,t){if((a=arguments.length-2)>0)for(var e=new Array(a),n=0,a,o;n<a;++n)e[n]=arguments[n+2];if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(o=this._[r],n=0,a=o.length;n<a;++n)o[n].value.apply(t,e)},apply:function(r,t,e){if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(var n=this._[r],a=0,o=n.length;a<o;++a)n[a].value.apply(t,e)}};function tN(i,r){for(var t=0,e=i.length,n;t<e;++t)if((n=i[t]).name===r)return n.value}function Ax(i,r,t){for(var e=0,n=i.length;e<n;++e)if(i[e].name===r){i[e]=J3,i=i.slice(0,e).concat(i.slice(e+1));break}return t!=null&&i.push({name:r,value:t}),i}var eN=_x,rN=d(35374),nN=1664525,iN=1013904223,Px=4294967296;function aN(){var i=1;return function(){return(i=(nN*i+iN)%Px)/Px}}function oN(i){return i.x}function sN(i){return i.y}var lN=10,uN=Math.PI*(3-Math.sqrt(5));function Tx(i){var r,t=1,e=.001,n=1-Math.pow(e,1/300),a=0,o=.6,s=new Map,l=(0,rN.HT)(c),f=eN("tick","end"),h=aN();i==null&&(i=[]);function c(){v(),f.call("tick",r),t<e&&(l.stop(),f.call("end",r))}function v(B){var G,H=i.length,X;B===void 0&&(B=1);for(var ut=0;ut<B;++ut)for(t+=(a-t)*n,s.forEach(function(ft){ft(t)}),G=0;G<H;++G)X=i[G],X.fx==null?X.x+=X.vx*=o:(X.x=X.fx,X.vx=0),X.fy==null?X.y+=X.vy*=o:(X.y=X.fy,X.vy=0);return r}function x(){for(var B=0,G=i.length,H;B<G;++B){if(H=i[B],H.index=B,H.fx!=null&&(H.x=H.fx),H.fy!=null&&(H.y=H.fy),isNaN(H.x)||isNaN(H.y)){var X=lN*Math.sqrt(.5+B),ut=B*uN;H.x=X*Math.cos(ut),H.y=X*Math.sin(ut)}(isNaN(H.vx)||isNaN(H.vy))&&(H.vx=H.vy=0)}}function A(B){return B.initialize&&B.initialize(i,h),B}return x(),r={tick:v,restart:function(){return l.restart(c),r},stop:function(){return l.stop(),r},nodes:function(G){return arguments.length?(i=G,x(),s.forEach(A),r):i},alpha:function(G){return arguments.length?(t=+G,r):t},alphaMin:function(G){return arguments.length?(e=+G,r):e},alphaDecay:function(G){return arguments.length?(n=+G,r):+n},alphaTarget:function(G){return arguments.length?(a=+G,r):a},velocityDecay:function(G){return arguments.length?(o=1-G,r):1-o},randomSource:function(G){return arguments.length?(h=G,s.forEach(A),r):h},force:function(G,H){return arguments.length>1?(H==null?s.delete(G):s.set(G,A(H)),r):s.get(G)},find:function(G,H,X){var ut=0,ft=i.length,xt,Yt,Kt,te,Wt;for(X==null?X=Infinity:X*=X,ut=0;ut<ft;++ut)te=i[ut],xt=G-te.x,Yt=H-te.y,Kt=xt*xt+Yt*Yt,Kt<X&&(Wt=te,X=Kt);return Wt},on:function(G,H){return arguments.length>1?(f.on(G,H),r):f.on(G)}}}function Ox(){var i,r,t,e,n=Hi(-30),a,o=1,s=Infinity,l=.81;function f(x){var A,B=i.length,G=Wh(i,oN,sN).visitAfter(c);for(e=x,A=0;A<B;++A)r=i[A],G.visit(v)}function h(){if(!!i){var x,A=i.length,B;for(a=new Array(A),x=0;x<A;++x)B=i[x],a[B.index]=+n(B,x,i)}}function c(x){var A=0,B,G,H=0,X,ut,ft;if(x.length){for(X=ut=ft=0;ft<4;++ft)(B=x[ft])&&(G=Math.abs(B.value))&&(A+=B.value,H+=G,X+=G*B.x,ut+=G*B.y);x.x=X/H,x.y=ut/H}else{B=x,B.x=B.data.x,B.y=B.data.y;do A+=a[B.data.index];while(B=B.next)}x.value=A}function v(x,A,B,G){if(!x.value)return!0;var H=x.x-r.x,X=x.y-r.y,ut=G-A,ft=H*H+X*X;if(ut*ut/l<ft)return ft<s&&(H===0&&(H=so(t),ft+=H*H),X===0&&(X=so(t),ft+=X*X),ft<o&&(ft=Math.sqrt(o*ft)),r.vx+=H*x.value*e/ft,r.vy+=X*x.value*e/ft),!0;if(x.length||ft>=s)return;(x.data!==r||x.next)&&(H===0&&(H=so(t),ft+=H*H),X===0&&(X=so(t),ft+=X*X),ft<o&&(ft=Math.sqrt(o*ft)));do x.data!==r&&(ut=a[x.data.index]*e/ft,r.vx+=H*ut,r.vy+=X*ut);while(x=x.next)}return f.initialize=function(x,A){i=x,t=A,h()},f.strength=function(x){return arguments.length?(n=typeof x=="function"?x:Hi(+x),h(),f):n},f.distanceMin=function(x){return arguments.length?(o=x*x,f):Math.sqrt(o)},f.distanceMax=function(x){return arguments.length?(s=x*x,f):Math.sqrt(s)},f.theta=function(x){return arguments.length?(l=x*x,f):Math.sqrt(l)},f}function fN(i,r){var t,e=1;i==null&&(i=0),r==null&&(r=0);function n(){var a,o=t.length,s,l=0,f=0;for(a=0;a<o;++a)s=t[a],l+=s.x,f+=s.y;for(l=(l/o-i)*e,f=(f/o-r)*e,a=0;a<o;++a)s=t[a],s.x-=l,s.y-=f}return n.initialize=function(a){t=a},n.x=function(a){return arguments.length?(i=+a,n):i},n.y=function(a){return arguments.length?(r=+a,n):r},n.strength=function(a){return arguments.length?(e=+a,n):e},n}function hN(i){return i.index}function Lx(i,r){var t=i.get(r);if(!t)throw new Error("node not found: "+r);return t}function Ix(i){var r=hN,t=c,e,n=Hi(30),a,o,s,l,f,h=1;i==null&&(i=[]);function c(G){return 1/Math.min(s[G.source.index],s[G.target.index])}function v(G){for(var H=0,X=i.length;H<h;++H)for(var ut=0,ft,xt,Yt,Kt,te,Wt,ae;ut<X;++ut)ft=i[ut],xt=ft.source,Yt=ft.target,Kt=Yt.x+Yt.vx-xt.x-xt.vx||so(f),te=Yt.y+Yt.vy-xt.y-xt.vy||so(f),Wt=Math.sqrt(Kt*Kt+te*te),Wt=(Wt-a[ut])/Wt*G*e[ut],Kt*=Wt,te*=Wt,Yt.vx-=Kt*(ae=l[ut]),Yt.vy-=te*ae,xt.vx+=Kt*(ae=1-ae),xt.vy+=te*ae}function x(){if(!!o){var G,H=o.length,X=i.length,ut=new Map(o.map(function(xt,Yt){return[r(xt,Yt,o),xt]})),ft;for(G=0,s=new Array(H);G<X;++G)ft=i[G],ft.index=G,typeof ft.source!="object"&&(ft.source=Lx(ut,ft.source)),typeof ft.target!="object"&&(ft.target=Lx(ut,ft.target)),s[ft.source.index]=(s[ft.source.index]||0)+1,s[ft.target.index]=(s[ft.target.index]||0)+1;for(G=0,l=new Array(X);G<X;++G)ft=i[G],l[G]=s[ft.source.index]/(s[ft.source.index]+s[ft.target.index]);e=new Array(X),A(),a=new Array(X),B()}}function A(){if(!!o)for(var G=0,H=i.length;G<H;++G)e[G]=+t(i[G],G,i)}function B(){if(!!o)for(var G=0,H=i.length;G<H;++G)a[G]=+n(i[G],G,i)}return v.initialize=function(G,H){o=G,f=H,x()},v.links=function(G){return arguments.length?(i=G,x(),v):i},v.id=function(G){return arguments.length?(r=G,v):r},v.iterations=function(G){return arguments.length?(h=+G,v):h},v.strength=function(G){return arguments.length?(t=typeof G=="function"?G:Hi(+G),A(),v):t},v.distance=function(G){return arguments.length?(n=typeof G=="function"?G:Hi(+G),B(),v):n},v}function cN(i){return i.x+i.vx}function vN(i){return i.y+i.vy}function kx(i){var r,t,e,n=1,a=1;typeof i!="function"&&(i=Hi(i==null?1:+i));function o(){for(var f,h=r.length,c,v,x,A,B,G,H=0;H<a;++H)for(c=Wh(r,cN,vN).visitAfter(s),f=0;f<h;++f)v=r[f],B=t[v.index],G=B*B,x=v.x+v.vx,A=v.y+v.vy,c.visit(X);function X(ut,ft,xt,Yt,Kt){var te=ut.data,Wt=ut.r,ae=B+Wt;if(te){if(te.index>v.index){var ce=x-te.x-te.vx,he=A-te.y-te.vy,Pe=ce*ce+he*he;Pe<ae*ae&&(ce===0&&(ce=so(e),Pe+=ce*ce),he===0&&(he=so(e),Pe+=he*he),Pe=(ae-(Pe=Math.sqrt(Pe)))/Pe*n,v.vx+=(ce*=Pe)*(ae=(Wt*=Wt)/(G+Wt)),v.vy+=(he*=Pe)*ae,te.vx-=ce*(ae=1-ae),te.vy-=he*ae)}return}return ft>x+ae||Yt<x-ae||xt>A+ae||Kt<A-ae}}function s(f){if(f.data)return f.r=t[f.data.index];for(var h=f.r=0;h<4;++h)f[h]&&f[h].r>f.r&&(f.r=f[h].r)}function l(){if(!!r){var f,h=r.length,c;for(t=new Array(h),f=0;f<h;++f)c=r[f],t[c.index]=+i(c,f,r)}}return o.initialize=function(f,h){r=f,e=h,l()},o.iterations=function(f){return arguments.length?(a=+f,o):a},o.strength=function(f){return arguments.length?(n=+f,o):n},o.radius=function(f){return arguments.length?(i=typeof f=="function"?f:Hi(+f),l(),o):i},o}function dN(i){var r=Hi(.1),t,e,n;typeof i!="function"&&(i=Hi(i==null?0:+i));function a(s){for(var l=0,f=t.length,h;l<f;++l)h=t[l],h.vx+=(n[l]-h.x)*e[l]*s}function o(){if(!!t){var s,l=t.length;for(e=new Array(l),n=new Array(l),s=0;s<l;++s)e[s]=isNaN(n[s]=+i(t[s],s,t))?0:+r(t[s],s,t)}}return a.initialize=function(s){t=s,o()},a.strength=function(s){return arguments.length?(r=typeof s=="function"?s:Hi(+s),o(),a):r},a.x=function(s){return arguments.length?(i=typeof s=="function"?s:Hi(+s),o(),a):i},a}function pN(i){var r=Hi(.1),t,e,n;typeof i!="function"&&(i=Hi(i==null?0:+i));function a(s){for(var l=0,f=t.length,h;l<f;++l)h=t[l],h.vy+=(n[l]-h.y)*e[l]*s}function o(){if(!!t){var s,l=t.length;for(e=new Array(l),n=new Array(l),s=0;s<l;++s)e[s]=isNaN(n[s]=+i(t[s],s,t))?0:+r(t[s],s,t)}}return a.initialize=function(s){t=s,o()},a.strength=function(s){return arguments.length?(r=typeof s=="function"?s:Hi(+s),o(),a):r},a.y=function(s){return arguments.length?(i=typeof s=="function"?s:Hi(+s),o(),a):i},a}function gN(){function i(Qe){return function(){return Qe}}var r=function(hr){return hr.cluster},t=i(1),e=i(-1),n=i(100),a=i(.1),o=[0,0],s=[],l={},f=[],h=100,c=100,v={none:{x:0,y:0}},x=[],A,B="force",G=!0,H=.1;function X(Qe){if(!G)return X;A.tick(),te();for(var hr=0,Sr=s.length,vr=void 0,cr=Qe*H;hr<Sr;++hr)vr=s[hr],vr.vx+=(v[r(vr)].x-vr.x)*cr,vr.vy+=(v[r(vr)].y-vr.y)*cr}function ut(){!s||ft()}function ft(){if(!(!s||!s.length)){if(r(s[0])===void 0)throw Error("Couldnt find the grouping attribute for the nodes. Make sure to set it up with forceInABox.groupBy('clusterAttr') before calling .links()");var Qe=xt();A=Tx(Qe.nodes).force("x",dN(h).strength(.1)).force("y",pN(c).strength(.1)).force("collide",kx(function(hr){return hr.r}).iterations(4)).force("charge",Ox().strength(e)).force("links",Ix(Qe.nodes.length?Qe.links:[]).distance(n).strength(a)),x=A.nodes(),te()}}function xt(){var Qe=[],hr=[],Sr={},vr=[],cr={},Mr=[];return cr=Yt(s),Mr=Kt(f),vr=Object.keys(cr),vr.forEach(function(Gr,gr){var Re=cr[Gr];Qe.push({id:Gr,size:Re.count,r:Math.sqrt(Re.sumforceNodeSize/Math.PI)}),Sr[Gr]=gr}),Mr.forEach(function(Gr){var gr=Sr[Gr.source],Re=Sr[Gr.target];gr!==void 0&&Re!==void 0&&hr.push({source:gr,target:Re,count:Gr.count})}),{nodes:Qe,links:hr}}function Yt(Qe){var hr={};return Qe.forEach(function(Sr){var vr=r(Sr);hr[vr]||(hr[vr]={count:0,sumforceNodeSize:0})}),Qe.forEach(function(Sr){var vr=r(Sr),cr=t(Sr),Mr=hr[vr];Mr.count=Mr.count+1,Mr.sumforceNodeSize=Mr.sumforceNodeSize+Math.PI*(cr*cr)*1.3,hr[vr]=Mr}),hr}function Kt(Qe){var hr={},Sr=[];Qe.forEach(function(cr){var Mr=Wt(cr),Gr=0;hr[Mr]!==void 0&&(Gr=hr[Mr]),Gr+=1,hr[Mr]=Gr});var vr=Object.entries(hr);return vr.forEach(function(cr){var Mr=cr[0],Gr=cr[1],gr=Mr.split("~")[0],Re=Mr.split("~")[1];gr!==void 0&&Re!==void 0&&Sr.push({source:gr,target:Re,count:Gr})}),Sr}function te(){return v={none:{x:0,y:0}},x.forEach(function(Qe){v[Qe.id]={x:Qe.x-o[0],y:Qe.y-o[1]}}),v}function Wt(Qe){var hr=r(l[Qe.source]),Sr=r(l[Qe.target]);return hr<=Sr?hr+"~"+Sr:Sr+"~"+hr}function ae(Qe){l={},Qe.forEach(function(hr){l[hr.id]=hr})}function ce(Qe){return arguments.length?(B=Qe,ut(),X):B}function he(Qe){return arguments.length?typeof Qe=="string"?(r=function(Sr){return Sr[Qe]},X):(r=Qe,X):r}function Pe(Qe){return arguments.length?(G=Qe,X):G}function Be(Qe){return arguments.length?(H=Qe,X):H}function ke(Qe){return arguments.length?(h=Qe,X):h}function We(Qe){return arguments.length?(c=Qe,X):c}function Ke(Qe){return arguments.length?(ae(Qe||[]),s=Qe||[],X):s}function $e(Qe){return arguments.length?(f=Qe||[],ut(),X):f}function Ve(Qe){return arguments.length?(typeof Qe=="function"?t=Qe:t=i(+Qe),ut(),X):t}function He(Qe){return arguments.length?(typeof Qe=="function"?e=Qe:e=i(+Qe),ut(),X):e}function lr(Qe){return arguments.length?(typeof Qe=="function"?n=Qe:n=i(+Qe),ut(),X):n}function sr(Qe){return arguments.length?(typeof Qe=="function"?a=Qe:a=i(+Qe),ut(),X):a}function dr(Qe){return arguments.length?(o=Qe,X):o}return X.initialize=function(Qe){s=Qe,ut()},X.template=ce,X.groupBy=he,X.enableGrouping=Pe,X.strength=Be,X.centerX=ke,X.centerY=We,X.nodes=Ke,X.links=$e,X.forceNodeSize=Ve,X.nodeSize=X.forceNodeSize,X.forceCharge=He,X.forceLinkDistance=lr,X.forceLinkStrength=sr,X.offset=dr,X.getFocis=te,X}var Ka={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK"},yN=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.nodeStrength=null,t.edgeStrength=null,t.preventOverlap=!1,t.clusterNodeStrength=null,t.clusterEdgeStrength=null,t.clusterEdgeDistance=null,t.clusterNodeSize=null,t.clusterFociStrength=null,t.linkDistance=50,t.alphaDecay=.028,t.alphaMin=.001,t.alpha=.3,t.collideStrength=1,t.workerEnabled=!1,t.tick=function(){},t.onLayoutEnd=function(){},t.onTick=function(){},t.ticking=void 0,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],nodeStrength:null,edgeStrength:null,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,linkDistance:50,forceSimulation:null,alphaDecay:.028,alphaMin:.001,alpha:.3,collideStrength:1,clustering:!1,clusterNodeStrength:-1,clusterEdgeStrength:.1,clusterEdgeDistance:100,clusterFociStrength:.8,clusterNodeSize:10,tick:function(){},onLayoutEnd:function(){},onTick:function(){},workerEnabled:!1}},r.prototype.init=function(t){var e=this;e.nodes=t.nodes||[];var n=t.edges||[];e.edges=n.map(function(a){var o={},s=["targetNode","sourceNode","startPoint","endPoint"];return Object.keys(a).forEach(function(l){s.indexOf(l)>-1||(o[l]=a[l])}),o}),e.ticking=!1},r.prototype.execute=function(t){var e=this,n=e.nodes,a=e.edges;if(!e.ticking){var o=e.forceSimulation,s=e.alphaMin,l=e.alphaDecay,f=e.alpha;if(o)t&&(e.clustering&&e.clusterForce&&(e.clusterForce.nodes(n),e.clusterForce.links(a)),o.nodes(n),e.edgeForce.links(a)),e.preventOverlap&&e.overlapProcess(o),o.alpha(f).restart(),this.ticking=!0;else try{var h=Ox();if(e.nodeStrength&&h.strength(e.nodeStrength),o=Tx().nodes(n),e.clustering){var c=gN();c.centerX(e.center[0]).centerY(e.center[1]).template("force").strength(e.clusterFociStrength),a&&c.links(a),n&&c.nodes(n),c.forceLinkDistance(e.clusterEdgeDistance).forceLinkStrength(e.clusterEdgeStrength).forceCharge(e.clusterNodeStrength).forceNodeSize(e.clusterNodeSize),e.clusterForce=c,o.force("group",c)}if(o.force("center",fN(e.center[0],e.center[1])).force("charge",h).alpha(f).alphaDecay(l).alphaMin(s),e.preventOverlap&&e.overlapProcess(o),a){var v=Ix().id(function(B){return B.id}).links(a);e.edgeStrength&&v.strength(e.edgeStrength),e.linkDistance&&v.distance(e.linkDistance),e.edgeForce=v,o.force("link",v)}if(e.workerEnabled&&!bN()&&(e.workerEnabled=!1,console.warn("workerEnabled option is only supported when running in web worker.")),!e.workerEnabled)o.on("tick",function(){e.tick()}).on("end",function(){e.ticking=!1,e.onLayoutEnd&&e.onLayoutEnd()}),e.ticking=!0;else{o.stop();for(var x=xN(o),A=1;A<=x;A++)o.tick(),postMessage({type:Ka.TICK,currentTick:A,totalTicks:x,nodes:n},void 0);e.ticking=!1}e.forceSimulation=o,e.ticking=!0}catch(B){e.ticking=!1,console.warn(B)}}},r.prototype.overlapProcess=function(t){var e=this,n=e.nodeSize,a=e.nodeSpacing,o,s,l=e.collideStrength;if((0,ya.default)(a)?s=function(){return a}:(0,$s.default)(a)?s=a:s=function(){return 0},!n)o=function(x){if(x.size){if((0,yi.default)(x.size)){var A=x.size[0]>x.size[1]?x.size[0]:x.size[1];return A/2+s(x)}return x.size/2+s(x)}return 10+s(x)};else if((0,$s.default)(n))o=function(x){var A=n(x);return A+s(x)};else if((0,yi.default)(n)){var f=n[0]>n[1]?n[0]:n[1],h=f/2;o=function(x){return h+s(x)}}else if((0,ya.default)(n)){var c=n/2;o=function(x){return c+s(x)}}else o=function(){return 10};t.force("collisionForce",kx(o).strength(l))},r.prototype.updateCfg=function(t){var e=this;e.ticking&&(e.forceSimulation.stop(),e.ticking=!1),e.forceSimulation=null,(0,Bs.default)(e,t)},r.prototype.destroy=function(){var t=this;t.ticking&&(t.forceSimulation.stop(),t.ticking=!1),t.nodes=null,t.edges=null,t.destroyed=!0},r}(ha),mN=yN;function xN(i){var r=i.alphaMin(),t=i.alphaTarget(),e=i.alpha(),n=Math.log((r-t)/(e-t))/Math.log(1-i.alphaDecay()),a=Math.ceil(n);return a}function bN(){return typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope}var wN=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=500,t.gravity=10,t.clustering=!1,t.clusterGravity=10,t.linkDistance=50,t.alpha=1,t.alphaMin=.001,t.alphaDecay=1-Math.pow(t.alphaMin,1/300),t.alphaTarget=0,t.velocityDecay=.6,t.linkStrength=1,t.nodeStrength=30,t.preventOverlap=!1,t.collideStrength=1,t.optimizeRangeFactor=1,t.tick=function(){},t.nodes=[],t.edges=[],t.width=300,t.height=300,t.bias=[],t.nodeMap={},t.nodeIdxMap={},t}return r.prototype.getDefaultCfg=function(){return{maxIteration:1e3,center:[0,0],gravity:10,clustering:!1,clusterGravity:10,preventOverlap:!1,nodeSpacing:void 0,collideStrength:10}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.center;if(!(!e||e.length===0)){if(e.length===1){e[0].x=n[0],e[0].y=n[1];return}var a={},o={};e.forEach(function(s,l){a[s.id]=s,o[s.id]=l}),t.nodeMap=a,t.nodeIdxMap=o,t.run()}},r.prototype.run=function(){var t=this,e=t.nodes,n=t.edges,a=t.maxIteration;!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var o=t.center,s=t.velocityDecay,l=t.clustering,f;t.initVals(),l&&(f=t.getClusterMap());for(var h=function(G){var H=[];e.forEach(function(X,ut){H[ut]={x:0,y:0}}),t.applyCalculate(e,n,H),l&&t.applyClusterForce(f,H),e.forEach(function(X,ut){!(0,u.isNumber)(X.x)||!(0,u.isNumber)(X.y)||(X.x+=H[ut].x*s,X.y+=H[ut].y*s)}),c.alpha+=(c.alphaTarget-c.alpha)*c.alphaDecay,t.tick()},c=this,v=0;v<a;v++)h(v);var x=[0,0];e.forEach(function(B){!(0,u.isNumber)(B.x)||!(0,u.isNumber)(B.y)||(x[0]+=B.x,x[1]+=B.y)}),x[0]/=e.length,x[1]/=e.length;var A=[o[0]-x[0],o[1]-x[1]];e.forEach(function(B,G){!(0,u.isNumber)(B.x)||!(0,u.isNumber)(B.y)||(B.x+=A[0],B.y+=A[1])})},r.prototype.initVals=function(){for(var t=this,e=t.edges,n={},a=0;a<e.length;++a)n[e[a].source]?n[e[a].source]++:n[e[a].source]=1,n[e[a].target]?n[e[a].target]++:n[e[a].target]=1;for(var o=[],a=0;a<e.length;++a)o[a]=n[e[a].source]/(n[e[a].source]+n[e[a].target]);this.bias=o;var s=t.nodeSize,l=t.nodeSpacing,f,h;if((0,u.isNumber)(l)?h=function(){return l}:(0,u.isFunction)(l)?h=l:h=function(){return 0},!s)f=function(xt){if(xt.size){if((0,u.isArray)(xt.size)){var Yt=xt.size[0]>xt.size[1]?xt.size[0]:xt.size[1];return Yt/2+h(xt)}return xt.size/2+h(xt)}return 10+h(xt)};else if((0,u.isFunction)(s))f=function(xt){var Yt=s(xt);return Yt+h(xt)};else if((0,u.isArray)(s)){var c=s[0]>s[1]?s[0]:s[1],v=c/2;f=function(xt){return v+h(xt)}}else if((0,u.isNumber)(s)){var x=s/2;f=function(xt){return x+h(xt)}}else f=function(){return 10};this.nodeSize=f;var A=this.linkDistance,B;A||(A=50),(0,u.isNumber)(A)&&(B=function(xt){return A}),this.linkDistance=B;var G=this.linkStrength,H;G||(G=1),(0,u.isNumber)(G)&&(H=function(xt){return G}),this.linkStrength=H;var X=this.nodeStrength,ut;X||(X=30),(0,u.isNumber)(X)&&(ut=function(xt){return X}),this.nodeStrength=ut},r.prototype.getClusterMap=function(){var t=this,e=t.nodes,n={};e.forEach(function(o){if(n[o.cluster]===void 0){var s={name:o.cluster,cx:0,cy:0,count:0};n[o.cluster]=s}var l=n[o.cluster];(0,u.isNumber)(o.x)&&(l.cx+=o.x),(0,u.isNumber)(o.y)&&(l.cy+=o.y),l.count++});for(var a in n)n[a].cx/=n[a].count,n[a].cy/=n[a].count;return n},r.prototype.applyClusterForce=function(t,e){var n=this,a=n.gravity,o=n.nodes,s=n.clusterGravity||a,l=this.alpha;o.forEach(function(h,c){if(!(!(0,u.isNumber)(h.x)||!(0,u.isNumber)(h.y))){var v=t[h.cluster],x=h.x-v.cx,A=h.y-v.cy,B=Math.sqrt(x*x+A*A);e[c].x-=x*s*l/B,e[c].y-=A*s*l/B}});for(var f in t)t[f].cx=0,t[f].cy=0,t[f].count=0;o.forEach(function(h){var c=t[h.cluster];(0,u.isNumber)(h.x)&&(c.cx+=h.x),(0,u.isNumber)(h.y)&&(c.cy+=h.y),c.count++});for(var f in t)t[f].cx/=t[f].count,t[f].cy/=t[f].count},r.prototype.applyCalculate=function(t,e,n){var a=this,o={};t.forEach(function(s,l){n[l]={x:0,y:0},t.forEach(function(f,h){if(!(l<h)){var c=s.x-f.x,v=s.y-f.y,x=c*c+v*v;x<1&&(x=Math.sqrt(x)),c===0&&(c=Math.random()*.01,x+=c*c),v===0&&(v=Math.random()*.01,x+=v*v);var A=Math.sqrt(x);o[s.id+"-"+f.id]={vx:c,vy:v,vl:x,sqrtVl:A},o[f.id+"-"+s.id]={vx:-c,vy:-v,vl:x,sqrtVl:A}}})}),a.calRepulsive(t,n,o),a.calAttractive(e,n,o)},r.prototype.calRepulsive=function(t,e,n){var a=this.width*this.optimizeRangeFactor*this.width*this.optimizeRangeFactor,o=this.nodeStrength,s=this.alpha,l=this.collideStrength,f=this.preventOverlap,h=this.nodeSize;t.forEach(function(c,v){t.forEach(function(x,A){if(v!==A&&!(!(0,u.isNumber)(c.x)||!(0,u.isNumber)(x.x)||!(0,u.isNumber)(c.y)||!(0,u.isNumber)(x.y))){var B=n[c.id+"-"+x.id],G=B.vl,H=B.vx,X=B.vy;if(!(G>a)&&(e[v].x+=H*o(x)*s/G,e[v].y+=X*o(x)*s/G,f&&v<A)){var ut=h(c),ft=h(x),xt=ut+ft;if(G<xt*xt){var Yt=n[c.id+"-"+x.id].sqrtVl,Kt=(xt-Yt)/Yt*l,te=ft*ft/(ut*ut+ft*ft),Wt=H*Kt,ae=X*Kt;e[v].x+=Wt*te,e[v].y+=ae*te,te=1-te,e[A].x-=Wt*te,e[A].y-=ae*te}}}})})},r.prototype.calAttractive=function(t,e,n){var a=this,o=this.linkDistance,s=this.alpha,l=this.linkStrength,f=this.bias;t.forEach(function(h,c){if(!(!h.source||!h.target)){var v=a.nodeIdxMap[h.source],x=a.nodeIdxMap[h.target];if(v!==x){var A=a.nodeMap[h.source],B=a.nodeMap[h.target];if(!(!(0,u.isNumber)(B.x)||!(0,u.isNumber)(A.x)||!(0,u.isNumber)(B.y)||!(0,u.isNumber)(A.y))){var G=n[h.target+"-"+h.source],H=G.vl,X=G.sqrtVl,ut=G.vx,ft=G.vy,xt=(X-o(h))/X*s*l(h),Yt=ut*xt,Kt=ft*xt,te=f[c];e[x].x-=Yt*te,e[x].y-=Kt*te,e[v].x+=Yt*(1-te),e[v].y+=Kt*(1-te)}}}})},r}(ha),SN=wN,CN=800,MN=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=1e3,t.gravity=10,t.speed=1,t.clustering=!1,t.clusterGravity=10,t.nodes=[],t.edges=[],t.width=300,t.height=300,t.nodeMap={},t.nodeIdxMap={},t}return r.prototype.getDefaultCfg=function(){return{maxIteration:1e3,center:[0,0],gravity:10,speed:1,clustering:!1,clusterGravity:10}},r.prototype.execute=function(){var t=this,e=this,n=e.nodes,a=e.center;if(!(!n||n.length===0)){if(n.length===1){n[0].x=a[0],n[0].y=a[1];return}var o={},s={};n.forEach(function(l,f){(0,u.isNumber)(l.x)||(l.x=Math.random()*t.width),(0,u.isNumber)(l.y)||(l.y=Math.random()*t.height),o[l.id]=l,s[l.id]=f}),e.nodeMap=o,e.nodeIdxMap=s,e.run()}},r.prototype.run=function(){var t=this,e=t.nodes,n=t.edges,a=t.maxIteration;!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var o=t.center,s=t.width/10,l=Math.sqrt(t.width*t.height/(e.length+1)),f=t.gravity,h=t.speed,c=t.clustering,v={};if(c){e.forEach(function(G){if(v[G.cluster]===void 0){var H={name:G.cluster,cx:0,cy:0,count:0};v[G.cluster]=H}var X=v[G.cluster];(0,u.isNumber)(G.x)&&(X.cx+=G.x),(0,u.isNumber)(G.y)&&(X.cy+=G.y),X.count++});for(var x in v)v[x].cx/=v[x].count,v[x].cy/=v[x].count}for(var A=function(H){var X=[];if(e.forEach(function(xt,Yt){X[Yt]={x:0,y:0}}),t.applyCalculate(e,n,X,l),c){var ut=t.clusterGravity||f;e.forEach(function(xt,Yt){if(!(!(0,u.isNumber)(xt.x)||!(0,u.isNumber)(xt.y))){var Kt=v[xt.cluster],te=Math.sqrt((xt.x-Kt.cx)*(xt.x-Kt.cx)+(xt.y-Kt.cy)*(xt.y-Kt.cy)),Wt=l*ut;X[Yt].x-=Wt*(xt.x-Kt.cx)/te,X[Yt].y-=Wt*(xt.y-Kt.cy)/te}});for(var ft in v)v[ft].cx=0,v[ft].cy=0,v[ft].count=0;e.forEach(function(xt){var Yt=v[xt.cluster];(0,u.isNumber)(xt.x)&&(Yt.cx+=xt.x),(0,u.isNumber)(xt.y)&&(Yt.cy+=xt.y),Yt.count++});for(var ft in v)v[ft].cx/=v[ft].count,v[ft].cy/=v[ft].count}e.forEach(function(xt,Yt){if(!(!(0,u.isNumber)(xt.x)||!(0,u.isNumber)(xt.y))){var Kt=.01*l*f;X[Yt].x-=Kt*(xt.x-o[0]),X[Yt].y-=Kt*(xt.y-o[1])}}),e.forEach(function(xt,Yt){if(!(!(0,u.isNumber)(xt.x)||!(0,u.isNumber)(xt.y))){var Kt=Math.sqrt(X[Yt].x*X[Yt].x+X[Yt].y*X[Yt].y);if(Kt>0){var te=Math.min(s*(h/CN),Kt);xt.x+=X[Yt].x/Kt*te,xt.y+=X[Yt].y/Kt*te}}})},B=0;B<a;B++)A(B)},r.prototype.applyCalculate=function(t,e,n,a){var o=this;o.calRepulsive(t,n,a),o.calAttractive(e,n,a)},r.prototype.calRepulsive=function(t,e,n){t.forEach(function(a,o){e[o]={x:0,y:0},t.forEach(function(s,l){if(o!==l&&!(!(0,u.isNumber)(a.x)||!(0,u.isNumber)(s.x)||!(0,u.isNumber)(a.y)||!(0,u.isNumber)(s.y))){var f=a.x-s.x,h=a.y-s.y,c=f*f+h*h;if(c===0){c=1;var v=o>l?1:-1;f=.01*v,h=.01*v}var x=n*n/c;e[o].x+=f*x,e[o].y+=h*x}})})},r.prototype.calAttractive=function(t,e,n){var a=this;t.forEach(function(o){if(!(!o.source||!o.target)){var s=a.nodeIdxMap[o.source],l=a.nodeIdxMap[o.target];if(s!==l){var f=a.nodeMap[o.source],h=a.nodeMap[o.target];if(!(!(0,u.isNumber)(h.x)||!(0,u.isNumber)(f.x)||!(0,u.isNumber)(h.y)||!(0,u.isNumber)(f.y))){var c=h.x-f.x,v=h.y-f.y,x=Math.sqrt(c*c+v*v),A=x*x/n;e[l].x-=c/x*A,e[l].y-=v/x*A,e[s].x+=c/x*A,e[s].y+=v/x*A}}}})},r}(ha),EN=MN,_N=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.begin=[0,0],t.preventOverlap=!0,t.preventOverlapPadding=10,t.condense=!1,t.sortBy="degree",t.nodeSize=30,t.nodes=[],t.edges=[],t.center=[0,0],t.width=300,t.height=300,t.row=0,t.col=0,t.cellWidth=0,t.cellHeight=0,t.cellUsed={},t.id2manPos={},t}return r.prototype.getDefaultCfg=function(){return{begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30}},r.prototype.execute=function(){var t=this,e=t.nodes,n=e.length,a=t.center;if(n!==0){if(n===1){e[0].x=a[0],e[0].y=a[1];return}var o=t.edges,s=[];e.forEach(function(X){s.push(X)});var l={};if(s.forEach(function(X,ut){l[X.id]=ut}),(t.sortBy==="degree"||!(0,un.default)(t.sortBy)||s[0][t.sortBy]===void 0)&&(t.sortBy="degree",ja(e[0].degree))){var f=Ql(s.length,l,o);s.forEach(function(X,ut){X.degree=f[ut]})}s.sort(function(X,ut){return ut[t.sortBy]-X[t.sortBy]}),!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var h=t.rows,c=t.cols!=null?t.cols:t.columns;if(t.cells=n,h!=null&&c!=null?(t.rows=h,t.cols=c):h!=null&&c==null?(t.rows=h,t.cols=Math.ceil(t.cells/t.rows)):h==null&&c!=null?(t.cols=c,t.rows=Math.ceil(t.cells/t.cols)):(t.splits=Math.sqrt(t.cells*t.height/t.width),t.rows=Math.round(t.splits),t.cols=Math.round(t.width/t.height*t.splits)),t.cols*t.rows>t.cells){var v=t.small(),x=t.large();(v-1)*x>=t.cells?t.small(v-1):(x-1)*v>=t.cells&&t.large(x-1)}else for(;t.cols*t.rows<t.cells;){var v=t.small(),x=t.large();(x+1)*v>=t.cells?t.large(x+1):t.small(v+1)}t.cellWidth=t.width/t.cols,t.cellHeight=t.height/t.rows,t.condense&&(t.cellWidth=0,t.cellHeight=0),t.preventOverlap&&s.forEach(function(X){(!X.x||!X.y)&&(X.x=0,X.y=0);var ut,ft;(0,u.isArray)(X.size)?(ut=X.size[0],ft=X.size[1]):(0,u.isNumber)(X.size)&&(ut=X.size,ft=X.size),(ut===void 0||ft===void 0)&&((0,u.isArray)(t.nodeSize)?(ut=t.nodeSize[0],ft=t.nodeSize[1]):(0,u.isNumber)(t.nodeSize)?(ut=t.nodeSize,ft=t.nodeSize):(ut=30,ft=30));var xt=t.preventOverlapPadding,Yt=ut+xt,Kt=ft+xt;t.cellWidth=Math.max(t.cellWidth,Yt),t.cellHeight=Math.max(t.cellHeight,Kt)}),t.cellUsed={},t.row=0,t.col=0,t.id2manPos={};for(var A=0;A<s.length;A++){var B=s[A],G=void 0;if(t.position&&(G=t.position(B)),G&&(G.row!==void 0||G.col!==void 0)){var H={row:G.row,col:G.col};if(H.col===void 0)for(H.col=0;t.used(H.row,H.col);)H.col++;else if(H.row===void 0)for(H.row=0;t.used(H.row,H.col);)H.row++;t.id2manPos[B.id]=H,t.use(H.row,H.col)}t.getPos(B)}}},r.prototype.small=function(t){var e=this,n,a=e.rows||5,o=e.cols||5;if(t==null)n=Math.min(a,o);else{var s=Math.min(a,o);s===e.rows?e.rows=t:e.cols=t}return n},r.prototype.large=function(t){var e=this,n,a=e.rows||5,o=e.cols||5;if(t==null)n=Math.max(a,o);else{var s=Math.max(a,o);s===e.rows?e.rows=t:e.cols=t}return n},r.prototype.used=function(t,e){var n=this;return n.cellUsed["c-"+t+"-"+e]||!1},r.prototype.use=function(t,e){var n=this;n.cellUsed["c-"+t+"-"+e]=!0},r.prototype.moveToNextCell=function(){var t=this,e=t.cols||5;t.col++,t.col>=e&&(t.col=0,t.row++)},r.prototype.getPos=function(t){var e=this,n=e.begin,a=e.cellWidth,o=e.cellHeight,s,l,f=e.id2manPos[t.id];if(f)s=f.col*a+a/2+n[0],l=f.row*o+o/2+n[1];else{for(;e.used(e.row,e.col);)e.moveToNextCell();s=e.col*a+a/2+n[0],l=e.row*o+o/2+n[1],e.use(e.row,e.col),e.moveToNextCell()}t.x=s,t.y=l},r}(ha),AN=_N,PN=d(79320),Bx=d(81306),Dx=d(59206),cu=d(69610),vu=d(54941);const TN=Object.prototype.toString;function ea(i){return TN.call(i).endsWith("Array]")}function ON(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!ea(i))throw new TypeError("input must be an array");if(i.length===0)throw new TypeError("input must not be empty");var t=r.fromIndex,e=t===void 0?0:t,n=r.toIndex,a=n===void 0?i.length:n;if(e<0||e>=i.length||!Number.isInteger(e))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=e||a>i.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var o=i[e],s=e+1;s<a;s++)i[s]>o&&(o=i[s]);return o}function LN(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!ea(i))throw new TypeError("input must be an array");if(i.length===0)throw new TypeError("input must not be empty");var t=r.fromIndex,e=t===void 0?0:t,n=r.toIndex,a=n===void 0?i.length:n;if(e<0||e>=i.length||!Number.isInteger(e))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=e||a>i.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var o=i[e],s=e+1;s<a;s++)i[s]<o&&(o=i[s]);return o}function Fx(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(ea(i)){if(i.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var t;if(r.output!==void 0){if(!ea(r.output))throw new TypeError("output option must be an array if specified");t=r.output}else t=new Array(i.length);var e=LN(i),n=ON(i);if(e===n)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var a=r.min,o=a===void 0?r.autoMinMax?e:0:a,s=r.max,l=s===void 0?r.autoMinMax?n:1:s;if(o>=l)throw new RangeError("min option must be smaller than max option");for(var f=(l-o)/(n-e),h=0;h<i.length;h++)t[h]=(i[h]-e)*f+o;return t}var du=" ".repeat(2),Rx=" ".repeat(4);function IN(){return Nx(this)}function Nx(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=r.maxRows,e=t===void 0?15:t,n=r.maxColumns,a=n===void 0?10:n,o=r.maxNumSize,s=o===void 0?8:o,l=r.padMinus,f=l===void 0?"auto":l;return"".concat(i.constructor.name,` {
`).concat(du,`[
`).concat(Rx).concat(kN(i,e,a,s,f),`
`).concat(du,`]
`).concat(du,"rows: ").concat(i.rows,`
`).concat(du,"columns: ").concat(i.columns,`
}`)}function kN(i,r,t,e,n){var a=i.rows,o=i.columns,s=Math.min(a,r),l=Math.min(o,t),f=[];if(n==="auto"){n=!1;t:for(var h=0;h<s;h++)for(var c=0;c<l;c++)if(i.get(h,c)<0){n=!0;break t}}for(var v=0;v<s;v++){for(var x=[],A=0;A<l;A++)x.push(BN(i.get(v,A),e,n));f.push("".concat(x.join(" ")))}return l!==o&&(f[f.length-1]+=" ... ".concat(o-t," more columns")),s!==a&&f.push("... ".concat(a-r," more rows")),f.join(`
`.concat(Rx))}function BN(i,r,t){return(i>=0&&t?" ".concat(Gx(i,r-1)):Gx(i,r)).padEnd(r)}function Gx(i,r){var t=i.toString();if(t.length<=r)return t;var e=i.toFixed(r);if(e.length>r&&(e=i.toFixed(Math.max(0,r-(e.length-r)))),e.length<=r&&!e.startsWith("0.000")&&!e.startsWith("-0.000"))return e;var n=i.toExponential(r);return n.length>r&&(n=i.toExponential(Math.max(0,r-(n.length-r)))),n.slice(0)}function DN(i,r){i.prototype.add=function(e){return typeof e=="number"?this.addS(e):this.addM(e)},i.prototype.addS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)+e);return this},i.prototype.addM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)+e.get(n,a));return this},i.add=function(e,n){var a=new r(e);return a.add(n)},i.prototype.sub=function(e){return typeof e=="number"?this.subS(e):this.subM(e)},i.prototype.subS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)-e);return this},i.prototype.subM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)-e.get(n,a));return this},i.sub=function(e,n){var a=new r(e);return a.sub(n)},i.prototype.subtract=i.prototype.sub,i.prototype.subtractS=i.prototype.subS,i.prototype.subtractM=i.prototype.subM,i.subtract=i.sub,i.prototype.mul=function(e){return typeof e=="number"?this.mulS(e):this.mulM(e)},i.prototype.mulS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)*e);return this},i.prototype.mulM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)*e.get(n,a));return this},i.mul=function(e,n){var a=new r(e);return a.mul(n)},i.prototype.multiply=i.prototype.mul,i.prototype.multiplyS=i.prototype.mulS,i.prototype.multiplyM=i.prototype.mulM,i.multiply=i.mul,i.prototype.div=function(e){return typeof e=="number"?this.divS(e):this.divM(e)},i.prototype.divS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)/e);return this},i.prototype.divM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)/e.get(n,a));return this},i.div=function(e,n){var a=new r(e);return a.div(n)},i.prototype.divide=i.prototype.div,i.prototype.divideS=i.prototype.divS,i.prototype.divideM=i.prototype.divM,i.divide=i.div,i.prototype.mod=function(e){return typeof e=="number"?this.modS(e):this.modM(e)},i.prototype.modS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)%e);return this},i.prototype.modM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)%e.get(n,a));return this},i.mod=function(e,n){var a=new r(e);return a.mod(n)},i.prototype.modulus=i.prototype.mod,i.prototype.modulusS=i.prototype.modS,i.prototype.modulusM=i.prototype.modM,i.modulus=i.mod,i.prototype.and=function(e){return typeof e=="number"?this.andS(e):this.andM(e)},i.prototype.andS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)&e);return this},i.prototype.andM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)&e.get(n,a));return this},i.and=function(e,n){var a=new r(e);return a.and(n)},i.prototype.or=function(e){return typeof e=="number"?this.orS(e):this.orM(e)},i.prototype.orS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)|e);return this},i.prototype.orM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)|e.get(n,a));return this},i.or=function(e,n){var a=new r(e);return a.or(n)},i.prototype.xor=function(e){return typeof e=="number"?this.xorS(e):this.xorM(e)},i.prototype.xorS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)^e);return this},i.prototype.xorM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)^e.get(n,a));return this},i.xor=function(e,n){var a=new r(e);return a.xor(n)},i.prototype.leftShift=function(e){return typeof e=="number"?this.leftShiftS(e):this.leftShiftM(e)},i.prototype.leftShiftS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)<<e);return this},i.prototype.leftShiftM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)<<e.get(n,a));return this},i.leftShift=function(e,n){var a=new r(e);return a.leftShift(n)},i.prototype.signPropagatingRightShift=function(e){return typeof e=="number"?this.signPropagatingRightShiftS(e):this.signPropagatingRightShiftM(e)},i.prototype.signPropagatingRightShiftS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)>>e);return this},i.prototype.signPropagatingRightShiftM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)>>e.get(n,a));return this},i.signPropagatingRightShift=function(e,n){var a=new r(e);return a.signPropagatingRightShift(n)},i.prototype.rightShift=function(e){return typeof e=="number"?this.rightShiftS(e):this.rightShiftM(e)},i.prototype.rightShiftS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)>>>e);return this},i.prototype.rightShiftM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)>>>e.get(n,a));return this},i.rightShift=function(e,n){var a=new r(e);return a.rightShift(n)},i.prototype.zeroFillRightShift=i.prototype.rightShift,i.prototype.zeroFillRightShiftS=i.prototype.rightShiftS,i.prototype.zeroFillRightShiftM=i.prototype.rightShiftM,i.zeroFillRightShift=i.rightShift,i.prototype.not=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,~this.get(e,n));return this},i.not=function(e){var n=new r(e);return n.not()},i.prototype.abs=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.abs(this.get(e,n)));return this},i.abs=function(e){var n=new r(e);return n.abs()},i.prototype.acos=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.acos(this.get(e,n)));return this},i.acos=function(e){var n=new r(e);return n.acos()},i.prototype.acosh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.acosh(this.get(e,n)));return this},i.acosh=function(e){var n=new r(e);return n.acosh()},i.prototype.asin=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.asin(this.get(e,n)));return this},i.asin=function(e){var n=new r(e);return n.asin()},i.prototype.asinh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.asinh(this.get(e,n)));return this},i.asinh=function(e){var n=new r(e);return n.asinh()},i.prototype.atan=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.atan(this.get(e,n)));return this},i.atan=function(e){var n=new r(e);return n.atan()},i.prototype.atanh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.atanh(this.get(e,n)));return this},i.atanh=function(e){var n=new r(e);return n.atanh()},i.prototype.cbrt=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.cbrt(this.get(e,n)));return this},i.cbrt=function(e){var n=new r(e);return n.cbrt()},i.prototype.ceil=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.ceil(this.get(e,n)));return this},i.ceil=function(e){var n=new r(e);return n.ceil()},i.prototype.clz32=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.clz32(this.get(e,n)));return this},i.clz32=function(e){var n=new r(e);return n.clz32()},i.prototype.cos=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.cos(this.get(e,n)));return this},i.cos=function(e){var n=new r(e);return n.cos()},i.prototype.cosh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.cosh(this.get(e,n)));return this},i.cosh=function(e){var n=new r(e);return n.cosh()},i.prototype.exp=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.exp(this.get(e,n)));return this},i.exp=function(e){var n=new r(e);return n.exp()},i.prototype.expm1=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.expm1(this.get(e,n)));return this},i.expm1=function(e){var n=new r(e);return n.expm1()},i.prototype.floor=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.floor(this.get(e,n)));return this},i.floor=function(e){var n=new r(e);return n.floor()},i.prototype.fround=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.fround(this.get(e,n)));return this},i.fround=function(e){var n=new r(e);return n.fround()},i.prototype.log=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.log(this.get(e,n)));return this},i.log=function(e){var n=new r(e);return n.log()},i.prototype.log1p=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.log1p(this.get(e,n)));return this},i.log1p=function(e){var n=new r(e);return n.log1p()},i.prototype.log10=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.log10(this.get(e,n)));return this},i.log10=function(e){var n=new r(e);return n.log10()},i.prototype.log2=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.log2(this.get(e,n)));return this},i.log2=function(e){var n=new r(e);return n.log2()},i.prototype.round=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.round(this.get(e,n)));return this},i.round=function(e){var n=new r(e);return n.round()},i.prototype.sign=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.sign(this.get(e,n)));return this},i.sign=function(e){var n=new r(e);return n.sign()},i.prototype.sin=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.sin(this.get(e,n)));return this},i.sin=function(e){var n=new r(e);return n.sin()},i.prototype.sinh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.sinh(this.get(e,n)));return this},i.sinh=function(e){var n=new r(e);return n.sinh()},i.prototype.sqrt=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.sqrt(this.get(e,n)));return this},i.sqrt=function(e){var n=new r(e);return n.sqrt()},i.prototype.tan=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.tan(this.get(e,n)));return this},i.tan=function(e){var n=new r(e);return n.tan()},i.prototype.tanh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.tanh(this.get(e,n)));return this},i.tanh=function(e){var n=new r(e);return n.tanh()},i.prototype.trunc=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.trunc(this.get(e,n)));return this},i.trunc=function(e){var n=new r(e);return n.trunc()},i.pow=function(e,n){var a=new r(e);return a.pow(n)},i.prototype.pow=function(e){return typeof e=="number"?this.powS(e):this.powM(e)},i.prototype.powS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,Math.pow(this.get(n,a),e));return this},i.prototype.powM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,Math.pow(this.get(n,a),e.get(n,a)));return this}}function xa(i,r,t){var e=t?i.rows:i.rows-1;if(r<0||r>e)throw new RangeError("Row index out of range")}function ba(i,r,t){var e=t?i.columns:i.columns-1;if(r<0||r>e)throw new RangeError("Column index out of range")}function Qo(i,r){if(r.to1DArray&&(r=r.to1DArray()),r.length!==i.columns)throw new RangeError("vector size must be the same as the number of columns");return r}function Jo(i,r){if(r.to1DArray&&(r=r.to1DArray()),r.length!==i.rows)throw new RangeError("vector size must be the same as the number of rows");return r}function FN(i,r){if(!ea(r))throw new TypeError("row indices must be an array");for(var t=0;t<r.length;t++)if(r[t]<0||r[t]>=i.rows)throw new RangeError("row indices are out of range")}function RN(i,r){if(!ea(r))throw new TypeError("column indices must be an array");for(var t=0;t<r.length;t++)if(r[t]<0||r[t]>=i.columns)throw new RangeError("column indices are out of range")}function Yx(i,r,t,e,n){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(gu("startRow",r),gu("endRow",t),gu("startColumn",e),gu("endColumn",n),r>t||e>n||r<0||r>=i.rows||t<0||t>=i.rows||e<0||e>=i.columns||n<0||n>=i.columns)throw new RangeError("Submatrix indices are out of range")}function pu(i){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=[],e=0;e<i;e++)t.push(r);return t}function gu(i,r){if(typeof r!="number")throw new TypeError("".concat(i," must be a number"))}function qo(i){if(i.isEmpty())throw new Error("Empty matrix has no elements to index")}function NN(i){for(var r=pu(i.rows),t=0;t<i.rows;++t)for(var e=0;e<i.columns;++e)r[t]+=i.get(t,e);return r}function GN(i){for(var r=pu(i.columns),t=0;t<i.rows;++t)for(var e=0;e<i.columns;++e)r[e]+=i.get(t,e);return r}function YN(i){for(var r=0,t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)r+=i.get(t,e);return r}function zN(i){for(var r=pu(i.rows,1),t=0;t<i.rows;++t)for(var e=0;e<i.columns;++e)r[t]*=i.get(t,e);return r}function XN(i){for(var r=pu(i.columns,1),t=0;t<i.rows;++t)for(var e=0;e<i.columns;++e)r[e]*=i.get(t,e);return r}function VN(i){for(var r=1,t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)r*=i.get(t,e);return r}function HN(i,r,t){for(var e=i.rows,n=i.columns,a=[],o=0;o<e;o++){for(var s=0,l=0,f=0,h=0;h<n;h++)f=i.get(o,h)-t[o],s+=f,l+=f*f;r?a.push((l-s*s/n)/(n-1)):a.push((l-s*s/n)/n)}return a}function WN(i,r,t){for(var e=i.rows,n=i.columns,a=[],o=0;o<n;o++){for(var s=0,l=0,f=0,h=0;h<e;h++)f=i.get(h,o)-t[o],s+=f,l+=f*f;r?a.push((l-s*s/e)/(e-1)):a.push((l-s*s/e)/e)}return a}function jN(i,r,t){for(var e=i.rows,n=i.columns,a=e*n,o=0,s=0,l=0,f=0;f<e;f++)for(var h=0;h<n;h++)l=i.get(f,h)-t,o+=l,s+=l*l;return r?(s-o*o/a)/(a-1):(s-o*o/a)/a}function UN(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)-r[t])}function ZN(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)-r[e])}function KN(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)-r)}function $N(i){for(var r=[],t=0;t<i.rows;t++){for(var e=0,n=0;n<i.columns;n++)e+=Math.pow(i.get(t,n),2)/(i.columns-1);r.push(Math.sqrt(e))}return r}function QN(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)/r[t])}function JN(i){for(var r=[],t=0;t<i.columns;t++){for(var e=0,n=0;n<i.rows;n++)e+=Math.pow(i.get(n,t),2)/(i.rows-1);r.push(Math.sqrt(e))}return r}function qN(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)/r[e])}function t4(i){for(var r=i.size-1,t=0,e=0;e<i.columns;e++)for(var n=0;n<i.rows;n++)t+=Math.pow(i.get(n,e),2)/r;return Math.sqrt(t)}function e4(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)/r)}var li=function(){function i(){(0,cu.Z)(this,i)}return(0,vu.Z)(i,[{key:"size",get:function(){return this.rows*this.columns}},{key:"apply",value:function(t){if(typeof t!="function")throw new TypeError("callback must be a function");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.call(this,e,n);return this}},{key:"to1DArray",value:function(){for(var t=[],e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.push(this.get(e,n));return t}},{key:"to2DArray",value:function(){for(var t=[],e=0;e<this.rows;e++){t.push([]);for(var n=0;n<this.columns;n++)t[e].push(this.get(e,n))}return t}},{key:"toJSON",value:function(){return this.to2DArray()}},{key:"isRowVector",value:function(){return this.rows===1}},{key:"isColumnVector",value:function(){return this.columns===1}},{key:"isVector",value:function(){return this.rows===1||this.columns===1}},{key:"isSquare",value:function(){return this.rows===this.columns}},{key:"isEmpty",value:function(){return this.rows===0||this.columns===0}},{key:"isSymmetric",value:function(){if(this.isSquare()){for(var t=0;t<this.rows;t++)for(var e=0;e<=t;e++)if(this.get(t,e)!==this.get(e,t))return!1;return!0}return!1}},{key:"isEchelonForm",value:function(){for(var t=0,e=0,n=-1,a=!0,o=!1;t<this.rows&&a;){for(e=0,o=!1;e<this.columns&&o===!1;)this.get(t,e)===0?e++:this.get(t,e)===1&&e>n?(o=!0,n=e):(a=!1,o=!0);t++}return a}},{key:"isReducedEchelonForm",value:function(){for(var t=0,e=0,n=-1,a=!0,o=!1;t<this.rows&&a;){for(e=0,o=!1;e<this.columns&&o===!1;)this.get(t,e)===0?e++:this.get(t,e)===1&&e>n?(o=!0,n=e):(a=!1,o=!0);for(var s=e+1;s<this.rows;s++)this.get(t,s)!==0&&(a=!1);t++}return a}},{key:"echelonForm",value:function(){for(var t=this.clone(),e=0,n=0;e<t.rows&&n<t.columns;){for(var a=e,o=e;o<t.rows;o++)t.get(o,n)>t.get(a,n)&&(a=o);if(t.get(a,n)===0)n++;else{t.swapRows(e,a);for(var s=t.get(e,n),l=n;l<t.columns;l++)t.set(e,l,t.get(e,l)/s);for(var f=e+1;f<t.rows;f++){var h=t.get(f,n)/t.get(e,n);t.set(f,n,0);for(var c=n+1;c<t.columns;c++)t.set(f,c,t.get(f,c)-t.get(e,c)*h)}e++,n++}}return t}},{key:"reducedEchelonForm",value:function(){for(var t=this.echelonForm(),e=t.columns,n=t.rows,a=n-1;a>=0;)if(t.maxRow(a)===0)a--;else{for(var o=0,s=!1;o<n&&s===!1;)t.get(a,o)===1?s=!0:o++;for(var l=0;l<a;l++)for(var f=t.get(l,o),h=o;h<e;h++){var c=t.get(l,h)-f*t.get(a,h);t.set(l,h,c)}a--}return t}},{key:"set",value:function(){throw new Error("set method is unimplemented")}},{key:"get",value:function(){throw new Error("get method is unimplemented")}},{key:"repeat",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof t!="object")throw new TypeError("options must be an object");var e=t.rows,n=e===void 0?1:e,a=t.columns,o=a===void 0?1:a;if(!Number.isInteger(n)||n<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(o)||o<=0)throw new TypeError("columns must be a positive integer");for(var s=new Yr(this.rows*n,this.columns*o),l=0;l<n;l++)for(var f=0;f<o;f++)s.setSubMatrix(this,this.rows*l,this.columns*f);return s}},{key:"fill",value:function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,t);return this}},{key:"neg",value:function(){return this.mulS(-1)}},{key:"getRow",value:function(t){xa(this,t);for(var e=[],n=0;n<this.columns;n++)e.push(this.get(t,n));return e}},{key:"getRowVector",value:function(t){return Yr.rowVector(this.getRow(t))}},{key:"setRow",value:function(t,e){xa(this,t),e=Qo(this,e);for(var n=0;n<this.columns;n++)this.set(t,n,e[n]);return this}},{key:"swapRows",value:function(t,e){xa(this,t),xa(this,e);for(var n=0;n<this.columns;n++){var a=this.get(t,n);this.set(t,n,this.get(e,n)),this.set(e,n,a)}return this}},{key:"getColumn",value:function(t){ba(this,t);for(var e=[],n=0;n<this.rows;n++)e.push(this.get(n,t));return e}},{key:"getColumnVector",value:function(t){return Yr.columnVector(this.getColumn(t))}},{key:"setColumn",value:function(t,e){ba(this,t),e=Jo(this,e);for(var n=0;n<this.rows;n++)this.set(n,t,e[n]);return this}},{key:"swapColumns",value:function(t,e){ba(this,t),ba(this,e);for(var n=0;n<this.rows;n++){var a=this.get(n,t);this.set(n,t,this.get(n,e)),this.set(n,e,a)}return this}},{key:"addRowVector",value:function(t){t=Qo(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t[n]);return this}},{key:"subRowVector",value:function(t){t=Qo(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t[n]);return this}},{key:"mulRowVector",value:function(t){t=Qo(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t[n]);return this}},{key:"divRowVector",value:function(t){t=Qo(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t[n]);return this}},{key:"addColumnVector",value:function(t){t=Jo(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t[e]);return this}},{key:"subColumnVector",value:function(t){t=Jo(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t[e]);return this}},{key:"mulColumnVector",value:function(t){t=Jo(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t[e]);return this}},{key:"divColumnVector",value:function(t){t=Jo(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t[e]);return this}},{key:"mulRow",value:function(t,e){xa(this,t);for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e);return this}},{key:"mulColumn",value:function(t,e){ba(this,t);for(var n=0;n<this.rows;n++)this.set(n,t,this.get(n,t)*e);return this}},{key:"max",value:function(t){if(this.isEmpty())return NaN;switch(t){case"row":{for(var e=new Array(this.rows).fill(Number.NEGATIVE_INFINITY),n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.get(n,a)>e[n]&&(e[n]=this.get(n,a));return e}case"column":{for(var o=new Array(this.columns).fill(Number.NEGATIVE_INFINITY),s=0;s<this.rows;s++)for(var l=0;l<this.columns;l++)this.get(s,l)>o[l]&&(o[l]=this.get(s,l));return o}case void 0:{for(var f=this.get(0,0),h=0;h<this.rows;h++)for(var c=0;c<this.columns;c++)this.get(h,c)>f&&(f=this.get(h,c));return f}default:throw new Error("invalid option: ".concat(t))}}},{key:"maxIndex",value:function(){qo(this);for(var t=this.get(0,0),e=[0,0],n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.get(n,a)>t&&(t=this.get(n,a),e[0]=n,e[1]=a);return e}},{key:"min",value:function(t){if(this.isEmpty())return NaN;switch(t){case"row":{for(var e=new Array(this.rows).fill(Number.POSITIVE_INFINITY),n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.get(n,a)<e[n]&&(e[n]=this.get(n,a));return e}case"column":{for(var o=new Array(this.columns).fill(Number.POSITIVE_INFINITY),s=0;s<this.rows;s++)for(var l=0;l<this.columns;l++)this.get(s,l)<o[l]&&(o[l]=this.get(s,l));return o}case void 0:{for(var f=this.get(0,0),h=0;h<this.rows;h++)for(var c=0;c<this.columns;c++)this.get(h,c)<f&&(f=this.get(h,c));return f}default:throw new Error("invalid option: ".concat(t))}}},{key:"minIndex",value:function(){qo(this);for(var t=this.get(0,0),e=[0,0],n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.get(n,a)<t&&(t=this.get(n,a),e[0]=n,e[1]=a);return e}},{key:"maxRow",value:function(t){if(xa(this,t),this.isEmpty())return NaN;for(var e=this.get(t,0),n=1;n<this.columns;n++)this.get(t,n)>e&&(e=this.get(t,n));return e}},{key:"maxRowIndex",value:function(t){xa(this,t),qo(this);for(var e=this.get(t,0),n=[t,0],a=1;a<this.columns;a++)this.get(t,a)>e&&(e=this.get(t,a),n[1]=a);return n}},{key:"minRow",value:function(t){if(xa(this,t),this.isEmpty())return NaN;for(var e=this.get(t,0),n=1;n<this.columns;n++)this.get(t,n)<e&&(e=this.get(t,n));return e}},{key:"minRowIndex",value:function(t){xa(this,t),qo(this);for(var e=this.get(t,0),n=[t,0],a=1;a<this.columns;a++)this.get(t,a)<e&&(e=this.get(t,a),n[1]=a);return n}},{key:"maxColumn",value:function(t){if(ba(this,t),this.isEmpty())return NaN;for(var e=this.get(0,t),n=1;n<this.rows;n++)this.get(n,t)>e&&(e=this.get(n,t));return e}},{key:"maxColumnIndex",value:function(t){ba(this,t),qo(this);for(var e=this.get(0,t),n=[0,t],a=1;a<this.rows;a++)this.get(a,t)>e&&(e=this.get(a,t),n[0]=a);return n}},{key:"minColumn",value:function(t){if(ba(this,t),this.isEmpty())return NaN;for(var e=this.get(0,t),n=1;n<this.rows;n++)this.get(n,t)<e&&(e=this.get(n,t));return e}},{key:"minColumnIndex",value:function(t){ba(this,t),qo(this);for(var e=this.get(0,t),n=[0,t],a=1;a<this.rows;a++)this.get(a,t)<e&&(e=this.get(a,t),n[0]=a);return n}},{key:"diag",value:function(){for(var t=Math.min(this.rows,this.columns),e=[],n=0;n<t;n++)e.push(this.get(n,n));return e}},{key:"norm",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"frobenius",e=0;if(t==="max")return this.max();if(t==="frobenius"){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)e=e+this.get(n,a)*this.get(n,a);return Math.sqrt(e)}else throw new RangeError("unknown norm type: ".concat(t))}},{key:"cumulativeSum",value:function(){for(var t=0,e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t+=this.get(e,n),this.set(e,n,t);return this}},{key:"dot",value:function(t){i.isMatrix(t)&&(t=t.to1DArray());var e=this.to1DArray();if(e.length!==t.length)throw new RangeError("vectors do not have the same size");for(var n=0,a=0;a<e.length;a++)n+=e[a]*t[a];return n}},{key:"mmul",value:function(t){t=Yr.checkMatrix(t);for(var e=this.rows,n=this.columns,a=t.columns,o=new Yr(e,a),s=new Float64Array(n),l=0;l<a;l++){for(var f=0;f<n;f++)s[f]=t.get(f,l);for(var h=0;h<e;h++){for(var c=0,v=0;v<n;v++)c+=this.get(h,v)*s[v];o.set(h,l,c)}}return o}},{key:"strassen2x2",value:function(t){t=Yr.checkMatrix(t);var e=new Yr(2,2),n=this.get(0,0),a=t.get(0,0),o=this.get(0,1),s=t.get(0,1),l=this.get(1,0),f=t.get(1,0),h=this.get(1,1),c=t.get(1,1),v=(n+h)*(a+c),x=(l+h)*a,A=n*(s-c),B=h*(f-a),G=(n+o)*c,H=(l-n)*(a+s),X=(o-h)*(f+c),ut=v+B-G+X,ft=A+G,xt=x+B,Yt=v-x+A+H;return e.set(0,0,ut),e.set(0,1,ft),e.set(1,0,xt),e.set(1,1,Yt),e}},{key:"strassen3x3",value:function(t){t=Yr.checkMatrix(t);var e=new Yr(3,3),n=this.get(0,0),a=this.get(0,1),o=this.get(0,2),s=this.get(1,0),l=this.get(1,1),f=this.get(1,2),h=this.get(2,0),c=this.get(2,1),v=this.get(2,2),x=t.get(0,0),A=t.get(0,1),B=t.get(0,2),G=t.get(1,0),H=t.get(1,1),X=t.get(1,2),ut=t.get(2,0),ft=t.get(2,1),xt=t.get(2,2),Yt=(n+a+o-s-l-c-v)*H,Kt=(n-s)*(-A+H),te=l*(-x+A+G-H-X-ut+xt),Wt=(-n+s+l)*(x-A+H),ae=(s+l)*(-x+A),ce=n*x,he=(-n+h+c)*(x-B+X),Pe=(-n+h)*(B-X),Be=(h+c)*(-x+B),ke=(n+a+o-l-f-h-c)*X,We=c*(-x+B+G-H-X-ut+ft),Ke=(-o+c+v)*(H+ut-ft),$e=(o-v)*(H-ft),Ve=o*ut,He=(c+v)*(-ut+ft),lr=(-o+l+f)*(X+ut-xt),sr=(o-f)*(X-xt),dr=(l+f)*(-ut+xt),Qe=a*G,hr=f*ft,Sr=s*B,vr=h*A,cr=v*xt,Mr=ce+Ve+Qe,Gr=Yt+Wt+ae+ce+Ke+Ve+He,gr=ce+he+Be+ke+Ve+lr+dr,Re=Kt+te+Wt+ce+Ve+lr+sr,Je=Kt+Wt+ae+ce+hr,Er=Ve+lr+sr+dr+Sr,Br=ce+he+Pe+We+Ke+$e+Ve,br=Ke+$e+Ve+He+vr,zr=ce+he+Pe+Be+cr;return e.set(0,0,Mr),e.set(0,1,Gr),e.set(0,2,gr),e.set(1,0,Re),e.set(1,1,Je),e.set(1,2,Er),e.set(2,0,Br),e.set(2,1,br),e.set(2,2,zr),e}},{key:"mmulStrassen",value:function(t){t=Yr.checkMatrix(t);var e=this.clone(),n=e.rows,a=e.columns,o=t.rows,s=t.columns;a!==o&&console.warn("Multiplying ".concat(n," x ").concat(a," and ").concat(o," x ").concat(s," matrix: dimensions do not match."));function l(v,x,A){var B=v.rows,G=v.columns;if(B===x&&G===A)return v;var H=i.zeros(x,A);return H=H.setSubMatrix(v,0,0),H}var f=Math.max(n,o),h=Math.max(a,s);e=l(e,f,h),t=l(t,f,h);function c(v,x,A,B){if(A<=512||B<=512)return v.mmul(x);A%2==1&&B%2==1?(v=l(v,A+1,B+1),x=l(x,A+1,B+1)):A%2==1?(v=l(v,A+1,B),x=l(x,A+1,B)):B%2==1&&(v=l(v,A,B+1),x=l(x,A,B+1));var G=parseInt(v.rows/2,10),H=parseInt(v.columns/2,10),X=v.subMatrix(0,G-1,0,H-1),ut=x.subMatrix(0,G-1,0,H-1),ft=v.subMatrix(0,G-1,H,v.columns-1),xt=x.subMatrix(0,G-1,H,x.columns-1),Yt=v.subMatrix(G,v.rows-1,0,H-1),Kt=x.subMatrix(G,x.rows-1,0,H-1),te=v.subMatrix(G,v.rows-1,H,v.columns-1),Wt=x.subMatrix(G,x.rows-1,H,x.columns-1),ae=c(i.add(X,te),i.add(ut,Wt),G,H),ce=c(i.add(Yt,te),ut,G,H),he=c(X,i.sub(xt,Wt),G,H),Pe=c(te,i.sub(Kt,ut),G,H),Be=c(i.add(X,ft),Wt,G,H),ke=c(i.sub(Yt,X),i.add(ut,xt),G,H),We=c(i.sub(ft,te),i.add(Kt,Wt),G,H),Ke=i.add(ae,Pe);Ke.sub(Be),Ke.add(We);var $e=i.add(he,Be),Ve=i.add(ce,Pe),He=i.sub(ae,ce);He.add(he),He.add(ke);var lr=i.zeros(2*Ke.rows,2*Ke.columns);return lr=lr.setSubMatrix(Ke,0,0),lr=lr.setSubMatrix($e,Ke.rows,0),lr=lr.setSubMatrix(Ve,0,Ke.columns),lr=lr.setSubMatrix(He,Ke.rows,Ke.columns),lr.subMatrix(0,A-1,0,B-1)}return c(e,t,f,h)}},{key:"scaleRows",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof t!="object")throw new TypeError("options must be an object");var e=t.min,n=e===void 0?0:e,a=t.max,o=a===void 0?1:a;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(o))throw new TypeError("max must be a number");if(n>=o)throw new RangeError("min must be smaller than max");for(var s=new Yr(this.rows,this.columns),l=0;l<this.rows;l++){var f=this.getRow(l);f.length>0&&Fx(f,{min:n,max:o,output:f}),s.setRow(l,f)}return s}},{key:"scaleColumns",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof t!="object")throw new TypeError("options must be an object");var e=t.min,n=e===void 0?0:e,a=t.max,o=a===void 0?1:a;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(o))throw new TypeError("max must be a number");if(n>=o)throw new RangeError("min must be smaller than max");for(var s=new Yr(this.rows,this.columns),l=0;l<this.columns;l++){var f=this.getColumn(l);f.length&&Fx(f,{min:n,max:o,output:f}),s.setColumn(l,f)}return s}},{key:"flipRows",value:function(){for(var t=Math.ceil(this.columns/2),e=0;e<this.rows;e++)for(var n=0;n<t;n++){var a=this.get(e,n),o=this.get(e,this.columns-1-n);this.set(e,n,o),this.set(e,this.columns-1-n,a)}return this}},{key:"flipColumns",value:function(){for(var t=Math.ceil(this.rows/2),e=0;e<this.columns;e++)for(var n=0;n<t;n++){var a=this.get(n,e),o=this.get(this.rows-1-n,e);this.set(n,e,o),this.set(this.rows-1-n,e,a)}return this}},{key:"kroneckerProduct",value:function(t){t=Yr.checkMatrix(t);for(var e=this.rows,n=this.columns,a=t.rows,o=t.columns,s=new Yr(e*a,n*o),l=0;l<e;l++)for(var f=0;f<n;f++)for(var h=0;h<a;h++)for(var c=0;c<o;c++)s.set(a*l+h,o*f+c,this.get(l,f)*t.get(h,c));return s}},{key:"kroneckerSum",value:function(t){if(t=Yr.checkMatrix(t),!this.isSquare()||!t.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");var e=this.rows,n=t.rows,a=this.kroneckerProduct(Yr.eye(n,n)),o=Yr.eye(e,e).kroneckerProduct(t);return a.add(o)}},{key:"transpose",value:function(){for(var t=new Yr(this.columns,this.rows),e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.set(n,e,this.get(e,n));return t}},{key:"sortRows",value:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:zx,e=0;e<this.rows;e++)this.setRow(e,this.getRow(e).sort(t));return this}},{key:"sortColumns",value:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:zx,e=0;e<this.columns;e++)this.setColumn(e,this.getColumn(e).sort(t));return this}},{key:"subMatrix",value:function(t,e,n,a){Yx(this,t,e,n,a);for(var o=new Yr(e-t+1,a-n+1),s=t;s<=e;s++)for(var l=n;l<=a;l++)o.set(s-t,l-n,this.get(s,l));return o}},{key:"subMatrixRow",value:function(t,e,n){if(e===void 0&&(e=0),n===void 0&&(n=this.columns-1),e>n||e<0||e>=this.columns||n<0||n>=this.columns)throw new RangeError("Argument out of range");for(var a=new Yr(t.length,n-e+1),o=0;o<t.length;o++)for(var s=e;s<=n;s++){if(t[o]<0||t[o]>=this.rows)throw new RangeError("Row index out of range: ".concat(t[o]));a.set(o,s-e,this.get(t[o],s))}return a}},{key:"subMatrixColumn",value:function(t,e,n){if(e===void 0&&(e=0),n===void 0&&(n=this.rows-1),e>n||e<0||e>=this.rows||n<0||n>=this.rows)throw new RangeError("Argument out of range");for(var a=new Yr(n-e+1,t.length),o=0;o<t.length;o++)for(var s=e;s<=n;s++){if(t[o]<0||t[o]>=this.columns)throw new RangeError("Column index out of range: ".concat(t[o]));a.set(s-e,o,this.get(s,t[o]))}return a}},{key:"setSubMatrix",value:function(t,e,n){if(t=Yr.checkMatrix(t),t.isEmpty())return this;var a=e+t.rows-1,o=n+t.columns-1;Yx(this,e,a,n,o);for(var s=0;s<t.rows;s++)for(var l=0;l<t.columns;l++)this.set(e+s,n+l,t.get(s,l));return this}},{key:"selection",value:function(t,e){FN(this,t),RN(this,e);for(var n=new Yr(t.length,e.length),a=0;a<t.length;a++)for(var o=t[a],s=0;s<e.length;s++){var l=e[s];n.set(a,s,this.get(o,l))}return n}},{key:"trace",value:function(){for(var t=Math.min(this.rows,this.columns),e=0,n=0;n<t;n++)e+=this.get(n,n);return e}},{key:"clone",value:function(){for(var t=new Yr(this.rows,this.columns),e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.set(e,n,this.get(e,n));return t}},{key:"sum",value:function(t){switch(t){case"row":return NN(this);case"column":return GN(this);case void 0:return YN(this);default:throw new Error("invalid option: ".concat(t))}}},{key:"product",value:function(t){switch(t){case"row":return zN(this);case"column":return XN(this);case void 0:return VN(this);default:throw new Error("invalid option: ".concat(t))}}},{key:"mean",value:function(t){var e=this.sum(t);switch(t){case"row":{for(var n=0;n<this.rows;n++)e[n]/=this.columns;return e}case"column":{for(var a=0;a<this.columns;a++)e[a]/=this.rows;return e}case void 0:return e/this.size;default:throw new Error("invalid option: ".concat(t))}}},{key:"variance",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof t=="object"&&(e=t,t=void 0),typeof e!="object")throw new TypeError("options must be an object");var n=e,a=n.unbiased,o=a===void 0?!0:a,s=n.mean,l=s===void 0?this.mean(t):s;if(typeof o!="boolean")throw new TypeError("unbiased must be a boolean");switch(t){case"row":{if(!ea(l))throw new TypeError("mean must be an array");return HN(this,o,l)}case"column":{if(!ea(l))throw new TypeError("mean must be an array");return WN(this,o,l)}case void 0:{if(typeof l!="number")throw new TypeError("mean must be a number");return jN(this,o,l)}default:throw new Error("invalid option: ".concat(t))}}},{key:"standardDeviation",value:function(t,e){typeof t=="object"&&(e=t,t=void 0);var n=this.variance(t,e);if(t===void 0)return Math.sqrt(n);for(var a=0;a<n.length;a++)n[a]=Math.sqrt(n[a]);return n}},{key:"center",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof t=="object"&&(e=t,t=void 0),typeof e!="object")throw new TypeError("options must be an object");var n=e,a=n.center,o=a===void 0?this.mean(t):a;switch(t){case"row":{if(!ea(o))throw new TypeError("center must be an array");return UN(this,o),this}case"column":{if(!ea(o))throw new TypeError("center must be an array");return ZN(this,o),this}case void 0:{if(typeof o!="number")throw new TypeError("center must be a number");return KN(this,o),this}default:throw new Error("invalid option: ".concat(t))}}},{key:"scale",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof t=="object"&&(e=t,t=void 0),typeof e!="object")throw new TypeError("options must be an object");var n=e.scale;switch(t){case"row":{if(n===void 0)n=$N(this);else if(!ea(n))throw new TypeError("scale must be an array");return QN(this,n),this}case"column":{if(n===void 0)n=JN(this);else if(!ea(n))throw new TypeError("scale must be an array");return qN(this,n),this}case void 0:{if(n===void 0)n=t4(this);else if(typeof n!="number")throw new TypeError("scale must be a number");return e4(this,n),this}default:throw new Error("invalid option: ".concat(t))}}},{key:"toString",value:function(t){return Nx(this,t)}}],[{key:"from1DArray",value:function(t,e,n){var a=t*e;if(a!==n.length)throw new RangeError("data length does not match given dimensions");for(var o=new Yr(t,e),s=0;s<t;s++)for(var l=0;l<e;l++)o.set(s,l,n[s*e+l]);return o}},{key:"rowVector",value:function(t){for(var e=new Yr(1,t.length),n=0;n<t.length;n++)e.set(0,n,t[n]);return e}},{key:"columnVector",value:function(t){for(var e=new Yr(t.length,1),n=0;n<t.length;n++)e.set(n,0,t[n]);return e}},{key:"zeros",value:function(t,e){return new Yr(t,e)}},{key:"ones",value:function(t,e){return new Yr(t,e).fill(1)}},{key:"rand",value:function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof n!="object")throw new TypeError("options must be an object");for(var a=n.random,o=a===void 0?Math.random:a,s=new Yr(t,e),l=0;l<t;l++)for(var f=0;f<e;f++)s.set(l,f,o());return s}},{key:"randInt",value:function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof n!="object")throw new TypeError("options must be an object");var a=n.min,o=a===void 0?0:a,s=n.max,l=s===void 0?1e3:s,f=n.random,h=f===void 0?Math.random:f;if(!Number.isInteger(o))throw new TypeError("min must be an integer");if(!Number.isInteger(l))throw new TypeError("max must be an integer");if(o>=l)throw new RangeError("min must be smaller than max");for(var c=l-o,v=new Yr(t,e),x=0;x<t;x++)for(var A=0;A<e;A++){var B=o+Math.round(h()*c);v.set(x,A,B)}return v}},{key:"eye",value:function(t,e,n){e===void 0&&(e=t),n===void 0&&(n=1);for(var a=Math.min(t,e),o=this.zeros(t,e),s=0;s<a;s++)o.set(s,s,n);return o}},{key:"diag",value:function(t,e,n){var a=t.length;e===void 0&&(e=a),n===void 0&&(n=e);for(var o=Math.min(a,e,n),s=this.zeros(e,n),l=0;l<o;l++)s.set(l,l,t[l]);return s}},{key:"min",value:function(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);for(var n=t.rows,a=t.columns,o=new Yr(n,a),s=0;s<n;s++)for(var l=0;l<a;l++)o.set(s,l,Math.min(t.get(s,l),e.get(s,l)));return o}},{key:"max",value:function(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);for(var n=t.rows,a=t.columns,o=new this(n,a),s=0;s<n;s++)for(var l=0;l<a;l++)o.set(s,l,Math.max(t.get(s,l),e.get(s,l)));return o}},{key:"checkMatrix",value:function(t){return i.isMatrix(t)?t:new Yr(t)}},{key:"isMatrix",value:function(t){return t!=null&&t.klass==="Matrix"}}]),i}();li.prototype.klass="Matrix",typeof Symbol!="undefined"&&(li.prototype[Symbol.for("nodejs.util.inspect.custom")]=IN);function zx(i,r){return i-r}function r4(i){return i.every(function(r){return typeof r=="number"})}li.random=li.rand,li.randomInt=li.randInt,li.diagonal=li.diag,li.prototype.diagonal=li.prototype.diag,li.identity=li.eye,li.prototype.negate=li.prototype.neg,li.prototype.tensorProduct=li.prototype.kroneckerProduct;var Yr=function(i){(0,Bx.Z)(t,i);var r=(0,Dx.Z)(t);function t(e,n){var a;if((0,cu.Z)(this,t),a=r.call(this),t.isMatrix(e))return(0,PN.Z)(a,e.clone());if(Number.isInteger(e)&&e>=0)if(a.data=[],Number.isInteger(n)&&n>=0)for(var o=0;o<e;o++)a.data.push(new Float64Array(n));else throw new TypeError("nColumns must be a positive integer");else if(ea(e)){var s=e;if(e=s.length,n=e?s[0].length:0,typeof n!="number")throw new TypeError("Data must be a 2D array with at least one element");a.data=[];for(var l=0;l<e;l++){if(s[l].length!==n)throw new RangeError("Inconsistent array dimensions");if(!r4(s[l]))throw new TypeError("Input data contains non-numeric values");a.data.push(Float64Array.from(s[l]))}}else throw new TypeError("First argument must be a positive number or an array");return a.rows=e,a.columns=n,a}return(0,vu.Z)(t,[{key:"set",value:function(n,a,o){return this.data[n][a]=o,this}},{key:"get",value:function(n,a){return this.data[n][a]}},{key:"removeRow",value:function(n){return xa(this,n),this.data.splice(n,1),this.rows-=1,this}},{key:"addRow",value:function(n,a){return a===void 0&&(a=n,n=this.rows),xa(this,n,!0),a=Float64Array.from(Qo(this,a)),this.data.splice(n,0,a),this.rows+=1,this}},{key:"removeColumn",value:function(n){ba(this,n);for(var a=0;a<this.rows;a++){for(var o=new Float64Array(this.columns-1),s=0;s<n;s++)o[s]=this.data[a][s];for(var l=n+1;l<this.columns;l++)o[l-1]=this.data[a][l];this.data[a]=o}return this.columns-=1,this}},{key:"addColumn",value:function(n,a){typeof a=="undefined"&&(a=n,n=this.columns),ba(this,n,!0),a=Jo(this,a);for(var o=0;o<this.rows;o++){for(var s=new Float64Array(this.columns+1),l=0;l<n;l++)s[l]=this.data[o][l];for(s[l++]=a[o];l<this.columns+1;l++)s[l]=this.data[o][l-1];this.data[o]=s}return this.columns+=1,this}}]),t}(li);DN(li,Yr);var n4=function(i){(0,Bx.Z)(t,i);var r=(0,Dx.Z)(t);function t(e){var n;return(0,cu.Z)(this,t),n=r.call(this),n.data=e,n.rows=e.length,n.columns=e[0].length,n}return(0,vu.Z)(t,[{key:"set",value:function(n,a,o){return this.data[n][a]=o,this}},{key:"get",value:function(n,a){return this.data[n][a]}}]),t}(li);function ts(i,r){var t=0;return Math.abs(i)>Math.abs(r)?(t=r/i,Math.abs(i)*Math.sqrt(1+t*t)):r!==0?(t=i/r,Math.abs(r)*Math.sqrt(1+t*t)):0}var Xx=function(){function i(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if((0,cu.Z)(this,i),r=n4.checkMatrix(r),r.isEmpty())throw new Error("Matrix must be non-empty");var e=r.rows,n=r.columns,a=t.computeLeftSingularVectors,o=a===void 0?!0:a,s=t.computeRightSingularVectors,l=s===void 0?!0:s,f=t.autoTranspose,h=f===void 0?!1:f,c=Boolean(o),v=Boolean(l),x=!1,A;if(e<n)if(!h)A=r.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{A=r.transpose(),e=A.rows,n=A.columns,x=!0;var B=c;c=v,v=B}else A=r.clone();for(var G=Math.min(e,n),H=Math.min(e+1,n),X=new Float64Array(H),ut=new Yr(e,G),ft=new Yr(n,n),xt=new Float64Array(n),Yt=new Float64Array(e),Kt=new Float64Array(H),te=0;te<H;te++)Kt[te]=te;for(var Wt=Math.min(e-1,n),ae=Math.max(0,Math.min(n-2,e)),ce=Math.max(Wt,ae),he=0;he<ce;he++){if(he<Wt){X[he]=0;for(var Pe=he;Pe<e;Pe++)X[he]=ts(X[he],A.get(Pe,he));if(X[he]!==0){A.get(he,he)<0&&(X[he]=-X[he]);for(var Be=he;Be<e;Be++)A.set(Be,he,A.get(Be,he)/X[he]);A.set(he,he,A.get(he,he)+1)}X[he]=-X[he]}for(var ke=he+1;ke<n;ke++){if(he<Wt&&X[he]!==0){for(var We=0,Ke=he;Ke<e;Ke++)We+=A.get(Ke,he)*A.get(Ke,ke);We=-We/A.get(he,he);for(var $e=he;$e<e;$e++)A.set($e,ke,A.get($e,ke)+We*A.get($e,he))}xt[ke]=A.get(he,ke)}if(c&&he<Wt)for(var Ve=he;Ve<e;Ve++)ut.set(Ve,he,A.get(Ve,he));if(he<ae){xt[he]=0;for(var He=he+1;He<n;He++)xt[he]=ts(xt[he],xt[He]);if(xt[he]!==0){xt[he+1]<0&&(xt[he]=0-xt[he]);for(var lr=he+1;lr<n;lr++)xt[lr]/=xt[he];xt[he+1]+=1}if(xt[he]=-xt[he],he+1<e&&xt[he]!==0){for(var sr=he+1;sr<e;sr++)Yt[sr]=0;for(var dr=he+1;dr<e;dr++)for(var Qe=he+1;Qe<n;Qe++)Yt[dr]+=xt[Qe]*A.get(dr,Qe);for(var hr=he+1;hr<n;hr++)for(var Sr=-xt[hr]/xt[he+1],vr=he+1;vr<e;vr++)A.set(vr,hr,A.get(vr,hr)+Sr*Yt[vr])}if(v)for(var cr=he+1;cr<n;cr++)ft.set(cr,he,xt[cr])}}var Mr=Math.min(n,e+1);if(Wt<n&&(X[Wt]=A.get(Wt,Wt)),e<Mr&&(X[Mr-1]=0),ae+1<Mr&&(xt[ae]=A.get(ae,Mr-1)),xt[Mr-1]=0,c){for(var Gr=Wt;Gr<G;Gr++){for(var gr=0;gr<e;gr++)ut.set(gr,Gr,0);ut.set(Gr,Gr,1)}for(var Re=Wt-1;Re>=0;Re--)if(X[Re]!==0){for(var Je=Re+1;Je<G;Je++){for(var Er=0,Br=Re;Br<e;Br++)Er+=ut.get(Br,Re)*ut.get(Br,Je);Er=-Er/ut.get(Re,Re);for(var br=Re;br<e;br++)ut.set(br,Je,ut.get(br,Je)+Er*ut.get(br,Re))}for(var zr=Re;zr<e;zr++)ut.set(zr,Re,-ut.get(zr,Re));ut.set(Re,Re,1+ut.get(Re,Re));for(var Rr=0;Rr<Re-1;Rr++)ut.set(Rr,Re,0)}else{for(var Pr=0;Pr<e;Pr++)ut.set(Pr,Re,0);ut.set(Re,Re,1)}}if(v)for(var Xr=n-1;Xr>=0;Xr--){if(Xr<ae&&xt[Xr]!==0)for(var Jr=Xr+1;Jr<n;Jr++){for(var _n=0,cn=Xr+1;cn<n;cn++)_n+=ft.get(cn,Xr)*ft.get(cn,Jr);_n=-_n/ft.get(Xr+1,Xr);for(var kn=Xr+1;kn<n;kn++)ft.set(kn,Jr,ft.get(kn,Jr)+_n*ft.get(kn,Xr))}for(var Gn=0;Gn<n;Gn++)ft.set(Gn,Xr,0);ft.set(Xr,Xr,1)}for(var wi=Mr-1,Oi=0,Qn=Number.EPSILON;Mr>0;){var Cr=void 0,Bn=void 0;for(Cr=Mr-2;Cr>=-1&&Cr!==-1;Cr--){var ui=Number.MIN_VALUE+Qn*Math.abs(X[Cr]+Math.abs(X[Cr+1]));if(Math.abs(xt[Cr])<=ui||Number.isNaN(xt[Cr])){xt[Cr]=0;break}}if(Cr===Mr-2)Bn=4;else{var ti=void 0;for(ti=Mr-1;ti>=Cr&&ti!==Cr;ti--){var Ra=(ti!==Mr?Math.abs(xt[ti]):0)+(ti!==Cr+1?Math.abs(xt[ti-1]):0);if(Math.abs(X[ti])<=Qn*Ra){X[ti]=0;break}}ti===Cr?Bn=3:ti===Mr-1?Bn=1:(Bn=2,Cr=ti)}switch(Cr++,Bn){case 1:{var fi=xt[Mr-2];xt[Mr-2]=0;for(var dn=Mr-2;dn>=Cr;dn--){var ln=ts(X[dn],fi),An=X[dn]/ln,Ln=fi/ln;if(X[dn]=ln,dn!==Cr&&(fi=-Ln*xt[dn-1],xt[dn-1]=An*xt[dn-1]),v)for(var Li=0;Li<n;Li++)ln=An*ft.get(Li,dn)+Ln*ft.get(Li,Mr-1),ft.set(Li,Mr-1,-Ln*ft.get(Li,dn)+An*ft.get(Li,Mr-1)),ft.set(Li,dn,ln)}break}case 2:{var Po=xt[Cr-1];xt[Cr-1]=0;for(var wa=Cr;wa<Mr;wa++){var Ys=ts(X[wa],Po),oc=X[wa]/Ys,sc=Po/Ys;if(X[wa]=Ys,Po=-sc*xt[wa],xt[wa]=oc*xt[wa],c)for(var lo=0;lo<e;lo++)Ys=oc*ut.get(lo,wa)+sc*ut.get(lo,Cr-1),ut.set(lo,Cr-1,-sc*ut.get(lo,wa)+oc*ut.get(lo,Cr-1)),ut.set(lo,wa,Ys)}break}case 3:{var zs=Math.max(Math.abs(X[Mr-1]),Math.abs(X[Mr-2]),Math.abs(xt[Mr-2]),Math.abs(X[Cr]),Math.abs(xt[Cr])),rs=X[Mr-1]/zs,G1=X[Mr-2]/zs,Du=xt[Mr-2]/zs,lc=X[Cr]/zs,J9=xt[Cr]/zs,To=((G1+rs)*(G1-rs)+Du*Du)/2,Fu=rs*Du*(rs*Du),Xs=0;(To!==0||Fu!==0)&&(To<0?Xs=0-Math.sqrt(To*To+Fu):Xs=Math.sqrt(To*To+Fu),Xs=Fu/(To+Xs));for(var Oo=(lc+rs)*(lc-rs)+Xs,ns=lc*J9,pn=Cr;pn<Mr-1;pn++){var Wi=ts(Oo,ns);Wi===0&&(Wi=Number.MIN_VALUE);var Sa=Oo/Wi,Ca=ns/Wi;if(pn!==Cr&&(xt[pn-1]=Wi),Oo=Sa*X[pn]+Ca*xt[pn],xt[pn]=Sa*xt[pn]-Ca*X[pn],ns=Ca*X[pn+1],X[pn+1]=Sa*X[pn+1],v)for(var uo=0;uo<n;uo++)Wi=Sa*ft.get(uo,pn)+Ca*ft.get(uo,pn+1),ft.set(uo,pn+1,-Ca*ft.get(uo,pn)+Sa*ft.get(uo,pn+1)),ft.set(uo,pn,Wi);if(Wi=ts(Oo,ns),Wi===0&&(Wi=Number.MIN_VALUE),Sa=Oo/Wi,Ca=ns/Wi,X[pn]=Wi,Oo=Sa*xt[pn]+Ca*X[pn+1],X[pn+1]=-Ca*xt[pn]+Sa*X[pn+1],ns=Ca*xt[pn+1],xt[pn+1]=Sa*xt[pn+1],c&&pn<e-1)for(var fo=0;fo<e;fo++)Wi=Sa*ut.get(fo,pn)+Ca*ut.get(fo,pn+1),ut.set(fo,pn+1,-Ca*ut.get(fo,pn)+Sa*ut.get(fo,pn+1)),ut.set(fo,pn,Wi)}xt[Mr-2]=Oo,Oi=Oi+1;break}case 4:{if(X[Cr]<=0&&(X[Cr]=X[Cr]<0?-X[Cr]:0,v))for(var Ru=0;Ru<=wi;Ru++)ft.set(Ru,Cr,-ft.get(Ru,Cr));for(;Cr<wi&&!(X[Cr]>=X[Cr+1]);){var Vs=X[Cr];if(X[Cr]=X[Cr+1],X[Cr+1]=Vs,v&&Cr<n-1)for(var is=0;is<n;is++)Vs=ft.get(is,Cr+1),ft.set(is,Cr+1,ft.get(is,Cr)),ft.set(is,Cr,Vs);if(c&&Cr<e-1)for(var as=0;as<e;as++)Vs=ut.get(as,Cr+1),ut.set(as,Cr+1,ut.get(as,Cr)),ut.set(as,Cr,Vs);Cr++}Oi=0,Mr--;break}}}if(x){var q9=ft;ft=ut,ut=q9}this.m=e,this.n=n,this.s=X,this.U=ut,this.V=ft}return(0,vu.Z)(i,[{key:"solve",value:function(t){for(var e=t,n=this.threshold,a=this.s.length,o=Yr.zeros(a,a),s=0;s<a;s++)Math.abs(this.s[s])<=n?o.set(s,s,0):o.set(s,s,1/this.s[s]);for(var l=this.U,f=this.rightSingularVectors,h=f.mmul(o),c=f.rows,v=l.rows,x=Yr.zeros(c,v),A=0;A<c;A++)for(var B=0;B<v;B++){for(var G=0,H=0;H<a;H++)G+=h.get(A,H)*l.get(B,H);x.set(A,B,G)}return x.mmul(e)}},{key:"solveForDiagonal",value:function(t){return this.solve(Yr.diag(t))}},{key:"inverse",value:function(){for(var t=this.V,e=this.threshold,n=t.rows,a=t.columns,o=new Yr(n,this.s.length),s=0;s<n;s++)for(var l=0;l<a;l++)Math.abs(this.s[l])>e&&o.set(s,l,t.get(s,l)/this.s[l]);for(var f=this.U,h=f.rows,c=f.columns,v=new Yr(n,h),x=0;x<n;x++)for(var A=0;A<h;A++){for(var B=0,G=0;G<c;G++)B+=o.get(x,G)*f.get(A,G);v.set(x,A,B)}return v}},{key:"condition",get:function(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}},{key:"norm2",get:function(){return this.s[0]}},{key:"rank",get:function(){for(var t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,e=0,n=this.s,a=0,o=n.length;a<o;a++)n[a]>t&&e++;return e}},{key:"diagonal",get:function(){return Array.from(this.s)}},{key:"threshold",get:function(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}},{key:"leftSingularVectors",get:function(){return this.U}},{key:"rightSingularVectors",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){return Yr.diag(this.s)}}]),i}(),i4=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.linkDistance=50,t.scaledDistances=null,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],linkDistance:50}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.edges,a=n===void 0?[]:n,o=t.center;if(!(!e||e.length===0)){if(e.length===1){e[0].x=o[0],e[0].y=o[1];return}var s=t.linkDistance,l=Ph({nodes:e,edges:a},!1),f=Ah(l);t.handleInfinity(f);var h=Dm(f,s);t.scaledDistances=h;var c=t.runMDS();t.positions=c,c.forEach(function(v,x){e[x].x=v[0]+o[0],e[x].y=v[1]+o[1]})}},r.prototype.runMDS=function(){var t=this,e=2,n=t.scaledDistances,a=Yr.mul(Yr.pow(n,2),-.5),o=a.mean("row"),s=a.mean("column"),l=a.mean();a.add(l).subRowVector(o).subColumnVector(s);var f=new Xx(a),h=Yr.sqrt(f.diagonalMatrix).diagonal();return f.leftSingularVectors.toJSON().map(function(c){return Yr.mul([c],[h]).toJSON()[0].splice(0,e)})},r.prototype.handleInfinity=function(t){var e=-999999;t.forEach(function(n){n.forEach(function(a){a!==Infinity&&e<a&&(e=a)})}),t.forEach(function(n,a){n.forEach(function(o,s){o===Infinity&&(t[a][s]=e)})})},r}(ha),a4=i4,o4=function(){function i(r){this.distances=r.distances,this.dimension=r.dimension||2,this.linkDistance=r.linkDistance}return i.prototype.layout=function(){var r=this,t=r.dimension,e=r.distances,n=r.linkDistance;try{var a=Yr.mul(Yr.pow(e,2),-.5),o=a.mean("row"),s=a.mean("column"),l=a.mean();a.add(l).subRowVector(o).subColumnVector(s);var f=new Xx(a),h=Yr.sqrt(f.diagonalMatrix).diagonal();return f.leftSingularVectors.toJSON().map(function(B){return Yr.mul([B],[h]).toJSON()[0].splice(0,t)})}catch(B){for(var c=[],v=0;v<e.length;v++){var x=Math.random()*n,A=Math.random()*n;c.push([x,A])}return c}},i}(),s4=o4,l4=800,u4=function(){function i(r){this.disp=[],this.positions=r.positions,this.adjMatrix=r.adjMatrix,this.focusID=r.focusID,this.radii=r.radii,this.iterations=r.iterations||10,this.height=r.height||10,this.width=r.width||10,this.speed=r.speed||100,this.gravity=r.gravity||10,this.nodeSizeFunc=r.nodeSizeFunc,this.k=r.k||5,this.strictRadial=r.strictRadial,this.nodes=r.nodes}return i.prototype.layout=function(){var r=this,t=r.positions,e=[],n=r.iterations,a=r.width/10;r.maxDisplace=a,r.disp=e;for(var o=0;o<n;o++)t.forEach(function(s,l){e[l]={x:0,y:0}}),r.getRepulsion(),r.updatePositions();return t},i.prototype.getRepulsion=function(){var r=this,t=r.positions,e=r.nodes,n=r.disp,a=r.k,o=r.radii||[];t.forEach(function(s,l){n[l]={x:0,y:0},t.forEach(function(f,h){if(l!==h&&o[l]===o[h]){var c=s[0]-f[0],v=s[1]-f[1],x=Math.sqrt(c*c+v*v);if(x===0){x=1;var A=l>h?1:-1;c=.01*A,v=.01*A}if(x<r.nodeSizeFunc(e[l])/2+r.nodeSizeFunc(e[h])/2){var B=a*a/x;n[l].x+=c/x*B,n[l].y+=v/x*B}}})})},i.prototype.updatePositions=function(){var r=this,t=r.positions,e=r.disp,n=r.speed,a=r.strictRadial,o=r.focusID,s=r.maxDisplace||r.width/10;a&&e.forEach(function(f,h){var c=t[h][0]-t[o][0],v=t[h][1]-t[o][1],x=Math.sqrt(c*c+v*v),A=v/x,B=-c/x,G=Math.sqrt(f.x*f.x+f.y*f.y),H=Math.acos((A*f.x+B*f.y)/G);H>Math.PI/2&&(H-=Math.PI/2,A*=-1,B*=-1);var X=Math.cos(H)*G;f.x=A*X,f.y=B*X});var l=r.radii;t.forEach(function(f,h){if(h!==o){var c=Math.sqrt(e[h].x*e[h].x+e[h].y*e[h].y);if(c>0&&h!==o){var v=Math.min(s*(n/l4),c);if(f[0]+=e[h].x/c*v,f[1]+=e[h].y/c*v,a){var x=f[0]-t[o][0],A=f[1]-t[o][1],B=Math.sqrt(x*x+A*A);x=x/B*l[h],A=A/B*l[h],f[0]=t[o][0]+x,f[1]=t[o][1]+A}}}})},i}(),f4=u4;function h4(i){for(var r=i.length,t=i[0].length,e=[],n=0;n<r;n++){for(var a=[],o=0;o<t;o++)i[n][o]!==0?a.push(1/(i[n][o]*i[n][o])):a.push(0);e.push(a)}return e}function c4(i,r){var t=-1;return i.forEach(function(e,n){e.id===r&&(t=n)}),t}function Vx(i,r){return Math.sqrt((i[0]-r[0])*(i[0]-r[0])+(i[1]-r[1])*(i[1]-r[1]))}var v4=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=1e3,t.focusNode=null,t.unitRadius=null,t.linkDistance=50,t.preventOverlap=!1,t.strictRadial=!0,t.maxPreventOverlapIteration=200,t.sortStrength=10,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,strictRadial:!0,maxPreventOverlapIteration:200,sortBy:void 0,sortStrength:10}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.edges||[],a=t.center;if(!(!e||e.length===0)){if(e.length===1){e[0].x=a[0],e[0].y=a[1];return}var o=t.linkDistance,s=null;if((0,un.default)(t.focusNode)){for(var l=!1,f=0;f<e.length;f++)e[f].id===t.focusNode&&(s=e[f],t.focusNode=s,l=!0,f=e.length);l||(s=null)}else s=t.focusNode;s||(s=e[0],t.focusNode=s);var h=c4(e,s.id);t.focusIndex=h;var c=Ph({nodes:e,edges:n},!1),v=Ah(c),x=t.maxToFocus(v,h);t.handleInfinity(v,h,x+1),t.distances=v;var A=v[h];!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var B=t.width||500,G=t.height||500,H=B-a[0]>a[0]?a[0]:B-a[0],X=G-a[1]>a[1]?a[1]:G-a[1];H===0&&(H=B/2),X===0&&(X=G/2);var ut=X>H?H:X,ft=Math.max.apply(Math,A),xt=[];A.forEach(function($e,Ve){t.unitRadius||(t.unitRadius=ut/ft),xt[Ve]=$e*t.unitRadius}),t.radii=xt;var Yt=t.eIdealDisMatrix();t.eIdealDistances=Yt;var Kt=h4(Yt);t.weights=Kt;var te=new s4({distances:Yt,linkDistance:o}),Wt=te.layout();Wt.forEach(function($e){ja($e[0])&&($e[0]=Math.random()*o),ja($e[1])&&($e[1]=Math.random()*o)}),t.positions=Wt,Wt.forEach(function($e,Ve){e[Ve].x=$e[0]+a[0],e[Ve].y=$e[1]+a[1]}),Wt.forEach(function($e){$e[0]-=Wt[h][0],$e[1]-=Wt[h][1]}),t.run();var ae=t.preventOverlap,ce=t.nodeSize,he,Pe=t.strictRadial;if(ae){var Be=t.nodeSpacing,ke;(0,ya.default)(Be)?ke=function(){return Be}:(0,$s.default)(Be)?ke=Be:ke=function(){return 0},ce?(0,yi.default)(ce)?he=function(Ve){var He=ce[0]>ce[1]?ce[0]:ce[1];return He+ke(Ve)}:he=function(Ve){return ce+ke(Ve)}:he=function(Ve){if(Ve.size){if((0,yi.default)(Ve.size)){var He=Ve.size[0]>Ve.size[1]?Ve.size[0]:Ve.size[1];return He+ke(Ve)}return Ve.size+ke(Ve)}return 10+ke(Ve)};var We={nodeSizeFunc:he,adjMatrix:c,positions:Wt,radii:xt,height:G,width:B,strictRadial:Pe,focusID:h,iterations:t.maxPreventOverlapIteration||200,k:Wt.length/4.5,nodes:e},Ke=new f4(We);Wt=Ke.layout()}Wt.forEach(function($e,Ve){e[Ve].x=$e[0]+a[0],e[Ve].y=$e[1]+a[1]})}},r.prototype.run=function(){for(var t=this,e=t.maxIteration,n=t.positions||[],a=t.weights||[],o=t.eIdealDistances||[],s=t.radii||[],l=0;l<=e;l++){var f=l/e;t.oneIteration(f,n,s,o,a)}},r.prototype.oneIteration=function(t,e,n,a,o){var s=this,l=1-t,f=s.focusIndex;e.forEach(function(h,c){var v=Vx(h,[0,0]),x=v===0?0:1/v;if(c!==f){var A=0,B=0,G=0;e.forEach(function(X,ut){if(c!==ut){var ft=Vx(h,X),xt=ft===0?0:1/ft,Yt=a[ut][c];G+=o[c][ut],A+=o[c][ut]*(X[0]+Yt*(h[0]-X[0])*xt),B+=o[c][ut]*(X[1]+Yt*(h[1]-X[1])*xt)}});var H=n[c]===0?0:1/n[c];G*=l,G+=t*H*H,A*=l,A+=t*H*h[0]*x,h[0]=A/G,B*=l,B+=t*H*h[1]*x,h[1]=B/G}})},r.prototype.eIdealDisMatrix=function(){var t=this,e=t.nodes;if(!e)return[];var n=t.distances,a=t.linkDistance,o=t.radii||[],s=t.unitRadius||50,l=[];return n&&n.forEach(function(f,h){var c=[];f.forEach(function(v,x){if(h===x)c.push(0);else if(o[h]===o[x])if(t.sortBy==="data")c.push(v*(Math.abs(h-x)*t.sortStrength)/(o[h]/s));else if(t.sortBy){var A=e[h][t.sortBy]||0,B=e[x][t.sortBy]||0;(0,un.default)(A)&&(A=A.charCodeAt(0)),(0,un.default)(B)&&(B=B.charCodeAt(0)),c.push(v*(Math.abs(A-B)*t.sortStrength)/(o[h]/s))}else c.push(v*a/(o[h]/s));else{var G=(a+s)/2;c.push(v*G)}}),l.push(c)}),l},r.prototype.handleInfinity=function(t,e,n){for(var a=t.length,o=0;o<a;o++)if(t[e][o]===Infinity){t[e][o]=n,t[o][e]=n;for(var s=0;s<a;s++)t[o][s]!==Infinity&&t[e][s]===Infinity&&(t[e][s]=n+t[o][s],t[s][e]=n+t[o][s])}for(var o=0;o<a;o++)if(o!==e){for(var s=0;s<a;s++)if(t[o][s]===Infinity){var l=Math.abs(t[e][o]-t[e][s]);l=l===0?1:l,t[o][s]=l}}},r.prototype.maxToFocus=function(t,e){for(var n=0,a=0;a<t[e].length;a++)t[e][a]!==Infinity&&(n=t[e][a]>n?t[e][a]:n);return n},r}(ha),d4=v4,p4=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.width=300,t.height=300,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],width:300,height:300}},r.prototype.execute=function(){var t=this,e=t.nodes,n=.9,a=t.center;!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight),e&&e.forEach(function(o){o.x=(Math.random()-.5)*n*t.width+a[0],o.y=(Math.random()-.5)*n*t.height+a[1]})},r}(ha),g4=p4,y4=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=100,t.gravity=10,t.comboGravity=10,t.linkDistance=10,t.alpha=1,t.alphaMin=.001,t.alphaDecay=1-Math.pow(t.alphaMin,1/300),t.alphaTarget=0,t.velocityDecay=.6,t.edgeStrength=.2,t.nodeStrength=30,t.preventOverlap=!1,t.preventNodeOverlap=!1,t.preventComboOverlap=!1,t.collideStrength=void 0,t.nodeCollideStrength=void 0,t.comboCollideStrength=void 0,t.optimizeRangeFactor=1,t.onTick=function(){},t.onLayoutEnd=function(){},t.depthAttractiveForceScale=.5,t.depthRepulsiveForceScale=2,t.nodes=[],t.edges=[],t.combos=[],t.comboTrees=[],t.width=300,t.height=300,t.bias=[],t.nodeMap={},t.oriComboMap={},t.nodeIdxMap={},t.comboMap={},t.previousLayouted=!1,t}return r.prototype.getDefaultCfg=function(){return{maxIteration:100,center:[0,0],gravity:10,speed:1,comboGravity:30,preventOverlap:!1,preventComboOverlap:!0,preventNodeOverlap:!0,nodeSpacing:void 0,collideStrength:void 0,nodeCollideStrength:.5,comboCollideStrength:.5,comboSpacing:20,comboPadding:10,edgeStrength:.2,nodeStrength:30,linkDistance:10}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.center;if(t.comboTree={id:"comboTreeRoot",depth:-1,children:t.comboTrees},!(!e||e.length===0)){if(e.length===1){e[0].x=n[0],e[0].y=n[1];return}t.initVals(),t.run(),t.onLayoutEnd()}},r.prototype.run=function(){var t=this,e=t.nodes,n=t.previousLayouted?t.maxIteration/5:t.maxIteration;!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var a=t.center,o=t.velocityDecay,s=t.comboMap;t.previousLayouted||t.initPos(s);for(var l=function(x){var A=[];e.forEach(function(B,G){A[G]={x:0,y:0}}),t.applyCalculate(A),t.applyComboCenterForce(A),e.forEach(function(B,G){!(0,u.isNumber)(B.x)||!(0,u.isNumber)(B.y)||(B.x+=A[G].x*o,B.y+=A[G].y*o)}),t.alpha+=(t.alphaTarget-t.alpha)*t.alphaDecay,t.onTick()},f=0;f<n;f++)l(f);var h=[0,0];e.forEach(function(v){!(0,u.isNumber)(v.x)||!(0,u.isNumber)(v.y)||(h[0]+=v.x,h[1]+=v.y)}),h[0]/=e.length,h[1]/=e.length;var c=[a[0]-h[0],a[1]-h[1]];e.forEach(function(v,x){!(0,u.isNumber)(v.x)||!(0,u.isNumber)(v.y)||(v.x+=c[0],v.y+=c[1])}),t.combos.forEach(function(v){var x=s[v.id];x&&x.empty&&(v.x=x.cx||v.x,v.y=x.cy||v.y)}),t.previousLayouted=!0},r.prototype.initVals=function(){var t=this,e=t.edges,n=t.nodes,a=t.combos,o={},s={},l={};n.forEach(function(ke,We){s[ke.id]=ke,l[ke.id]=We}),t.nodeMap=s,t.nodeIdxMap=l;var f={};a.forEach(function(ke){f[ke.id]=ke}),t.oriComboMap=f,t.comboMap=t.getComboMap();var h=t.preventOverlap;t.preventComboOverlap=t.preventComboOverlap||h,t.preventNodeOverlap=t.preventNodeOverlap||h;var c=t.collideStrength;c&&(t.comboCollideStrength=c,t.nodeCollideStrength=c);for(var v=0;v<e.length;++v)o[e[v].source]?o[e[v].source]++:o[e[v].source]=1,o[e[v].target]?o[e[v].target]++:o[e[v].target]=1;for(var x=[],v=0;v<e.length;++v)x[v]=o[e[v].source]/(o[e[v].source]+o[e[v].target]);this.bias=x;var A=t.nodeSize,B=t.nodeSpacing,G,H;if((0,u.isNumber)(B)?H=function(){return B}:(0,u.isFunction)(B)?H=B:H=function(){return 0},this.nodeSpacing=H,!A)G=function(We){if(We.size){if((0,u.isArray)(We.size)){var Ke=We.size[0]>We.size[1]?We.size[0]:We.size[1];return Ke/2}return We.size/2}return 10};else if((0,u.isFunction)(A))G=function(We){return A(We)};else if((0,u.isArray)(A)){var X=A[0]>A[1]?A[0]:A[1],ut=X/2;G=function(We){return ut}}else{var ft=A/2;G=function(We){return ft}}this.nodeSize=G;var xt=t.comboSpacing,Yt;(0,u.isNumber)(xt)?Yt=function(){return xt}:(0,u.isFunction)(xt)?Yt=xt:Yt=function(){return 0},this.comboSpacing=Yt;var Kt=t.comboPadding,te;(0,u.isNumber)(Kt)?te=function(){return Kt}:(0,u.isArray)(Kt)?te=function(){return Math.max.apply(null,Kt)}:(0,u.isFunction)(Kt)?te=Kt:te=function(){return 0},this.comboPadding=te;var Wt=this.linkDistance,ae;Wt||(Wt=10),(0,u.isNumber)(Wt)?ae=function(We){return Wt}:ae=Wt,this.linkDistance=ae;var ce=this.edgeStrength,he;ce||(ce=1),(0,u.isNumber)(ce)?he=function(We){return ce}:he=ce,this.edgeStrength=he;var Pe=this.nodeStrength,Be;Pe||(Pe=30),(0,u.isNumber)(Pe)?Be=function(We){return Pe}:Be=Pe,this.nodeStrength=Be},r.prototype.initPos=function(t){var e=this,n=e.nodes;n.forEach(function(a,o){if(a.comboId){var s=t[a.comboId];a.x=s.cx+100/(o+1),a.y=s.cy+100/(o+1)}else a.x=100/(o+1),a.y=100/(o+1)})},r.prototype.getComboMap=function(){var t=this,e=t.nodeMap,n=t.nodeIdxMap,a=t.comboTrees,o=t.oriComboMap,s={};return(a||[]).forEach(function(l){var f=[];fa(l,function(h){if(h.itemType==="node"||!o[h.id])return!0;if(s[h.id]===void 0){var c={name:h.id,cx:0,cy:0,count:0,depth:t.oriComboMap[h.id].depth,children:[]};s[h.id]=c}var v=h.children;v&&v.forEach(function(X){if(!s[X.id]&&!e[X.id])return!0;f.push(X)});var x=s[h.id];if(x.cx=0,x.cy=0,f.length===0){x.empty=!0;var A=o[h.id],B=Object.keys(e).length,G=h.id+"-visual-child-"+B,H={id:G,x:A.x,y:A.y,depth:x.depth+1,itemType:"node"};t.nodes.push(H),e[G]=H,n[G]=B,x.cx=A.x,x.cy=A.y,f.push(H)}return f.forEach(function(X){if(x.count++,X.itemType!=="node"){var ut=s[X.id];(0,u.isNumber)(ut.cx)&&(x.cx+=ut.cx),(0,u.isNumber)(ut.cy)&&(x.cy+=ut.cy);return}var ft=e[X.id];!ft||((0,u.isNumber)(ft.x)&&(x.cx+=ft.x),(0,u.isNumber)(ft.y)&&(x.cy+=ft.y))}),x.cx/=x.count,x.cy/=x.count,x.children=f,!0})}),s},r.prototype.applyComboCenterForce=function(t){var e=this,n=e.gravity,a=e.comboGravity||n,o=this.alpha,s=e.comboTrees,l=e.nodeIdxMap,f=e.nodeMap,h=e.comboMap;(s||[]).forEach(function(c){fa(c,function(v){if(v.itemType==="node")return!0;var x=h[v.id];if(!x)return!0;var A=h[v.id],B=(A.depth+1)*.5,G=A.cx,H=A.cy;return A.cx=0,A.cy=0,A.children.forEach(function(X){if(X.itemType!=="node"){var ut=h[X.id];ut&&(0,u.isNumber)(ut.cx)&&(A.cx+=ut.cx),ut&&(0,u.isNumber)(ut.cy)&&(A.cy+=ut.cy);return}var ft=f[X.id],xt=ft.x-G||.005,Yt=ft.y-H||.005,Kt=Math.sqrt(xt*xt+Yt*Yt),te=l[ft.id],Wt=a*o/Kt*B;t[te].x-=xt*Wt,t[te].y-=Yt*Wt,(0,u.isNumber)(ft.x)&&(A.cx+=ft.x),(0,u.isNumber)(ft.y)&&(A.cy+=ft.y)}),A.cx/=A.count,A.cy/=A.count,!0})})},r.prototype.applyCalculate=function(t){var e=this,n=e.comboMap,a=e.nodes,o={};a.forEach(function(l,f){a.forEach(function(h,c){if(!(f<c)){var v=l.x-h.x||.005,x=l.y-h.y||.005,A=v*v+x*x,B=Math.sqrt(A);A<1&&(A=B),o[l.id+"-"+h.id]={vx:v,vy:x,vl2:A,vl:B},o[h.id+"-"+l.id]={vx:-v,vy:-x,vl2:A,vl:B}}})}),e.updateComboSizes(n),e.calRepulsive(t,o),e.calAttractive(t,o);var s=e.preventComboOverlap;s&&e.comboNonOverlapping(t,n)},r.prototype.updateComboSizes=function(t){var e=this,n=e.comboTrees,a=e.nodeMap,o=e.nodeSize,s=e.comboSpacing,l=e.comboPadding;(n||[]).forEach(function(f){var h=[];fa(f,function(c){if(c.itemType==="node")return!0;var v=t[c.id];if(!!v){var x=c.children;x&&x.forEach(function(G){!t[G.id]&&!a[G.id]||h.push(G)}),v.minX=Infinity,v.minY=Infinity,v.maxX=-Infinity,v.maxY=-Infinity,h.forEach(function(G){if(G.itemType!=="node")return!0;var H=a[G.id];if(!H)return!0;var X=o(H),ut=H.x-X,ft=H.y-X,xt=H.x+X,Yt=H.y+X;v.minX>ut&&(v.minX=ut),v.minY>ft&&(v.minY=ft),v.maxX<xt&&(v.maxX=xt),v.maxY<Yt&&(v.maxY=Yt)});var A=e.oriComboMap[c.id].size||Xe.defaultCombo.size;(0,u.isArray)(A)&&(A=A[0]);var B=Math.max(v.maxX-v.minX,v.maxY-v.minY,A);return v.r=B/2+s(v)/2+l(v),!0}})})},r.prototype.comboNonOverlapping=function(t,e){var n=this,a=n.comboTree,o=n.comboCollideStrength,s=n.nodeIdxMap,l=n.nodeMap;fa(a,function(f){if(!(!e[f.id]&&!l[f.id]&&f.id!=="comboTreeRoot")){var h=f.children;return h&&h.length>1&&h.forEach(function(c,v){if(c.itemType!=="node"){var x=e[c.id];!x||h.forEach(function(A,B){if(!(v<=B)&&A.itemType!=="node"){var G=e[A.id];if(!!G){var H=x.cx-G.cx||.005,X=x.cy-G.cy||.005,ut=H*H+X*X,ft=x.r,xt=G.r,Yt=ft+xt,Kt=xt*xt,te=ft*ft;if(ut<Yt*Yt){var Wt=c.children;if(!Wt||Wt.length===0)return;var ae=A.children;if(!ae||ae.length===0)return;var ce=Math.sqrt(ut),he=(Yt-ce)/ce*o,Pe=H*he,Be=X*he,ke=Kt/(te+Kt),We=1-ke;Wt.forEach(function(Ke){if(Ke.itemType==="node"&&!!l[Ke.id]){var $e=s[Ke.id];ae.forEach(function(Ve){if(Ve.itemType==="node"&&!!l[Ve.id]){var He=s[Ve.id];t[$e].x+=Pe*ke,t[$e].y+=Be*ke,t[He].x-=Pe*We,t[He].y-=Be*We}})}})}}}})}}),!0}})},r.prototype.calRepulsive=function(t,e){var n=this,a=n.nodes,o=n.width*n.optimizeRangeFactor,s=n.nodeStrength,l=n.alpha,f=n.nodeCollideStrength,h=n.preventNodeOverlap,c=n.nodeSize,v=n.nodeSpacing,x=n.depthRepulsiveForceScale,A=n.center;a.forEach(function(B,G){if(!(!B.x||!B.y)){if(A){var H=n.gravity,X=B.x-A[0]||.005,ut=B.y-A[1]||.005,ft=Math.sqrt(X*X+ut*ut);t[G].x-=X*H*l/ft,t[G].y-=ut*H*l/ft}a.forEach(function(xt,Yt){if(G!==Yt&&!(!xt.x||!xt.y)){var Kt=e[B.id+"-"+xt.id],te=Kt.vl2,Wt=Kt.vl;if(!(Wt>o)){var ae=e[B.id+"-"+xt.id],ce=ae.vx,he=ae.vy,Pe=Math.abs(xt.depth-B.depth)+1||1;xt.comboId!==B.comboId&&Pe++;var Be=Pe?Math.pow(x,Pe):1,ke=s(xt)*l/te*Be;if(t[G].x+=ce*ke,t[G].y+=he*ke,G<Yt&&h){var We=c(B)+v(B),Ke=c(xt)+v(xt),$e=We+Ke;if(te<$e*$e){var Ve=($e-Wt)/Wt*f,He=Ke*Ke,lr=He/(We*We+He),sr=ce*Ve,dr=he*Ve;t[G].x+=sr*lr,t[G].y+=dr*lr,lr=1-lr,t[Yt].x-=sr*lr,t[Yt].y-=dr*lr}}}}})}})},r.prototype.calAttractive=function(t,e){var n=this,a=n.edges,o=n.linkDistance,s=n.alpha,l=n.edgeStrength,f=n.bias,h=n.depthAttractiveForceScale;a.forEach(function(c,v){if(!(!c.source||!c.target||c.source===c.target)){var x=n.nodeIdxMap[c.source],A=n.nodeIdxMap[c.target],B=n.nodeMap[c.source],G=n.nodeMap[c.target],H=Math.abs(B.depth-G.depth);B.comboId===G.comboId&&(H=H/2);var X=H?Math.pow(h,H):1;if(B.comboId!==G.comboId&&X===1?X=h/2:B.comboId===G.comboId&&(X=2),!(!(0,u.isNumber)(G.x)||!(0,u.isNumber)(B.x)||!(0,u.isNumber)(G.y)||!(0,u.isNumber)(B.y))){var ut=e[c.target+"-"+c.source],ft=ut.vl,xt=ut.vx,Yt=ut.vy,Kt=(ft-o(c))/ft*s*l(c)*X,te=xt*Kt,Wt=Yt*Kt,ae=f[v];t[A].x-=te*ae,t[A].y-=Wt*ae,t[x].x+=te*(1-ae),t[x].y+=Wt*(1-ae)}}})},r}(ha),m4=y4,x4={circular:O3,concentric:I3,dagre:D3,force:mN,g6force:SN,comboForce:m4,fruchterman:EN,grid:AN,mds:a4,radial:d4,random:g4};(0,xn.default)(x4,function(i,r){Sx.registerLayout(r,{},i)});var Ds=Sx,Uh=self;function b4(i){var r=i.data.type;return r===Ka.RUN}function w4(i){var r=i.data.type;switch(r){case Ka.RUN:{var t=i.data,e=t.nodes,n=t.edges,a=t.layoutCfg,o=a===void 0?{}:a,s=o.type,l=Ds[s];if(!l){Uh.postMessage({type:Ka.ERROR,message:"layout "+s+" not found"});break}var f=new l(o);f.init({nodes:e,edges:n}),f.execute(),Uh.postMessage({type:Ka.END,nodes:e}),f.destroy();break}default:break}}Uh.onmessage=function(i){b4(i)&&w4(i)};var S4=null;function yu(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yu=function(t){return typeof t}:yu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yu(i)}var C4=function(r){return setTimeout(r,16)},M4=function(r){return clearTimeout(r)},mu={requestAnimationFrame:function(r){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||C4;return t(r)},cancelAnimationFrame:function(r){var t=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||M4;return t(r)}},E4=function(){function i(r){this.graph=r,this.layoutCfg=r.get("layout")||{},this.layoutType=this.layoutCfg.type,this.worker=null,this.workerData={},this.initLayout()}return i.prototype.initLayout=function(){},i.prototype.getWorker=function(){return this.worker?this.worker:(typeof Worker=="undefined"?(console.warn("Web worker is not supported in current browser."),this.worker=null):this.worker=new S4,this.worker)},i.prototype.stopWorker=function(){var r=this.workerData;!this.worker||(this.worker.terminate(),this.worker=null,r.requestId&&(mu.cancelAnimationFrame(r.requestId),r.requestId=null),r.requestId2&&(mu.cancelAnimationFrame(r.requestId2),r.requestId2=null))},i.prototype.getLayoutType=function(){return this.layoutCfg.type},i.prototype.layout=function(r){var t=this.graph;this.data=this.setDataFromGraph();var e=this.data.nodes;if(!e)return!1;var n=t.get("width"),a=t.get("height"),o={};Object.assign(o,{width:n,height:a,center:[n/2,a/2]},this.layoutCfg),this.layoutCfg=o;var s=!!this.layoutType,l=this.layoutMethod;l&&l.destroy(),t.emit("beforelayout");var f=this.initPositions(o.center,e);if(this.stopWorker(),o.workerEnabled&&this.layoutWithWorker(this.data,r))return!0;if(this.layoutType==="force"||this.layoutType==="g6force"){var h=o.onTick,c=function(){h&&h(),t.refreshPositions()};o.tick=c;var v=o.onLayoutEnd;o.onLayoutEnd=function(){v&&v(),t.emit("afterlayout")}}else this.layoutType==="comboForce"&&(o.comboTrees=t.get("comboTrees"));var x=!1;if(this.layoutType!==void 0){try{l=new Ds[this.layoutType](o)}catch(H){return console.warn("The layout method: "+this.layoutType+" does not exist! Please specify it first."),!1}if(x=l.enableTick,x){var A=o.onTick,B=o.onLayoutEnd,c=function(){A&&A(),t.refreshPositions()};l.tick=c;var G=function(){B&&B(),t.emit("afterlayout")};l.onLayoutEnd=G}l.init(this.data),s&&l.execute(),this.layoutMethod=l}return(s||!f)&&this.layoutType!=="force"&&!x&&(t.emit("afterlayout"),this.refreshLayout()),!1},i.prototype.layoutWithWorker=function(r,t){var e=this,n=r.nodes,a=r.edges,o=this,s=o.layoutCfg,l=o.graph,f=this.getWorker(),h=this.workerData;if(!f)return!1;h.requestId=null,h.requestId2=null,h.currentTick=null,h.currentTickData=null;var c=A4(s,function(v){return typeof v!="function"});return f.postMessage({type:Ka.RUN,nodes:n,edges:a,layoutCfg:c}),f.onmessage=function(v){e.handleWorkerMessage(v,r,t)},!0},i.prototype.handleWorkerMessage=function(r,t,e){var n=this,a=n.graph,o=n.workerData,s=n.layoutCfg,l=r.data,f=l.type,h=function(){s.onTick&&s.onTick()},c=function(){s.onLayoutEnd&&s.onLayoutEnd(),a.emit("afterlayout")};switch(f){case Ka.TICK:o.currentTick=l.currentTick,o.currentTickData=l,o.requestId||(o.requestId=mu.requestAnimationFrame(function(){Zh(t,l),a.refreshPositions(),h(),l.currentTick===1&&e&&e(),l.currentTick===l.totalTicks?c():o.currentTick===l.totalTicks&&(o.requestId2=mu.requestAnimationFrame(function(){Zh(t,o.currentTickData),a.refreshPositions(),o.requestId2=null,h(),c()})),o.requestId=null}));break;case Ka.END:o.currentTick==null&&(Zh(t,l),this.refreshLayout(),e&&e(),a.emit("afterlayout"));break;case Ka.ERROR:break;default:break}},i.prototype.refreshLayout=function(){var r=this.graph;r.get("animate")?r.positionsAnimate():r.refreshPositions()},i.prototype.updateLayoutCfg=function(r){var t=this,e=t.graph,n=t.layoutMethod;if(this.layoutType=r.type,!n){console.warn("You did not assign any layout type and the graph has no previous layout method!");return}this.data=this.setDataFromGraph(),this.stopWorker(),!(r.workerEnabled&&this.layoutWithWorker(this.data,null))&&(n.init(this.data),n.updateCfg(r),e.emit("beforelayout"),n.execute(),this.layoutType!=="force"&&!n.enableTick&&e.emit("afterlayout"),this.refreshLayout())},i.prototype.changeLayout=function(r){var t=this,e=t.graph,n=t.layoutMethod;this.layoutType=r,this.layoutCfg=e.get("layout")||{},this.layoutCfg.type=r,n&&n.destroy(),this.layout()},i.prototype.changeData=function(){var r=this.layoutMethod;r&&r.destroy(),this.layout()},i.prototype.destroyLayout=function(){var r=this,t=r.layoutMethod,e=r.graph;t&&t.destroy(),e.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethod=void 0},i.prototype.setDataFromGraph=function(){var r=[],t=[],e=[],n=this.graph.getNodes(),a=this.graph.getEdges(),o=this.graph.getCombos();n.forEach(function(l){if(!!l.isVisible()){var f=l.getModel();r.push(f)}}),a.forEach(function(l){if(!(l.destroyed||!l.isVisible())){var f=l.getModel();f.isComboEdge||t.push(f)}}),o.forEach(function(l){if(!(l.destroyed||!l.isVisible())){var f=l.getModel();e.push(f)}});var s={nodes:r,edges:t,combos:e};return s},i.prototype.relayout=function(r){var t=this,e=t.graph,n=t.layoutMethod,a=t.layoutCfg;if(r){this.data=this.setDataFromGraph();var o=this.data.nodes;if(!o)return!1;this.initPositions(a.center,o),n.init(this.data)}this.layoutType==="force"&&(n.ticking=!1,n.forceSimulation.stop()),e.emit("beforelayout"),n.execute(r),this.layoutType!=="force"&&!n.enableTick&&e.emit("afterlayout"),this.refreshLayout()},i.prototype.layoutAnimate=function(){},i.prototype.moveToZero=function(){var r=this.graph,t=r.get("data"),e=t.nodes;if(!(e[0].x===void 0||e[0].x===null||ja(e[0].x))){var n=[0,0];e.forEach(function(a){n[0]+=a.x,n[1]+=a.y}),n[0]/=e.length,n[1]/=e.length,e.forEach(function(a){a.x-=n[0],a.y-=n[1]})}},i.prototype.initPositions=function(r,t){var e=this.graph;if(!t)return!1;var n=!0,a=e.get("width")*.85,o=e.get("height")*.85,s=t.length,l=Math.ceil(Math.sqrt(s)*(a/o)),f=Math.ceil(s/l),h=a/(l-1),c=o/(f-1);(!isFinite(h)||!h)&&(h=0),(!isFinite(c)||!h)&&(c=0);var v=r[0]-a/2,x=r[1]-o/2;return t.forEach(function(A,B){ja(A.x)&&(n=!1,A.x=B%l*h+v),ja(A.y)&&(n=!1,A.y=Math.floor(B/l)*c+x)}),n},i.prototype.destroy=function(){var r=this.layoutMethod;this.graph=null,r&&r.destroy();var t=this.worker;t&&(t.terminate(),this.worker=null),this.destroyed=!0},i}(),_4=E4;function Zh(i,r){var t=i.nodes,e=r.nodes;t.forEach(function(n,a){n.x=e[a].x,n.y=e[a].y})}function A4(i,r){var t={};return i&&yu(i)==="object"?(Object.keys(i).forEach(function(e){i.hasOwnProperty(e)&&r(i[e])&&(t[e]=i[e])}),t):i}var Ao=null,P4=function(){function i(r){this.graph=r,this.cachedStates={enabled:{},disabled:{}},this.destroyed=!1}return i.checkCache=function(r,t,e){if(!!e[t]){var n=e[t].indexOf(r);n>=0&&e[t].splice(n,1)}},i.cacheState=function(r,t,e){e[t]||(e[t]=[]),e[t].push(r)},i.prototype.updateState=function(r,t,e){var n=this,a=i.checkCache,o=i.cacheState;if(!r.destroyed){var s=this.cachedStates,l=s.enabled,f=s.disabled;e?(a(r,t,f),o(r,t,l)):(a(r,t,l),o(r,t,f)),Ao&&clearTimeout(Ao),Ao=setTimeout(function(){Ao=null,n.updateGraphStates()},16)}},i.prototype.updateStates=function(r,t,e){var n=this;(0,un.default)(t)?this.updateState(r,t,e):t.forEach(function(a){n.updateState(r,a,e)})},i.prototype.updateGraphStates=function(){var r=this.graph.get("states"),t=this.cachedStates;(0,xn.default)(t.disabled,function(e,n){r[n]&&(r[n]=r[n].filter(function(a){return e.indexOf(a)<0&&!e.destroyed}))}),(0,xn.default)(t.enabled,function(e,n){if(!r[n])r[n]=e;else{var a={};r[n].forEach(function(o){o.destroyed||(a[o.get("id")]=!0)}),e.forEach(function(o){if(!o.destroyed){var s=o.get("id");a[s]||(a[s]=!0,r[n].push(o))}})}}),this.graph.emit("graphstatechange",{states:r}),this.cachedStates={enabled:{},disabled:{}}},i.prototype.destroy=function(){this.graph=null,this.cachedStates=null,Ao&&clearTimeout(Ao),Ao=null,this.destroyed=!0},i}(),T4=P4,Kh=null,O4=function(){function i(r){this.graph=r;var t=r.get("groupStyle");this.styles=(0,Pi.default)({},i.getDefaultCfg(),t),this.customGroup={},this.delegateInGroup={},this.nodePoint=[],this.destroyed=!1}return i.getDefaultCfg=function(){return{default:{lineWidth:1,stroke:"#A3B1BF",strokeOpacity:.9,fill:"#F3F9FF",fillOpacity:.8,opacity:.8,disCoefficient:.6,minDis:30,maxDis:30},hover:{stroke:"#faad14",fill:"#ffe58f",fillOpacity:.3,opacity:.3,lineWidth:3},collapse:{r:30,width:80,height:40,stroke:"#A3B1BF",lineWidth:3,fill:"#F3F9FF",offsetX:-15,offsetY:5},icon:"https://gw.alipayobjects.com/zos/rmsportal/MXXetJAxlqrbisIuZxDO.svg",operatorBtn:{collapse:{img:"https://gw.alipayobjects.com/zos/rmsportal/uZVdwjJGqDooqKLKtvGA.svg",width:16,height:16},expand:{width:16,height:16,img:"https://gw.alipayobjects.com/zos/rmsportal/MXXetJAxlqrbisIuZxDO.svg"}},visible:!1}},i.prototype.create=function(r,t,e,n,a,o){e===void 0&&(e="circle"),n===void 0&&(n=0),a===void 0&&(a=!1),o===void 0&&(o={});var s=this.graph,l=s.get("customGroup"),f=l.get("children").map(function(dr){return dr.get("id")});if(f.indexOf(r)>-1){console.warn("\u5DF2\u7ECF\u5B58\u5728ID\u4E3A "+r+" \u7684\u5206\u7EC4\uFF0C\u8BF7\u91CD\u65B0\u8BBE\u7F6E\u5206\u7EC4ID\uFF01");return}var h=l.addGroup({id:r,zIndex:n}),c=this.styles.default,v=this.calculationGroupPosition(t),x=v.x,A=v.y,B=v.width,G=v.height,H=v.maxX,X=this.getGroupPadding(r),ut=s.get("groupBBoxs");ut[r]={x,y:A,width:B,height:G,maxX:H};var ft=null;if(a){var xt=s.get("groups");t.forEach(function(dr){var Qe=s.findById(dr),hr=Qe.getModel();hr.groupId||(hr.groupId=r)}),xt.find(function(dr){return dr.id===r})||(xt.push({id:r,title:o}),s.set({groups:xt}))}var Yt=s.get("groups").filter(function(dr){return dr.id===r});Yt&&Yt.length>0&&(ft=Yt[0].title);var Kt=0,te=0,Wt=null;if(e==="circle"){var ae=B>G?B/2:G/2,ce=(B+2*x)/2,he=(G+2*A)/2,Pe=ae+X;Wt=h.addShape("circle",{attrs:(0,q.__assign)((0,q.__assign)({},c),{x:ce,y:he,r:Pe}),draggable:!0,capture:!0,zIndex:n,groupId:r,name:"circle-group-shape"}),Kt=ce,te=he-Pe,this.setDeletageGroupByStyle(r,h,{width:B,height:G,x:ce,y:he,r:Pe})}else{var Be=X*c.disCoefficient;Wt=h.addShape("rect",{attrs:(0,q.__assign)((0,q.__assign)({},c),{x:x-Be,y:A-Be,width:B+Be*2,height:G+Be*2}),draggable:!0,capture:!0,zIndex:n,groupId:r,name:"rect-group-shape"}),Kt=x-Be+15,te=A-Be+15,this.setDeletageGroupByStyle(r,h,{x:x-Be,y:A-Be,width:B+Be,height:G+Be,btnOffset:H-3})}if(ft){var ke=ft.offsetX,We=ke===void 0?0:ke,Ke=ft.offsetY,$e=Ke===void 0?0:Ke,Ve=ft.text,He=Ve===void 0?ft:Ve,lr=(0,q.__rest)(ft,["offsetX","offsetY","text"]),sr=h.addShape("text",{attrs:(0,q.__assign)({text:He,stroke:"#444",x:Kt+We,y:te+$e},lr),className:"group-title",name:"group-title-shape"});sr.set("capture",!1)}h.set("keyShape",Wt),s.get("groupNodes")[r]=t},i.prototype.setGroupStyle=function(r,t){if(!(!r||r.get("destroyed"))){var e={},n=this.styles,a=n.hover,o=n.default;(0,un.default)(t)?t==="default"?e=(0,Pi.default)({},o):t==="hover"&&(e=(0,Pi.default)({},a)):e=(0,Pi.default)({},o,t),Object.keys(e).forEach(function(s){r.attr(s,e[s])})}},i.prototype.calculationGroupPosition=function(r,t){if(t===void 0&&(t={x:100,y:100}),r.length===0)return{x:t.x,y:t.y,width:100,height:100};var e=this.graph,n=Infinity,a=-Infinity,o=Infinity,s=-Infinity;r.forEach(function(v){var x=(0,un.default)(v)?e.findById(v):v,A=x.getBBox(),B=A.minX,G=A.minY,H=A.maxX,X=A.maxY;B<n&&(n=B),G<o&&(o=G),H>a&&(a=H),X>s&&(s=X)});var l=Math.floor(n),f=Math.floor(o),h=Math.ceil(a)-l,c=Math.ceil(s)-f;return{x:l,y:f,width:h,height:c,maxX:Math.ceil(a)}},i.prototype.flatToTree=function(r,t,e){t===void 0&&(t="id"),e===void 0&&(e="parentId");var n="children",a=[],o=[];return r.forEach(function(s){a[s[t]]=s}),r.forEach(function(s){var l=a[s[e]];l?(l[n]=l[n]||[],l[n].push(s)):o.push(s)}),o},i.prototype.getGroupPadding=function(r){var t=this.graph,e=this.styles.default,n=t.get("groups"),a=n.filter(function(h){return h.parentId===r}),o=1;a.length>0&&(Kh||(Kh=this.flatToTree(n)),Ri(Kh[0],function(h){if(h.parentId===r&&h.children)return o+=h.children.length,!0}));var s=n.filter(function(h){return h.id===r&&!h.parentId});s.length>0&&(o+=1);var l=n.filter(function(h){return h.parentId===r}).length>0,f=l?e.maxDis+(o>1?o/2:1)*30:e.minDis;return f},i.prototype.setDeletageGroupByStyle=function(r,t,e){var n=e.width,a=e.height,o=e.x,s=e.y,l=e.r,f=e.btnOffset,h=this.customGroup[r];if(!h)this.customGroup[r]={nodeGroup:t,groupStyle:{width:n,height:a,x:o,y:s,r:l,btnOffset:f}};else{var c=h.groupStyle,v=(0,Pi.default)({},c,e);this.customGroup[r]={nodeGroup:t,groupStyle:v}}},i.prototype.getDeletageGroupById=function(r){return this.customGroup[r]},i.prototype.collapseExpandGroup=function(r){var t=this.getDeletageGroupById(r),e=t.nodeGroup,n=e.get("hasHidden");n?(e.set("hasHidden",!1),this.expandGroup(r)):(e.set("hasHidden",!0),this.collapseGroup(r))},i.prototype.setGroupTmpNode=function(r,t){var e=this.graph,n=e.get("groupNodes"),a=e.get("groups");n[r].indexOf(t)<0&&n[r].push(t);var o=a.filter(function(l){return l.id===r}),s=null;o.length>0&&(s=o[0].parentId),s&&this.setGroupTmpNode(s,t)},i.prototype.collapseGroup=function(r){var t=this,e=this.getDeletageGroupById(r),n=e.nodeGroup,a=this.styles.collapse,o=this.graph,s=o.get("groupType"),l=o.get("groupNodes")[r],f=n.get("keyShape"),h=a.r,c=a.width,v=a.height,x=a.offsetX,A=a.offsetY,B=(0,q.__rest)(a,["r","width","height","offsetX","offsetY"]);Object.keys(B).forEach(function(Kt){f.attr(Kt,B[Kt])});var G={groupId:r,id:r+"-custom-node",x:f.attr("x"),y:f.attr("y"),style:{r:h},type:"circle"},H=n.find(function(Kt){return Kt.get("className")==="group-title"});s==="circle"?(f.animate({r:h},{duration:500,easing:"easeCubic"}),H&&H.attr({x:f.attr("x")+x,y:f.attr("y")+A})):s==="rect"&&(f.animate({width:c,height:v},{duration:500,easing:"easeCubic"}),H&&H.attr({x:f.attr("x")+10,y:f.attr("y")+v/2+5}),G={groupId:r,id:r+"-custom-node",x:f.attr("x")+c/2,y:f.attr("y")+v/2,size:[c,v],type:"rect"});var X=o.getEdges(),ut=X.filter(function(Kt){var te=Kt.getModel();return!l.includes(te.source)&&l.includes(te.target)}),ft=X.filter(function(Kt){var te=Kt.getModel();return l.includes(te.source)&&!l.includes(te.target)}),xt=X.filter(function(Kt){var te=Kt.getModel();return l.includes(te.source)&&l.includes(te.target)});if(l.forEach(function(Kt){var te=o.findById(Kt),Wt=te.getModel(),ae=Wt.groupId;if(ae&&ae!==r){var ce=t.getDeletageGroupById(ae),he=ce.nodeGroup;he.hide()}te.hide()}),xt.forEach(function(Kt){var te=Kt.getSource(),Wt=Kt.getTarget();te.isVisible()&&Wt.isVisible()?Kt.show():Kt.hide()}),ut.length>0||ft.length>0){var Yt=o.add("node",G);Yt.set("capture",!1),Yt.hide(),this.delegateInGroup[r]={delegateNode:Yt},this.setGroupTmpNode(r,r+"-custom-node"),this.updateEdgeInGroupLinks(r,ut,ft)}},i.prototype.updateEdgeInGroupLinks=function(r,t,e){var n=this.graph,a={};t.map(function(s){var l=s.getModel(),f=s.get("id"),h=l.target;return a[f]=h,n.updateItem(s,{target:r+"-custom-node"}),!0});var o={};e.map(function(s){var l=s.getModel(),f=s.get("id"),h=l.source;return o[f]=h,n.updateItem(s,{source:r+"-custom-node"}),!0}),this.delegateInGroup[r]=(0,Pi.default)({sourceOutTargetInEdges:t,sourceInTargetOutEdges:e,edgesOuts:a,edgesIn:o},this.delegateInGroup[r])},i.prototype.expandGroup=function(r){var t=this,e=this.graph,n=e.get("groupType"),a=e.get("groupNodes")[r],o=a.filter(function(Ke){return Ke.indexOf("custom-node")===-1}),s=this.calculationGroupPosition(o),l=s.width,f=s.height,h=this.getDeletageGroupById(r).nodeGroup,c=h.get("keyShape"),v=this.styles,x=v.default,A=v.collapse;Object.keys(x).forEach(function(Ke){c.attr(Ke,x[Ke])});var B=h.find(function(Ke){return Ke.get("className")==="group-title"}),G=this.getGroupPadding(r);if(n==="circle"){var H=l>f?l/2:f/2;c.animate({r:H+G},{duration:500,easing:"easeCubic"})}else if(n==="rect"){var X=A.width,ut=A.height;c.animate({width:X+l+G*x.disCoefficient*2,height:ut+f+G*x.disCoefficient*2},{duration:500,easing:"easeCubic"})}if(B){var ft=null,xt=e.get("groups").filter(function(Ke){return Ke.id===r});xt&&xt.length>0&&(ft=xt[0].title);var Yt=ft.offsetX,Kt=Yt===void 0?0:Yt,te=ft.offsetY,Wt=te===void 0?0:te;n==="circle"?B.animate({x:c.attr("x")+Kt,y:c.attr("y")-c.attr("r")+Wt},{duration:600,easing:"easeCubic"}):n==="rect"&&B.animate({x:c.attr("x")+(15+Kt),y:c.attr("y")+(15+Wt)},{duration:600,easing:"easeCubic"})}setTimeout(function(){a.forEach(function(Ve){var He=e.findById(Ve),lr=He.getModel(),sr=lr.groupId;if(sr&&sr!==r){var dr=t.getDeletageGroupById(sr),Qe=dr.nodeGroup;Qe.show();var hr=Qe.get("hasHidden");hr||He.show()}else He.show()});var Ke=e.getEdges(),$e=Ke.filter(function(Ve){var He=Ve.getModel();return a.includes(He.source)||a.includes(He.target)});$e.forEach(function(Ve){var He=Ve.getSource(),lr=Ve.getTarget();He.isVisible()&&lr.isVisible()&&Ve.show()})},300);var ae=this.delegateInGroup[r];if(ae){var ce=ae.sourceOutTargetInEdges,he=ae.sourceInTargetOutEdges,Pe=ae.edgesOuts,Be=ae.edgesIn,ke=ae.delegateNode;ce.map(function(Ke){var $e=Ke.get("id"),Ve=Pe[$e];return e.updateItem(Ke,{target:Ve}),!0}),he.map(function(Ke){var $e=Ke.get("id"),Ve=Be[$e];return e.updateItem(Ke,{source:Ve}),!0});var We=ke.getModel();this.deleteTmpNode(r,We.id),e.remove(ke),delete this.delegateInGroup[r]}},i.prototype.deleteTmpNode=function(r,t){var e=this.graph,n=e.get("groups"),a=e.get("groupNodes")[r],o=a.indexOf(t);a.splice(o,1);var s=n.filter(function(f){return f.id===r}),l=null;s.length>0&&(l=s[0].parentId),l&&this.deleteTmpNode(l,t)},i.prototype.remove=function(r){var t=this.graph,e=this.getDeletageGroupById(r);if(!!e){var n=e.nodeGroup,a=t.get("groupNodes"),o=a[r];o.forEach(function(x){var A=t.findById(x),B=A.getModel(),G=B.groupId;!G||r===G&&(delete B.groupId,t.updateItem(A,B))}),n.destroy(),delete this.customGroup[r];var s=t.get("groups");if(s.length>0){var l=s.filter(function(x){return x.id!==r});t.set("groups",l)}for(var f=null,h=null,c=0;c<s.length;c++){var v=s[c];if(r===v.id){f=v.parentId,h=v;break}}h&&delete h.parentId,delete a[r],f&&(a[f]=a[f].filter(function(x){return!o.includes(x)}))}},i.prototype.updateGroup=function(r,t,e){var n=this.graph,a=n.get("groupType");this.updateItemInGroup(r,t,e);for(var o=n.save().groups,s=null,l=null,f=0;f<o.length;f++){var h=o[f];if(r===h.id){s=h.parentId,l=h;break}}if(s){var c=this.getDeletageGroupById(s).nodeGroup,v=c.get("keyShape");this.setGroupStyle(v,"default");var x=v.getBBox(),A=x.minX,B=x.minY,G=x.maxX,H=x.maxY,X=this.getDeletageGroupById(r).nodeGroup,ut=X.get("keyShape"),ft=ut.getBBox(),xt=ft.x,Yt=ft.y;if(!(xt<G&&xt>A&&Yt<H&&Yt>B)){delete l.parentId;var Kt=n.get("groupNodes"),te=Kt[r],Wt=Kt[s];Kt[s]=Wt.filter(function(vr){return te.indexOf(vr)===-1});var ae=this.calculationGroupPosition(Kt[s]),ce=ae.x,he=ae.y,Pe=ae.width,Be=ae.height,ke=this.getGroupPadding(s),We=c.find(function(vr){return vr.get("className")==="group-title"}),Ke=0,$e=0;if(a==="circle"){var Ve=Pe>Be?Pe/2:Be/2,He=ce,lr=he;v.attr({r:Ve+ke,x:He,y:lr}),Ke=He,$e=lr-v.attr("r")}else if(a==="rect"){var sr=this.styles.default,dr=ke*sr.disCoefficient;v.attr({x:ce-dr,y:he-dr}),Ke=ce-dr+15,$e=he-dr+15}if(We){var Qe=l.title,hr=0,Sr=0;Qe&&(hr=Qe.offsetX,Sr=Qe.offsetY),We.attr({x:Ke+hr,y:$e+Sr})}}}},i.prototype.updateItemInGroup=function(r,t,e){var n=this,a=this.graph,o=a.get("groupType"),s=a.get("groupNodes"),l=s[r],f=this.getDeletageGroupById(r).nodeGroup,h=f.getBBox(),c=[];l.forEach(function(v,x){var A=a.findById(v),B=A.getModel(),G=B.groupId;G&&!c.includes(G)&&c.push(G),n.nodePoint[x]||(n.nodePoint[x]={x:B.x,y:B.y});var H=t.x-h.x+n.nodePoint[x].x,X=t.y-h.y+n.nodePoint[x].y;n.nodePoint[x]={x:H,y:X},a.updateItem(A,{x:H,y:X})}),c.includes(r)||c.push(r),c.forEach(function(v){var x=n.getDeletageGroupById(v).nodeGroup,A=x.get("keyShape"),B=s[v].filter(function(Be){return Be.indexOf("custom-node")===-1}),G=n.calculationGroupPosition(B,t),H=G.x,X=G.y,ut=G.width,ft=G.height,xt=0,Yt=0;if(o==="circle"){var Kt=(ut+2*H)/2,te=(ft+2*X)/2;A.attr({x:Kt,y:te}),xt=Kt,Yt=te-A.attr("r")}else if(o==="rect"){var Wt=x.get("hasHidden"),ae=n.getGroupPadding(v),ce={},he=n.styles.default,Pe=ae*he.disCoefficient;xt=H-Pe+15,Yt=X-Pe+15,Wt?(ce={x:H-Pe,y:X-Pe},Yt=Yt+10):ce={x:H-Pe,y:X-Pe,width:ut+Pe*2,height:ft+Pe*2},A.attr(ce)}n.updateGroupTitle(x,v,xt,Yt)})},i.prototype.updateGroupTitle=function(r,t,e,n){var a=this.graph,o=r.find(function(c){return c.get("className")==="group-title"});if(o){var s=null,l=a.get("groups").filter(function(c){return c.id===t});l&&l.length>0&&(s=l[0].title);var f=0,h=0;s&&(f=s.offsetX||0,h=s.offsetY||0),o.attr({x:e+f,y:n+h})}},i.prototype.dynamicChangeGroupSize=function(r,t,e){var n=r.item,a=n.getModel(),o=a.groupId,s=this.graph,l=s.get("groupType"),f=s.get("groupNodes"),h=f[o];if(h.length===0){delete f[o];var c=s.get("groups");s.set("groups",c.filter(function(Wt){return Wt.id!==o})),t.remove()}else{var v=this.calculationGroupPosition(h),x=v.x,A=v.y,B=v.width,G=v.height,H=this.getGroupPadding(o),X=0,ut=0;if(l==="circle"){var ft=B>G?B/2:G/2,xt=(B+2*x)/2,Yt=(G+2*A)/2;e.attr({r:ft+H,x:xt,y:Yt}),X=xt,ut=Yt-e.attr("r")}else if(l==="rect"){var Kt=this.styles.default,te=H*Kt.disCoefficient;e.attr({x:x-te,y:A-te,width:B+te*2,height:G+te*2}),X=x-te+15,ut=A-te+15}this.updateGroupTitle(t,o,X,ut)}this.setGroupStyle(e,"default")},i.prototype.resetNodePoint=function(){this.nodePoint.length=0},i.prototype.destroy=function(){this.graph=null,this.styles={},this.customGroup={},this.delegateInGroup={},this.resetNodePoint(),this.destroyed=!0},i}(),L4=O4,I4=function(r){var t={};return r.getNodes().forEach(function(e){t[e.getID()]={degree:0,inDegree:0,outDegree:0}}),r.getEdges().forEach(function(e){t[e.getSource().getID()].degree++,t[e.getSource().getID()].outDegree++,t[e.getTarget().getID()].degree++,t[e.getTarget().getID()].inDegree++}),t},Hx=I4,k4=function(){function i(r){this.compare=r||i.defaultCompareFunction}return i.defaultCompareFunction=function(r,t){return r===t?0:r<t?-1:1},i.prototype.equal=function(r,t){return this.compare(r,t)===0},i.prototype.lessThan=function(r,t){return this.compare(r,t)<0},i.prototype.greaterThan=function(r,t){return this.compare(r,t)>0},i.prototype.lessThanOrEqual=function(r,t){return this.lessThan(r,t)||this.equal(r,t)},i.prototype.greaterThanOrEqual=function(r,t){return this.greaterThan(r,t)||this.equal(r,t)},i.prototype.reverse=function(){var r=this.compare;this.compare=function(t,e){return r(e,t)}},i}(),B4=k4,Wx=function(){function i(r,t){t===void 0&&(t=null),this.value=r,this.next=t}return i.prototype.toString=function(r){return r?r(this.value):""+this.value},i}(),D4=function(){function i(r){r===void 0&&(r=null),this.head=null,this.tail=null,this.compare=new B4(r)}return i.prototype.prepend=function(r){var t=new Wx(r,this.head);return this.head=t,this.tail||(this.tail=t),this},i.prototype.append=function(r){var t=new Wx(r);return this.head?(this.tail.next=t,this.tail=t,this):(this.head=t,this.tail=t,this)},i.prototype.delete=function(r){if(!this.head)return null;for(var t=null;this.head&&this.compare.equal(this.head.value,r);)t=this.head,this.head=this.head.next;var e=this.head;if(e!==null)for(;e.next;)this.compare.equal(e.next.value,r)?(t=e.next,e.next=e.next.next):e=e.next;return this.compare.equal(this.tail.value,r)&&(this.tail=e),t},i.prototype.find=function(r){var t=r.value,e=t===void 0?void 0:t,n=r.callback,a=n===void 0?void 0:n;if(!this.head)return null;for(var o=this.head;o;){if(a&&a(o.value)||e!==void 0&&this.compare.equal(o.value,e))return o;o=o.next}return null},i.prototype.deleteTail=function(){var r=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,r;for(var t=this.head;t.next;)t.next.next?t=t.next:t.next=null;return this.tail=t,r},i.prototype.deleteHead=function(){if(!this.head)return null;var r=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),r},i.prototype.fromArray=function(r){var t=this;return r.forEach(function(e){return t.append(e)}),this},i.prototype.toArray=function(){for(var r=[],t=this.head;t;)r.push(t),t=t.next;return r},i.prototype.reverse=function(){for(var r=this.head,t=null,e=null;r;)e=r.next,r.next=t,t=r,r=e;this.tail=this.head,this.head=t},i.prototype.toString=function(r){return r===void 0&&(r=void 0),this.toArray().map(function(t){return t.toString(r)}).toString()},i}(),jx=D4,F4=function(){function i(r){r===void 0&&(r=10),this.linkedList=new jx,this.maxStep=r}return Object.defineProperty(i.prototype,"length",{get:function(){return this.linkedList.toArray().length},enumerable:!1,configurable:!0}),i.prototype.isEmpty=function(){return!this.linkedList.head},i.prototype.isMaxStack=function(){return this.toArray().length>=this.maxStep},i.prototype.peek=function(){return this.isEmpty()?null:this.linkedList.head.value},i.prototype.push=function(r){this.linkedList.prepend(r),this.length>this.maxStep&&this.linkedList.deleteTail()},i.prototype.pop=function(){var r=this.linkedList.deleteHead();return r?r.value:null},i.prototype.toArray=function(){return this.linkedList.toArray().map(function(r){return r.value})},i.prototype.clear=function(){for(;!this.isEmpty();)this.pop()},i}(),Ux=F4,R4=function(r,t){var e=r.getNodes(),n=r.getEdges(),a=[],o={};if(!e)throw new Error("invalid nodes data!");return e&&e.forEach(function(s,l){o[s.getID()]=l;var f=[];a.push(f)}),n&&n.forEach(function(s){var l=s.getModel(),f=l.source,h=l.target,c=o[f],v=o[h];a[c][v]=1,t||(a[v][c]=1)}),a},xu=R4,N4=function(r,t){var e=r.get("adjMatrix");e||(e=xu(r,t));for(var n=[],a=e.length,o=0;o<a;o+=1){n[o]=[];for(var s=0;s<a;s+=1)o===s?n[o][s]=0:e[o][s]===0||!e[o][s]?n[o][s]=Infinity:n[o][s]=e[o][s]}for(var l=0;l<a;l+=1)for(var o=0;o<a;o+=1)for(var s=0;s<a;s+=1)n[o][s]>n[o][l]+n[l][s]&&(n[o][s]=n[o][l]+n[l][s]);return n},Zx=N4,Kx=function(r,t,e){return(r.y-e.y)*(t.x-e.x)-(r.x-e.x)*(t.y-e.y)},$x=function(r){var t=r.map(function(s){return{x:s.getModel().x,y:s.getModel().y}});t.sort(function(s,l){return s.x===l.x?s.y-l.y:s.x-l.x});for(var e=[],n=0;n<t.length;n++){for(;e.length>=2&&Kx(e[e.length-2],e[e.length-1],t[n])<=0;)e.pop();e.push(t[n])}for(var a=[],n=t.length-1;n>=0;n--){for(;a.length>=2&&Kx(a[a.length-2],a[a.length-1],t[n])<=0;)a.pop();a.push(t[n])}a.pop(),e.pop();var o=e.concat(a);return o},G4={maxRoutingIterations:100,maxMarchingIterations:100,pixelGroupSize:2,edgeR0:10,edgeR1:10,nodeR0:5,nodeR1:10,morphBuffer:5,threshold:.001,skip:16,nodeInfluenceFactor:1,edgeInfluenceFactor:1,negativeNodeInfluenceFactor:-.5};function Y4(i,r,t){var e=!1,n=function(l,f){return r.cells[l+f*r.width]},a=function(l,f){var h=0;return n(l-1,f-1)>=t&&(h+=1),n(l,f-1)>t&&(h+=2),n(l-1,f)>t&&(h+=4),n(l,f)>t&&(h+=8),h},o=function(l,f){for(var h=l,c=f,v,x,A=0;A<r.width*r.height;A++){if(v=h,x=c,i.findIndex(function(G){return G.x===h&&G.y===c})>-1){if(!(i[0].x!==h||i[0].y!==c))return!0}else i.push({x:h,y:c});var B=a(h,c);switch(B){case-1:return console.warn("Marched out of bounds"),!0;case 0:case 3:case 2:case 7:h++;break;case 12:case 14:case 4:h--;break;case 6:v===0&&(x===-1?h-=1:h+=1);break;case 1:case 13:case 5:c--;break;case 9:v===1&&(x===0?c-=1:c+=1);break;case 10:case 8:case 11:c++;break;default:return console.warn("Marching squares invalid state: "+B),!0}}};this.march=function(){for(var s=0;s<r.width&&!e;s+=1)for(var l=0;l<r.height&&!e;l+=1)n(s,l)>t&&a(s,l)!==15&&(e=o(s,l));return e}}var z4=function(r,t,e){var n=Math.ceil(r/e),a=Math.ceil(t/e),o=new Float32Array(Math.max(0,n*a)).fill(0);return{cells:o,width:n,height:a}},X4=function(r,t,e){var n=null,a=Number.POSITIVE_INFINITY;return t.forEach(function(o){var s={x:r.getModel().x,y:r.getModel().y},l={x:o.getModel().x,y:o.getModel().y},f=Jl(s,l),h=new Eo(s.x,s.y,l.x,l.y),c=e.reduce(function(v,x){return Lh(x,h)>0?v+1:v},0);f*Math.pow(c+1,2)<a&&(n=o,a=f*Math.pow(c+1,2))}),n},Qx=function(r,t){var e=Number.POSITIVE_INFINITY,n=null;return r.forEach(function(a){var o=Lh(a,t);o>=0&&o<e&&(n=a,e=o)}),n},V4=function(r,t,e,n){var a=[],o=[];o.push(r);for(var s=!0,l=0,f=function(x,A){var B=!1;return A.forEach(function(G){B||(Ih(x,{x:G.x1,y:G.y1})||Ih(x,{x:G.x2,y:G.y2}))&&(B=!0)}),B},h=function(x,A){for(var B=0,G=A;B<G.length;B++){var H=G[B],X=H.getBBox(),ut=[[X.x,X.y],[X.x+X.width,X.y],[X.x,X.y+X.height],[X.x+X.width,X.y+X.height]];if(Ls(ut,x.x,x.y))return!0}return!1};s&&l<e;){s=!1;for(var c=function(){var x=o.pop(),A=Qx(t,x);if(A){var B=Gm(A,x),G=B[0],H=B[1];if(H===2){var X=function(ft){for(var xt=n,Yt=Jx(A,xt,G,ft),Kt=f(Yt,o)||f(Yt,a),te=h(Yt,t);!Kt&&te&&xt>=1;)xt/=1.5,Yt=Jx(A,xt,G,ft),Kt=f(Yt,o)||f(Yt,a),te=h(Yt,t);Yt&&!Kt&&(!ft||!te)&&(o.push(new Eo(x.x1,x.y1,Yt.x,Yt.y)),o.push(new Eo(Yt.x,Yt.y,x.x2,x.y2)),s=!0)};X(!0),s||X(!1)}}s||a.push(x),l+=1};!s&&o.length;)c()}for(;o.length;)a.push(o.pop());return a};function H4(i,r,t,e,n){var a=X4(i,t,r);if(a===null)return[];var o=function(c){for(var v=[];c.length>0;){var x=c.pop();if(c.length===0){v.push(x);break}var A=c.pop(),B=new Eo(x.x1,x.y1,A.x2,A.y2),G=Qx(r,B);G?(v.push(x),c.push(A)):c.push(B)}return v},s=new Eo(i.getModel().x,i.getModel().y,a.getModel().x,a.getModel().y),l=V4(s,r,e,n),f=o(l);return f}var W4=function(r,t,e){var n=Object.assign(G4,e),a=Ym(r.map(function(X){return{x:X.getModel().x,y:X.getModel().y}}));r=r.sort(function(X,ut){return Jl({x:X.getModel().x,y:X.getModel().y},a)-Jl({x:ut.getModel().x,y:ut.getModel().y},a)});var o=[],s=[];r.forEach(function(X){var ut=H4(X,t,o,n.maxRoutingIterations,n.morphBuffer);ut.forEach(function(ft){s.push(ft)}),o.push(X)});for(var l=j4(r,s,n.nodeR0),f=z4(l.width,l.height,n.pixelGroupSize),h=[],c=[],v=0;v<n.maxMarchingIterations;v++)if(U4(r,t,s,l,f,n),h=[],c=[],!!new Y4(h,f,n.threshold).march()){var x=h.map(function(X){return{x:Math.round(X.x*n.pixelGroupSize+l.minX),y:Math.round(X.y*n.pixelGroupSize+l.minY)}});if(x){var A=x.length;if(n.skip>1)for(A=Math.floor(x.length/n.skip);A<3&&n.skip>1;)n.skip-=1,A=Math.floor(x.length/n.skip);for(var B=0,G=0;G<A;G+=1,B+=n.skip)c.push({x:x[B].x,y:x[B].y})}var H=function(){for(var ut=0,ft=r;ut<ft.length;ut++){var xt=ft[ut],Yt=c.map(function(Kt){return[Kt.x,Kt.y]});if(!Ls(Yt,xt.getBBox().centerX,xt.getBBox().centerY))return!1}return!0};if(c&&H())return c;if(n.threshold*=.9,v<=n.maxMarchingIterations*.5)n.memberInfluenceFactor*=1.2,n.edgeInfluenceFactor*=1.2;else if(n.nonMemberInfluenceFactor!==0&&t.length>0)n.nonMemberInfluenceFactor*=.8;else break}return c};function j4(i,r,t){var e={minX:Number.POSITIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY,width:0,height:0,x:0,y:0},n=[];i.forEach(function(l){n.push(l.getBBox())}),r.forEach(function(l){n.push(l.getBBox())});for(var a=0,o=n;a<o.length;a++){var s=o[a];e.minX=(s.minX<e.minX?s.minX:e.minX)-t,e.minY=(s.minY<e.minY?s.minY:e.minY)-t,e.maxX=(s.maxX>e.maxX?s.maxX:e.maxX)+t,e.maxY=(s.maxY>e.maxY?s.maxY:e.maxY)+t}return e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.x=e.minX,e.y=e.minY,e}function U4(i,r,t,e,n,a){function o(x,A){var B=Math.floor((x-A)/a.pixelGroupSize);return B<0?0:B}function s(x,A){return x*a.pixelGroupSize+A}var l=(a.nodeR0-a.nodeR1)*(a.nodeR0-a.nodeR1),f=(a.edgeR0-a.edgeR1)*(a.edgeR0-a.edgeR1),h=function(A,B){var G=Math.min(o(A.minX,B+e.minX),n.width),H=Math.min(o(A.minY,B+e.minY),n.height),X=Math.min(o(A.maxX,-B+e.minX),n.width),ut=Math.min(o(A.maxY,-B+e.minY),n.height);return[G,H,X,ut]},c=function(A,B){for(var G=A.getBBox(),H=h(G,a.nodeR1),X=H[0],ut=H[1],ft=H[2],xt=H[3],Yt=ut;Yt<xt;Yt+=1)for(var Kt=X;Kt<ft;Kt+=1)if(!(B<0&&n[Kt+Yt*n.width]<=0)){var te=s(Kt,e.minX),Wt=s(Yt,e.minY),ae=Xm({x:te,y:Wt},{x:G.minX,y:G.minY,width:G.width,height:G.height});if(ae<Math.pow(a.nodeR1,2)){var ce=Math.sqrt(ae)-a.nodeR1;n.cells[Kt+Yt*n.width]+=B*ce*ce}}},v=function(A,B){for(var G=A.getBBox(),H=h(G,a.edgeR1),X=H[0],ut=H[1],ft=H[2],xt=H[3],Yt=ut;Yt<xt;Yt+=1)for(var Kt=X;Kt<ft;Kt+=1)if(!(B<0&&n.cells[Kt+Yt*n.width]<=0)){var te=s(Kt,e.minX),Wt=s(Yt,e.minY),ae=zm({x:te,y:Wt},A);if(ae<Math.pow(a.edgeR1,2)){var ce=Math.sqrt(ae)-a.edgeR1;n.cells[Kt+Yt*n.width]+=B*ce*ce}}};a.nodeInfluenceFactor&&i.forEach(function(x){c(x,a.nodeInfluenceFactor/l)}),a.edgeInfluenceFactor&&t.forEach(function(x){v(x,a.edgeInfluenceFactor/f)}),a.negativeNodeInfluenceFactor&&r.forEach(function(x){c(x,a.negativeNodeInfluenceFactor/l)})}function Jx(i,r,t,e){var n=i.getBBox(),a=t[0],o=t[1],s=t[2],l=t[3],f={topLeft:{x:n.minX-r,y:n.minY-r},topRight:{x:n.maxX+r,y:n.minY-r},bottomLeft:{x:n.minX-r,y:n.maxY+r},bottomRight:{x:n.maxX+r,y:n.maxY+r}},h=n.height*n.width;function c(A,B){return n.width*((A.y-n.minY+(B.y-n.minY))*.5)}if(o){if(a)return e?f.topLeft:f.bottomRight;if(s)return e?f.bottomLeft:f.topRight;var v=c(o,l);return v<h*.5?o.y>l.y?e?f.topLeft:f.bottomRight:e?f.topRight:f.bottomLeft:o.y<l.y?e?f.bottomLeft:f.topRight:e?f.bottomRight:f.topLeft}if(l){if(a)return e?f.topRight:f.bottomLeft;if(s)return e?f.bottomRight:f.topLeft}var x=c(a,s);return x<h*.5?a.x>s.x?e?f.topLeft:f.bottomRight:e?f.bottomLeft:f.topRight:a.x<s.x?e?f.topRight:f.bottomLeft:e?f.bottomRight:f.topLeft}var Z4=function(){function i(r,t){this.cfg=(0,u.deepMix)(this.getDefaultCfg(),t),this.graph=r,this.id=this.cfg.id,this.group=this.cfg.group,this.members=this.cfg.members.map(function(e){return(0,u.isString)(e)?r.findById(e):e}),this.nonMembers=this.cfg.nonMembers.map(function(e){return(0,u.isString)(e)?r.findById(e):e}),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()}return i.prototype.getDefaultCfg=function(){return{id:"g6-hull",type:"round-convex",members:[],nonMembers:[],style:{fill:"lightblue",stroke:"blue",opacity:.2},padding:10}},i.prototype.setPadding=function(){var r=this.members.length&&this.members[0].getKeyShape().getCanvasBBox().width/2;this.padding=this.cfg.padding>0?this.cfg.padding+r:10+r,this.cfg.bubbleCfg={nodeR0:this.padding-r,nodeR1:this.padding-r,morphBuffer:this.padding-r}},i.prototype.setType=function(){this.type=this.cfg.type,this.members.length<3&&(this.type="round-convex"),this.type!=="round-convex"&&this.type!=="smooth-convex"&&this.type!=="bubble"&&(console.warn("The hull type should be either round-convex, smooth-convex or bubble, round-convex is used by default."),this.type="round-convex")},i.prototype.calcPath=function(r,t){var e,n,a;switch(this.type){case"round-convex":e=$x(r),a=Zm(e.map(function(o){return[o.x,o.y]}),this.padding),n=(0,Us.parsePathString)(a);break;case"smooth-convex":e=$x(r),a=Km(e.map(function(o){return[o.x,o.y]}),this.padding),n=e.length>=2&&kh(a);break;case"bubble":e=W4(r,t,this.cfg.bubbleCfg),n=e.length>=2&&kh(e);break;default:}return n},i.prototype.render=function(){this.group.addShape("path",{attrs:(0,q.__assign)({path:this.path},this.cfg.style),id:this.id,name:this.cfg.id}),this.group.toBack()},i.prototype.addMember=function(r){if(!!r){(0,u.isString)(r)&&(r=this.graph.findById(r)),this.members.push(r);var t=this.nonMembers.indexOf(r);return t>-1&&this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},i.prototype.addNonMember=function(r){if(!!r){(0,u.isString)(r)&&(r=this.graph.findById(r)),this.nonMembers.push(r);var t=this.members.indexOf(r);return t>-1&&this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},i.prototype.removeMember=function(r){if(!!r){(0,u.isString)(r)&&(r=this.graph.findById(r));var t=this.members.indexOf(r);return t>-1?(this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0):!1}},i.prototype.removeNonMember=function(r){if(!!r){(0,u.isString)(r)&&(r=this.graph.findById(r));var t=this.nonMembers.indexOf(r);return t>-1?(this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0):!1}},i.prototype.updateData=function(r,t){var e=this;this.group.findById(this.id).remove(),r&&(this.members=r.map(function(n){return(0,u.isString)(n)?e.graph.findById(n):n})),t&&(this.nonMembers=t.map(function(n){return(0,u.isString)(n)?e.graph.findById(n):n})),this.path=this.calcPath(this.members,this.nonMembers),this.render()},i.prototype.updateStyle=function(r){var t=this.group.findById(this.id);t.attr((0,q.__assign)({},r))},i.prototype.updateCfg=function(r){var t=this;this.cfg=(0,u.deepMix)(this.cfg,r),this.id=this.cfg.id,this.group=this.cfg.group,r.members&&(this.members=this.cfg.members.map(function(e){return(0,u.isString)(e)?t.graph.findById(e):e})),r.nonMembers&&(this.nonMembers=this.cfg.nonMembers.map(function(e){return(0,u.isString)(e)?t.graph.findById(e):e})),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()},i.prototype.contain=function(r){var t=this,e;(0,u.isString)(r)?e=this.graph.findById(r):e=r;var n,a=e.getKeyShape();if(e.get("type")==="path")n=tu(a.attr("path"));else{var o=a.getCanvasBBox();n=[[o.minX,o.minY],[o.maxX,o.minY],[o.maxX,o.maxY],[o.minX,o.maxY]]}return n=n.map(function(s){var l=t.graph.getPointByCanvas(s[0],s[1]);return[l.x,l.y]}),Th(n,tu(this.path))},i.prototype.destroy=function(){this.group.remove(),this.cfg=null},i}(),K4=Z4,$4="node",Q4="svg",J4=function(i){(0,q.__extends)(r,i);function r(t){var e=i.call(this)||this;return e.cfg=(0,u.deepMix)(e.getDefaultCfg(),t),e.init(),e.animating=!1,e.destroyed=!1,e.cfg.enabledStack&&(e.undoStack=new Ux(e.cfg.maxStep),e.redoStack=new Ux(e.cfg.maxStep)),e}return r.prototype.init=function(){this.initCanvas();var t=new n3(this),e=new e3(this),n=new qR(this),a=new E3(this),o=new _4(this),s=new T4(this),l=new L4(this);this.set({eventController:t,viewController:e,modeController:n,itemController:a,layoutController:o,stateController:s,customGroupControll:l}),this.initPlugin()},r.prototype.initCanvas=function(){var t=this.get("container");if((0,u.isString)(t)&&(t=document.getElementById(t),this.set("container",t)),!t)throw new Error("invalid container");var e=this.get("width"),n=this.get("height"),a=this.get("renderer"),o;if(a===Q4)o=new Is.Z({container:t,width:e,height:n});else{var s={container:t,width:e,height:n},l=this.get("pixelRatio");l&&(s.pixelRatio=l),o=new _o.Z(s)}this.set("canvas",o),this.initGroups()},r.prototype.initPlugin=function(){var t=this;(0,u.each)(t.get("plugins"),function(e){!e.destroyed&&e.initPlugin&&e.initPlugin(t)})},r.prototype.initGroups=function(){var t=this.get("canvas"),e=this.get("canvas").get("el"),n=e.id,a=t.addGroup({id:n+"-root",className:Xe.rootContainerClassName});if(this.get("groupByTypes")){var o=a.addGroup({id:n+"-edge",className:Xe.edgeContainerClassName}),s=a.addGroup({id:n+"-node",className:Xe.nodeContainerClassName}),l=a.addGroup({id:n+"-combo",className:Xe.comboContainerClassName}),f=a.addGroup({id:n+"-group",className:Xe.customGroupContainerClassName});f.toBack(),l.toBack(),this.set({nodeGroup:s,edgeGroup:o,customGroup:f,comboGroup:l})}var h=a.addGroup({id:n+"-delegate",className:Xe.delegateContainerClassName});this.set({delegateGroup:h}),this.set("group",a)},r.prototype.getDefaultCfg=function(){return{container:void 0,width:void 0,height:void 0,renderer:"canvas",modes:{},plugins:[],data:{},fitViewPadding:10,minZoom:.2,maxZoom:10,event:!0,groupByTypes:!0,directed:!1,autoPaint:!0,nodes:[],edges:[],combos:[],vedges:[],itemMap:{},linkCenter:!1,defaultNode:{},defaultEdge:{},nodeStateStyles:{},edgeStateStyles:{},states:{},animate:!1,animateCfg:{onFrame:void 0,duration:500,easing:"easeLinear"},callback:void 0,groupType:"circle",groupBBoxs:{},groupNodes:{},groups:[],groupStyle:{},enabledStack:!1,maxStep:10,tooltips:[]}},r.prototype.set=function(t,e){return(0,u.isPlainObject)(t)?this.cfg=(0,q.__assign)((0,q.__assign)({},this.cfg),t):this.cfg[t]=e,this},r.prototype.get=function(t){return this.cfg[t]},r.prototype.getGroup=function(){return this.get("group")},r.prototype.getContainer=function(){return this.get("container")},r.prototype.getMinZoom=function(){return this.get("minZoom")},r.prototype.setMinZoom=function(t){return this.set("minZoom",t)},r.prototype.getMaxZoom=function(){return this.get("maxZoom")},r.prototype.setMaxZoom=function(t){return this.set("maxZoom",t)},r.prototype.getWidth=function(){return this.get("width")},r.prototype.getHeight=function(){return this.get("height")},r.prototype.clearItemStates=function(t,e){(0,u.isString)(t)&&(t=this.findById(t));var n=this.get("itemController");e||(e=t.get("states")),n.clearItemStates(t,e);var a=this.get("stateController");a.updateStates(t,e,!1)},r.prototype.node=function(t){typeof t=="function"&&this.set("nodeMapper",t)},r.prototype.edge=function(t){typeof t=="function"&&this.set("edgeMapper",t)},r.prototype.combo=function(t){typeof t=="function"&&this.set("comboMapper",t)},r.prototype.findById=function(t){return this.get("itemMap")[t]},r.prototype.find=function(t,e){var n,a=this.get(t+"s");return(0,u.each)(a,function(o,s){if(e(o,s))return n=o,n}),n},r.prototype.findAll=function(t,e){var n=[];return(0,u.each)(this.get(t+"s"),function(a,o){e(a,o)&&n.push(a)}),n},r.prototype.findAllByState=function(t,e){return this.findAll(t,function(n){return n.hasState(e)})},r.prototype.translate=function(t,e){var n=this.get("group"),a=(0,u.clone)(n.getMatrix());a||(a=[1,0,0,0,1,0,0,0,1]),ma.wO.translate(a,a,[t,e]),n.setMatrix(a),this.emit("viewportchange",{action:"translate",matrix:n.getMatrix()}),this.autoPaint()},r.prototype.moveTo=function(t,e){var n=this.get("group");Rm(n,{x:t,y:e}),this.emit("viewportchange",{action:"move",matrix:n.getMatrix()})},r.prototype.fitView=function(t){t&&this.set("fitViewPadding",t);var e=this.get("viewController");e.fitView(),this.autoPaint()},r.prototype.fitCenter=function(){var t=this.get("viewController");t.fitCenter(),this.autoPaint()},r.prototype.addBehaviors=function(t,e){var n=this.get("modeController");return n.manipulateBehaviors(t,e,!0),this},r.prototype.removeBehaviors=function(t,e){var n=this.get("modeController");return n.manipulateBehaviors(t,e,!1),this},r.prototype.zoom=function(t,e){var n=this.get("group"),a=(0,u.clone)(n.getMatrix()),o=this.get("minZoom"),s=this.get("maxZoom");a||(a=[1,0,0,0,1,0,0,0,1]),e?(ma.wO.translate(a,a,[-e.x,-e.y]),ma.wO.scale(a,a,[t,t]),ma.wO.translate(a,a,[e.x,e.y])):ma.wO.scale(a,a,[t,t]),!(o&&a[0]<o||s&&a[0]>s)&&(n.setMatrix(a),this.emit("viewportchange",{action:"zoom",matrix:a}),this.autoPaint())},r.prototype.zoomTo=function(t,e){var n=t/this.getZoom();this.zoom(n,e)},r.prototype.focusItem=function(t,e,n){var a=this.get("viewController"),o=!1;e?o=!0:e===void 0&&(o=this.get("animate"));var s={};n?s=n:n===void 0&&(s=this.get("animateCfg")),a.focus(t,o,s),this.autoPaint()},r.prototype.autoPaint=function(){this.get("autoPaint")&&this.paint()},r.prototype.paint=function(){this.emit("beforepaint"),this.get("canvas").draw(),this.emit("afterpaint")},r.prototype.getPointByClient=function(t,e){var n=this.get("viewController");return n.getPointByClient(t,e)},r.prototype.getClientByPoint=function(t,e){var n=this.get("viewController");return n.getClientByPoint(t,e)},r.prototype.getPointByCanvas=function(t,e){var n=this.get("viewController");return n.getPointByCanvas(t,e)},r.prototype.getCanvasByPoint=function(t,e){var n=this.get("viewController");return n.getCanvasByPoint(t,e)},r.prototype.showItem=function(t,e){e===void 0&&(e=!0);var n=this.get("itemController"),a=n.changeItemVisibility(t,!0);if(e&&this.get("enabledStack")){var o=a.getID(),s=a.getType(),l={},f={};switch(s){case"node":l.nodes=[{id:o,visible:!1}],f.nodes=[{id:o,visible:!0}];break;case"edge":l.nodes=[{id:o,visible:!1}],f.edges=[{id:o,visible:!0}];break;case"combo":l.nodes=[{id:o,visible:!1}],f.combos=[{id:o,visible:!0}];break;default:break}this.pushStack("visible",{before:l,after:f})}},r.prototype.hideItem=function(t,e){e===void 0&&(e=!0);var n=this.get("itemController"),a=n.changeItemVisibility(t,!1);if(e&&this.get("enabledStack")){var o=a.getID(),s=a.getType(),l={},f={};switch(s){case"node":l.nodes=[{id:o,visible:!0}],f.nodes=[{id:o,visible:!1}];break;case"edge":l.nodes=[{id:o,visible:!0}],f.edges=[{id:o,visible:!1}];break;case"combo":l.nodes=[{id:o,visible:!0}],f.combos=[{id:o,visible:!1}];break;default:break}this.pushStack("visible",{before:l,after:f})}},r.prototype.refreshItem=function(t){var e=this.get("itemController");e.refreshItem(t)},r.prototype.setAutoPaint=function(t){var e=this;e.set("autoPaint",t);var n=e.get("canvas");n.set("autoDraw",t)},r.prototype.remove=function(t,e){e===void 0&&(e=!0),this.removeItem(t,e)},r.prototype.removeItem=function(t,e){e===void 0&&(e=!0);var n=t;if((0,u.isString)(t)&&(n=this.findById(t)),!n&&(0,u.isString)(t)){console.warn("The item to be removed does not exist!");var a=this.get("customGroupControll");a.remove(t)}else if(n){var o="";if(n.getType&&(o=n.getType()),e&&this.get("enabledStack")){var s=(0,q.__assign)((0,q.__assign)({},n.getModel()),{itemType:o}),l={};switch(o){case"node":{l.nodes=[s],l.edges=[];for(var f=n.getEdges(),h=f.length-1;h>=0;h--)l.edges.push((0,q.__assign)((0,q.__assign)({},f[h].getModel()),{itemType:"edge"}));break}case"edge":l.edges=[s];break;case"combo":l.combos=[s];break;default:break}this.pushStack("delete",{before:l,after:{}})}var c=this.get("itemController");if(c.removeItem(t),o==="combo"){var v=Rh(this.get("comboTrees"));this.set("comboTrees",v)}}},r.prototype.addItem=function(t,e,n,a){n===void 0&&(n=!0),a===void 0&&(a=!0);var o=this.get("comboSorted");this.set("comboSorted",o&&!a);var s=this.get("itemController");if(t==="group"){var l=e.groupId,f=e.nodes,h=e.type,c=e.zIndex,v=e.title,x=v;return(0,u.isString)(v)&&(x={text:v}),this.get("customGroupControll").create(l,f,h,c,!0,x)}if(e.id&&this.findById(e.id)){console.warn("This item exists already. Be sure the id %c"+e.id+"%c is unique.","font-size: 20px; color: red;","");return}var A,B=this.get("comboTrees");if(B||(B=[]),t==="combo"){var G=this.get("itemMap"),H=!1;if(B.forEach(function(ae){H||fa(ae,function(ce){if(e.parentId===ce.id){H=!0;var he=(0,q.__assign)({id:e.id,depth:ce.depth+2},e);ce.children?ce.children.push(he):ce.children=[he],e.depth=he.depth,A=s.addItem(t,e)}var Pe=G[ce.id];return H&&Pe&&Pe.getType&&Pe.getType()==="combo"&&s.updateCombo(Pe,ce.children),!0})}),!H){var X=(0,q.__assign)({id:e.id,depth:0},e);e.depth=X.depth,B.push(X),A=s.addItem(t,e)}this.set("comboTrees",B)}else if(t==="node"&&(0,u.isString)(e.comboId)&&B){var ut=this.findById(e.comboId);if(ut&&ut.getType&&ut.getType()!=="combo"){console.warn("'"+e.comboId+"' is a not id of a combo in the graph, the node will be added without combo.");return}A=s.addItem(t,e);var ft=this.get("itemMap"),xt=!1,Yt=!1;(B||[]).forEach(function(ae){Yt||xt||fa(ae,function(ce){if(ce.id===e.id)return Yt=!0,!1;if(e.comboId===ce.id&&!Yt){xt=!0;var he=(0,u.clone)(e);he.itemType="node",ce.children?ce.children.push(he):ce.children=[he],e.depth=ce.depth+1}return xt&&ft[ce.id].getType&&ft[ce.id].getType()==="combo"&&s.updateCombo(ft[ce.id],ce.children),!0})})}else A=s.addItem(t,e);if(t==="node"&&e.comboId||t==="combo"&&e.parentId){var ut=this.findById(e.comboId||e.parentId);ut&&ut.addChild(A)}var Kt=this.get("combos");if(Kt&&Kt.length>0&&this.sortCombos(),this.autoPaint(),n&&this.get("enabledStack")){var te=(0,q.__assign)((0,q.__assign)({},A.getModel()),{itemType:t}),Wt={};switch(t){case"node":Wt.nodes=[te];break;case"edge":Wt.edges=[te];break;case"combo":Wt.combos=[te];break;default:break}this.pushStack("add",{before:{},after:Wt})}return A},r.prototype.add=function(t,e,n,a){return n===void 0&&(n=!0),a===void 0&&(a=!0),this.addItem(t,e,n,a)},r.prototype.updateItem=function(t,e,n){var a=this;n===void 0&&(n=!0);var o=this.get("itemController"),s;(0,u.isString)(t)?s=this.findById(t):s=t;var l=(0,u.clone)(s.getModel()),f="";s.getType&&(f=s.getType());var h=(0,q.__spreadArrays)(s.getStates());if(f==="combo"&&(0,u.each)(h,function(A){return a.setItemState(s,A,!1)}),o.updateItem(s,e),f==="combo"&&(0,u.each)(h,function(A){return a.setItemState(s,A,!0)}),n&&this.get("enabledStack")){var c={nodes:[],edges:[],combos:[]},v={nodes:[],edges:[],combos:[]},x=(0,q.__assign)({id:l.id},e);switch(f){case"node":c.nodes.push(l),v.nodes.push(x);break;case"edge":c.edges.push(l),v.edges.push(x);break;case"combo":c.combos.push(l),v.combos.push(x);break;default:break}f==="node"&&c.nodes.push(l),this.pushStack("update",{before:c,after:v})}},r.prototype.update=function(t,e,n){n===void 0&&(n=!0),this.updateItem(t,e,n)},r.prototype.setItemState=function(t,e,n){(0,u.isString)(t)&&(t=this.findById(t));var a=this.get("itemController");a.setItemState(t,e,n);var o=this.get("stateController");(0,u.isString)(n)?o.updateState(t,e+":"+n,!0):o.updateState(t,e,n)},r.prototype.priorityState=function(t,e){var n=this.get("itemController");n.priorityState(t,e)},r.prototype.data=function(t){this.set("data",t)},r.prototype.render=function(){var t=this;this.set("comboSorted",!1);var e=this.get("data");if(this.get("enabledStack")&&this.clearStack(),!e)throw new Error("data must be defined first");var n=e.nodes,a=n===void 0?[]:n,o=e.edges,s=o===void 0?[]:o,l=e.combos,f=l===void 0?[]:l;if(this.clear(),this.emit("beforerender"),(0,u.each)(a,function(X){t.add("node",X,!1,!1)}),f&&f.length!==0){var h=Fh(f,a);this.set("comboTrees",h),t.addCombos(f)}(0,u.each)(s,function(X){t.add("edge",X,!1,!1)});var c=t.get("animate");(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",!1);var v=t.get("layoutController");v.layout(x)||x();function x(){t.get("fitView")?t.fitView():t.get("fitCenter")&&t.fitCenter(),t.autoPaint(),t.emit("afterrender"),(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",c)}if(!this.get("groupByTypes"))if(f&&f.length!==0)this.sortCombos();else if(e.nodes&&e.edges&&e.nodes.length<e.edges.length){var A=this.getNodes();A.forEach(function(X){X.toFront()})}else{var B=this.getEdges();B.forEach(function(X){X.toBack()})}if(e.nodes){var G=e.nodes.filter(function(X){return X.groupId});if(G.length>0){var H=t.get("groupType");this.renderCustomGroup(e,H)}}this.get("enabledStack")&&this.pushStack("render")},r.prototype.read=function(t){this.data(t),this.render()},r.prototype.diffItems=function(t,e,n){var a=this,o,s=this.get("itemMap");(0,u.each)(n,function(l){if(o=s[l.id],o){if(a.get("animate")&&t===$4){var f=o.getContainer().getMatrix();f||(f=[1,0,0,0,1,0,0,0,1]),o.set("originAttrs",{x:f[6],y:f[7]})}a.updateItem(o,l,!1)}else o=a.addItem(t,l,!1);e[t+"s"].push(o)})},r.prototype.changeData=function(t,e){e===void 0&&(e=!0);var n=this;if(!t)return this;e&&this.get("enabledStack")&&this.pushStack("changedata",{before:n.save(),after:t}),this.set("comboSorted",!1),this.getNodes().map(function(B){return n.clearItemStates(B)}),this.getEdges().map(function(B){return n.clearItemStates(B)});var a=this.get("canvas"),o=a.get("localRefresh");a.set("localRefresh",!1),n.get("data")||(n.data(t),n.render());var s=this.get("itemMap"),l={nodes:[],edges:[]},f=t.combos;if(f){var h=Fh(f,t.nodes);this.set("comboTrees",h)}this.diffItems("node",l,t.nodes),(0,u.each)(s,function(B,G){s[G].getModel().depth=0,!(B.getType&&B.getType()==="edge")&&(B.getType&&B.getType()==="combo"?(delete s[G],B.destroy()):l.nodes.indexOf(B)<0&&(delete s[G],n.remove(B,!1)))});for(var c=this.getCombos(),v=c.length,x=v-1;x>=0;x--)c[x].destroyed&&c.splice(x,1);f&&(n.addCombos(f),this.get("groupByTypes")||this.sortCombos()),this.diffItems("edge",l,t.edges),(0,u.each)(s,function(B,G){B.getType&&(B.getType()==="node"||B.getType()==="combo")||l.edges.indexOf(B)<0&&(delete s[G],n.remove(B,!1))}),this.set({nodes:l.nodes,edges:l.edges});var A=this.get("layoutController");return A.changeData(),n.get("animate")&&!A.getLayoutType()?n.positionsAnimate():n.autoPaint(),setTimeout(function(){a.set("localRefresh",o)},16),this},r.prototype.addCombos=function(t){var e=this,n=e.get("comboTrees"),a=this.get("itemController");a.addCombos(n,t)},r.prototype.createCombo=function(t,e){var n=this;this.set("comboSorted",!1);var a="",o;if(!!t){if((0,u.isString)(t))a=t,o={id:t};else{if(a=t.id,!a){console.warn("Create combo failed. Please assign a unique string id for the adding combo.");return}o=t}var s=e.map(function(f){var h=n.findById(f),c="";h.getType&&(c=h.getType());var v={id:h.getID(),itemType:c};return c==="combo"?v.parentId=a:c==="node"&&(v.comboId=a),v});o.children=s,this.addItem("combo",o,!1),this.set("comboSorted",!1);var l=this.get("comboTrees");(l||[]).forEach(function(f){fa(f,function(h){return h.id===a?(h.itemType="combo",h.children=s,!1):!0})}),l&&this.sortCombos()}},r.prototype.uncombo=function(t){var e=this,n,a=this,o=t;if((0,u.isString)(t)&&(o=this.findById(t)),!o||o.getType&&o.getType()!=="combo"){console.warn("The item is not a combo!");return}var s=o.getModel().parentId,l=a.get("comboTrees");l||(l=[]);var f=this.get("itemMap"),h=o.get("id"),c,v=[],x=this.get("combos"),A=this.findById(s);if(l.forEach(function(G){c||fa(G,function(H){var X;if(H.id===h){c=H;var ut=o.getEdges();ut.forEach(function(xt){e.removeItem(xt,!1)});var ft=x.indexOf(t);x.splice(ft,1),delete f[h],o.destroy()}if(s&&c&&H.id===s){A.removeCombo(o),v=H.children;var ft=v.indexOf(c);return ft!==-1&&v.splice(ft,1),(X=c.children)===null||X===void 0||X.forEach(function(Yt){var Kt=e.findById(Yt.id),te=Kt.getModel();Kt.getType&&Kt.getType()==="combo"?(Yt.parentId=s,delete Yt.comboId,te.parentId=s,delete te.comboId):Kt.getType&&Kt.getType()==="node"&&(Yt.comboId=s,te.comboId=s),A.addChild(Kt),v.push(Yt)}),!1}return!0})}),!s&&c){var B=l.indexOf(c);l.splice(B,1),(n=c.children)===null||n===void 0||n.forEach(function(G){G.parentId=void 0;var H=e.findById(G.id).getModel();H.parentId=void 0,G.itemType!=="node"&&l.push(G)})}},r.prototype.updateCombos=function(){var t=this,e=this,n=this.get("comboTrees"),a=e.get("itemController"),o=e.get("itemMap");(n||[]).forEach(function(s){fa(s,function(l){if(!l)return!0;var f=o[l.id];if(f&&f.getType&&f.getType()==="combo"){var h=(0,q.__spreadArrays)(f.getStates());(0,u.each)(h,function(c){return t.setItemState(f,c,!1)}),a.updateCombo(f,l.children),(0,u.each)(h,function(c){return t.setItemState(f,c,!0)})}return!0})}),e.sortCombos()},r.prototype.updateCombo=function(t){var e=this,n=this,a=t,o;if((0,u.isString)(t)&&(a=this.findById(t)),!a||a.getType&&a.getType()!=="combo"){console.warn("The item to be updated is not a combo!");return}o=a.get("id");var s=this.get("comboTrees"),l=n.get("itemController"),f=n.get("itemMap");(s||[]).forEach(function(h){fa(h,function(c){if(!c)return!0;var v=f[c.id];if(o===c.id&&v&&v.getType&&v.getType()==="combo"){var x=(0,q.__spreadArrays)(v.getStates());(0,u.each)(x,function(A){v.getStateStyle(A)&&e.setItemState(v,A,!1)}),l.updateCombo(v,c.children),(0,u.each)(x,function(A){v.getStateStyle(A)&&e.setItemState(v,A,!0)}),o&&(o=c.parentId)}return!0})})},r.prototype.updateComboTree=function(t,e){var n=this;this.set("comboSorted",!1);var a;(0,u.isString)(t)?a=n.findById(t):a=t;var o=a.getModel(),s=o.comboId||o.parentId;if(e&&a.getType&&a.getType()==="combo"){var l=this.get("comboTrees"),f=!0,h;if((l||[]).forEach(function(B){h||Ri(B,function(G){if(!h)return G.id===a.getID()&&(h=G),!0})}),Ri(h,function(B){return B.id===e?(f=!1,!1):!0}),!f){console.warn("Failed to update the combo tree! The parentId points to a descendant of the combo!");return}}if(o.parentId||o.comboId){var c=this.findById(o.parentId||o.comboId);c&&c.removeChild(a)}var v="";if(a.getType&&(v=a.getType()),v==="combo"?o.parentId=e:v==="node"&&(o.comboId=e),e){var x=this.findById(e);x&&x.addChild(a)}if(s){var x=this.findById(s);x&&x.removeChild(a)}var A=Rh(this.get("comboTrees"),o.id,e);this.set("comboTrees",A),this.updateCombos()},r.prototype.renderCustomGroup=function(t,e){var n=this,a=t.groups,o=t.nodes,s=o===void 0?[]:o,l=10;if(a){this.set({groups:a});var v=QR(t);Object.keys(v).forEach(function(A){var B=v[A];n.get("customGroupControll").create(A,B,e,l),l--});var x=this.get("customGroup");x.sort()}else{var f=s.filter(function(A){return A.groupId}),h=[],c=(0,u.groupBy)(f,"groupId");Object.keys(c).forEach(function(A){var B=c[A].map(function(G){return G.id});n.get("customGroupControll").create(A,B,e,l),l--,h.find(function(G){return G.id===A})||h.push({id:A})}),this.set({groups:h})}},r.prototype.save=function(){var t=[],e=[],n=[];return(0,u.each)(this.get("nodes"),function(a){t.push(a.getModel())}),(0,u.each)(this.get("edges"),function(a){e.push(a.getModel())}),(0,u.each)(this.get("combos"),function(a){n.push(a.getModel())}),{nodes:t,edges:e,combos:n,groups:this.get("groups")}},r.prototype.changeSize=function(t,e){var n=this.get("viewController");return n.changeSize(t,e),this},r.prototype.refresh=function(){var t=this;if(t.emit("beforegraphrefresh"),t.get("animate"))t.positionsAnimate();else{var e=t.get("nodes"),n=t.get("edges"),a=t.get("edges");(0,u.each)(e,function(o){o.refresh()}),(0,u.each)(n,function(o){o.refresh()}),(0,u.each)(a,function(o){o.refresh()})}t.emit("aftergraphrefresh"),t.autoPaint()},r.prototype.getNodes=function(){return this.get("nodes")},r.prototype.getEdges=function(){return this.get("edges")},r.prototype.getCombos=function(){return this.get("combos")},r.prototype.getComboChildren=function(t){if((0,u.isString)(t)&&(t=this.findById(t)),!t||t.getType&&t.getType()!=="combo"){console.warn("The combo does not exist!");return}return t.getChildren()},r.prototype.positionsAnimate=function(){var t=this;t.emit("beforeanimate");var e=t.get("animateCfg"),n=e.onFrame,a=t.getNodes(),o=a.map(function(l){var f=l.getModel();return{id:f.id,x:f.x,y:f.y}});t.isAnimating()&&t.stopAnimate();var s=t.get("canvas");s.animate(function(l){(0,u.each)(o,function(f){var h=t.findById(f.id);if(!(!h||h.destroyed)){var c=h.get("originAttrs"),v=h.get("model");if(!c){var x=h.getContainer().getMatrix();x||(x=[1,0,0,0,1,0,0,0,1]),c={x:x[6],y:x[7]},h.set("originAttrs",c)}if(n){var A=n(h,l,f,c);h.set("model",Object.assign(v,A))}else v.x=c.x+(f.x-c.x)*l,v.y=c.y+(f.y-c.y)*l}}),t.refreshPositions()},{duration:e.duration,easing:e.easing,callback:function(){(0,u.each)(a,function(f){f.set("originAttrs",null)}),e.callback&&e.callback(),t.emit("afteranimate"),t.animating=!1}})},r.prototype.refreshPositions=function(){var t=this;t.emit("beforegraphrefreshposition");var e=t.get("nodes"),n=t.get("edges"),a=t.get("vedges"),o=t.get("combos"),s,l={};(0,u.each)(e,function(f){s=f.getModel();var h=f.get("originAttrs");h&&s.x===h.x&&s.y===h.y||(f.updatePosition({x:s.x,y:s.y}),l[s.id]=!0,s.comboId&&(l[s.comboId]=!0))}),o&&o.length!==0&&t.updateCombos(),(0,u.each)(n,function(f){var h=f.getSource().getModel(),c=f.getTarget().getModel();(l[h.id]||l[c.id]||f.getModel().isComboEdge)&&f.refresh()}),(0,u.each)(a,function(f){f.refresh()}),t.emit("aftergraphrefreshposition"),t.autoPaint()},r.prototype.stopAnimate=function(){this.get("canvas").stopAnimate()},r.prototype.isAnimating=function(){return this.animating},r.prototype.getZoom=function(){var t=this.get("group").getMatrix();return t?t[0]:1},r.prototype.getCurrentMode=function(){var t=this.get("modeController");return t.getMode()},r.prototype.setMode=function(t){var e=this.get("modeController");return e.setMode(t),this},r.prototype.clear=function(){var t=this.get("canvas");return t.clear(),this.initGroups(),this.set({itemMap:{},nodes:[],edges:[],groups:[],combos:[],comboTrees:[]}),this.emit("afterrender"),this},r.prototype.toDataURL=function(t,e){var n=this.get("canvas"),a=n.getRenderer(),o=n.get("el");t||(t="image/png");var s="";if(a==="svg"){var l=o.cloneNode(!0),f=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),h=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",f);h.replaceChild(l,h.documentElement);var c=new XMLSerializer().serializeToString(h);s="data:image/svg+xml;charset=utf8,"+encodeURIComponent(c)}else{var v=void 0,x=o.getContext("2d"),A=this.get("width"),B=this.get("height"),G=void 0;if(e){var H=window.devicePixelRatio;v=x.getImageData(0,0,A*H,B*H),G=x.globalCompositeOperation,x.globalCompositeOperation="destination-over",x.fillStyle=e,x.fillRect(0,0,A,B)}s=o.toDataURL(t),e&&(x.clearRect(0,0,A,B),x.putImageData(v,0,0),x.globalCompositeOperation=G)}return s},r.prototype.toFullDataURL=function(t,e,n){var a=this.get("group").getCanvasBBox(),o=a.height,s=a.width,l=this.get("renderer"),f=(0,$n.Z)('<id="virtual-image"></div>'),h=n?n.backgroundColor:void 0,c=n?n.padding:void 0;c?(0,u.isNumber)(c)&&(c=[c,c,c,c]):c=[0,0,0,0];var v=o+c[0]+c[2],x=s+c[1]+c[3],A={container:f,height:v,width:x,quickHit:!0},B=l==="svg"?new Is.Z(A):new _o.Z(A),G=this.get("group"),H=G.clone(),X=(0,u.clone)(H.getMatrix());X||(X=[1,0,0,0,1,0,0,0,1]);var ut=(a.maxX+a.minX)/2,ft=(a.maxY+a.minY)/2;ma.wO.translate(X,X,[-ut,-ft]),ma.wO.translate(X,X,[s/2+c[3],o/2+c[0]]),H.resetMatrix(),H.setMatrix(X),B.add(H);var xt=B.get("el"),Yt="";e||(e="image/png"),setTimeout(function(){if(l==="svg"){var Kt=xt.cloneNode(!0),te=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),Wt=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",te);Wt.replaceChild(Kt,Wt.documentElement);var ae=new XMLSerializer().serializeToString(Wt);Yt="data:image/svg+xml;charset=utf8,"+encodeURIComponent(ae)}else{var ce=void 0,he=xt.getContext("2d"),Pe=void 0;if(h){var Be=window.devicePixelRatio;ce=he.getImageData(0,0,x*Be,v*Be),Pe=he.globalCompositeOperation,he.globalCompositeOperation="destination-over",he.fillStyle=h,he.fillRect(0,0,x,v)}Yt=xt.toDataURL(e),h&&(he.clearRect(0,0,x,v),he.putImageData(ce,0,0),he.globalCompositeOperation=Pe)}t==null||t(Yt)},16)},r.prototype.downloadFullImage=function(t,e,n){var a=this,o=this.get("group").getCanvasBBox(),s=o.height,l=o.width,f=this.get("renderer"),h=(0,$n.Z)('<id="virtual-image"></div>'),c=n?n.backgroundColor:void 0,v=n?n.padding:void 0;v?(0,u.isNumber)(v)&&(v=[v,v,v,v]):v=[0,0,0,0];var x=s+v[0]+v[2],A=l+v[1]+v[3],B={container:h,height:x,width:A},G=f==="svg"?new Is.Z(B):new _o.Z(B),H=this.get("group"),X=H.clone(),ut=(0,u.clone)(X.getMatrix());ut||(ut=[1,0,0,0,1,0,0,0,1]);var ft=(o.maxX+o.minX)/2,xt=(o.maxY+o.minY)/2;ma.wO.translate(ut,ut,[-ft,-xt]),ma.wO.translate(ut,ut,[l/2+v[3],s/2+v[0]]),X.resetMatrix(),X.setMatrix(ut),G.add(X);var Yt=G.get("el");e||(e="image/png"),setTimeout(function(){var Kt="";if(f==="svg"){var te=Yt.cloneNode(!0),Wt=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),ae=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",Wt);ae.replaceChild(te,ae.documentElement);var ce=new XMLSerializer().serializeToString(ae);Kt="data:image/svg+xml;charset=utf8,"+encodeURIComponent(ce)}else{var he=void 0,Pe=Yt.getContext("2d"),Be=void 0;if(c){var ke=window.devicePixelRatio;he=Pe.getImageData(0,0,A*ke,x*ke),Be=Pe.globalCompositeOperation,Pe.globalCompositeOperation="destination-over",Pe.fillStyle=c,Pe.fillRect(0,0,A,x)}Kt=Yt.toDataURL(e),c&&(Pe.clearRect(0,0,A,x),Pe.putImageData(he,0,0),Pe.globalCompositeOperation=Be)}var We=document.createElement("a"),Ke=(t||"graph")+(f==="svg"?".svg":"."+e.split("/")[1]);a.dataURLToImage(Kt,f,We,Ke);var $e=document.createEvent("MouseEvents");$e.initEvent("click",!1,!1),We.dispatchEvent($e)},16)},r.prototype.downloadImage=function(t,e,n){var a=this,o=this;o.isAnimating()&&o.stopAnimate();var s=o.get("canvas"),l=s.getRenderer();e||(e="image/png");var f=(t||"graph")+(l==="svg"?".svg":e.split("/")[1]),h=document.createElement("a");setTimeout(function(){var c=o.toDataURL(e,n);a.dataURLToImage(c,l,h,f);var v=document.createEvent("MouseEvents");v.initEvent("click",!1,!1),h.dispatchEvent(v)},16)},r.prototype.dataURLToImage=function(t,e,n,a){if(typeof window!="undefined")if(window.Blob&&window.URL&&e!=="svg"){var o=t.split(","),s="";if(o&&o.length>0){var l=o[0].match(/:(.*?);/);l&&l.length>=2&&(s=l[1])}for(var f=atob(o[1]),h=f.length,c=new Uint8Array(h);h--;)c[h]=f.charCodeAt(h);var v=new Blob([c],{type:s});window.navigator.msSaveBlob?window.navigator.msSaveBlob(v,a):n.addEventListener("click",function(){n.download=a,n.href=window.URL.createObjectURL(v)})}else n.addEventListener("click",function(){n.download=a,n.href=t})},r.prototype.updateLayout=function(t){var e=this.get("layoutController"),n;(0,u.isString)(t)?(n=t,t={type:n}):n=t.type;var a=this.get("layout"),o=a?a.type:void 0;if(!n||o===n){var s={};Object.assign(s,a,t),s.type=o||"random",this.set("layout",s),e.updateLayoutCfg(s)}else this.set("layout",t),e.changeLayout(n)},r.prototype.destroyLayout=function(){var t=this.get("layoutController");t.destroyLayout()},r.prototype.layout=function(){var t=this.get("layoutController"),e=this.get("layout");if(!!e){if(e.workerEnabled){t.layout();return}t.layoutMethod?t.relayout(!0):t.layout()}},r.prototype.collapseCombo=function(t){var e=this;if((0,u.isString)(t)&&(t=this.findById(t)),!t){console.warn("The combo to be collapsed does not exist!");return}var n=t.getModel(),a=this.get("itemController");a.collapseCombo(t),n.collapsed=!0;var o=this.getEdges().concat(this.get("vedges")),s=[],l=[],f=this.get("comboTrees"),h=!1,c={};(f||[]).forEach(function(A){c[A.id]=A}),(f||[]).forEach(function(A){h||Ri(A,function(B){if(h&&c[B.id])return!1;if(n.parentId===B.id?(c={},B.children.forEach(function(H){c[H.id]=H})):n.id===B.id&&(h=!0),h){var G=e.findById(B.id);G&&G.getType&&G.getType()==="combo"&&(s=s.concat(G.getNodes()),l=l.concat(G.getCombos()))}return!0})});var v={},x=[];o.forEach(function(A){if(!(A.isVisible()&&!A.getModel().isVEdge)){var B=A.getSource(),G=A.getTarget();if((s.includes(B)||l.includes(B))&&!s.includes(G)&&!l.includes(G)||B.getModel().id===n.id){var H=A.getModel();if(H.isVEdge){e.removeItem(A,!1);return}for(var X=G.getModel();!G.isVisible();){if(G=e.findById(X.parentId||X.comboId),!G||!X.parentId&&!X.comboId)return;X=G.getModel()}var ut=X.id;if(v[n.id+"-"+ut]){v[n.id+"-"+ut]+=H.size||1;return}var ft=e.addItem("vedge",{source:n.id,target:ut,isVEdge:!0},!1);v[n.id+"-"+ut]=H.size||1,x.push(ft)}else if(!s.includes(B)&&!l.includes(B)&&(s.includes(G)||l.includes(G))||G.getModel().id===n.id){var H=A.getModel();if(H.isVEdge){e.removeItem(A,!1);return}for(var xt=B.getModel();!B.isVisible();){if(B=e.findById(xt.parentId||xt.comboId),!B||!xt.parentId&&!xt.comboId)return;xt=B.getModel()}var Yt=xt.id;if(v[Yt+"-"+n.id]){v[Yt+"-"+n.id]+=H.size||1;return}var ft=e.addItem("vedge",{target:n.id,source:Yt,isVEdge:!0},!1);v[Yt+"-"+n.id]=H.size||1,x.push(ft)}}}),x.forEach(function(A){var B=A.getModel();e.updateItem(A,{size:v[B.source+"-"+B.target]},!1)})},r.prototype.expandCombo=function(t){var e=this;if((0,u.isString)(t)&&(t=this.findById(t)),!t||t.getType&&t.getType()!=="combo"){console.warn("The combo to be collapsed does not exist!");return}var n=t.getModel(),a=this.get("itemController");a.expandCombo(t),n.collapsed=!1;var o=this.getEdges().concat(this.get("vedges")),s=[],l=[],f=this.get("comboTrees"),h=!1,c={};(f||[]).forEach(function(A){c[A.id]=A}),(f||[]).forEach(function(A){h||Ri(A,function(B){if(h&&c[B.id])return!1;if(n.parentId===B.id?(c={},B.children.forEach(function(H){c[H.id]=H})):n.id===B.id&&(h=!0),h){var G=e.findById(B.id);G&&G.getType&&G.getType()==="combo"&&(s=s.concat(G.getNodes()),l=l.concat(G.getCombos()))}return!0})});var v={},x={};o.forEach(function(A){if(!(A.isVisible()&&!A.getModel().isVEdge)){var B=A.getSource(),G=A.getTarget(),H=B.get("id"),X=G.get("id");if((s.includes(B)||l.includes(B))&&!s.includes(G)&&!l.includes(G)||H===n.id){if(A.getModel().isVEdge){e.removeItem(A,!1);return}for(var ut=G.getModel();!G.isVisible();){if(G=e.findById(ut.comboId||ut.parentId),!G||!ut.parentId&&!ut.comboId)return;ut=G.getModel()}X=ut.id;for(var ft=B.getModel();!B.isVisible();){if(B=e.findById(ft.comboId||ft.parentId),!B||!ft.parentId&&!ft.comboId)return;if(ft.comboId===n.id||ft.parentId===n.id)break;ft=B.getModel()}if(H=ft.id,X){var xt=H+"-"+X;if(v[xt]){v[xt]+=A.getModel().size||1,e.updateItem(x[xt],{size:v[xt]},!1);return}var Yt=e.addItem("vedge",{source:H,target:X,isVEdge:!0},!1);v[xt]=A.getModel().size||1,x[xt]=Yt}}else if(!s.includes(B)&&!l.includes(B)&&(s.includes(G)||l.includes(G))||X===n.id){if(A.getModel().isVEdge){e.removeItem(A,!1);return}for(var ft=B.getModel();!B.isVisible();){if(B=e.findById(ft.comboId||ft.parentId),!B||!ft.parentId&&!ft.comboId)return;ft=B.getModel()}H=ft.id;for(var ut=G.getModel();!G.isVisible();){if(G=e.findById(ut.comboId||ut.parentId),!G||!ut.parentId&&!ut.comboId)return;if(ut.comboId===n.id||ut.parentId===n.id)break;ut=G.getModel()}if(X=ut.id,H){var xt=H+"-"+X;if(v[xt]){v[xt]+=A.getModel().size||1,e.updateItem(x[xt],{size:v[xt]},!1);return}var Yt=e.addItem("vedge",{target:X,source:H,isVEdge:!0},!1);v[xt]=A.getModel().size||1,x[xt]=Yt}}else(s.includes(B)||l.includes(B))&&(s.includes(G)||l.includes(G))&&B.isVisible()&&G.isVisible()&&A.show()}})},r.prototype.collapseExpandCombo=function(t){if((0,u.isString)(t)&&(t=this.findById(t)),!(t.getType&&t.getType()!=="combo")){for(var e=t.getModel(),n=this.findById(e.parentId);n;){var a=n.getModel();if(a.collapsed){console.warn("Fail to expand the combo since it's ancestor combo is collapsed."),n=void 0;return}n=this.findById(a.parentId)}var o=e.collapsed;o?this.expandCombo(t):this.collapseCombo(t),this.updateCombo(t)}},r.prototype.collapseGroup=function(t){var e=this.get("customGroupControll");e.collapseGroup(t)},r.prototype.expandGroup=function(t){var e=this.get("customGroupControll");e.expandGroup(t)},r.prototype.addPlugin=function(t){var e=this;t.destroyed||(e.get("plugins").push(t),t.initPlugin(e))},r.prototype.removePlugin=function(t){var e=this.get("plugins"),n=e.indexOf(t);n>=0&&(t.destroyPlugin(),e.splice(n,1))},r.prototype.sortCombos=function(){var t=this,e=this.get("comboSorted");if(!e){this.set("comboSorted",!0);var n=[],a={},o=this.get("comboTrees");(o||[]).forEach(function(l){Ri(l,function(f){return n[f.depth]?n[f.depth].push(f.id):n[f.depth]=[f.id],a[f.id]=f.depth,!0})});var s=this.getEdges().concat(this.get("vedges"));(s||[]).forEach(function(l){var f=l.getModel(),h=a[f.source]||0,c=a[f.target]||0,v=Math.max(h,c);n[v]?n[v].push(f.id):n[v]=[f.id]}),n.forEach(function(l){if(!(!l||!l.length))for(var f=l.length-1;f>=0;f--){var h=t.findById(l[f]);h==null||h.toFront()}})}},r.prototype.getNeighbors=function(t,e){var n=t;return(0,u.isString)(t)&&(n=this.findById(t)),n.getNeighbors(e)},r.prototype.getNodeDegree=function(t,e){e===void 0&&(e=void 0);var n=t;(0,u.isString)(t)&&(n=this.findById(t));var a=this.get("degrees");a||(a=Hx(this)),this.set("degees",a);var o=a[n.getID()],s;switch(e){case"in":s=o.inDegree;break;case"out":s=o.outDegree;break;case"all":s=o;break;default:s=o.degree;break}return s},r.prototype.getUndoStack=function(){return this.undoStack},r.prototype.getRedoStack=function(){return this.redoStack},r.prototype.getStackData=function(){return this.get("enabledStack")?{undoStack:this.undoStack.toArray(),redoStack:this.redoStack.toArray()}:null},r.prototype.clearStack=function(){this.get("enabledStack")&&(this.undoStack.clear(),this.redoStack.clear())},r.prototype.pushStack=function(t,e,n){if(t===void 0&&(t="update"),n===void 0&&(n="undo"),!this.get("enabledStack")){console.warn("\u8BF7\u5148\u542F\u7528 undo & redo \u529F\u80FD\uFF0C\u5728\u5B9E\u4F8B\u5316 Graph \u65F6\u5019\u914D\u7F6E enabledStack: true !");return}var a=e?(0,u.clone)(e):{before:{},after:(0,u.clone)(this.save())};n==="redo"?this.redoStack.push({action:t,data:a}):this.undoStack.push({action:t,data:a}),this.emit("stackchange",{undoStack:this.undoStack,redoStack:this.redoStack})},r.prototype.getAdjMatrix=function(t,e){t===void 0&&(t=!0),e===void 0&&(e=this.get("directed"));var n=this.get("adjMatrix");return(!n||!t)&&(n=xu(this,e),this.set("adjMatrix",n)),n},r.prototype.getShortestPathMatrix=function(t,e){t===void 0&&(t=!0),e===void 0&&(e=this.get("directed"));var n=this.get("adjMatrix"),a=this.get("shortestPathMatrix");return(!n||!t)&&(n=xu(this,e),this.set("adjMatrix",n)),(!a||!t)&&(a=Zx(this,e),this.set("shortestPathMatrix",a)),a},r.prototype.destroy=function(){this.clear(),this.clearStack(),(0,u.each)(this.get("plugins"),function(o){o.destroyPlugin()});var t=this.get("tooltips");if(t)for(var e=0;e<t.length;e++){var n=t[e];if(!!n){var a=n.parentElement;!a||a.removeChild(n)}}this.get("eventController").destroy(),this.get("itemController").destroy(),this.get("modeController").destroy(),this.get("viewController").destroy(),this.get("stateController").destroy(),this.get("layoutController").destroy(),this.get("customGroupControll").destroy(),this.get("canvas").destroy(),this.get("graphWaterMarker")&&this.get("graphWaterMarker").destroy(),document.querySelector(".g6-graph-watermarker")&&document.querySelector(".g6-graph-watermarker").remove(),this.cfg=null,this.destroyed=!0,this.redoStack=null,this.undoStack=null},r.prototype.createHull=function(t){var e=this.get("hullGroup"),n=this.get("hullMap");if(n||(n={},this.set("hullMap",n)),e||(e=this.get("group").addGroup({id:"hullGroup"}),e.toBack(),this.set("hullGroup",e)),n[t.id])return console.warn("Existed hull id."),n[t.id];var a=e.addGroup({id:t.id+"-container"}),o=new K4(this,(0,q.__assign)((0,q.__assign)({},t),{group:a})),s=o.id;return n[s]=o,o},r.prototype.getHulls=function(){return this.get("hullMap")},r.prototype.getHullById=function(t){return this.get("hullMap")[t]},r.prototype.removeHull=function(t){var e;(0,u.isString)(t)?e=this.getHullById(t):e=t;var n=this.get("hullMap");delete n[e.id],e.destroy()},r.prototype.setImageWaterMarker=function(t,e){t===void 0&&(t=Xe.waterMarkerImage);var n=this.get("container");(0,u.isString)(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var a=this.get("graphWaterMarker"),o=(0,u.deepMix)({},Xe.imageWaterMarkerConfig,e),s=o.width,l=o.height,f=o.compatible,h=o.image;if(!a){var c={container:n,width:s,height:l,capture:!1},v=this.get("pixelRatio");v&&(c.pixelRatio=v),a=new _o.Z(c),this.set("graphWaterMarker",a)}a.get("el").style.display="none";var x=a.get("context"),A=h.rotate,B=h.x,G=h.y;x.rotate(-A*Math.PI/180);var H=new Image;H.crossOrigin="anonymous",H.src=t,H.onload=function(){if(x.drawImage(H,B,G,h.width,h.height),x.rotate(A*Math.PI/180),f)n.style.cssText="background-image: url("+a.get("el").toDataURL("image/png")+");background-repeat:repeat;";else{var X=document.querySelector(".g6-graph-watermarker");X||(X=document.createElement("div"),X.className="g6-graph-watermarker"),X.className="g6-graph-watermarker",a.destroyed||(X.style.cssText="background-image: url("+a.get("el").toDataURL("image/png")+");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:-1;",n.appendChild(X))}}},r.prototype.setTextWaterMarker=function(t,e){var n=this.get("container");(0,u.isString)(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var a=this.get("graphWaterMarker"),o=(0,u.deepMix)({},Xe.textWaterMarkerConfig,e),s=o.width,l=o.height,f=o.compatible,h=o.text;if(!a){var c={container:n,width:s,height:l,capture:!1},v=this.get("pixelRatio");v&&(c.pixelRatio=v),a=new _o.Z(c),this.set("graphWaterMarker",a)}a.get("el").style.display="none";var x=a.get("context"),A=h.rotate,B=h.fill,G=h.fontFamily,H=h.fontSize,X=h.baseline,ut=h.x,ft=h.y,xt=h.lineHeight;x.rotate(-A*Math.PI/180),x.font=H+"px "+G,x.fillStyle=B,x.textBaseline=X;for(var Yt=t.length-1;Yt>=0;Yt--)x.fillText(t[Yt],ut,ft+Yt*xt);if(x.rotate(A*Math.PI/180),f)n.style.cssText="background-image: url("+a.get("el").toDataURL("image/png")+");background-repeat:repeat;";else{var Kt=document.querySelector(".g6-graph-watermarker");Kt||(Kt=document.createElement("div"),Kt.className="g6-graph-watermarker"),Kt.style.cssText="background-image: url("+a.get("el").toDataURL("image/png")+");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:99;",n.appendChild(Kt)}},r}(Zt.default),qx=J4,q4=d(77201),t1=d.n(q4),t6=function(i){(0,q.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.layoutAnimating=!1,e.set("removeList",[]),e.set("layoutMethod",e.getLayout()),e}return r.prototype.getLayout=function(){var t=this.get("layout");return t?typeof t=="function"?t:(t.type||(t.type="dendrogram"),t.direction||(t.direction="TB"),t.radial?function(e){var n=t1()[t.type](e,t);return sx(n),n}:function(e){return t1()[t.type](e,t)}):null},r.indexOfChild=function(t,e){var n=-1;return(0,Nn.S6)(t,function(a,o){if(e===a.id)return n=o,!1}),n},r.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return t.animate=!0,t},r.prototype.innerAddChild=function(t,e,n){var a=this,o=t.data;o&&(o.x=t.x,o.y=t.y,o.depth=t.depth);var s=a.addItem("node",o,!1);if(e){if(s.set("parent",e),n){var l=e.get("originAttrs");if(l)s.set("originAttrs",l);else{var f=e.getModel();s.set("originAttrs",{x:f.x,y:f.y})}}var h=e.get("children");h?h.push(s):e.set("children",[s]),a.addItem("edge",{source:e,target:s,id:e.get("id")+":"+s.get("id")},!1)}return(0,Nn.S6)(t.children||[],function(c){a.innerAddChild(c,s,n)}),a.emit("afteraddchild",{item:s,parent:e}),s},r.prototype.innerUpdateChild=function(t,e,n){var a=this,o=a.findById(t.id);if(!o){a.innerAddChild(t,e,n);return}(0,Nn.S6)(t.children||[],function(A){a.innerUpdateChild(A,o,n)});var s=o.get("children");if(s){var l=s.length;if(l>0)for(var f=s.length-1;f>=0;f--){var h=s[f].getModel();r.indexOfChild(t.children||[],h.id)===-1&&(a.innerRemoveChild(h.id,{x:t.x,y:t.y},n),s.splice(f,1))}}var c,v;o.get("originAttrs")&&(c=o.get("originAttrs").x,v=o.get("originAttrs").y);var x=o.getModel();n&&o.set("originAttrs",{x:x.x,y:x.y}),o.set("model",t.data),(c!==t.x||v!==t.y)&&o.updatePosition({x:t.x,y:t.y})},r.prototype.innerRemoveChild=function(t,e,n){var a=this,o=a.findById(t);if(!!o)if((0,Nn.S6)(o.get("children"),function(l){a.innerRemoveChild(l.getModel().id,e,n)}),n){var s=o.getModel();o.set("to",e),o.set("originAttrs",{x:s.x,y:s.y}),a.get("removeList").push(o)}else a.removeItem(o)},r.prototype.changeData=function(t){var e=this;this.getNodes().map(function(n){return e.clearItemStates(n)}),this.getEdges().map(function(n){return e.clearItemStates(n)}),t?(e.data(t),e.render()):e.layout(this.get("fitView"))},r.prototype.changeLayout=function(t){console.warn("Please call updateLayout instead of changeLayout. changeLayout will be discarded soon");var e=this;e.updateLayout(t)},r.prototype.updateLayout=function(t){var e=this;if(!t){console.warn("layout cannot be null");return}e.set("layout",t),e.set("layoutMethod",e.getLayout()),e.layout()},r.prototype.refreshLayout=function(t){console.warn("Please call layout instead of refreshLayout. refreshLayout will be discarded soon");var e=this;e.layout(t)},r.prototype.layout=function(t){var e=this,n=e.get("data"),a=e.get("layoutMethod"),o=a(n,e.get("layout")),s=e.get("animate");if(e.emit("beforerefreshlayout",{data:n,layoutData:o}),e.emit("beforelayout"),e.innerUpdateChild(o,void 0,s),t){var l=e.get("viewController");l.fitView()}s?e.layoutAnimate(o):(e.refresh(),e.paint()),e.emit("afterrefreshlayout",{data:n,layoutData:o}),e.emit("afterlayout")},r.prototype.addChild=function(t,e){var n=this;n.emit("beforeaddchild",{model:t,parent:e}),(0,Nn.HD)(e)||(e=e.get("id"));var a=n.findDataById(e);a&&(a.children||(a.children=[]),a.children.push(t),n.changeData())},r.prototype.updateChild=function(t,e){var n=this;if(!e||!n.findById(e)){n.changeData(t);return}var a=n.findById(e).getModel(),o=n.findById(t.id);if(a.children||(a.children=[]),!o)a.children.push(t);else{var s=r.indexOfChild(a.children,t.id);a.children[s]=t}n.changeData()},r.prototype.removeChild=function(t){var e=this,n=e.findById(t);if(!!n){var a=n.get("parent");if(a&&!a.destroyed){var o=e.findDataById(a.get("id")),s=o&&o.children||[],l=n.getModel(),f=r.indexOfChild(s,l.id);s.splice(f,1)}e.changeData()}},r.prototype.findDataById=function(t,e){var n=this;if(e||(e=n.get("data")),t===e.id)return e;var a=null;return(0,Nn.S6)(e.children||[],function(o){if(o.id===t)return a=o,!1;if(a=n.findDataById(t,o),a)return!1}),a},r.prototype.layoutAnimate=function(t,e){var n=this,a=this.get("animateCfg");n.emit("beforeanimate",{data:t}),n.getEdges().forEach(function(o){var s=o.get("model");s.sourceAnchor||(s.sourceAnchor=o.get("sourceAnchorIndex"))}),this.get("canvas").animate(function(o){Ri(t,function(s){var l=n.findById(s.id);if(l){var f=l.get("originAttrs"),h=l.get("model");if(f||(f={x:h.x,y:h.y},l.set("originAttrs",f)),e){var c=e(l,o,f,t);l.set("model",Object.assign(h,c))}else h.x=f.x+(s.x-f.x)*o,h.y=f.y+(s.y-f.y)*o}return!0}),(0,Nn.S6)(n.get("removeList"),function(s){var l=s.getModel(),f=s.get("originAttrs"),h=s.get("to");l.x=f.x+(h.x-f.x)*o,l.y=f.y+(h.y-f.y)*o}),n.refreshPositions()},{duration:a.duration,easing:a.ease,callback:function(){(0,Nn.S6)(n.getNodes(),function(s){s.set("originAttrs",null)}),(0,Nn.S6)(n.get("removeList"),function(s){n.removeItem(s)}),n.set("removeList",[]),a.callback&&a.callback(),n.emit("afteranimate",{data:t})},delay:a.delay})},r.prototype.stopLayoutAnimate=function(){this.get("canvas").stopAnimate(),this.emit("layoutanimateend",{data:this.get("data")}),this.layoutAnimating=!1},r.prototype.isLayoutAnimating=function(){return this.layoutAnimating},r.prototype.render=function(){var t=this,e=t.get("data");if(!e)throw new Error("data must be defined first");t.clear(),t.emit("beforerender"),t.layout(this.get("fitView")),t.emit("afterrender")},r.prototype.save=function(){return this.get("data")},r}(qx),e6=t6,r6="-shape",e1="-label",bu=["startArrow","endArrow"],$h="-label-bg",Qh={options:{},itemType:"",type:"",getCustomConfig:function(r){return{}},getOptions:function(r){return(0,u.deepMix)({labelCfg:{style:{fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"}},descriptionCfg:{style:{fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"}}},this.options,this.getCustomConfig(r)||{},r)},draw:function(r,t){var e=this.drawShape(r,t);if(e.set("className",this.itemType+r6),r.label){var n=this.drawLabel(r,t);n.set("className",this.itemType+e1)}return e},afterDraw:function(r,t,e){},drawShape:function(r,t){return null},drawLabel:function(r,t){var e=this.getOptions(r).labelCfg,n=e||{},a=this.getLabelStyle(r,n,t),o=a.rotate;delete a.rotate;var s=t.addShape("text",{attrs:a,draggable:!0,className:"text-shape",name:"text-shape"});if(o){var l=s.getBBox(),f=s.getMatrix();if(f||(f=[1,0,0,0,1,0,0,0,1]),a.rotateCenter)switch(a.rotateCenter){case"center":f=Oa(f,[["t",-l.width/2,-l.height/2],["r",o],["t",l.width/2,l.height/2]]);break;case"lefttop":f=Oa(f,[["t",-a.x,-a.y],["r",o],["t",a.x,a.y]]);break;case"leftcenter":f=Oa(f,[["t",-a.x,-a.y-l.height/2],["r",o],["t",a.x,a.y+l.height/2]]);break;default:f=Oa(f,[["t",-l.width/2,-l.height/2],["r",o],["t",l.width/2,l.height/2]]);break}else f=Oa(f,[["t",-a.x,-a.y-l.height/2],["r",o],["t",a.x,a.y+l.height/2]]);s.setMatrix(f)}if(a.background){var h=this.drawLabelBg(r,t,s),c=this.itemType+$h;h.set("classname",c),s.toFront()}return s},drawLabelBg:function(r,t,e){var n=this.options.labelCfg,a=(0,u.mix)({},n,r.labelCfg),o=this.getLabelBgStyleByPosition(e,r,a,t),s=t.addShape("rect",{name:"text-bg-shape",attrs:o});return s},getLabelStyleByPosition:function(r,t,e){return{text:r.label}},getLabelBgStyleByPosition:function(r,t,e,n){return{}},getLabelStyle:function(r,t,e){var n=this.getLabelStyleByPosition(r,t,e),a=this.itemType+"Label",o=Xe[a]?Xe[a].style:null,s=(0,q.__assign)((0,q.__assign)((0,q.__assign)({},o),n),t.style);return s},getShapeStyle:function(r){return r.style},update:function(r,t){this.updateShapeStyle(r,t),this.updateLabel(r,t)},updateShapeStyle:function(r,t){var e=t.getContainer(),n=t.getKeyShape(),a=(0,u.mix)({},n.attr(),r.style),o=function(f){var h,c=a[f];if((0,u.isPlainObject)(c)){var v=e.find(function(x){return x.get("name")===f});v&&v.attr(c)}else n.attr((h={},h[f]=c,h))};for(var s in a)o(s)},updateLabel:function(r,t){var e=t.getContainer(),n=this.getOptions({}).labelCfg,a=this.itemType+e1,o=e.find(function(ft){return ft.get("className")===a}),s=this.itemType+$h,l=e.find(function(ft){return ft.get("classname")===s});if(r.label||r.label==="")if(o){var h={};t.getModel&&(h=t.getModel().labelCfg);var c=(0,u.deepMix)({},n,h,r.labelCfg),v=this.getLabelStyleByPosition(r,c,e),x=r.labelCfg?r.labelCfg.style:void 0,A=c.style&&c.style.background,B=(0,q.__assign)((0,q.__assign)((0,q.__assign)({},o.attr()),v),x),G=B.rotate;if(delete B.rotate,G){var H=[1,0,0,0,1,0,0,0,1];H=Oa(H,[["t",-B.x,-B.y],["r",G],["t",B.x,B.y]]),o.resetMatrix(),o.attr((0,q.__assign)((0,q.__assign)({},B),{matrix:H}))}else o.resetMatrix(),o.attr(B);if(!l)B.background&&(l=this.drawLabelBg(r,e,o),l.set("classname",s),o.toFront());else if(B.background){var X=this.getLabelBgStyleByPosition(o,r,c,e),ut=(0,q.__assign)((0,q.__assign)({},X),A);l.resetMatrix(),G&&l.rotateAtStart(G),l.attr(ut)}else e.removeChild(l)}else{var f=this.drawLabel(r,e);f.set("className",a)}},afterUpdate:function(r,t){},setState:function(r,t,e){var n,a,o=e.get("keyShape");if(!!o){var s=e.getType(),l=(0,u.isBoolean)(t)?r:r+":"+t,f=this.getStateStyle(l,e),h=e.getStateStyle(l);if(!(!h&&!f)){var c=(0,u.mix)({},h||f),v=e.getContainer();if(t){var x=function(he){var Pe,Be=c[he];if((0,u.isPlainObject)(Be)&&!bu.includes(he)){var ke=v.find(function(We){return We.get("name")===he});ke&&ke.attr(Be)}else o.attr((Pe={},Pe[he]=Be,Pe))};for(var A in c)x(A)}else{var B=(0,u.clone)(e.getCurrentStatesStyle()),G=e.getModel(),H=(0,u.mix)({},G.style,(0,u.clone)(e.getOriginStyle())),X=o.get("name"),ut=o.attr(),ft={},xt=function(he){var Pe=c[he];if((0,u.isPlainObject)(Pe)&&!bu.includes(he)){var Be=v.find(function(Ke){return Ke.get("name")===he});if(Be){var ke=Be.attr();(0,u.each)(Pe,function(Ke,$e){(ke[$e]||ke[$e]===0)&&delete ke[$e]}),ft[he]=ke}}else{var We={x:1,y:1,cx:1,cy:1};ut[he]&&!We[he]&&delete ut[he]}};for(var Yt in c)xt(Yt);X?ft[X]=ut:(0,u.mix)(ft,ut);for(var A in B){var Kt=B[A];(!(0,u.isPlainObject)(Kt)||bu.includes(A))&&(X?((0,u.mix)(H[X],(a={},a[A]=Kt,a)),delete H[A]):(0,u.mix)(H,(n={},n[A]=Kt,n)),delete B[A])}var te={};(0,u.deepMix)(te,H,ft,B);var Wt=function(he){var Pe,Be,ke=te[he];if((0,u.isPlainObject)(ke)&&!bu.includes(he)){var We=v.find(function(Ke){return Ke.get("name")===he});We&&We.attr(ke)}else s==="combo"?X||o.attr((Pe={},Pe[he]=ke,Pe)):o.attr((Be={},Be[he]=ke,Be))};for(var ae in te)Wt(ae)}}}},getStateStyle:function(r,t){var e=t.getModel(),n=t.getType(),a=this.getOptions(e),o=a.stateStyles,s=a.style,l=s===void 0?{}:s,f=e.stateStyles?e.stateStyles[r]:o&&o[r];return n==="combo"?(0,u.clone)(f):(0,u.mix)({},l,f)},getControlPoints:function(r){return r.controlPoints},getAnchorPoints:function(r){var t=this.getOptions(r).anchorPoints;return t}},n6={itemType:"node",shapeType:"single-node",labelPosition:"center",offset:Xe.nodeLabel.offset,getSize:function(r){var t=r.size||this.getOptions({}).size||Xe.defaultNode.size;return(0,u.isArray)(t)&&t.length===1&&(t=[t[0],t[0]]),(0,u.isArray)(t)||(t=[t,t]),t},getLabelStyleByPosition:function(r,t){var e=t.position||this.labelPosition;if(e==="center")return{x:0,y:0,text:r.label};var n=t.offset;(0,u.isNil)(n)&&(n=this.offset);var a=this.getSize(r),o=a[0],s=a[1],l;switch(e){case"top":l={x:0,y:0-s/2-n,textBaseline:"bottom"};break;case"bottom":l={x:0,y:s/2+n,textBaseline:"top"};break;case"left":l={x:0-o/2-n,y:0,textAlign:"right"};break;default:l={x:o/2+n,y:0,textAlign:"left"};break}return l.text=r.label,l},getLabelBgStyleByPosition:function(r,t,e,n){if(!r)return{};var a=r.getBBox(),o=e.style&&e.style.background;if(!o)return{};var s=Sh(o.padding),l=a.width+s[1]+s[3],f=a.height+s[0]+s[2],h=e.offset;(0,u.isNil)(h)&&(h=this.offset);var c;return c={x:a.minX-s[3],y:a.minY-s[0]},c=(0,q.__assign)((0,q.__assign)((0,q.__assign)({},c),o),{width:l,height:f}),c},drawShape:function(r,t){var e=this.shapeType,n=this.getShapeStyle(r),a=t.addShape(e,{attrs:n,draggable:!0,name:"node-shape"});return a},updateLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=t.find(function(Kt){return Kt.get("className")==="link-point-left"}),a=t.find(function(Kt){return Kt.get("className")==="link-point-right"}),o=t.find(function(Kt){return Kt.get("className")==="link-point-top"}),s=t.find(function(Kt){return Kt.get("className")==="link-point-bottom"}),l;n&&(l=n.attr()),a&&!l&&(l=a.attr()),o&&!l&&(l=o.attr()),s&&!l&&(l=s.attr()),l||(l=e);var f=(0,u.mix)({},l,r.linkPoints),h=f.fill,c=f.stroke,v=f.lineWidth,x=f.size/2;x||(x=f.r);var A=r.linkPoints?r.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},B=A.left,G=A.right,H=A.top,X=A.bottom,ut=this.getSize(r),ft=ut[0],xt=ut[1],Yt={r:x,fill:h,stroke:c,lineWidth:v};n?!B&&B!==void 0?n.remove():n.attr((0,q.__assign)((0,q.__assign)({},Yt),{x:-ft/2,y:0})):B&&t.addShape("circle",{attrs:(0,q.__assign)((0,q.__assign)({},Yt),{x:-ft/2,y:0}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),a?(!G&&G!==void 0&&a.remove(),a.attr((0,q.__assign)((0,q.__assign)({},Yt),{x:ft/2,y:0}))):G&&t.addShape("circle",{attrs:(0,q.__assign)((0,q.__assign)({},Yt),{x:ft/2,y:0}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),o?(!H&&H!==void 0&&o.remove(),o.attr((0,q.__assign)((0,q.__assign)({},Yt),{x:0,y:-xt/2}))):H&&t.addShape("circle",{attrs:(0,q.__assign)((0,q.__assign)({},Yt),{x:0,y:-xt/2}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),s?!X&&X!==void 0?s.remove():s.attr((0,q.__assign)((0,q.__assign)({},Yt),{x:0,y:xt/2})):X&&t.addShape("circle",{attrs:(0,q.__assign)((0,q.__assign)({},Yt),{x:0,y:xt/2}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},updateShape:function(r,t,e,n){var a=t.get("keyShape");a.attr((0,q.__assign)({},e)),this.updateLabel(r,t),n&&this.updateIcon(r,t)},updateIcon:function(r,t){var e=this,n=t.getContainer(),a=this.getOptions(r).icon,o=(r.icon?r.icon:{show:void 0}).show,s=n.find(function(v){return v.get("className")===e.type+"-icon"});if(s)if(o||o===void 0){var l=(0,u.mix)({},s.attr(),a),f=l.width,h=l.height;s.attr((0,q.__assign)((0,q.__assign)({},l),{x:-f/2,y:-h/2}))}else s.remove();else if(o){var f=a.width,h=a.height;n.addShape("image",{attrs:(0,q.__assign)((0,q.__assign)({},a),{x:-f/2,y:-h/2}),className:this.type+"-icon",name:this.type+"-icon"});var c=n.find(function(A){return A.get("className")==="node-label"});c&&c.toFront()}}},i6=(0,q.__assign)((0,q.__assign)({},Qh),n6);Xn.registerNode("single-node",i6);var wu="edge-shape";function a6(i){var r=i;return i==="start"?r="end":i==="end"&&(r="start"),r}var o6={itemType:"edge",labelPosition:"center",refX:0,refY:0,labelAutoRotate:!1,options:{size:Xe.defaultEdge.size,style:{x:0,y:0,stroke:Xe.defaultEdge.style.stroke,lineAppendWidth:Xe.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:Xe.edgeLabel.style.fill,fontSize:Xe.edgeLabel.style.fontSize}},stateStyles:(0,q.__assign)({},Xe.edgeStateStyles)},getPath:function(r){var t=[];return(0,u.each)(r,function(e,n){n===0?t.push(["M",e.x,e.y]):t.push(["L",e.x,e.y])}),t},getShapeStyle:function(r){var t=this.options.style,e={stroke:r.color},n=(0,u.mix)({},t,e,r.style),a=r.size||Xe.defaultEdge.size;r=this.getPathPoints(r);var o=r.startPoint,s=r.endPoint,l=this.getControlPoints(r),f=[o];l&&(f=f.concat(l)),f.push(s);var h=this.getPath(f),c=(0,u.mix)({},Xe.defaultEdge.style,{stroke:Xe.defaultEdge.color,lineWidth:a,path:h},n);return c},updateShapeStyle:function(r,t){var e=t.getContainer(),n={stroke:r.color},a=e.find(function(H){return H.get("className")==="edge-shape"})||t.getKeyShape(),o=r.size;r=this.getPathPoints(r);var s=r.startPoint,l=r.endPoint,f=this.getControlPoints(r),h=[s];f&&(h=h.concat(f)),h.push(l);var c=(0,u.mix)({},n,a.attr(),r.style),v=r.sourceNode,x=r.targetNode,A={radius:c.radius};f||(A={source:v,target:x,offset:c.offset,radius:c.radius});var B=this.getPath(h,A),G=(0,u.mix)(n,a.attr(),{lineWidth:o,path:B},r.style);a&&a.attr(G)},getLabelStyleByPosition:function(r,t,e){var n=t.position||this.labelPosition,a={},o=e&&e.find(function(v){return v.get("className")===wu}),s;n==="start"?s=0:n==="end"?s=1:s=.5;var l=t.refX||this.refX,f=t.refY||this.refY;if(r.startPoint.x===r.endPoint.x&&r.startPoint.y===r.endPoint.y)return a.x=r.startPoint.x+l,a.y=r.startPoint.y+f,a.text=r.label,a;var h=(0,u.isNil)(t.autoRotate)?this.labelAutoRotate:t.autoRotate,c=nu(o,s,l,f,h);return a.x=c.x,a.y=c.y,a.rotate=c.rotate,a.textAlign=this._getTextAlign(n,c.angle),a.text=r.label,a},getLabelBgStyleByPosition:function(r,t,e,n){if(!r)return{};var a=r.getBBox(),o=e.style&&e.style.background;if(!o)return{};var s=o.padding,l=a.width+s[1]+s[3],f=a.height+s[0]+s[2],h=e.position||this.labelPosition,c=(0,q.__assign)((0,q.__assign)({},o),{width:l,height:f,x:a.minX-s[2],y:a.minY-s[0],rotate:0}),v=(0,u.isNil)(e.autoRotate)?this.labelAutoRotate:e.autoRotate,x=n&&n.find(function(ut){return ut.get("className")===wu}),A;h==="start"?A=0:h==="end"?A=1:A=.5;var B=e.refX||this.refX,G=e.refY||this.refY;if(t.startPoint.x===t.endPoint.x&&t.startPoint.y===t.endPoint.y)return c.x=t.startPoint.x+B,c.y=t.startPoint.y+G,c;var H=nu(x,A,B-l/2,G+f/2,v),X=H.angle;return X>1/2*Math.PI&&X<3*1/2*Math.PI&&(H=nu(x,A,B+l/2,G+f/2,v)),v&&(c.x=H.x,c.y=H.y),c.rotate=H.rotate,c},_getTextAlign:function(r,t){var e="center";return t?(t=t%(Math.PI*2),r!=="center"&&(t>=0&&t<=Math.PI/2||t>=3/2*Math.PI&&t<2*Math.PI?e=r:e=a6(r)),e):r},getControlPoints:function(r){return r.controlPoints},getPathPoints:function(r){return r},drawShape:function(r,t){var e=this.getShapeStyle(r),n=t.addShape("path",{className:wu,name:wu,attrs:e});return n},drawLabel:function(r,t){var e=this.options.labelCfg,n=(0,u.deepMix)({fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},e,r.labelCfg),a=this.getLabelStyle(r,n,t),o=a.rotate;delete a.rotate;var s=t.addShape("text",{attrs:a,name:"text-shape"});if(o&&s.rotateAtStart(o),a.background){var l=this.drawLabelBg(r,t,s),f=this.itemType+$h;l.set("classname",f),s.toFront()}return s},drawLabelBg:function(r,t,e){var n=this.options.labelCfg,a=(0,u.deepMix)({},n,r.labelCfg),o=this.getLabelStyle(r,a,t),s=o.rotate,l=this.getLabelBgStyleByPosition(e,r,a,t);delete l.rotate;var f=t.addShape("rect",{name:"text-bg-shape",attrs:l});return s&&f.rotateAtStart(s),f}},s6=(0,q.__assign)((0,q.__assign)({},Qh),o6);Xn.registerEdge("single-edge",s6),Xn.registerEdge("line",{getControlPoints:function(){}},"single-edge"),Xn.registerEdge("spline",{getPath:function(r){var t=Vm(r);return t}},"single-edge"),Xn.registerEdge("arc",{curveOffset:20,clockwise:1,getControlPoints:function(r){var t=r.startPoint,e=r.endPoint,n={x:(t.x+e.x)/2,y:(t.y+e.y)/2},a,o;if(r.controlPoints!==void 0){if(o=r.controlPoints[0],a=_h(t,o,e),t.x<=e.x&&t.y>e.y?this.clockwise=a.x>o.x?0:1:t.x<=e.x&&t.y<e.y?this.clockwise=a.x>o.x?1:0:t.x>e.x&&t.y<=e.y?this.clockwise=a.y<o.y?0:1:this.clockwise=a.y<o.y?1:0,(o.x-t.x)/(o.y-t.y)==(e.x-t.x)/(e.y-t.y))return[]}else{r.curveOffset===void 0&&(r.curveOffset=this.curveOffset),(0,yi.default)(r.curveOffset)&&(r.curveOffset=r.curveOffset[0]),r.curveOffset<0?this.clockwise=0:this.clockwise=1;var s={x:e.x-t.x,y:e.y-t.y},l=Math.atan2(s.y,s.x);o={x:r.curveOffset*Math.cos(-Math.PI/2+l)+n.x,y:r.curveOffset*Math.sin(-Math.PI/2+l)+n.y},a=_h(t,o,e)}var f=Os(t,a),h=[{x:f,y:f}];return h},getPath:function(r){var t=[];return t.push(["M",r[0].x,r[0].y]),r.length===2?t.push(["L",r[1].x,r[1].y]):t.push(["A",r[1].x,r[1].y,0,0,this.clockwise,r[2].x,r[2].y]),t}},"single-edge"),Xn.registerEdge("quadratic",{curvePosition:.5,curveOffset:-20,getControlPoints:function(r){var t=r.controlPoints;if(!t||!t.length){var e=r.startPoint,n=r.endPoint;r.curveOffset===void 0&&(r.curveOffset=this.curveOffset),r.curvePosition===void 0&&(r.curvePosition=this.curvePosition),(0,yi.default)(this.curveOffset)&&(r.curveOffset=r.curveOffset[0]),(0,yi.default)(this.curvePosition)&&(r.curvePosition=r.curveOffset[0]);var a=ql(e,n,r.curvePosition,r.curveOffset);t=[a]}return t},getPath:function(r){var t=[];return t.push(["M",r[0].x,r[0].y]),t.push(["Q",r[1].x,r[1].y,r[2].x,r[2].y]),t}},"single-edge"),Xn.registerEdge("cubic",{curvePosition:[1/2,1/2],curveOffset:[-20,20],getControlPoints:function(r){var t=r.controlPoints;if(r.curveOffset===void 0&&(r.curveOffset=this.curveOffset),r.curvePosition===void 0&&(r.curvePosition=this.curvePosition),(0,ya.default)(r.curveOffset)&&(r.curveOffset=[r.curveOffset,-r.curveOffset]),(0,ya.default)(r.curvePosition)&&(r.curvePosition=[r.curvePosition,1-r.curvePosition]),!t||!t.length||t.length<2){var e=r.startPoint,n=r.endPoint,a=ql(e,n,r.curvePosition[0],r.curveOffset[0]),o=ql(e,n,r.curvePosition[1],r.curveOffset[1]);t=[a,o]}return t},getPath:function(r){var t=[];return t.push(["M",r[0].x,r[0].y]),t.push(["C",r[1].x,r[1].y,r[2].x,r[2].y,r[3].x,r[3].y]),t}},"single-edge"),Xn.registerEdge("cubic-vertical",{curvePosition:[1/2,1/2],getControlPoints:function(r){var t=r.startPoint,e=r.endPoint;r.curvePosition!==void 0&&(this.curvePosition=r.curvePosition),(0,ya.default)(this.curvePosition)&&(this.curvePosition=[this.curvePosition,1-this.curvePosition]);var n={x:t.x,y:(e.y-t.y)*this.curvePosition[0]+t.y},a={x:e.x,y:(e.y-t.y)*this.curvePosition[1]+t.y},o=[n,a];return o}},"cubic"),Xn.registerEdge("cubic-horizontal",{curvePosition:[1/2,1/2],getControlPoints:function(r){var t=r.startPoint,e=r.endPoint;r.curvePosition!==void 0&&(this.curvePosition=r.curvePosition),(0,ya.default)(this.curvePosition)&&(this.curvePosition=[this.curvePosition,1-this.curvePosition]);var n={x:(e.x-t.x)*this.curvePosition[0]+t.x,y:t.y},a={x:(e.x-t.x)*this.curvePosition[1]+t.x,y:e.y},o=[n,a];return o}},"cubic"),Xn.registerEdge("loop",{getPathPoints:function(r){return ax(r)},getControlPoints:function(r){return r.controlPoints},afterDraw:function(r){r.controlPoints=void 0},afterUpdate:function(r){r.controlPoints=void 0}},"cubic");var l6={itemType:"combo",shapeType:"single-combo",labelPosition:"top",refX:Xe.comboLabel.refX,refY:Xe.comboLabel.refY,options:{style:{stroke:Xe.defaultCombo.style.stroke,fill:Xe.defaultCombo.style.fill,lineWidth:Xe.defaultCombo.style.lineWidth},labelCfg:{style:{fill:Xe.comboLabel.style.fill,fontSize:Xe.comboLabel.style.fontSize}},stateStyles:(0,q.__assign)({},Xe.comboStateStyles)},getSize:function(r){var t=(0,u.clone)(r.size||this.options.size||Xe.defaultCombo.size);return(0,u.isArray)(t)&&t.length===1&&(t=[t[0],t[0]]),(0,u.isArray)(t)||(t=[t,t]),t},getLabelStyleByPosition:function(r,t){var e=t.position||this.labelPosition,n=r.style,a=r.padding||this.options.padding;(0,u.isArray)(a)&&(a=a[0]);var o=t.refX,s=t.refY;(0,u.isNil)(o)&&(o=this.refX),(0,u.isNil)(s)&&(s=this.refY);var l=this.getSize(r),f=Math.max(n.r,l[0]/2)||l[0]/2,h=f+a,c;switch(e){case"top":c={x:0,y:-h-s,textBaseline:"bottom",textAlign:"center"};break;case"bottom":c={x:0,y:h+s,textBaseline:"bottom",textAlign:"center"};break;case"left":c={x:-h+o,y:0,textAlign:"left"};break;case"center":c={x:0,y:0,text:r.label,textAlign:"center"};break;default:c={x:h+o,y:0,textAlign:"right"};break}return c.text=r.label,c},drawShape:function(r,t){var e=this.shapeType,n=this.getShapeStyle(r),a=t.addShape(e,{attrs:n,draggable:!0,name:"combo-shape"});return a},updateShape:function(r,t,e){var n=t.get("keyShape"),a=r.animate===void 0?this.options.animate:r.animate;a&&n.animate?n.animate(e,{duration:200,easing:"easeLinear"}):n.attr((0,q.__assign)({},e)),this.updateLabel(r,t)}},u6=(0,q.__assign)((0,q.__assign)({},Qh),l6);Xn.registerCombo("single-combo",u6),Xn.registerCombo("circle",{options:{size:[Xe.defaultCombo.size[0],Xe.defaultCombo.size[0]],padding:Xe.defaultCombo.padding[0],animate:!0,style:{stroke:Xe.defaultCombo.style.stroke,fill:Xe.defaultCombo.style.fill,lineWidth:Xe.defaultCombo.style.lineWidth},labelCfg:{style:{fill:Xe.comboLabel.style.fill,fontSize:Xe.comboLabel.style.fontSize},refX:0,refY:0},stateStyles:(0,q.__assign)({},Xe.comboStateStyles)},shapeType:"circle",labelPosition:"top",drawShape:function(r,t){var e=this.getShapeStyle(r);delete e.height,delete e.width;var n=t.addShape("circle",{attrs:e,className:"circle-combo",name:"circle-combo",draggable:!0});return n},getShapeStyle:function(r){var t=this.options.style,e=r.padding||this.options.padding;(0,u.isArray)(e)&&(e=e[0]);var n={stroke:r.color},a=(0,u.mix)({},t,n,r.style),o=this.getSize(r),s;!(0,u.isNumber)(a.r)||isNaN(a.r)?s=o[0]/2||Xe.defaultCombo.style.r:s=Math.max(a.r,o[0]/2)||o[0]/2,a.r=s+e;var l=(0,q.__assign)({x:0,y:0},a);return r.style?r.style.r=s:r.style={r:s},l},update:function(r,t){var e=this.getSize(r),n=r.padding||this.options.padding;(0,u.isArray)(n)&&(n=n[0]);var a=(0,u.clone)(r.style),o=Math.max(a.r,e[0]/2)||e[0]/2;a.r=o+n;var s=t.get("sizeCache");s&&(s.r=a.r);var l={stroke:r.color},f=t.get("keyShape"),h=(0,u.mix)({},f.attr(),l,a);r.style?r.style.r=o:r.style={r:o},this.updateShape(r,t,h,!0)}},"single-combo"),Xn.registerCombo("rect",{options:{size:[40,5],padding:[25,20,15,20],animate:!0,style:{radius:0,stroke:Xe.defaultCombo.style.stroke,fill:Xe.defaultCombo.style.fill,lineWidth:Xe.defaultCombo.style.lineWidth},labelCfg:{style:{fill:Xe.comboLabel.style.fill,fontSize:Xe.comboLabel.style.fontSize}},anchorPoints:[[0,.5],[1,.5]],stateStyles:(0,q.__assign)({},Xe.comboStateStyles)},shapeType:"rect",labelPosition:"top",drawShape:function(r,t){var e=this.getShapeStyle(r),n=t.addShape("rect",{attrs:e,className:"rect-combo",name:"rect-combo",draggable:!0});return n},getLabelStyleByPosition:function(r,t){var e=t.position||this.labelPosition,n=r.style,a=r.padding||this.options.padding;(0,u.isNumber)(a)&&(a=[a,a,a,a]);var o=t.refX,s=t.refY;(0,u.isNil)(o)&&(o=this.refX),(0,u.isNil)(s)&&(s=this.refY);var l=n.width/2+a[3],f=n.height/2+a[0],h;switch(e){case"top":h={x:0-l+o,y:0-f+s,textBaseline:"top",textAlign:"left"};break;case"bottom":h={x:0,y:f+s,textBaseline:"bottom",textAlign:"center"};break;case"left":h={x:0-l+s,y:0,textAlign:"left"};break;case"center":h={x:0,y:0,text:r.label,textAlign:"center"};break;default:h={x:l+o,y:0,textAlign:"right"};break}return h.text=r.label,h},getShapeStyle:function(r){var t=this.options.style,e=r.padding||this.options.padding;(0,u.isNumber)(e)&&(e=[e,e,e,e]);var n={stroke:r.color},a=(0,u.mix)({},t,n,r.style),o=this.getSize(r),s,l;!(0,u.isNumber)(a.width)||isNaN(a.width)?s=o[0]||Xe.defaultCombo.style.width:s=Math.max(a.width,o[0])||o[0],!(0,u.isNumber)(a.height)||isNaN(a.height)?l=o[1]||Xe.defaultCombo.style.height:l=Math.max(a.height,o[1])||o[1];var f=-s/2-e[3],h=-l/2-e[0];a.width=s+e[1]+e[3],a.height=l+e[0]+e[2];var c=(0,q.__assign)({x:f,y:h},a);return r.style?(r.style.width=s,r.style.height=l):r.style={width:s,height:l},c},update:function(r,t){var e=this.getSize(r),n=r.padding||this.options.padding;(0,u.isNumber)(n)&&(n=[n,n,n,n]);var a=(0,u.clone)(r.style),o=Math.max(a.width,e[0])||e[0],s=Math.max(a.height,e[1])||e[1];a.width=o+n[1]+n[3],a.height=s+n[0]+n[2];var l=t.get("sizeCache");l&&(l.width=a.width,l.height=a.height),a.x=-o/2-n[3],a.y=-s/2-n[0];var f={stroke:r.color},h=t.get("keyShape"),c=(0,u.mix)({},h.attr(),f,a);r.style?(r.style.width=o,r.style.height=s):r.style={width:o,height:s},this.updateShape(r,t,c,!1)},updateShape:function(r,t,e){var n=t.get("keyShape"),a=r.animate===void 0?this.options.animate:r.animate;a&&n.animate?n.animate(e,{duration:200,easing:"easeLinear"}):n.attr((0,q.__assign)({},e)),this.updateLabel(r,t)}},"single-combo"),Xn.registerNode("circle",{options:{size:Xe.defaultNode.size,style:{x:0,y:0,stroke:Xe.defaultNode.style.stroke,fill:Xe.defaultNode.style.fill,lineWidth:Xe.defaultNode.style.lineWidth},labelCfg:{style:{fill:Xe.nodeLabel.style.fill,fontSize:Xe.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Xe.defaultNode.linkPoints.size,lineWidth:Xe.defaultNode.linkPoints.lineWidth,fill:Xe.defaultNode.linkPoints.fill,stroke:Xe.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,q.__assign)({},Xe.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(r,t){var e=this.getOptions(r).icon,n=e===void 0?{}:e,a=this.getShapeStyle(r),o=(0,Pi.default)({},n,r.icon),s=t.addShape("circle",{attrs:a,className:this.type+"-keyShape",draggable:!0}),l=o.width,f=o.height,h=o.show;return h&&t.addShape("image",{attrs:(0,q.__assign)({x:-l/2,y:-f/2},o),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}),this.drawLinkPoints(r,t),s},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.bottom,f=n.size,h=n.r,c=(0,q.__rest)(n,["top","left","right","bottom","size","r"]),v=this.getSize(r),x=v[0]/2;o&&t.addShape("circle",{attrs:(0,q.__assign)((0,q.__assign)({},c),{x:-x,y:0,r:f/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:(0,q.__assign)((0,q.__assign)({},c),{x,y:0,r:f/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:(0,q.__assign)((0,q.__assign)({},c),{x:0,y:-x,r:f/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:(0,q.__assign)((0,q.__assign)({},c),{x:0,y:x,r:f/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,Pi.default)({},t,e),a=this.getSize(r),o=a[0]/2,s=(0,q.__assign)({x:0,y:0,r:o},n);return s},update:function(r,t){var e=t.getContainer(),n=this.getSize(r),a={stroke:r.color,r:n[0]/2},o=t.get("keyShape"),s=(0,Pi.default)({},o.attr(),a,r.style);this.updateShape(r,t,s,!0),this.updateLinkPoints(r,e)}},"single-node"),Xn.registerNode("rect",{options:{size:[100,30],style:{radius:0,stroke:Xe.defaultNode.style.stroke,fill:Xe.defaultNode.style.fill,lineWidth:Xe.defaultNode.style.lineWidth},labelCfg:{style:{fill:Xe.nodeLabel.style.fill,fontSize:Xe.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Xe.defaultNode.linkPoints.size,lineWidth:Xe.defaultNode.linkPoints.lineWidth,fill:Xe.defaultNode.linkPoints.fill,stroke:Xe.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},anchorPoints:[[0,.5],[1,.5]],stateStyles:(0,q.__assign)({},Xe.nodeStateStyles)},shapeType:"rect",labelPosition:"center",drawShape:function(r,t){var e=this.getShapeStyle(r),n=t.addShape("rect",{attrs:e,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0});return this.drawLinkPoints(r,t),n},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.bottom,f=n.size,h=n.r,c=(0,q.__rest)(n,["top","left","right","bottom","size","r"]),v=this.getSize(r),x=v[0],A=v[1];o&&t.addShape("circle",{attrs:(0,q.__assign)((0,q.__assign)({},c),{x:-x/2,y:0,r:f/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:(0,q.__assign)((0,q.__assign)({},c),{x:x/2,y:0,r:f/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:(0,q.__assign)((0,q.__assign)({},c),{x:0,y:-A/2,r:f/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:(0,q.__assign)((0,q.__assign)({},c),{x:0,y:A/2,r:f/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,u.mix)({},t,e),a=this.getSize(r),o=n.width||a[0],s=n.height||a[1],l=(0,q.__assign)({x:-o/2,y:-s/2,width:o,height:s},n);return l},update:function(r,t){var e=t.getContainer(),n=this.getOptions({}).style,a=this.getSize(r),o=t.get("keyShape");r.size||(a[0]=o.attr("width")||n.width,a[1]=o.attr("height")||n.height);var s={stroke:r.color,x:-a[0]/2,y:-a[1]/2,width:a[0],height:a[1]},l=(0,u.mix)({},n,o.attr(),s);l=(0,u.mix)(l,r.style),this.updateShape(r,t,l,!1),this.updateLinkPoints(r,e)}},"single-node"),Xn.registerNode("ellipse",{options:{size:[80,40],style:{x:0,y:0,stroke:Xe.defaultNode.style.stroke,fill:Xe.defaultNode.style.fill,lineWidth:Xe.defaultNode.style.lineWidth},labelCfg:{style:{fill:Xe.nodeLabel.style.fill,fontSize:Xe.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Xe.defaultNode.linkPoints.size,lineWidth:Xe.defaultNode.linkPoints.lineWidth,fill:Xe.defaultNode.linkPoints.fill,stroke:Xe.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,q.__assign)({},Xe.nodeStateStyles)},shapeType:"ellipse",labelPosition:"center",drawShape:function(r,t){var e=this.getOptions(r).icon,n=e===void 0?{}:e,a=this.getShapeStyle(r),o=t.addShape("ellipse",{attrs:a,className:"ellipse-keyShape",name:"ellipse-keyShape",draggable:!0}),s=n.width,l=n.height,f=n.show;if(f)var h=t.addShape("image",{attrs:(0,q.__assign)({x:-s/2,y:-l/2},n),className:this.type+"-icon",name:this.type+"-icon",draggable:!0});return this.drawLinkPoints(r,t),o},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.bottom,f=n.size,h=n.r,c=(0,q.__rest)(n,["top","left","right","bottom","size","r"]),v=this.getSize(r),x=v[0]/2,A=v[1]/2;o&&t.addShape("circle",{attrs:(0,q.__assign)((0,q.__assign)({},c),{x:-x,y:0,r:f/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:(0,q.__assign)((0,q.__assign)({},c),{x,y:0,r:f/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:(0,q.__assign)((0,q.__assign)({},c),{x:0,y:-A,r:f/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:(0,q.__assign)((0,q.__assign)({},c),{x:0,y:A,r:f/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,u.mix)({},t,e),a=this.getSize(r),o=a[0]/2,s=a[1]/2,l=(0,q.__assign)({x:0,y:0,rx:o,ry:s},n);return l},update:function(r,t){var e=t.getContainer(),n=this.getOptions({}).style,a=this.getSize(r),o={stroke:r.color,rx:a[0]/2,ry:a[1]/2},s=t.get("keyShape"),l=(0,u.mix)({},n,s.attr(),o);l=(0,u.mix)(l,r.style),this.updateShape(r,t,l,!0),this.updateLinkPoints(r,e)}},"single-node"),Xn.registerNode("diamond",{options:{size:[80,80],style:{stroke:Xe.defaultNode.style.stroke,fill:Xe.defaultNode.style.fill,lineWidth:Xe.defaultNode.style.lineWidth},labelCfg:{style:{fill:Xe.nodeLabel.style.fill,fontSize:Xe.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Xe.defaultNode.linkPoints.size,lineWidth:Xe.defaultNode.linkPoints.lineWidth,fill:Xe.defaultNode.linkPoints.fill,stroke:Xe.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,q.__assign)({},Xe.nodeStateStyles)},shapeType:"diamond",labelPosition:"center",drawShape:function(r,t){var e=this.getOptions(r).icon,n=e===void 0?{}:e,a=this.getShapeStyle(r),o=t.addShape("path",{attrs:a,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),s=n.width,l=n.height,f=n.show;if(f)var h=t.addShape("image",{attrs:(0,q.__assign)({x:-s/2,y:-l/2},n),className:this.type+"-icon",name:this.type+"-icon",draggable:!0});return this.drawLinkPoints(r,t),o},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.bottom,f=n.size,h=n.r,c=(0,q.__rest)(n,["top","left","right","bottom","size","r"]),v=this.getSize(r),x=v[0],A=v[1];o&&t.addShape("circle",{attrs:(0,q.__assign)((0,q.__assign)({},c),{x:-x/2,y:0,r:f/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:(0,q.__assign)((0,q.__assign)({},c),{x:x/2,y:0,r:f/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:(0,q.__assign)((0,q.__assign)({},c),{x:0,y:-A/2,r:f/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:(0,q.__assign)((0,q.__assign)({},c),{x:0,y:A/2,r:f/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getPath:function(r){var t=this.getSize(r),e=t[0],n=t[1],a=[["M",0,-n/2],["L",e/2,0],["L",0,n/2],["L",-e/2,0],["Z"]];return a},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,u.mix)({},t,e),a=this.getPath(r),o=(0,q.__assign)({path:a},n);return o},update:function(r,t){var e=t.getContainer(),n=this.getOptions({}).style,a=this.getPath(r),o={stroke:r.color,path:a},s=t.get("keyShape"),l=(0,u.mix)({},n,s.attr(),o);l=(0,u.mix)(l,r.style),this.updateShape(r,t,l,!0),this.updateLinkPoints(r,e)}},"single-node"),Xn.registerNode("triangle",{options:{size:40,direction:"up",style:{stroke:Xe.defaultNode.style.stroke,fill:Xe.defaultNode.style.fill,lineWidth:Xe.defaultNode.style.lineWidth},labelCfg:{style:{fill:Xe.nodeLabel.style.fill,fontSize:Xe.nodeLabel.style.fontSize},offset:15},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Xe.defaultNode.linkPoints.size,lineWidth:Xe.defaultNode.linkPoints.lineWidth,fill:Xe.defaultNode.linkPoints.fill,stroke:Xe.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20,offset:6},stateStyles:(0,q.__assign)({},Xe.nodeStateStyles)},shapeType:"triangle",labelPosition:"bottom",drawShape:function(r,t){var e=this.getOptions(r),n=e.icon,a=n===void 0?{}:n,o=e.direction,s=this.getShapeStyle(r),l=r.direction||o,f=t.addShape("path",{attrs:s,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),h=a.width,c=a.height,v=a.show,x=a.offset;if(v){var A=-h/2,B=-c/2;(l==="up"||l==="down")&&(B+=x),(l==="left"||l==="right")&&(A+=x),t.addShape("image",{attrs:(0,q.__assign)({x:A,y:B},a),className:this.type+"-icon",name:this.type+"-icon",draggable:!0})}return this.drawLinkPoints(r,t),f},drawLinkPoints:function(r,t){var e=this.getOptions(r),n=e.linkPoints,a=n===void 0?{}:n,o=e.direction,s=r.direction||o,l=a.top,f=a.left,h=a.right,c=a.bottom,v=a.size,x=a.r,A=(0,q.__rest)(a,["top","left","right","bottom","size","r"]),B=this.getSize(r),G=B[0];if(f){var H=null,X=G*Math.sin(1/3*Math.PI),ut=G*Math.sin(1/3*Math.PI);s==="up"?H=[-ut,X]:s==="down"?H=[-ut,-X]:s==="left"&&(H=[-ut,ut-X]),H&&t.addShape("circle",{attrs:(0,q.__assign)((0,q.__assign)({},A),{x:H[0],y:H[1],r:v/2||x||5}),className:"link-point-left",name:"link-point-left"})}if(h){var ft=null,X=G*Math.sin(1/3*Math.PI),ut=G*Math.sin(1/3*Math.PI);s==="up"?ft=[ut,X]:s==="down"?ft=[ut,-X]:s==="right"&&(ft=[ut,ut-X]),ft&&t.addShape("circle",{attrs:(0,q.__assign)((0,q.__assign)({},A),{x:ft[0],y:ft[1],r:v/2||x||5}),className:"link-point-right",name:"link-point-right"})}if(l){var xt=null,X=G*Math.sin(1/3*Math.PI),ut=G*Math.sin(1/3*Math.PI);s==="up"?xt=[ut-X,-X]:s==="left"?xt=[ut,-X]:s==="right"&&(xt=[-ut,-X]),xt&&t.addShape("circle",{attrs:(0,q.__assign)((0,q.__assign)({},A),{x:xt[0],y:xt[1],r:v/2||x||5}),className:"link-point-top",name:"link-point-top"})}if(c){var Yt=null,X=G*Math.sin(1/3*Math.PI),ut=G*Math.sin(1/3*Math.PI);s==="down"?Yt=[-ut+X,X]:s==="left"?Yt=[ut,X]:s==="right"&&(Yt=[-ut,X]),Yt&&t.addShape("circle",{attrs:(0,q.__assign)((0,q.__assign)({},A),{x:Yt[0],y:Yt[1],r:v/2||x||5}),className:"link-point-bottom",name:"link-point-bottom"})}},getPath:function(r){var t=this.getOptions(r).direction,e=r.direction||t,n=this.getSize(r),a=n[0],o=a*Math.sin(1/3*Math.PI),s=a*Math.sin(1/3*Math.PI),l=[["M",-s,o],["L",0,-o],["L",s,o],["Z"]];return e==="down"?l=[["M",-s,-o],["L",s,-o],["L",0,o],["Z"]]:e==="left"?l=[["M",-s,s-o],["L",s,-s],["L",s,s],["Z"]]:e==="right"&&(l=[["M",s,s-o],["L",-s,s],["L",-s,-s],["Z"]]),l},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,u.mix)({},t,e),a=this.getPath(r),o=(0,q.__assign)({path:a},n);return o},update:function(r,t){var e=t.getContainer(),n=this.getOptions({}).style,a=this.getPath(r),o={stroke:r.color,path:a},s=t.get("keyShape"),l=(0,u.mix)({},n,s.attr(),o);l=(0,u.mix)(l,r.style),this.updateShape(r,t,l,!0),this.updateLinkPoints(r,e)},updateLinkPoints:function(r,t){var e=this.getOptions({}),n=e.linkPoints,a=e.direction,o=r.direction||a,s=t.find(function(We){return We.get("className")==="link-point-left"}),l=t.find(function(We){return We.get("className")==="link-point-right"}),f=t.find(function(We){return We.get("className")==="link-point-top"}),h=t.find(function(We){return We.get("className")==="link-point-bottom"}),c=n,v=s||l||f||h;v&&(c=v.attr());var x=(0,u.mix)({},c,r.linkPoints),A=x.fill,B=x.stroke,G=x.lineWidth,H=x.size/2;H||(H=x.r);var X=r.linkPoints?r.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},ut=X.left,ft=X.right,xt=X.top,Yt=X.bottom,Kt=this.getSize(r),te=Kt[0],Wt={r:H,fill:A,stroke:B,lineWidth:G},ae=null,ce=te*Math.sin(1/3*Math.PI),he=te*Math.sin(1/3*Math.PI);o==="up"?ae=[-he,ce]:o==="down"?ae=[-he,-ce]:o==="left"&&(ae=[-he,he-ce]),ae&&(s?!ut&&ut!==void 0?s.remove():s.attr((0,q.__assign)((0,q.__assign)({},Wt),{x:ae[0],y:ae[1]})):ut&&t.addShape("circle",{attrs:(0,q.__assign)((0,q.__assign)({},Wt),{x:ae[0],y:ae[1]}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}));var Pe=null;o==="up"?Pe=[he,ce]:o==="down"?Pe=[he,-ce]:o==="right"&&(Pe=[he,he-ce]),Pe&&(l?!ft&&ft!==void 0?l.remove():l.attr((0,q.__assign)((0,q.__assign)({},Wt),{x:Pe[0],y:Pe[1]})):ft&&t.addShape("circle",{attrs:(0,q.__assign)((0,q.__assign)({},Wt),{x:Pe[0],y:Pe[1]}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}));var Be=null;o==="up"?Be=[he-ce,-ce]:o==="left"?Be=[he,-ce]:o==="right"&&(Be=[-he,-ce]),Be&&(f?!xt&&xt!==void 0?f.remove():f.attr((0,q.__assign)((0,q.__assign)({},Wt),{x:Be[0],y:Be[1]})):xt&&t.addShape("circle",{attrs:(0,q.__assign)((0,q.__assign)({},Wt),{x:Be[0],y:Be[1]}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}));var ke=null;o==="down"?ke=[-he+ce,ce]:o==="left"?ke=[he,ce]:o==="right"&&(ke=[-he,ce]),ke&&(h?!Yt&&Yt!==void 0?h.remove():h.attr((0,q.__assign)((0,q.__assign)({},Wt),{x:ke[0],y:ke[1]})):Yt&&t.addShape("circle",{attrs:(0,q.__assign)((0,q.__assign)({},Wt),{x:ke[0],y:ke[1]}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))}},"single-node"),Xn.registerNode("modelRect",{options:{size:[185,70],style:{radius:5,stroke:"#69c0ff",fill:"#ffffff",lineWidth:Xe.defaultNode.style.lineWidth,fillOpacity:1},labelCfg:{style:{fill:"#595959",fontSize:14},offset:30},descriptionCfg:{style:{fontSize:12,fill:"#bfbfbf"},paddingTop:0},preRect:{show:!0,width:4,fill:"#40a9ff",radius:2},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:10,lineWidth:1,fill:"#72CC4A",stroke:"#72CC4A"},logoIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/4f81893c-1806-4de4-aff3-9a6b266bc8a2.svg",width:16,height:16,offset:0},stateIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/300a2523-67e0-4cbf-9d4a-67c077b40395.svg",width:16,height:16,offset:-5},anchorPoints:[[0,.5],[1,.5]]},shapeType:"modelRect",drawShape:function(r,t){var e=this.getOptions(r).preRect,n=e===void 0?{}:e,a=this.getShapeStyle(r),o=this.getSize(r),s=o[0],l=o[1],f=t.addShape("rect",{attrs:a,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),h=n.show,c=(0,q.__rest)(n,["show"]);return h&&t.addShape("rect",{attrs:(0,q.__assign)({x:-s/2,y:-l/2,height:l},c),className:"pre-rect",name:"pre-rect",draggable:!0}),this.drawLogoIcon(r,t),this.drawStateIcon(r,t),this.drawLinkPoints(r,t),f},drawLogoIcon:function(r,t){var e=this.getOptions(r).logoIcon,n=e===void 0?{}:e,a=this.getSize(r),o=a[0];if(n.show){var s=n.width,l=n.height,f=n.x,h=n.y,c=n.offset,v=(0,q.__rest)(n,["width","height","x","y","offset"]);t.addShape("image",{attrs:(0,q.__assign)((0,q.__assign)({},v),{x:f||-o/2+s+c,y:h||-l/2,width:s,height:l}),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0})}},drawStateIcon:function(r,t){var e=this.getOptions(r).stateIcon,n=e===void 0?{}:e,a=this.getSize(r),o=a[0];if(n.show){var s=n.width,l=n.height,f=n.x,h=n.y,c=n.offset,v=(0,q.__rest)(n,["width","height","x","y","offset"]);t.addShape("image",{attrs:(0,q.__assign)((0,q.__assign)({},v),{x:f||o/2-s+c,y:h||-l/2,width:s,height:l}),className:"rect-state-icon",name:"rect-state-icon",draggable:!0})}},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.bottom,f=n.size,h=n.r,c=(0,q.__rest)(n,["top","left","right","bottom","size","r"]),v=this.getSize(r),x=v[0],A=v[1];o&&t.addShape("circle",{attrs:(0,q.__assign)((0,q.__assign)({},c),{x:-x/2,y:0,r:f/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:(0,q.__assign)((0,q.__assign)({},c),{x:x/2,y:0,r:f/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:(0,q.__assign)((0,q.__assign)({},c),{x:0,y:-A/2,r:f/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:(0,q.__assign)((0,q.__assign)({},c),{x:0,y:A/2,r:f/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},drawLabel:function(r,t){var e=this.getOptions(r),n=e.labelCfg,a=n===void 0?{}:n,o=e.logoIcon,s=o===void 0?{}:o,l=e.descriptionCfg,f=l===void 0?{}:l,h=this.getSize(r),c=h[0],v=null,x=s.show,A=s.width,B=-c/2+a.offset;x&&(B=-c/2+A+a.offset);var G=a.style,H=f.style,X=f.paddingTop;return(0,u.isString)(r.description)?(v=t.addShape("text",{attrs:(0,q.__assign)((0,q.__assign)({},G),{x:B,y:-5,text:r.label}),className:"text-shape",name:"text-shape",draggable:!0}),t.addShape("text",{attrs:(0,q.__assign)((0,q.__assign)({},H),{x:B,y:17+(X||0),text:r.description}),className:"rect-description",name:"rect-description",draggable:!0})):v=t.addShape("text",{attrs:(0,q.__assign)((0,q.__assign)({},G),{x:B,y:7,text:r.label}),draggable:!0}),v},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,u.mix)({},t,e),a=this.getSize(r),o=n.width||a[0],s=n.height||a[1],l=(0,q.__assign)({x:-o/2,y:-s/2,width:o,height:s},n);return l},update:function(r,t){var e=this.getOptions(r),n=e.style,a=n===void 0?{}:n,o=e.labelCfg,s=o===void 0?{}:o,l=e.descriptionCfg,f=l===void 0?{}:l,h=this.getSize(r),c=h[0],v=h[1],x=t.get("keyShape");x.attr((0,q.__assign)((0,q.__assign)({},a),{x:-c/2,y:-v/2,width:c,height:v}));var A=t.getContainer(),B=A.find(function(Sr){return Sr.get("className")==="rect-logo-icon"}),G=B?B.attr():{},H=(0,u.mix)({},G,r.logoIcon),X=H.width;X===void 0&&(X=this.options.logoIcon.width);var ut=r.logoIcon?r.logoIcon.show:void 0,ft=s.offset,xt=-c/2+X+ft;!ut&&ut!==void 0&&(xt=-c/2+ft);var Yt=A.find(function(Sr){return Sr.get("className")==="node-label"}),Kt=A.find(function(Sr){return Sr.get("className")==="rect-description"});if(r.label)if(!Yt)A.addShape("text",{attrs:(0,q.__assign)((0,q.__assign)({},s.style),{x:xt,y:r.description?-5:7,text:r.label}),className:"node-label",name:"node-label",draggable:!0});else{var te=r.labelCfg?r.labelCfg.style:{},Wt=(0,u.mix)({},Yt.attr(),te);r.label&&(Wt.text=r.label),Wt.x=xt,(0,u.isString)(r.description)&&(Wt.y=-5),Kt&&(Kt.resetMatrix(),Kt.attr({x:xt})),Yt.resetMatrix(),Yt.attr(Wt)}if((0,u.isString)(r.description)){var ae=f.paddingTop;if(!Kt)A.addShape("text",{attrs:(0,q.__assign)((0,q.__assign)({},f.style),{x:xt,y:17+(ae||0),text:r.description}),className:"rect-description",name:"rect-description",draggable:!0});else{var te=r.descriptionCfg?r.descriptionCfg.style:{},ce=(0,u.mix)({},Kt.attr(),te);(0,u.isString)(r.description)&&(ce.text=r.description),ce.x=xt,Kt.resetMatrix(),Kt.attr((0,q.__assign)((0,q.__assign)({},ce),{y:17+(ae||0)}))}}var he=A.find(function(Sr){return Sr.get("className")==="pre-rect"});if(he){var Pe=(0,u.mix)({},he.attr(),r.preRect);he.attr((0,q.__assign)((0,q.__assign)({},Pe),{x:-c/2,y:-v/2,height:v}))}if(B)if(!ut&&ut!==void 0)B.remove();else{var Be=H.width,ke=H.height,We=H.x,Ke=H.y,$e=H.offset,Ve=(0,q.__rest)(H,["width","height","x","y","offset"]);B.attr((0,q.__assign)((0,q.__assign)({},Ve),{x:We||-c/2+Be+$e,y:Ke||-ke/2,width:Be,height:ke}))}else ut&&this.drawLogoIcon(r,A);var He=A.find(function(Sr){return Sr.get("className")==="rect-state-icon"}),lr=He?He.attr():{},sr=(0,u.mix)({},lr,r.stateIcon);if(He){!sr.show&&sr.show!==void 0&&He.remove();var dr=sr.width,ke=sr.height,We=sr.x,Ke=sr.y,Qe=sr.offset,hr=(0,q.__rest)(sr,["width","height","x","y","offset"]);He.attr((0,q.__assign)((0,q.__assign)({},hr),{x:We||c/2-dr+Qe,y:Ke||-ke/2,width:dr,height:ke}))}else sr.show&&this.drawStateIcon(r,A);this.updateLinkPoints(r,A)}},"single-node"),Xn.registerNode("star",{options:{size:60,style:{stroke:Xe.defaultNode.style.stroke,fill:Xe.defaultNode.style.fill,lineWidth:Xe.defaultNode.style.lineWidth},labelCfg:{style:{fill:Xe.nodeLabel.style.fill,fontSize:Xe.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Xe.defaultNode.linkPoints.size,lineWidth:Xe.defaultNode.linkPoints.lineWidth,fill:Xe.defaultNode.linkPoints.fill,stroke:Xe.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,q.__assign)({},Xe.nodeStateStyles)},shapeType:"star",labelPosition:"center",drawShape:function(r,t){var e=this.getOptions(r).icon,n=e===void 0?{}:e,a=this.getShapeStyle(r),o=t.addShape("path",{attrs:a,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),s=n.width,l=n.height,f=n.show;if(f)var h=t.addShape("image",{attrs:(0,q.__assign)({x:-s/2,y:-l/2},n),className:this.type+"-icon",name:this.type+"-icon",draggable:!0});return this.drawLinkPoints(r,t),o},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.leftBottom,f=n.rightBottom,h=n.size,c=n.r,v=(0,q.__rest)(n,["top","left","right","leftBottom","rightBottom","size","r"]),x=this.getSize(r),A=x[0];if(s){var B=Math.cos((18+72*0)/180*Math.PI)*A,G=Math.sin((18+72*0)/180*Math.PI)*A;t.addShape("circle",{attrs:(0,q.__assign)((0,q.__assign)({},v),{x:B,y:-G,r:h/2||c||5}),className:"link-point-right",name:"link-point-right"})}if(a){var B=Math.cos((18+72*1)/180*Math.PI)*A,G=Math.sin((18+72*1)/180*Math.PI)*A;t.addShape("circle",{attrs:(0,q.__assign)((0,q.__assign)({},v),{x:B,y:-G,r:h/2||c||5}),className:"link-point-top",name:"link-point-top"})}if(o){var B=Math.cos((18+72*2)/180*Math.PI)*A,G=Math.sin((18+72*2)/180*Math.PI)*A;t.addShape("circle",{attrs:(0,q.__assign)((0,q.__assign)({},v),{x:B,y:-G,r:h/2||c||5}),className:"link-point-left",name:"link-point-left"})}if(l){var B=Math.cos((18+72*3)/180*Math.PI)*A,G=Math.sin((18+72*3)/180*Math.PI)*A;t.addShape("circle",{attrs:(0,q.__assign)((0,q.__assign)({},v),{x:B,y:-G,r:h/2||c||5}),className:"link-point-left-bottom",name:"link-point-left-bottom"})}if(f){var B=Math.cos((18+72*4)/180*Math.PI)*A,G=Math.sin((18+72*4)/180*Math.PI)*A;t.addShape("circle",{attrs:(0,q.__assign)((0,q.__assign)({},v),{x:B,y:-G,r:h/2||c||5}),className:"link-point-right-bottom",name:"link-point-right-bottom"})}},getPath:function(r){for(var t=this.getSize(r),e=t[0],n=e*3/8,a=r.innerR||n,o=[],s=0;s<5;s++){var l=Math.cos((18+72*s)/180*Math.PI)*e,f=Math.sin((18+72*s)/180*Math.PI)*e,h=Math.cos((54+72*s)/180*Math.PI)*a,c=Math.sin((54+72*s)/180*Math.PI)*a;s===0?o.push(["M",l,-f]):o.push(["L",l,-f]),o.push(["L",h,-c])}return o.push(["Z"]),o},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,u.mix)({},t,e),a=this.getPath(r),o=(0,q.__assign)({path:a},n);return o},update:function(r,t){var e=t.getContainer(),n=this.getOptions({}).style,a=this.getPath(r),o={stroke:r.color,path:a},s=t.get("keyShape"),l=(0,u.mix)({},n,s.attr(),o);l=(0,u.mix)(l,r.style),this.updateShape(r,t,l,!0),this.updateLinkPoints(r,e)},updateLinkPoints:function(r,t){var e=this.getOptions({}).linkPoints,n=t.find(function(ce){return ce.get("className")==="link-point-left"}),a=t.find(function(ce){return ce.get("className")==="link-point-right"}),o=t.find(function(ce){return ce.get("className")==="link-point-top"}),s=t.find(function(ce){return ce.get("className")==="link-point-left-bottom"}),l=t.find(function(ce){return ce.get("className")==="link-point-right-bottom"}),f=e,h=n||a||o||s||l;h&&(f=h.attr());var c=(0,u.mix)({},f,r.linkPoints),v=c.fill,x=c.stroke,A=c.lineWidth,B=c.size/2;B||(B=c.r);var G=r.linkPoints?r.linkPoints:{left:void 0,right:void 0,top:void 0,leftBottom:void 0,rightBottom:void 0},H=G.left,X=G.right,ut=G.top,ft=G.leftBottom,xt=G.rightBottom,Yt=this.getSize(r),Kt=Yt[0],te={r:B,fill:v,stroke:x,lineWidth:A},Wt=Math.cos((18+72*0)/180*Math.PI)*Kt,ae=Math.sin((18+72*0)/180*Math.PI)*Kt;a?!X&&X!==void 0?a.remove():a.attr((0,q.__assign)((0,q.__assign)({},te),{x:Wt,y:-ae})):X&&t.addShape("circle",{attrs:(0,q.__assign)((0,q.__assign)({},te),{x:Wt,y:-ae}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),Wt=Math.cos((18+72*1)/180*Math.PI)*Kt,ae=Math.sin((18+72*1)/180*Math.PI)*Kt,o?!ut&&ut!==void 0?o.remove():o.attr((0,q.__assign)((0,q.__assign)({},te),{x:Wt,y:-ae})):ut&&t.addShape("circle",{attrs:(0,q.__assign)((0,q.__assign)({},te),{x:Wt,y:-ae}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),Wt=Math.cos((18+72*2)/180*Math.PI)*Kt,ae=Math.sin((18+72*2)/180*Math.PI)*Kt,n?!H&&H!==void 0?n.remove():n.attr((0,q.__assign)((0,q.__assign)({},te),{x:Wt,y:-ae})):H&&t.addShape("circle",{attrs:(0,q.__assign)((0,q.__assign)({},te),{x:Wt,y:-ae}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),Wt=Math.cos((18+72*3)/180*Math.PI)*Kt,ae=Math.sin((18+72*3)/180*Math.PI)*Kt,s?!ft&&ft!==void 0?s.remove():s.attr((0,q.__assign)((0,q.__assign)({},te),{x:Wt,y:-ae})):ft&&t.addShape("circle",{attrs:(0,q.__assign)((0,q.__assign)({},te),{x:Wt,y:-ae}),className:"link-point-left-bottom",name:"link-point-left-bottom",isAnchorPoint:!0}),Wt=Math.cos((18+72*4)/180*Math.PI)*Kt,ae=Math.sin((18+72*4)/180*Math.PI)*Kt,l?!xt&&xt!==void 0?s.remove():l.attr((0,q.__assign)((0,q.__assign)({},te),{x:Wt,y:-ae})):xt&&t.addShape("circle",{attrs:(0,q.__assign)((0,q.__assign)({},te),{x:Wt,y:-ae}),className:"link-point-right-bottom",name:"link-point-right-bottom",isAnchorPoint:!0})}},"single-node"),Xn.registerNode("image",{options:{img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*eD7nT6tmYgAAAAAAAAAAAABkARQnAQ",size:200,clipCfg:{show:!1,type:"circle",r:50,rx:50,ry:35,width:50,height:35,points:[[30,12],[12,30],[30,48],[48,30]],path:[["M",25,25],["L",50,25],["A",12.5,12.5,0,1,1,50,50],["A",12.5,12.5,0,1,0,50,50],["L",25,75],["Z"]],x:0,y:0}},shapeType:"image",labelPosition:"bottom",drawShape:function(r,t){var e=this.shapeType,n=this.getShapeStyle(r);delete n.fill;var a=t.addShape(e,{attrs:n,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0});return this.drawClip(r,a),a},drawClip:function(r,t){var e=this.getOptions(r).clipCfg;if(!!e.show){var n=e.type,a=e.x,o=e.y,s=e.style;if(n==="circle"){var l=e.r;t.setClip({type:"circle",attrs:(0,q.__assign)({r:l,x:a,y:o},s)})}else if(n==="rect"){var f=e.width,h=e.height,c=a-f/2,v=o-h/2;t.setClip({type:"rect",attrs:(0,q.__assign)({x:c,y:v,width:f,height:h},s)})}else if(n==="ellipse"){var x=e.rx,A=e.ry;t.setClip({type:"ellipse",attrs:(0,q.__assign)({x:a,y:o,rx:x,ry:A},s)})}else if(n==="polygon"){var B=e.points;t.setClip({type:"polygon",attrs:(0,q.__assign)({points:B},s)})}else if(n==="path"){var G=e.path;t.setClip({type:"path",attrs:(0,q.__assign)({path:G},s)})}}},getShapeStyle:function(r){var t=this.getOptions(r).style,e=this.getSize(r),n=this.getOptions(r).img,a=e[0],o=e[1];t&&(a=t.width||e[0],o=t.height||e[1]);var s=(0,q.__assign)({x:-a/2,y:-o/2,width:a,height:o,img:n},t);return s},updateShapeStyle:function(r,t){var e=t.getContainer(),n=this.itemType+"-shape",a=e.find(function(s){return s.get("className")===n})||t.getKeyShape(),o=this.getShapeStyle(r);a&&a.attr(o)}},"single-node");function Su(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Su=function(t){return typeof t}:Su=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Su(i)}var Cu=function(r){var t=r.x,e=r.y;return{x:t,y:e,centerX:t,centerY:e,minX:t,minY:e,maxX:t,maxY:e,height:0,width:0}},f6=function(r){r===void 0&&(r=[]);var t=[],e=[];r.forEach(function(l){t.push(l.x),e.push(l.y)});var n=Math.min.apply(Math,t),a=Math.max.apply(Math,t),o=Math.min.apply(Math,e),s=Math.max.apply(Math,e);return{centerX:(n+a)/2,centerY:(o+s)/2,maxX:a,maxY:s,minX:n,minY:o,height:s-o,width:a-n}},r1=function(r,t){return Math.abs(r.centerX-t.centerX)*2<r.width+t.width&&Math.abs(r.centerY-t.centerY)*2<r.height+t.height},Jh=function(r){var t=[],e={};return r.forEach(function(n){var a=n.x+"-"+n.y;n.id=a,e[a]=n}),(0,u.each)(e,function(n){t.push(n)}),t},Mu=function(r){return r=Jh(r),r},n1=function(r,t){return[r,{x:r.x,y:t.y},t]},Eu=function(r,t){return r.width===0&&r.height===0?r:{centerX:r.centerX,centerY:r.centerY,minX:r.minX-t,minY:r.minY-t,maxX:r.maxX+t,maxY:r.maxY+t,height:r.height+2*t,width:r.width+2*t}},h6=function(r,t){var e=Math.abs(r.x-t.centerX),n=Math.abs(r.y-t.centerY);return e/t.width>n/t.height},qh=function(r,t){var e=h6(t,r);return e?{x:t.x>r.centerX?r.maxX:r.minX,y:t.y}:{x:t.x,y:t.y>r.centerY?r.maxY:r.minY}},tc=function(r,t){var e=Math.min(r.minX,t.minX),n=Math.min(r.minY,t.minY),a=Math.max(r.maxX,t.maxX),o=Math.max(r.maxY,t.maxY);return{centerX:(e+a)/2,centerY:(n+o)/2,minX:e,minY:n,maxX:a,maxY:o,height:o-n,width:a-e}},ec=function(r){var t=r.minX,e=r.minY,n=r.maxX,a=r.maxY;return[{x:t,y:e},{x:n,y:e},{x:n,y:a},{x:t,y:a}]},_u=function(r,t){var e=r.x,n=r.y;return e<t.minX||e>t.maxX||n<t.minY||n>t.maxY},c6=function(r,t){return t<r.minX||t>r.maxX?[]:[{x:t,y:r.minY},{x:t,y:r.maxY}]},v6=function(r,t){return t<r.minY||t>r.maxY?[]:[{x:r.minX,y:t},{x:r.maxX,y:t}]},d6=function(r,t){return c6(r,t.x).concat(v6(r,t.y))},Fs=function(r,t){return Math.abs(r.x-t.x)+Math.abs(r.y-t.y)},p6=function(r,t){var e=-2,n=0;return t.forEach(function(a){a&&(r.x===a.x&&(n+=e),r.y===a.y&&(n+=e))}),n},i1=function(r,t,e,n,a){return Fs(r,t)+Fs(r,e)+p6(r,[t,e,n,a])},g6=function i(r,t,e,n,a){a===void 0&&(a=0),r.unshift(t[n]),e[n]&&e[n]!==n&&a<=100&&i(r,t,e,e[n],a+1)},y6=function(r,t){var e=r.indexOf(t);e>-1&&r.splice(e,1)},Au=function(r,t,e,n){var a=t.x-r.x,o=t.y-r.y,s=n.x-e.x,l=n.y-e.y,f=(-o*(r.x-e.x)+a*(r.y-e.y))/(-s*o+a*l),h=(s*(r.y-e.y)-l*(r.x-e.x))/(-s*o+a*l);return f>=0&&f<=1&&h>=0&&h<=1},rc=function(r,t,e){if(e.width===0&&e.height===0)return!1;var n=ec(e),a=n[0],o=n[1],s=n[2],l=n[3];return Au(r,t,a,o)||Au(r,t,a,l)||Au(r,t,o,s)||Au(r,t,s,l)},m6=function(r,t,e,n){var a=[];return r.forEach(function(o){o!==t&&(o.x===t.x||o.y===t.y)&&!rc(o,t,e)&&!rc(o,t,n)&&a.push(o)}),Jh(a)},x6=function(r,t,e,n,a,o,s){var l=[],f=[t],h={},c={},v={};c[t.id]=0,v[t.id]=i1(t,e,t);var x={};r.forEach(function(G){x[G.id]=G});for(var A=function(){var H,X=Infinity;if(f.forEach(function(ft){v[ft.id]<X&&(X=v[ft.id],H=ft)}),H===e){var ut=[];return g6(ut,x,h,e.id),{value:ut}}y6(f,H),l.push(H),m6(r,H,n,a).forEach(function(ft){if(l.indexOf(ft)===-1){f.indexOf(ft)===-1&&f.push(ft);var xt=v[H.id]+Fs(H,ft);c[ft.id]&&xt>=c[ft.id]||(h[ft.id]=H.id,c[ft.id]=xt,v[ft.id]=c[ft.id]+i1(ft,e,t,o,s))}})};f.length;){var B=A();if(Su(B)==="object")return B.value}return[t,e]},b6=function(r,t,e){return!(r.x===t.x&&t.x===e.x||r.y===t.y&&t.y===e.y)},w6=function(r,t,e,n){var a=Fs(r,t),o=Fs(e,t);a<n&&(n=a),o<n&&(n=o);var s={x:t.x-n/a*(t.x-r.x),y:t.y-n/a*(t.y-r.y)},l={x:t.x-n/o*(t.x-e.x),y:t.y-n/o*(t.y-e.y)};return[s,l]},a1=function(r,t){var e=[],n=r[0];return e.push("M"+n.x+" "+n.y),r.forEach(function(a,o){var s=r[o+1],l=r[o+2];if(s&&l)if(b6(a,s,l)){var f=w6(a,s,l,t),h=f[0],c=f[1];e.push("L"+h.x+" "+h.y),e.push("Q"+s.x+" "+s.y+" "+c.x+" "+c.y),e.push("L"+c.x+" "+c.y)}else e.push("L"+s.x+" "+s.y);else s&&e.push("L"+s.x+" "+s.y)}),e.join("")},S6=function(r,t,e,n,a){var o,s;if(!e||!e.getType())o=Cu(r);else if(e.getType()==="combo"){var l=e.getKeyShape();o=l.getCanvasBBox()||Cu(r),o.centerX=(o.minX+o.maxX)/2,o.centerY=(o.minY+o.maxY)/2}else o=e.getBBox();if(!n||!n.getType())s=Cu(t);else if(n.getType()==="combo"){var f=n.getKeyShape();s=f.getCanvasBBox()||Cu(t),s.centerX=(s.minX+s.maxX)/2,s.centerY=(s.minY+s.maxY)/2}else s=n&&n.getBBox();if(r1(o,s))return Mu(n1(r,t));var h=Eu(o,a),c=Eu(s,a);if(r1(h,c))return Mu(n1(r,t));var v=qh(h,r),x=qh(c,t),A=f6([v,x]),B=tc(h,c),G=tc(h,A),H=tc(c,A),X=[];X=X.concat(ec(G)),X=X.concat(ec(H));var ut={x:(r.x+t.x)/2,y:(r.y+t.y)/2};[A,G,H].forEach(function(xt){X=X.concat(d6(xt,ut).filter(function(Yt){return _u(Yt,h)&&_u(Yt,c)}))}),[{x:v.x,y:x.y},{x:x.x,y:v.y}].forEach(function(xt){_u(xt,h)&&_u(xt,c)&&X.push(xt)}),X.unshift(v),X.push(x),X=Jh(X);var ft=x6(X,v,x,o,s,r,t);return ft.unshift(r),ft.push(t),Mu(ft)};function Pu(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Pu=function(t){return typeof t}:Pu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pu(i)}var C6=function(r,t){return Math.abs(r.x-t.x)+Math.abs(r.y-t.y)},M6=function(r,t){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))},E6=function(r,t){return[r,t]},_6=function(r,t,e,n,a){return Mu(S6(r,t,e,n,a.offset))},A6={offset:20,maxAllowedDirectionChange:90,maximumLoops:2e3,gridSize:10,directions:[{stepX:1,stepY:0},{stepX:-1,stepY:0},{stepX:0,stepY:1},{stepX:0,stepY:-1}],get penalties(){return{0:0,45:this.gridSize/2,90:this.gridSize/2}},distFunc:C6,fallbackRoute:_6},NY={maxAllowedDirectionChange:45,directions:[{stepX:1,stepY:0},{stepX:1,stepY:1},{stepX:0,stepY:1},{stepX:-1,stepY:1},{stepX:-1,stepY:0},{stepX:-1,stepY:-1},{stepX:0,stepY:-1},{stepX:1,stepY:-1}],distFunc:M6,fallbackRoute:E6},ra=function(r,t){var e=Math.floor(r/t);return e<0?0:e},P6=function(r,t,e){var n={};return r.forEach(function(a){if(a)for(var o=Eu(a.getBBox(),e),s=ra(o.minX,t);s<=ra(o.maxX,t);s+=1)for(var l=ra(o.minY,t);l<=ra(o.maxY,t);l+=1){var f=s+"-"+l;n[f]=!0}}),n},nc=function(r,t){var e=t.x-r.x,n=t.y-r.y;if(!e&&!n)return 0;var a=(360+Math.atan2(n,e)*180/Math.PI)%360;return a},o1=function(r,t){var e=Math.abs(r-t);return e>180?360-e:e},s1=function(r,t,e){for(var n=Infinity,a=0,o=t.length;a<o;a++){var s=e(r,t[a]);s<n&&(n=s)}return n},l1=function(r,t,e){var n=[];if(!t)return n;var a=e.directions,o=e.offset,s=t.getBBox(),l=Eu(t.getBBox(),o);for(var f in l)l[f]=ra(l[f],e.gridSize);var h=r.x>ra(s.minX,e.gridSize)&&r.x<ra(s.maxX,e.gridSize)&&r.y>ra(s.minY,e.gridSize)&&r.y<ra(s.maxY,e.gridSize);if(h)for(var c=0,v=a;c<v.length;c++)for(var x=v[c],A=[[{x:l.minX,y:l.minY},{x:l.maxX,y:l.minY}],[{x:l.minX,y:l.minY},{x:l.minX,y:l.maxY}],[{x:l.maxX,y:l.minY},{x:l.maxX,y:l.maxY}],[{x:l.minX,y:l.maxY},{x:l.maxX,y:l.maxY}]],f=0;f<4;f++){var B=A[f],G=Ps(r,{x:r.x+x.stepX*l.width,y:r.y+x.stepY*l.height},B[0],B[1]);G&&!rc(r,G,t.getBBox())&&(G.id=G.x+"-"+G.y,n.push(G))}else{var G=qh(l,r);G.id=G.x+"-"+G.y,n.push(G)}return n},u1=function(r,t,e,n,a){var o=(0,Pi.default)(A6,a);o.obstacles=o.obstacles||[];var s=P6(o.obstacles.concat([e,n]),o.gridSize,o.offset),l={x:ra(r.x,o.gridSize),y:ra(r.y,o.gridSize)},f={x:ra(t.x,o.gridSize),y:ra(t.y,o.gridSize)};r.id=l.x+"-"+l.y,t.id=f.x+"-"+f.y;var h=l1(l,e,o),c=l1(f,n,o);h.forEach(function(te){delete s[te.id]}),c.forEach(function(te){delete s[te.id]});for(var v={},x={},A={},B={},G={},H=0;H<h.length;H++){var X=h[H];v[X.id]=X,B[X.id]=0,G[X.id]=s1(X,c,o.distFunc)}for(var ut=function(Wt,ae){var ce=nc(Wt,ae),he;if(A[Wt.id]){var Be=nc({x:parseFloat(A[Wt.id].split("-")[0]),y:parseFloat(A[Wt.id].split("-")[1])},Wt);he=o1(Be,ce)}else{var Pe=nc(l,Wt);he=o1(Pe,ce)}return he},ft=function(Wt){var ae=[t],ce={x:parseFloat(Wt.split("-")[0]),y:parseFloat(Wt.split("-")[1]),id:Wt};for(ut(ce,f)&&ae.unshift({x:ce.x===f.x?t.x:ce.x*o.gridSize,y:ce.y===f.y?t.y:ce.y*o.gridSize});A[Wt]&&A[Wt]!==Wt;){var he={x:parseFloat(Wt.split("-")[0]),y:parseFloat(Wt.split("-")[1]),id:Wt},Pe=A[Wt],Be={x:parseFloat(Pe.split("-")[0]),y:parseFloat(Pe.split("-")[1]),id:Pe},ke=ut(Be,he);ke&&ae.unshift({x:Be.x===he.x?ae[0].x:Be.x*o.gridSize,y:Be.y===he.y?ae[0].y:Be.y*o.gridSize}),Wt=Pe}var We={x:parseFloat(Wt.split("-")[0]),y:parseFloat(Wt.split("-")[1]),id:Wt};return ae[0].x=We.x===l.x?r.x:ae[0].x,ae[0].y=We.y===l.y?r.y:ae[0].y,ae.unshift(r),ae},xt=o.maximumLoops,Yt=function(){var Wt,ae=Infinity;for(var ce in v)G[ce]<=ae&&(ae=G[ce],Wt=v[ce]);if(!Wt)return"break";if(c.findIndex(function(Ve){return Ve.x===Wt.x&&Ve.y===Wt.y})>-1){var he=ft(Wt.id);return{value:he}}delete v[Wt.id],x[Wt.id]=!0;for(var Pe=0;Pe<o.directions.length;Pe++){var Be=o.directions[Pe],ke={x:Wt.x+Be.stepX,y:Wt.y+Be.stepY,id:Wt.x+Be.stepX+"-"+(Wt.y+Be.stepY)};if(!x[ke.id]){var We=ut(Wt,ke);if(!(We>o.maxAllowedDirectionChange)&&!s[ke.id]){v[ke.id]||(v[ke.id]=ke);var Ke=o.distFunc(Wt,ke)+(isNaN(o.penalties[We])?o.gridSize:o.penalties[We]),$e=B[Wt.id]+Ke;B[ke.id]&&$e>=B[ke.id]||(A[ke.id]=Wt.id,B[ke.id]=$e,G[ke.id]=$e+s1(ke,c,o.distFunc))}}}xt-=1};Object.keys(v).length>0&&xt>0;){var Kt=Yt();if(Pu(Kt)==="object")return Kt.value;if(Kt==="break")break}return o.fallbackRoute(r,t,e,n,o)};Xn.registerEdge("polyline",{options:{color:Xe.defaultEdge.color,size:Xe.defaultEdge.size,style:{radius:0,offset:15,x:0,y:0,stroke:Xe.defaultEdge.style.stroke,lineAppendWidth:Xe.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:Xe.edgeLabel.style.fill,fontSize:Xe.edgeLabel.style.fontSize}},routeCfg:{obstacles:[],maxAllowedDirectionChange:90,maximumLoops:1e3,gridSize:10},stateStyles:(0,q.__assign)({},Xe.edgeStateStyles)},shapeType:"polyline",labelPosition:"center",drawShape:function(r,t){var e=this.getShapeStyle(r);e.radius===0&&delete e.radius;var n=t.addShape("path",{className:"edge-shape",name:"edge-shape",attrs:e});return n},getShapeStyle:function(r){var t=this.options.style,e={stroke:r.color},n=(0,u.mix)({},t,e,r.style);r=this.getPathPoints(r),this.radius=n.radius,this.offset=n.offset;var a=r.startPoint,o=r.endPoint,s=this.getControlPoints(r),l=[a];s&&(l=l.concat(s)),l.push(o);var f=r.sourceNode,h=r.targetNode,c=n.radius,v=this.options.routeCfg;v.offset=n.offset;var x=this.getPath(l,f,h,c,v);((0,u.isArray)(x)&&x.length<=1||(0,u.isString)(x)&&x.indexOf("L")===-1)&&(x="M0 0, L0 0"),(isNaN(a.x)||isNaN(a.y)||isNaN(o.x)||isNaN(o.y))&&(x="M0 0, L0 0");var A=(0,u.mix)({},Xe.defaultEdge.style,n,{lineWidth:r.size,path:x});return A},updateShapeStyle:function(r,t){var e=t.getContainer(),n={stroke:r.color},a=e.find(function(X){return X.get("className")==="edge-shape"})||t.getKeyShape(),o=r.size;r=this.getPathPoints(r);var s=r.startPoint,l=r.endPoint,f=this.getControlPoints(r),h=[s];f&&(h=h.concat(f)),h.push(l);var c=(0,u.mix)({},n,a.attr(),r.style),v=r.sourceNode,x=r.targetNode,A=c.radius,B=this.options.routeCfg;B.offset=c.offset;var G=this.getPath(h,v,x,A,B);((0,u.isArray)(G)&&G.length<=1||(0,u.isString)(G)&&G.indexOf("L")===-1)&&(G="M0 0, L0 0"),(isNaN(s.x)||isNaN(s.y)||isNaN(l.x)||isNaN(l.y))&&(G="M0 0, L0 0");var H=(0,u.mix)(n,a.attr(),{lineWidth:o,path:G},r.style);a&&a.attr(H)},getPath:function(r,t,e,n,a){var o=a.offset;if(!o||r.length>2){if(n)return a1(r,n);var s=[];return(0,u.each)(r,function(c,v){v===0?s.push(["M",c.x,c.y]):s.push(["L",c.x,c.y])}),s}var l;if(n){l=u1(r[0],r[r.length-1],t,e,a);var f=a1(l,n);return f}l=u1(r[0],r[r.length-1],t,e,a);var h=Hm(l);return h}},"single-edge");var T6={triangle:function(r,t,e){r===void 0&&(r=10),t===void 0&&(t=15),e===void 0&&(e=0);var n=e*2,a="M "+n+",0 L "+(n+t)+",-"+r/2+" L "+(n+t)+","+r/2+" Z";return a},vee:function(r,t,e){r===void 0&&(r=15),t===void 0&&(t=20),e===void 0&&(e=0);var n=e*2,a="M "+n+",0 L "+(n+t)+",-"+r/2+`
        L `+(n+2*t/3)+",0 L "+(n+t)+","+r/2+" Z";return a},circle:function(r,t){r===void 0&&(r=5),t===void 0&&(t=0);var e=t*2,n="M "+e+`, 0
            a `+r+","+r+" 0 1,0 "+r*2+`,0
            a `+r+","+r+" 0 1,0 "+-r*2+",0";return n},rect:function(r,t,e){r===void 0&&(r=10),t===void 0&&(t=10),e===void 0&&(e=0);var n=e*2,a="M "+n+","+-r/2+` 
        L `+(n+t)+","+-r/2+` 
        L `+(n+t)+","+r/2+` 
        L `+n+","+r/2+" Z";return a},diamond:function(r,t,e){r===void 0&&(r=15),t===void 0&&(t=15),e===void 0&&(e=0);var n=e*2,a="M "+n+`,0 
        L `+(n+t/2)+","+-r/2+` 
        L `+(n+t)+`,0 
        L `+(n+t/2)+","+r/2+" Z";return a},triangleRect:function(r,t,e,n,a,o){r===void 0&&(r=15),t===void 0&&(t=15),e===void 0&&(e=15),n===void 0&&(n=3),a===void 0&&(a=5),o===void 0&&(o=0);var s=o*2,l=s+t+a,f="M "+s+",0 L "+(s+t)+",-"+r/2+" L "+(s+t)+","+r/2+` Z
            M `+l+", -"+e/2+`
            L `+(l+n)+" -"+e/2+`
            L `+(l+n)+" "+e/2+`
            L `+l+" "+e/2+`
            Z`;return f}},O6={collapse:function(r,t,e){return[["M",r-e,t],["a",e,e,0,1,0,e*2,0],["a",e,e,0,1,0,-e*2,0],["M",r-e+4,t],["L",r+e-4,t]]},expand:function(r,t,e){return[["M",r-e,t],["a",e,e,0,1,0,e*2,0],["a",e,e,0,1,0,-e*2,0],["M",r-e+4,t],["L",r-e+2*e-4,t],["M",r-e+e,t-e+4],["L",r,t+e-4]]},upTriangle:function(r,t,e){var n=e*Math.cos(Math.PI/6),a=e*Math.sin(Math.PI/6);return[["M",r-n,t+a],["L",r+n,t+a],["L",r,t-e],["Z"]]},downTriangle:function(r,t,e){var n=e*Math.cos(Math.PI/6),a=e*Math.sin(Math.PI/6);return[["M",r-n,t-a],["L",r+n,t-a],["L",r,t+e],["Z"]]}},es=Xn,L6={mat3:ma.wO,mix:Bs.default,deepMix:Pi.default,transform:ma.vs},I6=(0,q.__assign)((0,q.__assign)((0,q.__assign)((0,q.__assign)((0,q.__assign)((0,q.__assign)({},L6),Et),Xt),_t),It),Dt),k6=I6,B6=function(){function i(r){this._cfgs=(0,Pi.default)(this.getDefaultCfgs(),r),this._events={},this.destroyed=!1}return i.prototype.getDefaultCfgs=function(){return{}},i.prototype.initPlugin=function(r){var t=this;t.set("graph",r);var e=t.getEvents(),n={};(0,xn.default)(e,function(a,o){var s=(0,eu.default)(t,a);n[o]=s,r.on(o,s)}),this._events=n,this.init()},i.prototype.init=function(){},i.prototype.getEvents=function(){return{}},i.prototype.get=function(r){return this._cfgs[r]},i.prototype.set=function(r,t){this._cfgs[r]=t},i.prototype.destroy=function(){},i.prototype.destroyPlugin=function(){this.destroy();var r=this.get("graph"),t=this._events;(0,xn.default)(t,function(e,n){r.off(n,e)}),this._events=null,this._cfgs=null,this.destroyed=!0},i}(),Ia=B6,f1="url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=)",D6=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{img:f1}},r.prototype.init=function(){var t=this.get("graph"),e=t.get("minZoom"),n=t.get("container"),a=t.get("canvas").get("el"),o=t.get("width"),s=t.get("height"),l=this.get("img")||f1,f=(0,$n.Z)(`<div class='g6-grid-container' style="position: absolute; left:0;top:0;right:0;bottom:0;overflow: hidden;z-index: -1;"></div>`),h=(0,$n.Z)(`<div 
        class='g6-grid' 
        style='position:absolute;
        transform-origin: 0% 0% 0px;
        background-image: `+l+`;
        user-select: none
        '></div>`);f.appendChild(h),(0,Cn.Z)(f,{width:o+"px",height:s+"px",left:n.offsetLeft+"px",top:n.offsetTop+"px"}),(0,Cn.Z)(h,{width:o/e+"px",height:s/e+"px",left:"0px",top:"0px"}),n.insertBefore(f,a),this.set("container",f),this.set("gridContainer",h)},r.prototype.getEvents=function(){return{viewportchange:"updateGrid"}},r.prototype.updateGrid=function(t){var e=this.get("gridContainer"),n=t.matrix;n||(n=[1,0,0,0,1,0,0,0,1]);var a="matrix("+n[0]+", "+n[1]+", "+n[3]+", "+n[4]+", 0, 0)";(0,Cn.Z)(e,{transform:a})},r.prototype.getContainer=function(){return this.get("container")},r.prototype.destroy=function(){var t=this.get("graph"),e=t.get("container"),n=this.get("container");e.removeChild(n)},r}(Ia),F6=D6,R6=d(38186),ic=d.n(R6);ic()(`
  .g6-component-contextmenu {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .g6-contextmenu-ul {
    padding: 0;
    margin: 0;
    list-style: none;
  }

`);var N6=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,handleMenuClick:void 0,getContent:function(e){return`
          <ul class='g6-contextmenu-ul'>
            <li>\u83DC\u5355\u98791</li>
            <li>\u83DC\u5355\u98792</li>
          </ul>
        `},shouldBegin:function(e){return!0},onHide:function(){return!0},itemTypes:["node","edge","combo"]}},r.prototype.getEvents=function(){return{contextmenu:"onMenuShow"}},r.prototype.init=function(){var t=this.get("className"),e=(0,$n.Z)("<div class="+(t||"g6-component-contextmenu")+"></div>");(0,Cn.Z)(e,{top:"0px",position:"absolute",visibility:"hidden"});var n=this.get("container");n||(n=this.get("graph").get("container")),n.appendChild(e),this.set("menu",e)},r.prototype.onMenuShow=function(t){var e=this;if(t.preventDefault(),t.stopPropagation(),!!t.item){var n=this.get("shouldBegin");if(!!n(t)){var a=this.get("itemTypes");if(t.item&&t.item.getType&&a.indexOf(t.item.getType())===-1){e.onMenuHide();return}if(!!t.item){var o=this.get("menu"),s=this.get("getContent"),l=this.get("graph"),f=s(t,l);(0,un.default)(f)?o.innerHTML=f:o.innerHTML=f.outerHTML,this.removeMenuEventListener();var h=this.get("handleMenuClick");if(h){var c=function(Kt){h(Kt.target,t.item,l)};this.set("handleMenuClickWrapper",c),o.addEventListener("click",c)}var v=l.get("width"),x=l.get("height"),A=o.getBoundingClientRect(),B=this.get("offsetX")||0,G=this.get("offsetY")||0,H=l.getContainer().offsetTop,X=l.getContainer().offsetLeft,ut=t.canvasX+X+B,ft=t.canvasY+H+G;ut+A.width>v&&(ut=t.canvasX-A.width-B+X),ft+A.height>x&&(ft=t.canvasY-A.height-G+H),(0,Cn.Z)(o,{top:ft+"px",left:ut+"px",visibility:"visible"});var xt=function(Kt){e.onMenuHide()};document.body.addEventListener("click",xt),this.set("handler",xt)}}}},r.prototype.removeMenuEventListener=function(){var t=this.get("handleMenuClickWrapper"),e=this.get("handler");if(t){var n=this.get("menu");n.removeEventListener("click",t),this.set("handleMenuClickWrapper",null)}e&&document.body.removeEventListener("click",e)},r.prototype.onMenuHide=function(){var t=this.get("menu");t&&(0,Cn.Z)(t,{visibility:"hidden"}),this.removeMenuEventListener()},r.prototype.destroy=function(){var t=this.get("menu");if(this.removeMenuEventListener(),t){var e=this.get("container");e||(e=this.get("graph").get("container")),e.removeChild(t)}},r}(Ia),G6=N6,h1=Math.max,Y6="default",z6="keyShape",X6="delegate",c1="svg",V6=function(i){(0,q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.handleUpdateCanvas=(0,u.debounce)(function(e){var n=t;n.destroyed||n.updateCanvas()},100,!1),t}return r.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",type:"default",padding:50,size:[200,120],delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},r.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},r.prototype.disableRefresh=function(){this.set("refresh",!1)},r.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},r.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},r.prototype.initViewport=function(){var t=this,e=this._cfgs,n=e.size,a=e.graph;if(!this.destroyed){var o=this.get("canvas"),s=o.get("container"),l=(0,$n.Z)(`
      <div
        class=`+e.viewportClassName+`
        style='position:absolute;
          left:0;
          top:0;
          box-sizing:border-box;
          border: 2px solid #1980ff'
        draggable=true>
      </div>`),f=0,h=0,c=!1,v=0,x=0,A=0,B=0,G=0,H=0;l.addEventListener("dragstart",function(X){if(X.dataTransfer){var ut=new Image;ut.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' %3E%3Cpath /%3E%3C/svg%3E",X.dataTransfer.setDragImage(ut,0,0),X.dataTransfer.setData("text","view-port-minimap")}if(e.refresh=!1,X.target===l){var ft=l.style;v=parseInt(ft.left,10),x=parseInt(ft.top,10),A=parseInt(ft.width,10),B=parseInt(ft.height,10),!(A>n[0]||B>n[1])&&(H=a.getZoom(),G=t.get("ratio"),c=!0,f=X.clientX,h=X.clientY)}},!1),l.addEventListener("drag",function(X){if(!(!c||(0,gi.default)(X.clientX)||(0,gi.default)(X.clientY))){var ut=f-X.clientX,ft=h-X.clientY;(v-ut<0||v-ut+A>=n[0])&&(ut=0),(x-ft<0||x-ft+B>=n[1])&&(ft=0),v-=ut,x-=ft,(0,Cn.Z)(l,{left:v+"px",top:x+"px"}),a.translate(ut*H/G,ft*H/G),f=X.clientX,h=X.clientY}},!1),l.addEventListener("dragend",function(){c=!1,e.refresh=!0},!1),this.set("viewport",l),s.appendChild(l)}},r.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),e=this.get("dx"),n=this.get("dy"),a=this.get("totaldx"),o=this.get("totaldy"),s=this.get("graph"),l=this.get("size"),f=s.get("width"),h=s.get("height"),c=s.getPointByCanvas(0,0),v=s.getPointByCanvas(f,h),x=this.get("viewport");x||this.initViewport();var A=s.getZoom(),B=(v.x-c.x)*t,G=(v.y-c.y)*t,H=c.x*t+a,X=c.y*t+o,ut=H+B,ft=X+G;H<0&&(B+=H,H=0),ut>l[0]&&(B=B-(ut-l[0])),X<0&&(G+=X,X=0),ft>l[1]&&(G=G-(ft-l[1])),this.set("ratio",t);var xt=H+"px",Yt=X+"px";(0,Cn.Z)(x,{left:xt,top:Yt,width:B+"px",height:G+"px"})}},r.prototype.updateGraphShapes=function(){var t=this._cfgs.graph,e=this.get("canvas"),n=t.get("group");if(!n.destroyed){var a=n.clone();a.resetMatrix(),e.clear(),e.add(a);var o=t.get("renderer");o===c1&&this.updateVisible(a)}},r.prototype.updateVisible=function(t){var e=this;if(!t.isGroup()&&!t.get("visible"))t.hide();else{var n=t.get("children");if(!n||!n.length)return;n.forEach(function(a){a.get("visible")||a.hide(),e.updateVisible(a)})}},r.prototype.updateKeyShapes=function(){var t=this,e=this._cfgs.graph;(0,xn.default)(e.getEdges(),function(n){t.updateOneEdgeKeyShape(n)}),(0,xn.default)(e.getNodes(),function(n){t.updateOneNodeKeyShape(n)}),this.clearDestroyedShapes()},r.prototype.updateOneNodeKeyShape=function(t){var e=this.get("canvas"),n=e.get("children")[0]||e.addGroup(),a=this.get("itemMap")||{},o=a[t.get("id")],s=t.getBBox(),l=t.get("keyShape").clone(),f=l.attr(),h={x:s.centerX,y:s.centerY};o?h=Object.assign(f,h):(o=l,n.add(o));var c=o.get("type");(c==="rect"||c==="image")&&(h.x=s.minX,h.y=s.minY),o.attr(h),t.isVisible()||o.hide(),o.exist=!0,a[t.get("id")]=o,this.set("itemMap",a)},r.prototype.updateDelegateShapes=function(){var t=this,e=this._cfgs.graph;(0,xn.default)(e.getEdges(),function(n){t.updateOneEdgeKeyShape(n)}),(0,xn.default)(e.getNodes(),function(n){t.updateOneNodeDelegateShape(n)}),this.clearDestroyedShapes()},r.prototype.clearDestroyedShapes=function(){var t=this.get("itemMap")||{},e=Object.keys(t);if(!(!e||e.length===0))for(var n=e.length-1;n>=0;n--){var a=t[e[n]],o=a.exist;a.exist=!1,o||(a.remove(),delete t[e[n]])}},r.prototype.updateOneEdgeKeyShape=function(t){var e=this.get("canvas"),n=e.get("children")[0]||e.addGroup(),a=this.get("itemMap")||{},o=a[t.get("id")];if(o){var s=t.get("keyShape").attr("path");o.attr("path",s)}else o=t.get("keyShape").clone(),n.add(o),o.toBack();t.isVisible()||o.hide(),o.exist=!0,a[t.get("id")]=o,this.set("itemMap",a)},r.prototype.updateOneNodeDelegateShape=function(t){var e=this.get("canvas"),n=e.get("children")[0]||e.addGroup(),a=this.get("delegateStyle"),o=this.get("itemMap")||{},s=o[t.get("id")],l=t.getBBox();if(s){var f={x:l.minX,y:l.minY,width:l.width,height:l.height};s.attr(f)}else s=n.addShape("rect",{attrs:(0,q.__assign)({x:l.minX,y:l.minY,width:l.width,height:l.height},a),name:"minimap-node-shape"});t.isVisible()||s.hide(),s.exist=!0,o[t.get("id")]=s,this.set("itemMap",o)},r.prototype.init=function(){this.initContainer(),this.get("graph").on("afterupdateitem",this.handleUpdateCanvas),this.get("graph").on("afteritemstatechange",this.handleUpdateCanvas),this.get("graph").on("afteradditem",this.handleUpdateCanvas),this.get("graph").on("afterremoveitem",this.handleUpdateCanvas),this.get("graph").on("afterrender",this.handleUpdateCanvas),this.get("graph").on("afterlayout",this.handleUpdateCanvas)},r.prototype.initContainer=function(){var t=this,e=t.get("graph"),n=t.get("size"),a=t.get("className"),o=t.get("container"),s=(0,$n.Z)("<div class='"+a+"' style='width: "+n[0]+"px; height: "+n[1]+"px; overflow: hidden'></div>");(0,un.default)(o)&&(o=document.getElementById(o)),o?o.appendChild(s):e.get("container").appendChild(s),t.set("container",s);var l=(0,$n.Z)('<div class="g6-minimap-container" style="position: relative;"></div>');s.appendChild(l);var f,h=e.get("renderer");h===c1?f=new Is.Z({container:l,width:n[0],height:n[1]}):f=new _o.Z({container:l,width:n[0],height:n[1]}),t.set("canvas",f),t.updateCanvas()},r.prototype.updateCanvas=function(){var t=this.get("refresh");if(!!t){var e=this.get("graph");if(!e.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var n=this.get("size"),a=this.get("canvas"),o=this.get("type"),s=this.get("padding");if(!a.destroyed){switch(o){case Y6:this.updateGraphShapes();break;case z6:this.updateKeyShapes();break;case X6:this.updateDelegateShapes();break;default:break}var l=a.get("children")[0];if(!!l){l.resetMatrix();var f=l.getCanvasBBox(),h=e.get("canvas").getBBox(),c=h.width,v=h.height;Number.isFinite(f.width)&&(c=h1(f.width,c),v=h1(f.height,v)),c+=2*s,v+=2*s;var x=Math.min(n[0]/c,n[1]/v),A=[1,0,0,0,1,0,0,0,1],B=0,G=0;Number.isFinite(f.minX)&&(B=-f.minX),Number.isFinite(f.minY)&&(G=-f.minY);var H=(n[0]-(c-2*s)*x)/2,X=(n[1]-(v-2*s)*x)/2;A=Oa(A,[["t",B,G],["s",x,x],["t",H,X]]),l.setMatrix(A),this.set("ratio",x),this.set("totaldx",H+B*x),this.set("totaldy",X+G*x),this.set("dx",H),this.set("dy",X),this.updateViewport()}}}}},r.prototype.getCanvas=function(){return this.get("canvas")},r.prototype.getViewport=function(){return this.get("viewport")},r.prototype.getContainer=function(){return this.get("container")},r.prototype.destroy=function(){this.get("canvas").destroy();var t=this.get("container");t.parentNode.removeChild(t)},r}(Ia),H6=V6;function ka(i,r,t){var e=i.x-r.x,n=i.y-r.y;return!t||Math.abs(e)>t||Math.abs(n)>t?Math.sqrt(e*e+n*n):t}function W6(i,r){return i.x*r.x+i.y*r.y}function v1(i,r){var t=(r.source.y-r.target.y)/(r.source.x-r.target.x),e=(t*t*r.source.x+t*(i.y-r.source.y)+i.x)/(t*t+1),n=t*(e-r.source.x)+r.source.y;return{x:e,y:n}}var j6=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{edgeBundles:[],edgePoints:[],K:.1,lambda:.1,divisions:1,divRate:2,cycles:6,iterations:90,iterRate:.6666667,bundleThreshold:.6,eps:1e-6,onLayoutEnd:function(){},onTick:function(){}}},r.prototype.init=function(){var t=this.get("graph"),e=this.get("onTick"),n=function(){e&&e(),t.refreshPositions()};this.set("tick",n)},r.prototype.bundling=function(t){var e=this;if(e.set("data",t),!e.isTicking()){var n=t.edges||[],a=t.nodes||[],o={},s=!1;if(a.forEach(function(ft){(ft.x===null||!ft.y===null||ft.x===void 0||!ft.y===void 0)&&(s=!0),o[ft.id]=ft}),s)throw new Error("please layout the graph or assign x and y for nodes first");e.set("nodeIdMap",o);var l=e.get("divisions"),f=e.get("divRate"),h=e.divideEdges(l);e.set("edgePoints",h);var c=e.getEdgeBundles();e.set("edgeBundles",c);for(var v=e.get("cycles"),x=e.get("iterations"),A=e.get("iterRate"),B=e.get("lambda"),G=0;G<v;G++){for(var H=function(xt){var Yt=[];n.forEach(function(Kt,te){if(Kt.source!==Kt.target){var Wt=o[Kt.source],ae=o[Kt.target];Yt[te]=e.getEdgeForces({source:Wt,target:ae},te,l,B);for(var ce=0;ce<l+1;ce++)h[te][ce].x+=Yt[te][ce].x,h[te][ce].y+=Yt[te][ce].y}})},X=0;X<x;X++)H(X);B=B/2,l*=f,x*=A,h=e.divideEdges(l),e.set("edgePoints",h)}n.forEach(function(ft,xt){ft.source!==ft.target&&(ft.shape="polyline",ft.type="polyline",ft.controlPoints=h[xt].slice(1,h[xt].length-1))});var ut=e.get("graph");ut.refresh()}},r.prototype.updateBundling=function(t){var e=this,n=t.data;if(n&&e.set("data",n),e.get("ticking")&&e.set("ticking",!1),Object.keys(t).forEach(function(o){e.set(o,t[o])}),t.onTick){var a=this.get("graph");e.set("tick",function(){t.onTick(),a.refresh()})}e.bundling(n)},r.prototype.divideEdges=function(t){var e=this,n=e.get("data").edges,a=e.get("nodeIdMap"),o=e.get("edgePoints");return(!o||o===void 0)&&(o=[]),n.forEach(function(s,l){(!o[l]||o[l]===void 0)&&(o[l]=[]);var f=a[s.source],h=a[s.target];if(t===1)o[l].push({x:f.x,y:f.y}),o[l].push({x:.5*(f.x+h.x),y:.5*(f.y+h.y)}),o[l].push({x:h.x,y:h.y});else{var c=0;!o[l]||o[l]===[]?c=ka({x:f.x,y:f.y},{x:h.x,y:h.y}):c=e.getEdgeLength(o[l]);var v=c/(t+1),x=v,A=[{x:f.x,y:f.y}];o[l].forEach(function(B,G){if(G!==0){for(var H=ka(B,o[l][G-1]);H>x;){var X=x/H,ut={x:o[l][G-1].x,y:o[l][G-1].y};ut.x+=X*(B.x-o[l][G-1].x),ut.y+=X*(B.y-o[l][G-1].y),A.push(ut),H-=x,x=v}x-=H}}),A.push({x:h.x,y:h.y}),o[l]=A}}),o},r.prototype.getEdgeLength=function(t){var e=0;return t.forEach(function(n,a){a!==0&&(e+=ka(n,t[a-1]))}),e},r.prototype.getEdgeBundles=function(){var t=this,e=t.get("data"),n=e.edges||[],a=t.get("bundleThreshold"),o=t.get("nodeIdMap"),s=t.get("edgeBundles");return s||(s=[]),n.forEach(function(l,f){(!s[f]||s[f]===void 0)&&(s[f]=[])}),n.forEach(function(l,f){var h=o[l.source],c=o[l.target];n.forEach(function(v,x){if(!(x<=f)){var A=o[v.source],B=o[v.target],G=t.getBundleScore({source:h,target:c},{source:A,target:B});G>=a&&(s[f].push(x),s[x].push(f))}})}),s},r.prototype.getBundleScore=function(t,e){var n=this;t.vx=t.target.x-t.source.x,t.vy=t.target.y-t.source.y,e.vx=e.target.x-e.source.x,e.vy=e.target.y-e.source.y,t.length=ka({x:t.source.x,y:t.source.y},{x:t.target.x,y:t.target.y}),e.length=ka({x:e.source.x,y:e.source.y},{x:e.target.x,y:e.target.y});var a=n.getAngleScore(t,e),o=n.getScaleScore(t,e),s=n.getPositionScore(t,e),l=n.getVisibilityScore(t,e);return a*o*s*l},r.prototype.getAngleScore=function(t,e){var n=W6({x:t.vx,y:t.vy},{x:e.vx,y:e.vy});return n/(t.length*e.length)},r.prototype.getScaleScore=function(t,e){var n=(t.length+e.length)/2,a=2/(n/Math.min(t.length,e.length)+Math.max(t.length,e.length)/n);return a},r.prototype.getPositionScore=function(t,e){var n=(t.length+e.length)/2,a={x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2},o={x:(e.source.x+e.target.x)/2,y:(e.source.y+e.target.y)/2},s=ka(a,o);return n/(n+s)},r.prototype.getVisibilityScore=function(t,e){var n=this.getEdgeVisibility(t,e),a=this.getEdgeVisibility(e,t);return n<a?n:a},r.prototype.getEdgeVisibility=function(t,e){var n=v1(e.source,t),a=v1(e.target,t),o={x:(n.x+a.x)/2,y:(n.y+a.y)/2},s={x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2};return Math.max(0,1-2*ka(o,s)/ka(n,a))},r.prototype.getEdgeForces=function(t,e,n,a){for(var o=this,s=o.get("edgePoints"),l=o.get("K"),f=l/(ka(t.source,t.target)*(n+1)),h=[{x:0,y:0}],c=1;c<n;c++){var v={x:0,y:0},x=o.getSpringForce({pre:s[e][c-1],cur:s[e][c],next:s[e][c+1]},f),A=o.getElectrostaticForce(c,e);v.x=a*(x.x+A.x),v.y=a*(x.y+A.y),h.push(v)}return h.push({x:0,y:0}),h},r.prototype.getSpringForce=function(t,e){var n=t.pre.x+t.next.x-2*t.cur.x,a=t.pre.y+t.next.y-2*t.cur.y;return n*=e,a*=e,{x:n,y:a}},r.prototype.getElectrostaticForce=function(t,e){var n=this,a=n.get("eps"),o=n.get("edgeBundles"),s=n.get("edgePoints"),l=o[e],f={x:0,y:0};return l.forEach(function(h){var c={x:s[h][t].x-s[e][t].x,y:s[h][t].y-s[e][t].y};if(Math.abs(c.x)>a||Math.abs(c.y)>a){var v=ka(s[h][t],s[e][t]),x=1/v;f.x+=c.x*x,f.y+=c.y*x}}),f},r.prototype.isTicking=function(){return this.get("ticking")},r.prototype.getSimulation=function(){return this.get("forceSimulation")},r.prototype.destroy=function(){this.get("ticking")&&this.getSimulation().stop(),i.prototype.destroy.call(this)},r}(Ia),U6=j6,Tu=.05,d1={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:.1,fill:"#ccc"},Z6=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{trigger:"mousemove",d:1.5,r:300,delegateStyle:(0,Nn.d9)(d1),showLabel:!1,maxD:5,minD:0,scaleRBy:"unset",scaleDBy:"unset",showDPercent:!0}},r.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"magnify"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"magnify"};break}return t},r.prototype.init=function(){var t=this,e=t.get("r");t.set("cachedMagnifiedModels",[]),t.set("cachedOriginPositions",{}),t.set("r2",e*e);var n=t.get("d");t.set("molecularParam",(n+1)*e)},r.prototype.createDelegate=function(t){var e=this,n=this,a=n.get("delegate");(!a||a.destroyed)&&(n.magnify(t),a=n.get("delegate"),a.on("dragstart",function(o){n.set("delegateCenterDiff",{x:a.attr("x")-o.x,y:a.attr("y")-o.y})}),a.on("drag",function(o){n.magnify(o)}),this.get("scaleDBy")==="wheel"&&a.on("mousewheel",function(o){e.scaleDByWheel(o)}),this.get("scaleRBy")==="wheel"&&a.on("mousewheel",function(o){n.scaleRByWheel(o)}))},r.prototype.scaleRByWheel=function(t){var e=this;if(!(!t||!t.originalEvent)){t.preventDefault&&t.preventDefault();var n=e.get("graph"),a,o=e.get("delegate"),s=o?{x:o.attr("x"),y:o.attr("y")}:void 0,l=s||n.getPointByClient(t.clientX,t.clientY);t.originalEvent.wheelDelta<0?a=1-Tu:a=1/(1-Tu);var f=e.get("maxR"),h=e.get("minR"),c=e.get("r");(c>(f||n.get("height"))&&a>1||c<(h||n.get("height")*.05)&&a<1)&&(a=1),c*=a,e.set("r",c),e.set("r2",c*c);var v=e.get("d");e.set("molecularParam",(v+1)*c),e.set("delegateCenterDiff",void 0),e.magnify(t,l)}},r.prototype.scaleRByDrag=function(t){var e=this;if(!!t){var n=e.get("dragPrePos"),a=e.get("graph"),o,s=a.getPointByClient(t.clientX,t.clientY);t.x-n.x<0?o=1-Tu:o=1/(1-Tu);var l=e.get("maxR"),f=e.get("minR"),h=e.get("r");(h>(l||a.get("height"))&&o>1||h<(f||a.get("height")*.05)&&o<1)&&(o=1),h*=o,e.set("r",h),e.set("r2",h*h);var c=e.get("d");e.set("molecularParam",(c+1)*h),e.magnify(t,s),e.set("dragPrePos",{x:t.x,y:t.y})}},r.prototype.scaleDByWheel=function(t){var e=this;if(!(!t&&!t.originalEvent)){t.preventDefault&&t.preventDefault();var n=0;t.originalEvent.wheelDelta<0?n=-.1:n=.1;var a=e.get("d"),o=a+n,s=e.get("maxD"),l=e.get("minD");if(o<s&&o>l){e.set("d",o);var f=e.get("r");e.set("molecularParam",(o+1)*f);var h=e.get("delegate"),c=h?{x:h.attr("x"),y:h.attr("y")}:void 0;e.set("delegateCenterDiff",void 0),e.magnify(t,c)}}},r.prototype.scaleDByDrag=function(t){var e=this,n=e.get("dragPrePos"),a=t.x-n.x>0?.1:-.1,o=e.get("d"),s=o+a,l=e.get("maxD"),f=e.get("minD");if(s<l&&s>f){e.set("d",s);var h=e.get("r");e.set("molecularParam",(s+1)*h),e.magnify(t)}e.set("dragPrePos",{x:t.x,y:t.y})},r.prototype.magnify=function(t,e){var n=this;n.restoreCache();var a=n.get("graph"),o=n.get("cachedMagnifiedModels"),s=n.get("cachedOriginPositions"),l=n.get("showLabel"),f=n.get("r"),h=n.get("r2"),c=n.get("d"),v=n.get("molecularParam"),x=a.getNodes(),A=x.length,B=e?{x:e.x,y:e.y}:{x:t.x,y:t.y};n.get("dragging")&&(n.get("trigger")==="mousemove"||n.get("trigger")==="click")&&(B=n.get("cacheCenter"));var G=n.get("delegateCenterDiff");G&&(B.x+=G.x,B.y+=G.y),n.updateDelegate(B,f);for(var H=0;H<A;H++){var X=x[H].getModel(),ut=X.x,ft=X.y;if(!(isNaN(ut)||isNaN(ft))){var xt=(ut-B.x)*(ut-B.x)+(ft-B.y)*(ft-B.y);if(!isNaN(xt)&&xt<h&&xt!==0){var Yt=Math.sqrt(xt),Kt=v*Yt/(c*Yt+f),te=(ut-B.x)/Yt,Wt=(ft-B.y)/Yt;if(X.x=te*Kt+B.x,X.y=Wt*Kt+B.y,s[X.id]||(s[X.id]={x:ut,y:ft,texts:[]}),o.push(X),l&&2*Yt<f)for(var ae=x[H],ce=ae.getContainer(),he=ce.getChildren(),Pe=he.length,Be=0;Be<Pe;Be++){var ke=he[Be];ke.get("type")==="text"&&(s[X.id].texts.push({visible:ke.get("visible"),shape:ke}),ke.set("visible",!0))}}}}a.refreshPositions()},r.prototype.restoreCache=function(){for(var t=this,e=t.get("cachedMagnifiedModels"),n=t.get("cachedOriginPositions"),a=e.length,o=0;o<a;o++){var s=e[o],l=s.id,f=n[l];s.x=f.x,s.y=f.y;for(var h=f.texts.length,c=0;c<h;c++){var v=f.texts[c];v.shape.set("visible",v.visible)}}t.set("cachedMagnifiedModels",[]),t.set("cachedOriginPositions",{})},r.prototype.updateParams=function(t){var e=this,n=t.r,a=t.d,o=t.trigger,s=t.minD,l=t.maxD,f=t.minR,h=t.maxR,c=t.scaleDBy,v=t.scaleRBy;isNaN(t.r)||(e.set("r",n),e.set("r2",n*n)),isNaN(a)||e.set("d",a),isNaN(l)||e.set("maxD",l),isNaN(s)||e.set("minD",s),isNaN(h)||e.set("maxR",h),isNaN(f)||e.set("minR",f);var x=e.get("d"),A=e.get("r");if(e.set("molecularParam",(x+1)*A),(o==="mousemove"||o==="click"||o==="drag")&&e.set("trigger",o),c==="drag"||c==="wheel"||c==="unset"){e.set("scaleDBy",c),e.get("delegate").remove(),e.get("delegate").destroy();var B=e.get("dPercentText");B&&(B.remove(),B.destroy())}if(v==="drag"||v==="wheel"||v==="unset"){e.set("scaleRBy",v),e.get("delegate").remove(),e.get("delegate").destroy();var B=e.get("dPercentText");B&&(B.remove(),B.destroy())}},r.prototype.updateDelegate=function(t,e){var n=this,a=this,o=a.get("graph"),s=a.get("delegate");if(!s||s.destroyed){var l=o.get("group"),f=a.get("delegateStyle")||d1;s=l.addShape("circle",{attrs:(0,q.__assign)({r:e/1.5,x:t.x,y:t.y},f),name:"lens-shape",draggable:!0}),this.get("trigger")!=="drag"&&(this.get("scaleRBy")==="wheel"?s.on("mousewheel",function(A){a.scaleRByWheel(A)}):this.get("scaleRBy")==="drag"&&(s.on("dragstart",function(A){a.set("dragging",!0),a.set("cacheCenter",{x:A.x,y:A.y}),a.set("dragPrePos",{x:A.x,y:A.y})}),s.on("drag",function(A){a.scaleRByDrag(A)}),s.on("dragend",function(A){a.set("dragging",!1)})),this.get("scaleDBy")==="wheel"?s.on("mousewheel",function(A){n.scaleDByWheel(A)}):this.get("scaleDBy")==="drag"&&(s.on("dragstart",function(A){a.set("dragging",!0),a.set("cacheCenter",{x:A.x,y:A.y}),a.set("dragPrePos",{x:A.x,y:A.y})}),s.on("drag",function(A){n.scaleDByDrag(A)}),s.on("dragend",function(A){a.set("dragging",!1)})))}else s.attr({x:t.x,y:t.y,r:e/1.5});if(a.get("showDPercent")){var h=Math.round((a.get("d")-a.get("minD"))/(a.get("maxD")-a.get("minD"))*100),c=a.get("dPercentText"),v=t.y+e/1.5+16;if(!c||c.destroyed){var x=o.get("group");c=x.addShape("text",{attrs:{text:h+"%",x:t.x,y:v,fill:"#aaa",stroke:"#fff",lineWidth:1,fontSize:12}}),a.set("dPercentText",c)}else c.attr({text:h+"%",x:t.x,y:v})}a.set("delegate",s)},r.prototype.clear=function(){var t=this.get("graph");this.restoreCache(),t.refreshPositions();var e=this.get("delegate");e&&!e.destroyed&&(e.remove(),e.destroy());var n=this.get("dPercentText");n&&!n.destroyed&&(n.remove(),n.destroy())},r.prototype.destroy=function(){this.clear()},r}(Ia),K6=Z6;ic()(`
  .g6-component-toolbar {
    position: absolute;
    list-style-type: none;
    padding: 6px;
    left: 0px;
    top: 0px;
    background-color: rgba(255, 255, 255, 0.9);
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    margin: 0;
  }
  .g6-component-toolbar li {
    float: left;
    text-align: center;
    width: 35px;
    height: 24px;
    cursor: pointer;
		list-style-type:none;
    list-style: none;
    margin-left: 0px;
  }
  .g6-component-toolbar li .icon {
    opacity: 0.7;
  }
  .g6-component-toolbar li .icon:hover {
    opacity: 1;
  }
`);var $6=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{handleClick:void 0,getContent:function(e){return`
          <ul class='g6-component-toolbar'>
            <li code='redo'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M256 682.666667c0-102.741333 66.730667-213.333333 213.333333-213.333334 107.008 0 190.762667 56.576 230.570667 125.354667L611.968 682.666667H853.333333v-241.365334l-91.562666 91.562667C704.768 448.469333 601.130667 384 469.333333 384c-196.096 0-298.666667 150.229333-298.666666 298.666667h85.333333z" fill="" p-id="2041"></path>
              </svg>
            </li>
            <li code='undo'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M170.666667 682.666667h241.365333l-87.936-87.978667C363.904 525.909333 447.658667 469.333333 554.666667 469.333333c146.602667 0 213.333333 110.592 213.333333 213.333334h85.333333c0-148.437333-102.570667-298.666667-298.666666-298.666667-131.797333 0-235.392 64.469333-292.48 148.821333L170.666667 441.301333V682.666667z" fill="" p-id="2764"></path>
              </svg>
            </li>
            <li  code='zoomOut'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M658.432 428.736a33.216 33.216 0 0 1-33.152 33.152H525.824v99.456a33.216 33.216 0 0 1-66.304 0V461.888H360.064a33.152 33.152 0 0 1 0-66.304H459.52V296.128a33.152 33.152 0 0 1 66.304 0V395.52H625.28c18.24 0 33.152 14.848 33.152 33.152z m299.776 521.792a43.328 43.328 0 0 1-60.864-6.912l-189.248-220.992a362.368 362.368 0 0 1-215.36 70.848 364.8 364.8 0 1 1 364.8-364.736 363.072 363.072 0 0 1-86.912 235.968l192.384 224.64a43.392 43.392 0 0 1-4.8 61.184z m-465.536-223.36a298.816 298.816 0 0 0 298.432-298.432 298.816 298.816 0 0 0-298.432-298.432A298.816 298.816 0 0 0 194.24 428.8a298.816 298.816 0 0 0 298.432 298.432z"></path>
              </svg>
            </li>
            <li code='zoomIn'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M639.936 416a32 32 0 0 1-32 32h-256a32 32 0 0 1 0-64h256a32 32 0 0 1 32 32z m289.28 503.552a41.792 41.792 0 0 1-58.752-6.656l-182.656-213.248A349.76 349.76 0 0 1 480 768 352 352 0 1 1 832 416a350.4 350.4 0 0 1-83.84 227.712l185.664 216.768a41.856 41.856 0 0 1-4.608 59.072zM479.936 704c158.784 0 288-129.216 288-288S638.72 128 479.936 128a288.32 288.32 0 0 0-288 288c0 158.784 129.216 288 288 288z" p-id="3853"></path>
              </svg>
            </li>
            <li code='realZoom'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M384 320v384H320V320h64z m256 0v384H576V320h64zM512 576v64H448V576h64z m0-192v64H448V384h64z m355.968 576H92.032A28.16 28.16 0 0 1 64 931.968V28.032C64 12.608 76.608 0 95.168 0h610.368L896 192v739.968a28.16 28.16 0 0 1-28.032 28.032zM704 64v128h128l-128-128z m128 192h-190.464V64H128v832h704V256z"></path>
              </svg>
            </li>
            <li code='autoZoom'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M684.288 305.28l0.128-0.64-0.128-0.64V99.712c0-19.84 15.552-35.904 34.496-35.712a35.072 35.072 0 0 1 34.56 35.776v171.008h170.944c19.648 0 35.84 15.488 35.712 34.432a35.072 35.072 0 0 1-35.84 34.496h-204.16l-0.64-0.128a32.768 32.768 0 0 1-20.864-7.552c-1.344-1.024-2.816-1.664-3.968-2.816-0.384-0.32-0.512-0.768-0.832-1.088a33.472 33.472 0 0 1-9.408-22.848zM305.28 64a35.072 35.072 0 0 0-34.56 35.776v171.008H99.776A35.072 35.072 0 0 0 64 305.216c0 18.944 15.872 34.496 35.84 34.496h204.16l0.64-0.128a32.896 32.896 0 0 0 20.864-7.552c1.344-1.024 2.816-1.664 3.904-2.816 0.384-0.32 0.512-0.768 0.768-1.088a33.024 33.024 0 0 0 9.536-22.848l-0.128-0.64 0.128-0.704V99.712A35.008 35.008 0 0 0 305.216 64z m618.944 620.288h-204.16l-0.64 0.128-0.512-0.128c-7.808 0-14.72 3.2-20.48 7.68-1.28 1.024-2.752 1.664-3.84 2.752-0.384 0.32-0.512 0.768-0.832 1.088a33.664 33.664 0 0 0-9.408 22.912l0.128 0.64-0.128 0.704v204.288c0 19.712 15.552 35.904 34.496 35.712a35.072 35.072 0 0 0 34.56-35.776V753.28h170.944c19.648 0 35.84-15.488 35.712-34.432a35.072 35.072 0 0 0-35.84-34.496z m-593.92 11.52c-0.256-0.32-0.384-0.768-0.768-1.088-1.088-1.088-2.56-1.728-3.84-2.688a33.088 33.088 0 0 0-20.48-7.68l-0.512 0.064-0.64-0.128H99.84a35.072 35.072 0 0 0-35.84 34.496 35.072 35.072 0 0 0 35.712 34.432H270.72v171.008c0 19.84 15.552 35.84 34.56 35.776a35.008 35.008 0 0 0 34.432-35.712V720l-0.128-0.64 0.128-0.704a33.344 33.344 0 0 0-9.472-22.848zM512 374.144a137.92 137.92 0 1 0 0.128 275.84A137.92 137.92 0 0 0 512 374.08z"></path>
              </svg>
            </li>
          </ul>
        `}}},r.prototype.init=function(){var t=this,e=this.get("graph"),n=this.get("getContent"),a=n(e),o=a;(0,Nn.HD)(a)&&(o=(0,$n.Z)(a));var s=this.get("className");o.setAttribute("class",s||"g6-component-toolbar");var l=this.get("container");l||(l=this.get("graph").get("container")),l.appendChild(o),this.set("toolBar",o);var f=this.get("handleClick");o.addEventListener("click",function(c){var v=c.path.filter(function(A){return A.nodeName==="LI"});if(v.length!==0){var x=v[0].getAttribute("code");!x||(f?f(x,e):t.handleDefaultOperator(x,e))}});var h=this.get("position");h&&(0,Cn.Z)(o,{top:h.y+"px",left:h.x+"px"}),this.bindUndoRedo()},r.prototype.bindUndoRedo=function(){var t=this.get("graph"),e=document.querySelector('.g6-component-toolbar li[code="undo"]'),n=document.querySelector('.g6-component-toolbar li[code="undo"] svg'),a=document.querySelector('.g6-component-toolbar li[code="redo"]'),o=document.querySelector('.g6-component-toolbar li[code="redo"] svg');!e||!n||!a||!o||t.on("stackchange",function(s){var l=s.undoStack,f=s.redoStack,h=l.length,c=f.length;h===1?(e.setAttribute("style","cursor: not-allowed"),n.setAttribute("style","opacity: 0.4")):(e.removeAttribute("style"),n.removeAttribute("style")),c===0?(a.setAttribute("style","cursor: not-allowed"),o.setAttribute("style","opacity: 0.4")):(a.removeAttribute("style"),o.removeAttribute("style"))})},r.prototype.undo=function(){var t=this.get("graph"),e=t.getUndoStack();if(!(!e||e.length===0)){var n=e.pop();if(n){var a=n.action;t.pushStack(a,(0,Nn.d9)(n.data),"redo");var o=n.data.before;if(a==="add"&&(o=n.data.after),!o)return;switch(a){case"visible":{Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(f){var h=t.findById(f.id);f.visible?t.showItem(h,!1):t.hideItem(h,!1)})});break}case"render":case"update":Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(f){t.updateItem(f.id,f,!1)})});break;case"changedata":t.changeData(o,!1);break;case"delete":{Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(f){var h=f.itemType;delete f.itemType,t.addItem(h,f,!1)})});break}case"add":Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(f){t.removeItem(f.id,!1)})});break;default:}}}},r.prototype.redo=function(){var t=this.get("graph"),e=t.getRedoStack();if(!(!e||e.length===0)){var n=e.pop();if(n){var a=n.action,o=n.data.after;if(t.pushStack(a,(0,Nn.d9)(n.data)),a==="delete"&&(o=n.data.before),!o)return;switch(a){case"visible":{Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(f){var h=t.findById(f.id);f.visible?t.showItem(h,!1):t.hideItem(h,!1)})});break}case"render":case"update":Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(f){t.updateItem(f.id,f,!1)})});break;case"changedata":t.changeData(o,!1);break;case"delete":o.edges&&o.edges.forEach(function(s){t.removeItem(s.id,!1)}),o.nodes&&o.nodes.forEach(function(s){t.removeItem(s.id,!1)}),o.combos&&o.combos.forEach(function(s){t.removeItem(s.id,!1)});break;case"add":{Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(f){var h=f.itemType;delete f.itemType,t.addItem(h,f,!1)})});break}default:}}}},r.prototype.handleDefaultOperator=function(t,e){var n=e.getZoom();switch(t){case"redo":this.redo();break;case"undo":this.undo();break;case"zoomOut":{var a=1+.05*5;if(a*n>5)return;e.zoomTo(n*1.1);break}case"zoomIn":{var o=1-.05*5;if(o*n<.3)return;e.zoomTo(n*.9);break}case"realZoom":e.zoomTo(1);break;case"autoZoom":e.fitView([20,20]);break;default:}},r.prototype.destroy=function(){var t=this.get("toolBar");if(t){var e=this.get("container");e||(e=this.get("graph").get("container")),e.removeChild(t)}var n=this.get("handleClick");n&&t.removeEventListener("click",n)},r}(Ia),Q6=$6;ic()(`
  .g6-component-tooltip {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .tooltip-type {
    padding: 0;
    margin: 0;
  }
  .tooltip-id {
    color: #531dab;
  }
`);var J6=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,getContent:function(e){return`
          <h4 class='tooltip-type'>\u7C7B\u578B\uFF1A`+e.item.getType()+`</h4>
          <span class='tooltip-id'>ID\uFF1A`+e.item.getID()+`</span>
        `},shouldBegin:function(e){return!0},itemTypes:["node","edge","combo"]}},r.prototype.getEvents=function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove","edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave","node:drag":"onMouseLeave"}},r.prototype.init=function(){var t=this.get("className")||"g6-component-tooltip",e=(0,$n.Z)("<div class="+t+"></div>"),n=this.get("container");n||(n=this.get("graph").get("container")),(0,Cn.Z)(e,{position:"absolute",visibility:"hidden"}),n.appendChild(e),this.set("tooltip",e)},r.prototype.onMouseEnter=function(t){var e=this.get("itemTypes");if(!(t.item&&t.item.getType&&e.indexOf(t.item.getType())===-1)){var n=t.item,a=this.get("graph");this.currentTarget=n,this.showTooltip(t),a.emit("tooltipchange",{item:t.item,action:"show"})}},r.prototype.onMouseMove=function(t){var e=this.get("itemTypes");t.item&&t.item.getType&&e.indexOf(t.item.getType())===-1||!this.currentTarget||t.item!==this.currentTarget||this.showTooltip(t)},r.prototype.onMouseLeave=function(){this.hideTooltip();var t=this.get("graph");t.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null},r.prototype.showTooltip=function(t){if(!!t.item){var e=this.get("itemTypes");if(!(t.item.getType&&e.indexOf(t.item.getType())===-1)){var n=this.get("tooltip"),a=this.get("getContent"),o=a(t);(0,un.default)(o)?n.innerHTML=o:n.innerHTML=o.outerHTML,this.updatePosition(t)}}},r.prototype.hideTooltip=function(){var t=this.get("tooltip");t&&(0,Cn.Z)(t,{visibility:"hidden"})},r.prototype.updatePosition=function(t){var e=this.get("shouldBegin"),n=this.get("tooltip");if(!e(t)){(0,Cn.Z)(n,{visibility:"hidden"});return}var a=this.get("graph"),o=a.get("width"),s=a.get("height"),l=this.get("offsetX")||0,f=this.get("offsetY")||0,h=a.getPointByClient(t.clientX,t.clientY),c=a.getCanvasByPoint(h.x,h.y),v=c.x,x=c.y;v+=l,x+=f;var A=n.getBoundingClientRect();v+A.width>o&&(v=v-A.width-l),x+A.height>s&&(x=x-A.height-f),(0,Cn.Z)(n,{left:v+"px",top:x+"px",visibility:"visible"})},r.prototype.hide=function(){this.onMouseLeave()},r.prototype.destroy=function(){var t=this.get("tooltip");if(t){var e=this.get("container");e||(e=this.get("graph").get("container")),e.removeChild(t)}},r}(Ia),q6=J6,p1=d(89539);function t8(i){return(0,u.map)(i,function(r,t){var e=t===0?"M":"L",n=r[0],a=r[1];return[e,n,a]})}function g1(i){return t8(i)}function e8(i){if(i.length<=2)return g1(i);var r=[];(0,u.each)(i,function(o){(0,u.isEqual)(o,r.slice(r.length-2))||r.push(o[0],o[1])});var t=Us.catmullRom2Bezier(r,!1),e=(0,u.head)(i),n=e[0],a=e[1];return t.unshift(["M",n,a]),t}function r8(i,r,t,e){e===void 0&&(e=!0);var n=new er.Linear({values:i}),a=new er.Category({values:(0,u.map)(i,function(s,l){return l})}),o=(0,u.map)(i,function(s,l){return[a.scale(l)*r,t-n.scale(s)*t]});return e?e8(o):g1(o)}function n8(i,r,t){for(var e=new er.Linear({values:i}),n=new er.Category({values:(0,u.map)(i,function(c,v){return v})}),a=(0,u.map)(i,function(c,v){return[n.scale(v)*r,t-e.scale(c)*t]}),o=[],s=0;s<a.length;s++){var l=a[s],f={x:l[0],y:l[1],y0:t,size:5},h=o8(f);o.push.apply(o,h)}return s8(o)}function i8(i,r){var t=new er.Linear({values:i}),e=Math.max(0,t.min);return r-t.scale(e)*r}function a8(i,r,t,e){var n=(0,q.__spreadArrays)(i),a=i8(e,t);return n.push(["L",r,a]),n.push(["L",0,a]),n.push(["Z"]),n}function o8(i){var r=i.x,t=i.y,e=i.y0,n=i.size,a,o;(0,p1.isArray)(t)?(a=t[0],o=t[1]):(a=e,o=t);var s,l;(0,p1.isArray)(r)?(s=r[0],l=r[1]):(s=r-n/2,l=r+n/2);var f=[{x:s,y:a},{x:s,y:o}];return f.push({x:l,y:o},{x:l,y:a}),f}function s8(i,r){r===void 0&&(r=!0);var t=[],e=i[0];t.push(["M",e.x,e.y]);for(var n=1,a=i.length;n<a;n++)t.push(["L",i[n].x,i[n].y]);return r&&(t.push(["L",e.x,e.y]),t.push(["z"])),t}var GY={opacity:.5},l8={stroke:"#C5C5C5",strokeOpacity:.85},u8={fill:"#CACED4",opacity:.85},f8=function(){function i(r){var t=r.x,e=t===void 0?0:t,n=r.y,a=n===void 0?0:n,o=r.width,s=o===void 0?200:o,l=r.height,f=l===void 0?26:l,h=r.smooth,c=h===void 0?!0:h,v=r.isArea,x=v===void 0?!1:v,A=r.data,B=A===void 0?[]:A,G=r.lineStyle,H=r.areaStyle,X=r.group,ut=r.interval,ft=ut===void 0?null:ut;this.group=X,this.x=e,this.y=a,this.width=s,this.height=f,this.data=B,this.smooth=c,this.isArea=x,this.lineStyle=Object.assign({},l8,G),this.areaStyle=Object.assign({},u8,H),this.intervalConfig=ft,this.renderLine()}return i.prototype.renderLine=function(){var r=this,t=r.x,e=r.y,n=r.width,a=r.height,o=r.data,s=r.smooth,l=r.isArea,f=r.backgroundStyle,h=r.lineStyle,c=r.areaStyle,v=this.group.addGroup({name:"trend-group"});if(o){var x=r8(o,n,a,s);if(v.addShape("path",{attrs:(0,q.__assign)({path:x},h)}),l){var A=a8(x,n,a,o);v.addShape("path",{attrs:(0,q.__assign)({path:A},c)})}}this.intervalConfig&&v.addShape("path",{attrs:(0,q.__assign)({path:n8(this.intervalConfig.data,n,a)},this.intervalConfig.style)}),v.move(t,e)},i.prototype.destory=function(){this.group.destroy()},i}(),h8=f8,c8={fill:"#1890ff",stroke:"#1890ff",type:"trend",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#0050b3"},v8={fill:"#fff",stroke:"#1890ff",radius:2,opacity:1,cursor:"ew-resize"},d8=function(){function i(r){var t=r.group,e=r.name,n=r.type,a=r.x,o=a===void 0?0:a,s=r.y,l=s===void 0?0:s,f=r.width,h=f===void 0?2:f,c=r.height,v=c===void 0?24:c,x=r.style,A=x===void 0?{}:x;this.group=t,this.name=e,this.handleType=n,this.x=o,this.y=l,this.width=h,this.height=v,n==="trend"?this.style=(0,q.__assign)((0,q.__assign)({},c8),A):n==="simple"&&(this.style=(0,q.__assign)((0,q.__assign)({},v8),A)),this.renderHandle()}return i.prototype.setX=function(r){this.setXY(r,void 0)},i.prototype.setY=function(r){this.setXY(void 0,r)},i.prototype.setXY=function(r,t){(0,u.isNumber)(r)&&(this.x=r),(0,u.isNumber)(t)&&(this.y=t),this.updateXY()},i.prototype.renderHandle=function(){var r=this,t=r.width,e=r.height,n=r.style,a=r.name,o=n.fill,s=n.stroke,l=n.radius,f=n.opacity,h=n.cursor;this.handleGroup=this.group.addGroup(),this.handleType==="trend"?(this.background=this.handleGroup.addShape("rect",{attrs:{x:0,y:0,width:t,height:e,fill:o,stroke:s,radius:l,opacity:f,cursor:h},name:a+"-handler"}),this.handleGroup.addShape("circle",{attrs:{x:t/2,y:0,r:2*t,fill:o,stroke:s,radius:l,opacity:f,cursor:h},name:a+"-handler"}),this.handleGroup.addShape("circle",{attrs:{x:t/2,y:e,r:2*t,fill:o,stroke:s,radius:l,opacity:f,cursor:h},name:a+"-handler"})):this.handleType==="simple"&&(this.handleGroup.addShape("circle",{attrs:{x:t/2,y:e/2,r:2*t,fill:o,stroke:s,radius:l,opacity:f,cursor:h},name:a+"-handler"}),this.handleGroup.addShape("circle",{attrs:{x:t/2,y:e/2,r:2*t,fill:o,stroke:s,radius:l,opacity:f,cursor:h},name:a+"-handler"})),this.updateXY(),this.handleType==="trend"&&this.bindEvents()},i.prototype.bindEvents=function(){var r=this,t=this.name;this.handleGroup.on(t+"-handler:mouseenter",function(){var e=r.style.highLightFill;r.background.attr("fill",e)}),this.handleGroup.on(t+"-handler:mouseleave",function(){var e=r.style.fill;r.background.attr("fill",e)})},i.prototype.show=function(){this.handleGroup.show()},i.prototype.hide=function(){this.handleGroup.hide()},i.prototype.updateXY=function(){this.handleGroup.setMatrix([1,0,0,0,1,0,this.x,this.y,1])},i}(),y1=d8,p8=function(){function i(r){this.config=(0,u.deepMix)({},r),this.init()}return i.prototype.update=function(r){this.config=(0,u.deepMix)({},this.config,r),this.updateElement(),this.renderMarker()},i.prototype.init=function(){this.initElement(),this.renderMarker()},i.prototype.initElement=function(){var r=this.config,t=r.group,e=r.style;this.circle=t.addShape("circle",{attrs:(0,q.__assign)({x:this.config.x,y:this.config.y,r:this.config.r},e)}),this.startMarker=t.addShape("path",{attrs:{path:this.getStartMarkerPath(),fill:"#ccc"},name:"playPauseBtn"}),this.pauseGroupMarker=t.addGroup();var n=1/4*this.config.r,a=.5*this.config.r*Math.sqrt(3);this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x-(1/4+1/8)*this.config.r,y:this.config.y-a/2,width:n*2.5,height:a,fill:"#fff"},name:"playPauseBtn"}),this.pauseLeftMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x-(1/4+1/8)*this.config.r,y:this.config.y-a/2,width:n,height:a,fill:"#ccc"},name:"playPauseBtn"}),this.pauseRightMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x+1/8*this.config.r,y:this.config.y-a/2,width:n,height:a,fill:"#ccc"},name:"playPauseBtn"})},i.prototype.updateElement=function(){this.circle.attr("x",this.config.x),this.circle.attr("y",this.config.y),this.circle.attr("r",this.config.r),this.startMarker.attr("path",this.getStartMarkerPath());var r=1/4*this.config.r,t=.5*this.config.r*Math.sqrt(3);this.pauseLeftMarker.attr("x",this.config.x-(1/4+1/8)*this.config.r),this.pauseLeftMarker.attr("y",this.config.y-t/2),this.pauseLeftMarker.attr("width",r),this.pauseLeftMarker.attr("height",t),this.pauseRightMarker.attr("x",this.config.x+1/8*this.config.r),this.pauseRightMarker.attr("y",this.config.y-t/2),this.pauseRightMarker.attr("width",r),this.pauseRightMarker.attr("height",t)},i.prototype.renderMarker=function(){this.config.isPlay?(this.startMarker.hide(),this.pauseGroupMarker.show()):(this.startMarker.show(),this.pauseGroupMarker.hide())},i.prototype.getStartMarkerPath=function(){var r=.5*this.config.r*Math.sqrt(3);return[["M",this.config.x-r/Math.sqrt(3)/2,this.config.y-r/2],["L",this.config.x+r/Math.sqrt(3),this.config.y],["L",this.config.x-r/Math.sqrt(3)/2,this.config.y+r/2]]},i}(),g8=p8,y8="#ccc",m8="green",x8={fill:"#607889",stroke:"#607889"},b8={fill:"#fff"},w8={fill:"green"},S8={speed:2,loop:!1,fill:"#fff",stroke:"#fff",hiddleToggle:!1,preBtnStyle:{fill:"#ccc",stroke:"#ccc"},nextBtnStyle:{fill:"#ccc",stroke:"#ccc"},playBtnStyle:{fill:"#fff",stroke:"#ccc"}},Rs=110,Ba=50,C8=function(){function i(r){this.controllerCfg=(0,u.deepMix)({},S8,r),this.group=r.group,this.speedAxisY=[],this.currentSpeed=this.controllerCfg.speed,this.currentType="range",this.init()}return i.prototype.init=function(){this.renderPlayButton()},i.prototype.getNextMarkerPath=function(r,t,e){return[["M",r,t-e],["L",r+e,t],["L",r,t+e]]},i.prototype.getPreMarkerPath=function(r,t,e){return[["M",r,t-e],["L",r-e,t],["L",r,t+e]]},i.prototype.renderPlayButton=function(){var r=this.controllerCfg,t=r.width,e=r.height,n=r.x,a=r.y,o=r.hiddleToggle,s=r.fill,l=s===void 0?y8:s,f=r.stroke,h=f===void 0?m8:f,c=r.playBtnStyle,v=c===void 0?x8:c,x=r.preBtnStyle,A=x===void 0?b8:x,B=r.nextBtnStyle,G=B===void 0?w8:B,H=e/2-5,X=a+10,ut=this.group.addShape("rect",{attrs:{x:n,y:X,width:t,height:e,stroke:h,fill:l},name:"container-rect"});this.playButton?this.playButton.update({x:t/2,y:X,r:H}):this.playButton=new g8({group:this.group,x:t/2,y:X+H+5,r:H,isPlay:this.isPlay,style:v}),this.group.addShape("path",{attrs:(0,q.__assign)({path:this.getPreMarkerPath(t/2-5*H,X+H+5,H*.5)},A),name:"preStepBtn"}),this.group.addShape("path",{attrs:(0,q.__assign)({path:this.getPreMarkerPath(t/2-4.5*H,X+H+5,H*.5)},A),name:"preStepBtn"}),this.group.addShape("path",{attrs:(0,q.__assign)({path:this.getNextMarkerPath(t/2+5*H,X+H+5,H*.5)},G),name:"nextStepBtn"}),this.group.addShape("path",{attrs:(0,q.__assign)({path:this.getNextMarkerPath(t/2+4.5*H,X+H+5,H*.5)},G),name:"nextStepBtn"}),ut.toBack(),this.renderSpeedBtn(),o||this.renderToggleTime(),this.bindEvent()},i.prototype.renderSpeedBtn=function(){var r=this.controllerCfg,t=r.y,e=r.width,n=r.hiddleToggle,a=this.group.addGroup({name:"speed-group"});this.speedGroup=a;for(var o=1,s=[],l=9,f=0;f<5;f++){var h=t+15+f*(f+1)+o;a.addShape("rect",{attrs:{x:e-(n?Ba:Rs),y:h,width:15,height:2,fill:"#ccc"},speed:l,name:"speed-rect"}),this.speedAxisY.push(h),s.push(l),l=l-2,o++}for(var f=0;f<4;f++)a.addShape("rect",{attrs:{x:e-(n?Ba:Rs),y:this.speedAxisY[f]+2,width:15,height:2*f+1,fill:"#fff",opacity:.3},speed:s[f]-1,name:"speed-rect"});this.speedText=a.addShape("text",{attrs:{x:e-(n?Ba:Rs)+20,y:this.speedAxisY[1]+15,text:"1.0X",fill:"#ccc"}}),this.speedPoint=a.addShape("path",{attrs:{path:this.getPath(e-(n?Ba:Rs),this.speedAxisY[4]),fill:"#ccc"}})},i.prototype.getPath=function(r,t){return[["M",r,t],["L",r-12,t-6],["L",r-12,t+6],["Z"]]},i.prototype.renderToggleTime=function(){var r=this.controllerCfg.width;this.toggleGroup=this.group.addGroup({name:"toggle-group"}),this.toggleGroup.addShape("rect",{attrs:{width:14,height:14,x:r-Ba,y:this.speedAxisY[1],fill:"#fff",stroke:"#ccc",lineWidth:2,radius:3},isChecked:!1,name:"toggle-model"}),this.checkedIcon=this.toggleGroup.addShape("path",{attrs:{path:[["M",r-Ba+3,this.speedAxisY[1]+6],["L",r-Ba+7,this.speedAxisY[1]+10],["L",r-Ba+12,this.speedAxisY[1]+4]],stroke:"green",lineWidth:3},capture:!1}),this.checkedIcon.hide(),this.checkedText=this.toggleGroup.addShape("text",{attrs:{text:"\u5355\u4E00\u65F6\u95F4",x:r-Ba+20,y:this.speedAxisY[1]+15,fill:"#ccc"}})},i.prototype.bindEvent=function(){var r=this,t=this.controllerCfg,e=t.width,n=t.hiddleToggle;this.speedGroup.on("speed-rect:click",function(a){r.speedPoint.attr("path",r.getPath(e-(n?Ba:Rs),a.y)),r.currentSpeed=a.target.get("speed"),r.speedText.attr("text",r.currentSpeed+".0X"),r.group.emit("timebarConfigChanged",{speed:r.currentSpeed,type:r.currentType})}),this.toggleGroup&&this.toggleGroup.on("toggle-model:click",function(a){var o=a.target.get("isChecked");o?(r.checkedIcon.hide(),r.checkedText.attr("text","\u5355\u4E00\u65F6\u95F4"),r.currentType="range"):(r.checkedIcon.show(),r.checkedText.attr("text","\u65F6\u95F4\u8303\u56F4"),r.currentType="single"),a.target.set("isChecked",!o),r.group.emit("timebarConfigChanged",{type:r.currentType,speed:r.currentSpeed})})},i.prototype.destroy=function(){this.speedGroup.off("speed-rect:click"),this.toggleGroup&&(this.toggleGroup.off("toggle-model:click"),this.toggleGroup.destroy()),this.speedGroup.destroy()},i}(),m1=C8,x1="timelinestart",b1="timelineend",Da="valueChange",Ou="timebarConfigChanged",Lu="playPauseBtn",Iu="nextStepBtn",ku="preStepBtn",M8={fill:"#416180",opacity:.05},E8={fill:"#416180",opacity:.15,radius:5},_8={fill:"#5B8FF9",opacity:.3,cursor:"move"},ac=2,A8={width:ac,height:24},P8={textBaseline:"middle",fill:"#000",opacity:.45},T8=function(){function i(r){var t=this;this.prevX=0,this.onMouseDown=function(He){return function(lr){t.currentHandler=He;var sr=lr.originalEvent;sr.stopPropagation(),sr.preventDefault(),t.prevX=(0,u.get)(sr,"touches.0.pageX",sr.pageX);var dr=t.canvas.get("container");dr.addEventListener("mousemove",t.onMouseMove),dr.addEventListener("mouseup",t.onMouseUp),dr.addEventListener("mouseleave",t.onMouseUp),dr.addEventListener("touchmove",t.onMouseMove),dr.addEventListener("touchend",t.onMouseUp),dr.addEventListener("touchcancel",t.onMouseUp)}},this.onMouseMove=function(He){He.stopPropagation(),He.preventDefault();var lr=(0,u.get)(He,"touches.0.pageX",He.pageX),sr=lr-t.prevX,dr=t.adjustOffsetRange(sr/t.width);t.updateStartEnd(dr),t.updateUI(),t.prevX=lr},this.onMouseUp=function(){t.currentHandler&&(t.currentHandler=void 0);var He=t.canvas.get("container");He&&(He.removeEventListener("mousemove",t.onMouseMove),He.removeEventListener("mouseup",t.onMouseUp),He.removeEventListener("mouseleave",t.onMouseUp),He.removeEventListener("touchmove",t.onMouseMove),He.removeEventListener("touchend",t.onMouseUp),He.removeEventListener("touchcancel",t.onMouseUp))};var e=r.x,n=e===void 0?0:e,a=r.y,o=a===void 0?0:a,s=r.width,l=s===void 0?100:s,f=r.height,h=r.padding,c=h===void 0?10:h,v=r.trendCfg,x=r.controllerCfg,A=x===void 0?{speed:1}:x,B=r.backgroundStyle,G=B===void 0?{}:B,H=r.foregroundStyle,X=H===void 0?{}:H,ut=r.handlerStyle,ft=ut===void 0?{}:ut,xt=r.textStyle,Yt=xt===void 0?{}:xt,Kt=r.start,te=Kt===void 0?0:Kt,Wt=r.end,ae=Wt===void 0?1:Wt,ce=r.minText,he=ce===void 0?"":ce,Pe=r.maxText,Be=Pe===void 0?"":Pe,ke=r.group,We=r.graph,Ke=r.canvas,$e=r.ticks,Ve=r.type;this.graph=We,this.canvas=Ke,this.group=ke,this.timeBarType=Ve,this.x=n,this.y=o,this.width=l,this.height=f,this.padding=c,this.ticks=$e,this.trendCfg=v,this.controllerCfg=A,this.currentSpeed=A.speed,Ve==="trend"?this.backgroundStyle=(0,q.__assign)((0,q.__assign)({},M8),G):Ve==="simple"&&(this.backgroundStyle=(0,q.__assign)((0,q.__assign)({},E8),G)),this.foregroundStyle=(0,q.__assign)((0,q.__assign)({},_8),X),this.handlerStyle=(0,q.__assign)((0,q.__assign)({},A8),ft),this.textStyle=(0,q.__assign)((0,q.__assign)({},P8),Yt),this.currentMode="range",this.start=te,this.end=ae,this.minText=he,this.maxText=Be,this.renderSlider()}return i.prototype.update=function(r){var t=r.x,e=r.y,n=r.width,a=r.height,o=r.minText,s=r.maxText,l=r.start,f=r.end;this.start=Math.min(1,Math.max(l,0)),this.end=Math.min(1,Math.max(f,0)),(0,u.assign)(this,{x:t,y:e,width:n,height:a,minText:o,maxText:s}),this.updateUI()},i.prototype.setText=function(r,t){this.minTextShape.attr("text",r),this.maxTextShape.attr("text",t)},i.prototype.renderSlider=function(){var r=this,t=this,e=t.width,n=t.height,a=t.timeBarType;if(a==="trend"&&(0,u.size)((0,u.get)(this.trendCfg,"data"))){var o=new h8((0,q.__assign)((0,q.__assign)({x:this.x,y:this.y,width:e,height:n},this.trendCfg),{group:this.group}));this.trendComponent=o}var s=this.group.addGroup({name:"slider-group"});s.addShape("rect",{attrs:(0,q.__assign)({x:0,y:0,width:e,height:n},this.backgroundStyle)});var l=this.group.addGroup();a==="trend"?(this.minTextShape=l.addShape("text",{attrs:(0,q.__assign)({x:0,y:n/2+this.y,textAlign:"right",text:this.minText,silent:!1},this.textStyle),capture:!1}),this.maxTextShape=l.addShape("text",{attrs:(0,q.__assign)({y:n/2+this.y,textAlign:"left",text:this.maxText,silent:!1},this.textStyle),capture:!1})):(this.minTextShape=l.addShape("text",{attrs:(0,q.__assign)({x:0,y:this.y-10,textAlign:"center",text:this.minText,silent:!1},this.textStyle),capture:!1}),this.maxTextShape=l.addShape("text",{attrs:(0,q.__assign)({y:this.y-10,textAlign:"center",text:this.maxText,silent:!1},this.textStyle),capture:!1})),this.foregroundShape=this.group.addGroup().addShape("rect",{attrs:(0,q.__assign)({x:0,y:this.y,height:n},this.foregroundStyle)});var f=(0,u.get)(this.handlerStyle,"width",2),h=(0,u.get)(this.handlerStyle,"height",24),c=this.group.addGroup({name:"minHandlerShape"});this.minHandlerShape=new y1((0,q.__assign)({name:"minHandlerShape",group:c,type:a,x:this.x,y:this.y,width:f,height:h,cursor:"ew-resize"},this.handlerStyle));var v=this.group.addGroup({name:"maxHandlerShape"});this.maxHandlerShape=new y1((0,q.__assign)({name:"maxHandlerShape",group:v,type:a,x:this.x,y:this.y,width:f,height:h,cursor:"ew-resize"},this.handlerStyle));var x=this.ticks,A=e/(x.length-1);this.tickPosList=[],this.textList&&this.textList.length&&this.textList.forEach(function(G){G.destroy()});var B=-Infinity;this.textList=x.map(function(G,H){r.tickPosList.push(r.x+H*A);var X=r.group.addShape("text",{attrs:{x:r.x+H*A,y:r.y+n+5,text:G,textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35}}),ut=r.group.addShape("line",{attrs:{x1:r.x+H*A,y1:r.y+n+2,x2:r.x+H*A,y2:r.y+n+6,lineWidth:1,stroke:"#ccc"}}),ft=X.getBBox();return ft.minX>B?(X.show(),ut.show(),B=ft.minX+ft.width+10):(X.hide(),ut.hide()),X}),this.controllerBtnGroup=new m1({group:this.group,x:this.x,y:this.y+n+25,width:e,height:40}),this.updateUI(),s.move(this.x,this.y),this.bindEvents()},i.prototype.bindEvents=function(){var r=this,t=this.group.find(function(n){return n.get("name")==="minHandlerShape"});t&&(t.on("minHandlerShape-handler:mousedown",this.onMouseDown(this.minHandlerShape)),t.on("minHandlerShape-handler:touchstart",this.onMouseDown(this.minHandlerShape)));var e=this.group.find(function(n){return n.get("name")==="maxHandlerShape"});e&&(e.on("maxHandlerShape-handler:mousedown",this.onMouseDown(this.maxHandlerShape)),e.on("maxHandlerShape-handler:touchstart",this.onMouseDown(this.maxHandlerShape))),this.foregroundShape.on("mousedown",this.onMouseDown(this.foregroundShape)),this.foregroundShape.on("touchstart",this.onMouseDown(this.foregroundShape)),this.group.on(Lu+":click",function(){r.isPlay=!r.isPlay,r.currentHandler=r.maxHandlerShape,r.changePlayStatus()}),this.group.on(Iu+":click",function(){r.currentHandler=r.maxHandlerShape,r.updateStartEnd(.01),r.updateUI()}),this.group.on(ku+":click",function(){r.currentHandler=r.maxHandlerShape,r.updateStartEnd(-.01),r.updateUI()}),this.group.on(Ou,function(n){var a=n.type,o=n.speed;r.currentSpeed=o,r.currentMode=a,a==="single"?(r.minHandlerShape.hide(),r.foregroundShape.hide(),r.minTextShape.hide()):a==="range"&&(r.minHandlerShape.show(),r.foregroundShape.show(),r.minTextShape.show())})},i.prototype.adjustTickIndex=function(r){for(var t=0;t<this.tickPosList.length-1;t++)if(this.tickPosList[t]<=r&&r<=this.tickPosList[t+1])return Math.abs(this.tickPosList[t]-r)<Math.abs(r-this.tickPosList[t+1])?t:t+1},i.prototype.adjustOffsetRange=function(r){switch(this.currentHandler){case this.minHandlerShape:{var t=0-this.start,e=1-this.start;return Math.min(e,Math.max(t,r))}case this.maxHandlerShape:{var t=0-this.end,e=1-this.end;return Math.min(e,Math.max(t,r))}case this.foregroundShape:{var t=0-this.start,e=1-this.end;return Math.min(e,Math.max(t,r))}default:return 0}},i.prototype.updateStartEnd=function(r){switch(this.currentHandler){case this.minHandlerShape:this.maxText=this.maxTextShape.attr("text"),this.start+=r,this.minText=this.ticks[this.adjustTickIndex(this.start*this.width)];break;case this.maxHandlerShape:this.minText=this.minTextShape.attr("text"),this.end+=r,this.maxText=this.ticks[this.adjustTickIndex(this.end*this.width)];break;case this.foregroundShape:this.start+=r,this.end+=r,this.minText=this.ticks[this.adjustTickIndex(this.start*this.width)],this.maxText=this.ticks[this.adjustTickIndex(this.end*this.width)];break;default:break}},i.prototype.updateUI=function(){var r=this;this.start<0&&(this.start=0),this.end>1&&(this.end=1);var t=this.start*this.width,e=this.end*this.width;this.foregroundShape.attr("x",t),this.foregroundShape.attr("width",e-t);var n=(0,u.get)(this.handlerStyle,"width",ac);this.setText(this.minText,this.maxText);var a=this.dodgeText([t,e]),o=a[0],s=a[1];this.minHandlerShape.setX(t-n/2),(0,u.each)(o,function(l,f){return r.minTextShape.attr(f,l)}),this.maxHandlerShape.setX(e-n/2),(0,u.each)(s,function(l,f){return r.maxTextShape.attr(f,l)}),this.currentMode==="range"?this.graph.emit(Da,{value:[this.start,this.end].sort()}):this.currentMode==="single"&&this.graph.emit(Da,{value:[this.end,this.end]})},i.prototype.dodgeText=function(r){var t,e,n=2,a=(0,u.get)(this.handlerStyle,"width",ac),o=this.minTextShape,s=this.maxTextShape,l=r[0],f=r[1],h=!1;l>f&&(t=[f,l],l=t[0],f=t[1],e=[s,o],o=e[0],s=e[1],h=!0);var c=o.getBBox(),v=s.getBBox(),x=null,A=null;return this.timeBarType==="trend"?(x=c.width>l-n?{x:l+a/2+n,textAlign:"left"}:{x:l-a/2-n,textAlign:"right"},A=v.width>this.width-f-n?{x:f-a/2-n,textAlign:"right"}:{x:f+a/2+n,textAlign:"left"}):this.timeBarType==="simple"&&(x=c.width>l-n?{x:l+a/2+n,textAlign:"center"}:{x:l-a/2-n,textAlign:"center"},A=v.width>this.width-f-n?{x:f-a/2-n,textAlign:"center"}:{x:f+a/2+n,textAlign:"center"}),h?[A,x]:[x,A]},i.prototype.startPlay=function(){var r=this;return window.requestAnimationFrame(function(){var t=r,e=t.ticks,n=t.width,a=r.currentSpeed,o=n/e.length,s=o/((10-a)*1e3/60),l=r.adjustOffsetRange(s/r.width);r.updateStartEnd(l),r.updateUI(),r.isPlay&&(r.playHandler=r.startPlay())})},i.prototype.changePlayStatus=function(r){r===void 0&&(r=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(x1,null)):this.playHandler&&(window.cancelAnimationFrame(this.playHandler),r&&this.graph.emit(b1,null))},i.prototype.destory=function(){this.graph.off(Da);var r=this.group,t=r.find(function(n){return n.get("name")==="minHandlerShape"});t&&(t.off("minHandlerShape-handler:mousedown"),t.off("minHandlerShape-handler:touchstart"),t.destroy());var e=r.find(function(n){return n.get("name")==="maxHandlerShape"});e&&(e.off("maxHandlerShape-handler:mousedown"),e.off("maxHandlerShape-handler:touchstart"),e.destroy()),this.foregroundShape.off("mousedown"),this.foregroundShape.off("touchstart"),this.foregroundShape.destroy(),r.off(Lu+":click"),r.off(Iu+":click"),r.off(ku+":click"),r.off(Ou),r.destroy(),this.trendComponent&&this.trendComponent.destory()},i}(),O8=T8,YY={opacity:.5,fill:"#000"},zY={opacity:.5,fill:"#000",r:5},XY={fill:"#fff",fontSize:12},L8=function(){function i(r){var t=r.x,e=t===void 0?0:t,n=r.y,a=n===void 0?0:n,o=r.container,s=r.text,l=r.padding,f=l===void 0?[4,4,4,4]:l,h=r.className,c=h===void 0?"g6-component-timebar-tooltip":h,v=r.backgroundColor,x=v===void 0?"#000":v,A=r.textColor,B=A===void 0?"#fff":A,G=r.opacity,H=G===void 0?.8:G,X=r.fontSize,ut=X===void 0?12:X;this.container=o,this.className=c,this.backgroundColor=x,this.textColor=B,this.x=e,this.y=a,this.text=s,this.padding=f,this.opacity=H,this.fontSize=ut,this.render()}return i.prototype.render=function(){var r=this,t=r.className,e=r.x,n=r.y,a=r.backgroundColor,o=r.textColor,s=r.text,l=r.padding,f=r.opacity,h=r.fontSize,c=r.container,v=(0,$n.Z)("<div class='"+t+`' style="position: absolute; width: fit-content; height: fit-content; opacity: `+f+'"></div>');(0,u.isString)(c)&&(c=document.getElementById(c)),c.appendChild(v),r.parentHeight=c.offsetHeight,r.parentWidth=c.offsetWidth,(0,Cn.Z)(v,{visibility:"hidden",top:0,left:0});var x=(0,$n.Z)(`
      <div style='position: absolute; white-space:nowrap; background-color: `+a+"; font-size: "+h+"px; border-radius: 4px; width: fit-content; height: fit-content; color: "+o+"; padding: "+l[0]+"px "+l[1]+"px "+l[2]+"px "+l[3]+"px'></div>");x.innerHTML=s,v.appendChild(x),r.backgroundDOM=x;var A=(0,$n.Z)("<div style='position: absolute; width: 0px; height: 0px; border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 10px solid "+a+"'></div>");v.appendChild(A),r.arrowDOM=A,r.container=v},i.prototype.show=function(r){var t=this,e=r.text,n=r.x,a=r.y,o=r.clientX,s=r.clientY;t.backgroundDOM.innerHTML=e;var l=t.backgroundDOM.offsetWidth,f=t.backgroundDOM.offsetHeight,h=t.arrowDOM.offsetWidth,c=t.arrowDOM.offsetHeight;(0,Cn.Z)(t.container,{top:-f-c+"px",left:n+"px",visibility:"visible"}),(0,Cn.Z)(t.backgroundDOM,{marginLeft:-l/2+"px"}),(0,Cn.Z)(t.arrowDOM,{marginLeft:-h/2+"px",top:f+"px"});var v=n-l/2,x=n+l/2;v<0?(0,Cn.Z)(t.backgroundDOM,{marginLeft:-l/2-v+"px"}):x>t.parentWidth&&(0,Cn.Z)(t.backgroundDOM,{marginLeft:-l/2-x+t.parentWidth+12+"px"})},i.prototype.hide=function(){(0,Cn.Z)(this.container,{top:0,left:0,visibility:"hidden"})},i}(),I8=L8,k8={fill:"#5B8FF9"},B8={fill:"#e6e8e9"},D8=function(){function i(r){this.frameCount=0;var t=r.graph,e=r.canvas,n=r.group,a=r.width,o=r.height,s=r.padding,l=r.data,f=r.start,h=r.end,c=r.x,v=c===void 0?0:c,x=r.y,A=x===void 0?0:x,B=r.tickLabelFormatter,G=r.selectedTickStyle,H=G===void 0?k8:G,X=r.unselectedTickStyle,ut=X===void 0?B8:X,ft=r.tooltipBackgroundColor,xt=r.tooltipFomatter;this.graph=t,this.group=n,this.sliceGroup=n.addGroup({name:"slice-group"}),this.canvas=e,this.width=a,this.height=o,this.padding=s,this.data=l,this.start=f,this.end=h,this.tickLabelFormatter=B,this.selectedTickStyle=H,this.unselectedTickStyle=ut,this.x=v,this.y=A,this.tooltipBackgroundColor=ft,this.tooltipFomatter=xt,this.renderSlices(),this.initEvent()}return i.prototype.renderSlices=function(){var r=this,t=r.width,e=r.height,n=r.padding,a=r.data,o=r.start,s=r.end,l=r.tickLabelFormatter,f=r.selectedTickStyle,h=r.unselectedTickStyle,c=t-2*n,v=10,x=4,A=3*n+x+v,B=e-A-2*n,G=2,H=a.length,X=(c-G*(H-1))/H;this.tickWidth=X;var ut=this.sliceGroup,ft=[],xt=[],Yt=Math.round(H*o),Kt=Math.round(H*s);this.startTickRectId=Yt,this.endTickRectId=Kt,a.forEach(function(Wt,ae){var ce=ae>=Yt&&ae<=Kt,he=ce?f:h,Pe=ut.addShape("rect",{attrs:(0,q.__assign)({x:n+ae*(X+G),y:n,width:X,height:B},he),draggable:!0,name:"tick-rect-"+ae}),Be=ut.addShape("rect",{attrs:{x:n+ae*X+G*(2*ae-1)/2,y:n,width:ae===0||ae===H-1?X+G/2:X+G,height:B,fill:"#fff",opacity:0},draggable:!0,name:"pick-rect-"+ae});Be.toFront();var ke=Pe.getBBox(),We=(ke.minX+ke.maxX)/2;ft.push({rect:Pe,pickRect:Be,value:Wt.date,x:We,y:ke.minY});var Ke;if(l?(Ke=l(Wt),!(0,u.isString)(Ke)&&Ke&&(Ke=Wt.date)):ae%Math.round(H/10)==0&&(Ke=Wt.date),Ke){xt.push(Ke);var $e=ke.maxY+n*2;ut.addShape("line",{attrs:{stroke:"#BFBFBF",x1:We,y1:$e,x2:We,y2:$e+x}});var Ve=$e+x+n,He=ut.addShape("text",{attrs:{fill:"#8c8c8c",stroke:"#fff",lineWidth:1,x:We,y:Ve,textAlign:"center",text:Ke,textBaseline:"top",fontSize:10},capture:!1}),lr=He.getBBox();lr.maxX>t?He.attr("textAlign","right"):lr.minX<0&&He.attr("textAlign","left")}}),this.tickRects=ft;var te=this.group;this.currentSpeed=1,this.controllerBtnGroup=new m1({group:te,x:this.x,y:this.y+e+5,width:t,height:40,hiddleToggle:!0,speed:this.currentSpeed})},i.prototype.initEvent=function(){var r=this,t=this.sliceGroup;t.on("click",function(h){var c=h.target;if(!(c.get("type")!=="rect"||!c.get("name"))){var v=parseInt(c.get("name").split("-")[2],10);if(!isNaN(v)){var x=r.tickRects,A=r.unselectedTickStyle;x.forEach(function(X){X.rect.attr(A)});var B=r.selectedTickStyle;x[v].rect.attr(B),r.startTickRectId=v,r.endTickRectId=v;var G=x.length,H=v/G;r.graph.emit(Da,{value:[H,H]})}}}),t.on("dragstart",function(h){var c=r.tickRects,v=r.unselectedTickStyle;c.forEach(function(X){X.rect.attr(v)});var x=h.target,A=parseInt(x.get("name").split("-")[2],10),B=r.selectedTickStyle;c[A].rect.attr(B),r.startTickRectId=A;var G=c.length,H=A/G;r.graph.emit(Da,{value:[H,H]}),r.dragging=!0}),t.on("dragover",function(h){if(!!r.dragging&&h.target.get("type")==="rect"){for(var c=parseInt(h.target.get("name").split("-")[2],10),v=r.startTickRectId,x=r.tickRects,A=r.selectedTickStyle,B=r.unselectedTickStyle,G=0;G<x.length;G++){var H=G>=v&&G<=c?A:B;x[G].rect.attr(H)}var X=x.length;r.endTickRectId=c;var ut=v/X,ft=c/X;r.graph.emit(Da,{value:[ut,ft]})}}),t.on("drop",function(h){if(!!r.dragging&&(r.dragging=!1,h.target.get("type")==="rect")){var c=r.startTickRectId,v=parseInt(h.target.get("name").split("-")[2],10);if(!(v<c)){var x=r.selectedTickStyle,A=r.tickRects;A[v].rect.attr(x),r.endTickRectId=v;var B=A.length,G=c/B,H=v/B;r.graph.emit(Da,{value:[G,H]})}}});var e=this,n=e.tooltipBackgroundColor,a=e.tooltipFomatter,o=e.canvas,s=new I8({container:o.get("container"),backgroundColor:n}),l=this.tickRects;l.forEach(function(h){var c=h.pickRect;c.on("mouseenter",function(v){var x=v.target;if(x.get("type")==="rect"){var A=parseInt(x.get("name").split("-")[2],10),B=o.getClientByPoint(l[A].x,l[A].y);s.show({x:l[A].x,y:l[A].y,clientX:B.x,clientY:B.y,text:a?a(l[A].value):l[A].value})}}),c.on("mouseleave",function(v){s.hide()})});var f=this.group;f.on(Lu+":click",function(){r.isPlay=!r.isPlay,r.changePlayStatus()}),f.on(Iu+":click",function(){r.updateStartEnd(1)}),f.on(ku+":click",function(){r.updateStartEnd(-1)}),f.on(Ou,function(h){var c=h.type,v=h.speed;r.currentSpeed=v})},i.prototype.changePlayStatus=function(r){r===void 0&&(r=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(x1,null)):this.playHandler&&(window.cancelAnimationFrame(this.playHandler),r&&this.graph.emit(b1,null))},i.prototype.startPlay=function(){var r=this;return window.requestAnimationFrame(function(){var t=r.currentSpeed;r.frameCount%(60/t)==0&&(r.frameCount=0,r.updateStartEnd(1)),r.frameCount++,r.isPlay&&(r.playHandler=r.startPlay())})},i.prototype.updateStartEnd=function(r){var t=this,e=this.tickRects,n=e.length,a=this.unselectedTickStyle,o=this.selectedTickStyle,s=t.endTickRectId;if(r>0?t.endTickRectId++:(e[t.endTickRectId].rect.attr(a),t.endTickRectId--),s!==t.startTickRectId)t.endTickRectId<t.startTickRectId&&(t.startTickRectId=t.endTickRectId);else{for(var l=t.startTickRectId;l<=t.endTickRectId-1;l++)e[l].rect.attr(a);t.startTickRectId=t.endTickRectId}if(e[t.endTickRectId]){e[t.endTickRectId].rect.attr(o);var f=t.startTickRectId/n,h=t.endTickRectId/n;this.graph.emit(Da,{value:[f,h]})}},i.prototype.destory=function(){this.graph.off(Da);var r=this.sliceGroup;r.off("click"),r.off("dragstart"),r.off("dragover"),r.off("drop"),this.tickRects.forEach(function(t){var e=t.pickRect;e.off("mouseenter"),e.off("mouseleave")}),this.tickRects.length=0,r.off(Lu+":click"),r.off(Iu+":click"),r.off(ku+":click"),r.off(Ou),this.sliceGroup.destroy()},i}(),F8=D8,R8=8,N8=26,G8=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-component-timebar",padding:10,type:"trend",trend:{data:[],isArea:!1,smooth:!0},controllerCfg:{speed:2,loop:!1},slider:{start:.1,end:.9,minText:"min",maxText:"max"},tick:{start:.1,end:.9,data:[]}}},r.prototype.initContainer=function(){var t=this.get("graph"),e=this._cfgs,n=e.width,a=e.height,o=this.get("className")||"g6-component-timebar",s=this.get("container"),l=this.get("graph").get("container"),f;s?f=s:(f=(0,$n.Z)("<div class='"+o+"'></div>"),(0,Cn.Z)(f,{position:"relative"})),l.appendChild(f),this.set("timeBarContainer",f);var h,c=t.get("renderer");c==="SVG"?h=new Is.Z({container:f,width:n,height:a}):h=new _o.Z({container:f,width:n,height:a}),this.set("canvas",h)},r.prototype.init=function(){this.initContainer();var t=this.get("canvas"),e=t.addGroup({name:"timebar-group"});this.set("timeBarGroup",e),this.renderTrend(),this.initEvent()},r.prototype.renderTrend=function(){var t=this._cfgs,e=t.width,n=t.x,a=t.y,o=t.padding,s=t.type,l=t.trend,f=t.slider,h=t.controllerCfg,c=l.data,v=(0,q.__rest)(l,["data"]),x=e-2*o,A=s==="trend"?N8:R8,B=this.get("graph"),G=this.get("timeBarGroup"),H=this.get("canvas"),X=null;if(s==="trend"||s==="simple")X=new O8((0,q.__assign)((0,q.__assign)({graph:B,canvas:H,group:G,type:s,x:n+o,y:s==="trend"?a+o:a+o+15,width:x,height:A,padding:o,trendCfg:(0,q.__assign)((0,q.__assign)({},v),{data:c.map(function(ft){return ft.value})})},f),{ticks:c.map(function(ft){return ft.date}),handlerStyle:(0,q.__assign)((0,q.__assign)({},f.handlerStyle),{height:f.height||A}),controllerCfg:h}));else if(s==="tick"){var ut=this._cfgs.tick;X=new F8((0,q.__assign)({graph:B,canvas:H,group:G,x:n+o,y:a+o},ut))}this.set("timebar",X)},r.prototype.filterData=function(t){var e=t.value,n=null,a=this._cfgs.type;if(a==="trend"||a==="simple"?n=this._cfgs.trend.data:a==="tick"&&(n=this._cfgs.tick.data),!n||n.length===0){console.warn("\u8BF7\u914D\u7F6E TimeBar \u7EC4\u4EF6\u7684\u6570\u636E");return}var o=this.get("rangeChange"),s=this.get("graph"),l=Math.round(n.length*e[0]),f=Math.round(n.length*e[1]);f=f>=n.length?n.length-1:f;var h=n[l].date,c=n[f].date;if(a!=="tick"){var v=this.get("timebar");v.setText(h,c)}if(o)o(s,h,c);else{var x=s.save();(!this.cacheGraphData||this.cacheGraphData.nodes&&this.cacheGraphData.nodes.length===0)&&(this.cacheGraphData=x);var A=this.cacheGraphData.nodes.filter(function(H){return H.date>=h&&H.date<=c}),B=A.map(function(H){return H.id}),G=this.cacheGraphData.edges.filter(function(H){return B.includes(H.source)&&B.includes(H.target)});s.changeData({nodes:A,edges:G})}},r.prototype.initEvent=function(){var t=this,e=0,n=0,a=this._cfgs.type;!a||a==="trend"||a==="simple"?(e=this._cfgs.slider.start,n=this._cfgs.slider.end):a==="tick"&&(e=this._cfgs.tick.start,n=this._cfgs.tick.end);var o=this.get("graph");o.on("afterrender",function(){t.filterData({value:[e,n]})}),o.on(Da,function(s){t.filterData(s)})},r.prototype.destroy=function(){var t=this.get("timebar");t&&t.destory&&t.destory(),i.prototype.destroy.call(this);var e=this.get("timeBarContainer");if(e){var n=this.get("container");n||(n=this.get("graph").get("container")),n.removeChild(e)}},r}(Ia),Y8=G8;function z8(i,r){var t,e;if(i.naturalWidth)t=i.naturalWidth,e=i.naturalHeight;else{var n=new Image;n.src=i.src,n.onload=function(){r==null||r(n.width,n.height)}}return[t,e]}var X8=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",width:200,delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},r.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},r.prototype.disableRefresh=function(){this.set("refresh",!1)},r.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},r.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},r.prototype.initViewport=function(){var t=this,e=this._cfgs,n=e.graph;if(!this.destroyed){var a=this.get("container"),o=(0,$n.Z)("<div class="+e.viewportClassName+`
      style='position:absolute;
        left:0;
        top:0;
        box-sizing:border-box;
        border: 2px solid #1980ff'>
      </div>`),s=0,l=0,f=!1,h=0,c=0,v=0,x=0,A=0,B=0;a.addEventListener("mousedown",function(G){if(e.refresh=!1,G.target===o){var H=o.style;v=parseInt(H.width,10),x=parseInt(H.height,10);var X=t.get("width"),ut=t.get("height");v>X||x>ut||(B=n.getZoom(),A=t.get("ratio"),f=!0,s=G.clientX,l=G.clientY)}},!1),a.addEventListener("mousemove",function(G){if(!(!f||(0,gi.default)(G.clientX)||(0,gi.default)(G.clientY))){var H=t.get("width"),X=t.get("height"),ut=o.style;h=parseInt(ut.left,10),c=parseInt(ut.top,10),v=parseInt(ut.width,10),x=parseInt(ut.height,10);var ft=s-G.clientX,xt=l-G.clientY;h-ft<0?ft=h:h-ft+v>=H&&(ft=0),c-xt<0?xt=c:c-xt+x>=X&&(xt=0),h-=ft,c-=xt,(0,Cn.Z)(o,{left:h+"px",top:c+"px"}),n.translate(ft*B/A,xt*B/A),s=G.clientX,l=G.clientY}},!1),a.addEventListener("mouseleave",function(){f=!1,e.refresh=!0},!1),a.addEventListener("mouseup",function(){f=!1,e.refresh=!0},!1),this.set("viewport",o),a.appendChild(o)}},r.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),e=this.get("width"),n=this.get("height"),a=this.get("graph"),o=a.get("width"),s=a.get("height"),l=o/s,f=a.getGroup(),h=f.getCanvasBBox(),c=[(h.minX+h.maxX)/2,(h.minY+h.maxY)/2],v=[h.maxX-h.minX,h.maxY-h.minY],x={centerX:c[0],centerY:c[1],width:0,height:0,minX:0,minY:0};h[0]/h[1]>l?(x.width=v[0],x.height=x.width/l):(x.height=v[1],x.width=x.height*l),x.minX=c[0]-x.width/2,x.minY=c[1]-x.height/2;var A=f.getMatrix();A||(A=[1,0,0,0,1,0,0,0,1]);var B=Ua.invert([],A),G=Ts({x:x.minX,y:x.minY},B),H=a.getCanvasByPoint(G.x,G.y),X=this.get("viewport");X||this.initViewport();var ut=o/x.width,ft=ut*e,xt=ut*n,Yt=e*-H.x/x.width,Kt=n*-H.y/x.height,te=Yt+ft,Wt=Kt+xt;Yt<0&&(ft+=Yt,Yt=0),te>e&&(ft=ft-(te-e)),Kt<0&&(xt+=Kt,Kt=0),Wt>n&&(xt=xt-(Wt-n)),this.set("ratio",t);var ae=Yt+"px",ce=Kt+"px";(0,Cn.Z)(X,{left:ae,top:ce,width:ft+"px",height:xt+"px"})}},r.prototype.init=function(){this.initContainer()},r.prototype.initContainer=function(){var t=this,e=t.get("graph"),n=e.get("width"),a=e.get("height"),o=a/n,s=t.get("className"),l=t.get("container"),f=t.get("width"),h=t.get("height");!f&&!h&&(f=200),f?(h=o*f,t.set("height",h)):(f=1/o*h,t.set("width",f));var c=(0,$n.Z)("<div class='"+s+"' style='width: "+f+"px; height: "+h+"px; overflow: hidden; position: relative;'></div>");(0,un.default)(l)&&(l=document.getElementById(l)),l?l.appendChild(c):e.get("container").appendChild(c),t.set("container",c);var v=(0,$n.Z)('<div class="g6-minimap-container" style="position: relative; width: 100%; height: 100%; text-align: center; display: table;"></div>');c.appendChild(v);var x=(0,$n.Z)('<span style="display: table-cell; vertical-align: middle; "></span>');v.appendChild(x),t.set("containerDOM",v),t.set("containerSpan",x);var A=(0,$n.Z)('<img alt="" src="'+this.get("graphImg")+'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>');t.set("imgDOM",A),t.updateImgSize(),x.appendChild(A),t.updateCanvas()},r.prototype.updateImgSize=function(){var t=this,e=t.get("imgDOM"),n=t.get("width"),a=t.get("height");e.onload=function(){var o=z8(e);o[0]>o[1]?e.width=n:e.height=a}},r.prototype.updateCanvas=function(){var t=this.get("refresh");if(!!t){var e=this.get("graph");if(!e.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var n=this.get("width"),a=e.get("canvas").getCanvasBBox(),o=a.width,s=n/o;this.set("ratio",s),this.updateViewport()}}},r.prototype.getViewport=function(){return this.get("viewport")},r.prototype.getContainer=function(){return this.get("container")},r.prototype.updateGraphImg=function(t){var e=this,n=e.get("imgDOM");n.remove(),e.set("graphImg",t);var a=(0,$n.Z)('<img alt="" src="'+t+'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>');e.set("imgDOM",a),a.src=t,e.updateImgSize();var o=e.get("containerSpan");o.appendChild(a),e.updateCanvas()},r.prototype.destroy=function(){var t=this.get("container");t.parentNode.removeChild(t)},r}(Ia),V8=X8,w1=.05,S1={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:1,fill:"#fff"},H8=function(i){(0,q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{type:"both",trigger:"mousemove",r:60,delegateStyle:(0,Nn.d9)(S1),showLabel:"edge",scaleRBy:"wheel"}},r.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"filter"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"filter"};break}return t},r.prototype.init=function(){var t=this,e=t.get("showLabel"),n=e==="node"||e==="both",a=e==="edge"||e==="both";t.set("showNodeLabel",n),t.set("showEdgeLabel",a);var o=t.get("shouldShow");o||t.set("shouldShow",function(){return!0})},r.prototype.createDelegate=function(t){var e=this,n=e.get("delegate");(!n||n.destroyed)&&(e.filter(t),n=e.get("delegate"),n.on("dragstart",function(a){}),n.on("drag",function(a){e.filter(a)}),this.get("scaleRBy")==="wheel"&&n.on("mousewheel",function(a){e.scaleRByWheel(a)}))},r.prototype.scaleRByWheel=function(t){var e=this;if(!(!t||!t.originalEvent)){t.preventDefault&&t.preventDefault();var n=e.get("graph"),a,o=e.get("delegate"),s=o?{x:o.attr("x"),y:o.attr("y")}:void 0,l=s||n.getPointByClient(t.clientX,t.clientY);t.originalEvent.wheelDelta<0?a=1-w1:a=1/(1-w1);var f=e.get("maxR"),h=e.get("minR"),c=e.get("r");(c>(f||n.get("height"))&&a>1||c<(h||n.get("height")*.05)&&a<1)&&(a=1),c*=a,e.set("r",c),e.filter(t)}},r.prototype.filter=function(t){var e=this,n=e.get("graph"),a=n.getNodes(),o={},s=e.get("r"),l=e.get("type"),f={x:t.x,y:t.y};e.updateDelegate(f,s);var h=e.get("shouldShow"),c=e.get("vShapes");c&&c.forEach(function(H){H.remove(),H.destroy()}),c=[],a.forEach(function(H){var X=H.getModel(),ut=X.x,ft=X.y;Os({x:ut,y:ft},f)<s&&(o[X.id]=H)});var v=n.getEdges(),x=[];v.forEach(function(H){var X=H.getModel(),ut=X.source,ft=X.target;h(X)&&(l==="only-source"||l==="one"?o[ut]&&!o[ft]&&x.push(H):l==="only-target"||l==="one"?o[ft]&&!o[ut]&&x.push(H):l==="both"&&o[ut]&&o[ft]&&x.push(H))});var A=e.get("showNodeLabel"),B=e.get("showEdgelabel"),G=n.get("group");x.forEach(function(H){var X=H.get("group").get("children");X.forEach(function(ut){var ft=ut.get("type"),xt=G.addShape(ft,{attrs:ut.attr()});c.push(xt),A&&ft==="text"&&xt.set("visible",!0)})}),Object.keys(o).forEach(function(H){var X=o[H],ut=X.get("group").clone();if(G.add(ut),c.push(ut),B)for(var ft=ut.get("children"),xt=0;xt<ft.length;xt++){var Yt=ft[xt];Yt.get("type")==="text"&&Yt.set("visible",!0)}}),e.set("vShapes",c)},r.prototype.updateParams=function(t){var e=this,n=t.r,a=t.trigger,o=t.minR,s=t.maxR,l=t.scaleRBy,f=t.showLabel,h=t.shouldShow;if(isNaN(t.r)||e.set("r",n),isNaN(s)||e.set("maxR",s),isNaN(o)||e.set("minR",o),(a==="mousemove"||a==="click")&&e.set("trigger",a),l==="wheel"||l==="unset"){e.set("scaleRBy",l),e.get("delegate").remove(),e.get("delegate").destroy();var c=e.get("dPercentText");c&&(c.remove(),c.destroy())}(f==="node"||f==="both")&&e.set("showNodeLabel",!0),(f==="edge"||f==="both")&&e.set("showEdgeLabel",!0),h&&e.set("shouldShow",h)},r.prototype.updateDelegate=function(t,e){var n=this,a=n.get("graph"),o=n.get("delegate");if(!o||o.destroyed){var s=a.get("group"),l=n.get("delegateStyle")||S1;o=s.addShape("circle",{attrs:(0,q.__assign)({r:e,x:t.x,y:t.y},l),name:"lens-shape",draggable:!0}),this.get("trigger")!=="drag"&&this.get("scaleRBy")==="wheel"&&o.on("mousewheel",function(f){n.scaleRByWheel(f)})}else o.attr({x:t.x,y:t.y,r:e});n.set("delegate",o)},r.prototype.clear=function(){var t=this,e=t.get("vShapes");e&&e.forEach(function(a){a.remove(),a.destroy()}),e=[],t.set("vShapes",e);var n=t.get("delegate");n&&!n.destroyed&&(n.remove(),n.destroy())},r.prototype.destroy=function(){this.clear()},r}(Ia),W8=H8,Ni={Menu:G6,Grid:F6,Minimap:H6,Bundling:U6,ToolBar:Q6,Tooltip:q6,Fisheye:K6,TimeBar:Y8,ImageMinimap:V8,EdgeFilterLens:W8};function j8(i){i===void 0&&(i={});var r=i,t=function(){},e=function(){var n={};return function(a){var o=a.next;return n[o.get("id")]?!1:(n[o.get("id")]=!0,!0)}}();return r.allowTraversal=i.allowTraversal||e,r.enter=i.enter||t,r.leave=i.leave||t,r}function C1(i,r,t,e){e.enter({current:r,previous:t}),i.getNeighbors(r,"target").forEach(function(n){e.allowTraversal({previous:t,current:r,next:n})&&C1(i,n,r,e)}),e.leave({current:r,previous:t})}function M1(i,r,t){var e=null,n=i.findById(r);C1(i,n,e,j8(t))}var U8=function(){function i(){this.linkedList=new jx}return i.prototype.isEmpty=function(){return!this.linkedList.head},i.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},i.prototype.enqueue=function(r){this.linkedList.append(r)},i.prototype.dequeue=function(){var r=this.linkedList.deleteHead();return r?r.value:null},i.prototype.toString=function(r){return this.linkedList.toString(r)},i}(),Z8=U8;function K8(i){i===void 0&&(i={});var r=i,t=function(){},e=function(){var n={};return function(a){var o=a.next,s=o.get("id");return n[s]?!1:(n[s]=!0,!0)}}();return r.allowTraversal=i.allowTraversal||e,r.enter=i.enter||t,r.leave=i.leave||t,r}var $8=function(r,t,e){var n=K8(e),a=new Z8,o=r.findById(t);a.enqueue(o);for(var s=null,l=function(){var h=a.dequeue();n.enter({current:h,previous:s}),r.getNeighbors(h,"target").forEach(function(c){n.allowTraversal({previous:s,current:h,next:c})&&a.enqueue(c)}),n.leave({current:h,previous:s}),s=h};!a.isEmpty();)l()},Q8=$8;function J8(i){for(var r=[],t={},e=[],n=function l(f){e.push(f),t[f.get("id")]=!0;for(var h=f.getNeighbors(),c=0;c<h.length;++c){var v=h[c];t[v.get("id")]||l(v)}},a=0;a<i.length;a++){var o=i[a];if(!t[o.get("id")]){n(o);for(var s=[];e.length>0;)s.push(e.pop());r.push(s)}}return r}function E1(i){for(var r=[],t={},e={},n={},a=[],o=0,s=function c(v){e[v.get("id")]=o,n[v.get("id")]=o,o+=1,r.push(v),t[v.get("id")]=!0;for(var x=v.getNeighbors("target").filter(function(X){return i.indexOf(X)>-1}),A=0;A<x.length;A++){var B=x[A];!e[B.get("id")]&&e[B.get("id")]!==0?(c(B),n[v.get("id")]=Math.min(n[v.get("id")],n[B.get("id")])):t[B.get("id")]&&(n[v.get("id")]=Math.min(n[v.get("id")],e[B.get("id")]))}if(n[v.get("id")]===e[v.get("id")]){for(var G=[];r.length>0;){var H=r.pop();if(t[H.get("id")]=!1,G.push(H),H===v)break}G.length>0&&a.push(G)}},l=0,f=i;l<f.length;l++){var h=f[l];!e[h.get("id")]&&e[h.get("id")]!==0&&s(h)}return a}function _1(i,r){var t=r===void 0?i.get("directed"):r,e=i.getNodes();return t?E1(e):J8(e)}var q8=function(r){var t=null,e={},n={},a={},o={};r.getNodes().forEach(function(f){n[f.getID()]=f});for(var s={enter:function(h){var c=h.current,v=h.previous;if(a[c.getID()]){t={};for(var x=c,A=v;A.getID()!==c.getID();)t[x.getID()]=A,x=A,A=e[A.getID()];t[x.getID()]=A}else a[c.getID()]=c,delete n[c.getID()],e[c.getID()]=v},leave:function(h){var c=h.current;o[c.getID()]=c,delete a[c.getID()]},allowTraversal:function(h){var c=h.next;return t?!1:!o[c.getID()]}};Object.keys(n).length;){var l=Object.keys(n)[0];M1(r,l,s)}return t},A1=function(r,t,e){var n,a,o;e===void 0&&(e=!0);for(var s=[],l=_1(r,!1),f=0,h=l;f<h.length;f++){var c=h[f];if(!!c.length)for(var v=c[0],x=v.get("id"),A=[v],B=(n={},n[x]=v,n),G=(a={},a[x]=new Set,a);A.length>0;)for(var H=A.pop(),X=H.get("id"),ut=H.getNeighbors(),ft=0;ft<ut.length;ft+=1){var xt=ut[ft],Yt=xt.get("id");if(Yt===X)s.push((o={},o[xt.getID()]=H,o));else if(!(Yt in G))B[Yt]=H,A.push(xt),G[Yt]=new Set([H]);else if(!G[X].has(xt)){for(var Kt=!0,te=[xt,H],Wt=B[X];G[Yt].size&&!G[Yt].has(Wt)&&(te.push(Wt),Wt!==B[Wt.getID()]);)Wt=B[Wt.getID()];if(te.push(Wt),t&&e?(Kt=!1,te.findIndex(function(he){return t.indexOf(he.get("id"))>-1})>-1&&(Kt=!0)):t&&!e&&te.findIndex(function(he){return t.indexOf(he.get("id"))>-1})>-1&&(Kt=!1),Kt){for(var ae={},ce=1;ce<te.length;ce+=1)ae[te[ce-1].getID()]=te[ce];te.length&&(ae[te[te.length-1].getID()]=te[0]),s.push(ae)}G[Yt].add(H)}}}return s},P1=function(r,t,e){e===void 0&&(e=!0);for(var n=[],a=new Set,o=[],s=[],l={},f={},h=function(ae){for(var ce=[ae];ce.length>0;){var he=ce.pop();a.has(he)&&(a.delete(he),o[he.get("id")].forEach(function(Pe){ce.push(Pe)}),o[he.get("id")].clear())}},c=function Wt(ae,ce,he){var Pe=!1;if(t&&e===!1&&t.indexOf(ae.get("id"))>-1)return Pe;n.push(ae),a.add(ae);for(var Be=he[ae.getID()],ke=0;ke<Be.length;ke+=1){var We=l[Be[ke]];if(We===ce){for(var Ke={},$e=1;$e<n.length;$e+=1)Ke[n[$e-1].getID()]=n[$e];n.length&&(Ke[n[n.length-1].getID()]=n[0]),s.push(Ke),Pe=!0}else a.has(We)||Wt(We,ce,he)&&(Pe=!0)}if(Pe)h(ae);else for(var ke=0;ke<Be.length;ke+=1){var We=l[Be[ke]];o[We.get("id")].has(ae)||o[We.get("id")].add(ae)}return n.pop(),Pe},v=r.getNodes(),x=0;x<v.length;x+=1){var A=v[x],B=A.getID();f[B]=x,l[x]=A}if(t&&e)for(var x=0;x<t.length;x++){var B=t[x];f[v[x].getID()]=f[B],f[B]=0,l[0]=r.findById(B),l[f[v[x].getID()]]=v[x]}for(var G=function(ae){for(var ce,he,Pe=Infinity,Be=0;Be<ae.length;Be+=1)for(var ke=ae[Be],We=0;We<ke.length;We++){var Ke=f[ke[We].getID()];Ke<Pe&&(Pe=Ke,he=Be)}for(var $e=ae[he],Ve=[],Be=0;Be<$e.length;Be+=1){var He=$e[Be];Ve[He.getID()]=[];for(var lr=0,sr=He.getNeighbors("target").filter(function(hr){return $e.indexOf(hr)>-1});lr<sr.length;lr++){var dr=sr[lr];dr===He&&!(e===!1&&t.indexOf(He.getId())>-1)?s.push((ce={},ce[He.getID()]=He,ce)):Ve[He.getID()].push(f[dr.getID()])}}return{component:$e,adjList:Ve,minIdx:Pe}},H=0;H<v.length;){var X=v.filter(function(Wt){return f[Wt.getID()]>=H}),ut=E1(X).filter(function(Wt){return Wt.length>1});if(ut.length===0)break;var ft=G(ut),xt=ft.minIdx,Yt=ft.adjList,Kt=ft.component;if(Kt.length>1){Kt.forEach(function(Wt){o[Wt.get("id")]=new Set});var te=l[xt];if(t&&e&&t.indexOf(te.get("id"))===-1)return s;c(te,te,Yt),H=xt+1}else break}return s},t9=function(r,t,e,n){return n===void 0&&(n=!0),t===void 0&&(t=r.get("directed")),t?P1(r,e,n):A1(r,e,n)},e9=q8,r9=function(r,t,e,n){var a=r.getNodes(),o=[],s={},l={},f={};a.forEach(function(G,H){var X=G.getID();o.push(X),l[X]=Infinity,X===t&&(l[X]=0)});for(var h=a.length,c=function(H){var X=n9(l,a,s),ut=X.get("id");if(s[ut]=!0,l[ut]===Infinity)return"continue";var ft=[];e?ft=X.getOutEdges():ft=X.getEdges(),ft.forEach(function(xt){var Yt=xt.getTarget().getID(),Kt=xt.getSource().getID(),te=Yt===ut?Kt:Yt,Wt=n&&xt.getModel()[n]?xt.getModel()[n]:1;l[te]>l[X.get("id")]+Wt&&(l[te]=l[X.get("id")]+Wt,f[te]=X.get("id"))})},v=0;v<h;v++)c(v);var x={};for(var A in l){x[A]=[A];for(var B=f[A];B!==void 0;)x[A].unshift(B),B=f[B]}return{length:l,path:x}};function n9(i,r,t){for(var e=Infinity,n,a=0;a<r.length;a++){var o=r[a].get("id");!t[o]&&i[o]<=e&&(e=i[o],n=r[a])}return n}var i9=r9,a9=function(r,t,e,n,a){(0,u.isString)(t)&&(t=r.findById(t)),(0,u.isString)(e)&&(e=r.findById(e));var o=i9(r,t.get("id"),n,a),s=o.length,l=o.path;return{length:s[e.get("id")],path:l[e.get("id")]}},o9=function(r,t,e,n){var a;if((0,u.isString)(t)&&(t=r.findById(t)),(0,u.isString)(e)&&(e=r.findById(e)),n===void 0&&(n=r.get("directed")),t===e)return[[t.get("id")]];var o=[t],s=(a={},a[t.get("id")]=!0,a),l=[],f=[],h=n?t.getNeighbors("target"):t.getNeighbors();for(l.push(h);o.length>0&&l.length>0;){var c=l[l.length-1];if(c.length){var v=c.shift();v&&(o.push(v),s[v.get("id")]=!0,h=n?v.getNeighbors("target"):v.getNeighbors(),l.push(h.filter(function(B){return!s[B.get("id")]})))}else{var x=o.pop();s[x.get("id")]=!1,l.pop();continue}if(o[o.length-1]===e){var A=o.map(function(G){return G.get("id")});f.push(A);var x=o.pop();s[x.get("id")]=!1,l.pop()}}return f},s9=function(){function i(r){this.count=r.length,this.parent={};for(var t=0,e=r;t<e.length;t++){var n=e[t];this.parent[n]=n}}return i.prototype.find=function(r){for(;this.parent[r]!==r;)r=this.parent[r];return r},i.prototype.union=function(r,t){var e=this.find(r),n=this.find(t);e!==n&&(e<n?(this.parent[t]!==t&&this.union(this.parent[t],r),this.parent[t]=this.parent[r]):(this.parent[r]!==r&&this.union(this.parent[r],t),this.parent[r]=this.parent[t]))},i.prototype.connected=function(r,t){return this.find(r)===this.find(t)},i}(),l9=s9,u9=function(r,t){return r-t},f9=function(){function i(r){r===void 0&&(r=u9),this.compareFn=r,this.list=[]}return i.prototype.getLeft=function(r){return 2*r+1},i.prototype.getRight=function(r){return 2*r+2},i.prototype.getParent=function(r){return r===0?null:Math.floor((r-1)/2)},i.prototype.isEmpty=function(){return this.list.length<=0},i.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},i.prototype.delMin=function(){var r=this.top(),t=this.list.pop();return this.list.length>0&&(this.list[0]=t,this.moveDown(0)),r},i.prototype.insert=function(r){if(r!==null){this.list.push(r);var t=this.list.length-1;return this.moveUp(t),!0}return!1},i.prototype.moveUp=function(r){for(var t=this.getParent(r);r&&r>0&&this.compareFn(this.list[t],this.list[r])>0;){var e=this.list[t];this.list[t]=this.list[r],this.list[r]=e,r=t,t=this.getParent(r)}},i.prototype.moveDown=function(r){var t,e=r,n=this.getLeft(r),a=this.getRight(r),o=this.list.length;n!==null&&n<o&&this.compareFn(this.list[e],this.list[n])>0?e=n:a!==null&&a<o&&this.compareFn(this.list[e],this.list[a])>0&&(e=a),r!==e&&(t=[this.list[e],this.list[r]],this.list[r]=t[0],this.list[e]=t[1],this.moveDown(e))},i}(),h9=f9,c9=function(r,t){var e=[],n=r.getNodes();if(n.length===0)return e;var a=n[0],o=new Set;o.add(a);var s=function(x,A){return t?x.getModel()[t]-A.getModel()[t]:0},l=new h9(s);for(a.getEdges().forEach(function(v){l.insert(v)});!l.isEmpty();){var f=l.delMin(),h=f.getSource(),c=f.getTarget();o.has(h)&&o.has(c)||(e.push(f),o.has(h)||(o.add(h),h.getEdges().forEach(function(v){l.insert(v)})),o.has(c)||(o.add(c),c.getEdges().forEach(function(v){l.insert(v)})))}return e},T1=function(r,t){var e=[];if(r.getNodes().length===0)return e;var n=r.getEdges().map(function(f){return f});t&&n.sort(function(f,h){return f.getModel()[t]-h.getModel()[t]});for(var a=new l9(r.getNodes().map(function(f){return f.get("id")}));n.length>0;){var o=n.shift(),s=o.getSource().get("id"),l=o.getTarget().get("id");a.connected(s,l)||(e.push(o),a.union(s,l))}return e};function v9(i,r,t){var e={prim:c9,kruskal:T1};return t?e[t](i,r):T1(i,r)}var d9=function(r,t,e){typeof t!="number"&&(t=1e-6),typeof e!="number"&&(e=.85);for(var n=1,a=0,o=1e3,s=r.getNodes(),l=s.length,f,h={},c={},v=0;v<l;++v){var x=s[v],A=x.get("id");h[A]=1/l,c[A]=1/l}for(;o>0&&n>t;){a=0;for(var v=0;v<l;++v){var x=s[v],A=x.get("id");if(f=0,r.getNodeDegree(x,"in")===0)h[A]=0;else{for(var B=x.getNeighbors("source"),G=0;G<B.length;++G){var H=B[G],X=r.getNodeDegree(H,"out");X>0&&(f+=c[H.get("id")]/X)}h[A]=e*f,a+=h[A]}}a=(1-a)/l,n=0;for(var v=0;v<l;++v){var x=s[v],A=x.get("id");f=h[A]+a,n+=Math.abs(f-c[A]),c[A]=f}o-=1}return c},p9=d9,VY=es.registerNode,HY=es.registerEdge,WY=es.registerCombo,jY=tx.registerBehavior,UY=Ds.registerLayout,ZY=Ni.Minimap,KY=Ni.Grid,$Y=Ni.Bundling,QY=Ni.Menu,g9=Ni.Fisheye,JY=Ni.ToolBar,qY=Ni.Tooltip,y9=Ni.TimeBar,m9=Ni.ImageMinimap,x9=Ni.EdgeFilterLens,Ti={version:JF.i8,Graph:qx,TreeGraph:e6,Util:k6,registerNode:es.registerNode,registerEdge:es.registerEdge,registerCombo:es.registerCombo,registerBehavior:tx.registerBehavior,registerLayout:Ds.registerLayout,Layout:Ds,Global:Xe,Minimap:Ni.Minimap,Grid:Ni.Grid,Bundling:Ni.Bundling,Menu:Ni.Menu,ToolBar:Ni.ToolBar,Tooltip:Ni.Tooltip,TimeBar:y9,Fisheye:g9,ImageMinimap:m9,EdgeFilterLens:x9,Algorithm:z,Arrow:T6,Marker:O6};function O1(i,r){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(i);r&&(e=e.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,e)}return t}function Fa(i){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?O1(Object(t),!0).forEach(function(e){b9(i,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):O1(Object(t)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(t,e))})}return i}function b9(i,r,t){return r in i?Object.defineProperty(i,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[r]=t,i}Ti.registerNode("card-node",{draw:function(r,t){var e=r&&r.color?r.color:"#5B8FF9",n=r&&r.size?r.size:[100,30];typeof n=="number"&&(n=[n,n]);var a=r&&r.style?r.style:{};a=Object.assign({radius:2,fill:"#fff"},a),e=a.stroke||"#5B8FF9";var o=a.radius||0,s=t.addShape("rect",{attrs:Fa({x:-n[0]/2,y:-n[1]/2,width:n[0],height:n[1],stroke:e},a),name:"main-box",draggable:!0}),l=r.title||r.label,f,h=r&&r.labelCfg&&r.labelCfg.style?r.labelCfg.style:{};if(l){var c=Object.assign({fill:"#fff"},h);f=t.addShape("text",{attrs:Fa(Fa({textBaseline:"top",x:-n[0]/2+8,y:-n[1]/2+2,text:l},c),{},{fill:"#fff"}),name:"title"})}var v=f?f.getBBox():{height:n[1]/2},x=t.addShape("rect",{attrs:{x:-n[0]/2,y:-n[1]/2,width:n[0],height:v.height+4,fill:e,radius:[o,o,0,0]},name:"title-rect",draggable:!0});f&&f.toFront();var A;r.children&&(A=t.addShape("marker",{attrs:{x:n[0]/2,y:0,r:6,cursor:"pointer",symbol:r.collapsed?Ti.Marker.expand:Ti.Marker.collapse,stroke:e,lineWidth:1,fill:"#fff"},name:"collapse-icon"}));var B=r&&r.description?r.description:void 0,G=x.getBBox(),H;if(B&&(H=t.addShape("text",{attrs:Fa({textBaseline:"top",x:-n[0]/2+8,y:-n[1]/2+G.height+8,text:B},h),name:"description"})),H){var X,ut=H.getBBox(),ft=G.height+16+ut.height,xt=n[0]>ut.width+16?n[0]:ut.width+16;s.attr({width:xt,height:ft}),x==null||x.attr("width",xt),(X=A)===null||X===void 0||X.attr({x:xt-n[0]/2,y:ft/2-n[1]/2})}return s},update:void 0},"single-node"),Ti.registerNode("round-rect",{drawShape:function(r,t){var e=r&&r.color?r.color:"#5B8FF9",n=r&&r.size?r.size:[100,30];typeof n=="number"&&(n=[n,n]);var a=r&&r.style?r.style:{};a.stroke&&(e=a.stroke);var o=a&&a.fill?a.fill:"#fff";a=Object.assign({width:n[0],height:n[1],radius:n[1]/2,fill:o,lineWidth:1.2,stroke:e},a);var s=t.addShape("rect",{attrs:Fa({x:-n[0]/2,y:-n[1]/2},a),name:"rect-shape"});return t.addShape("circle",{attrs:{x:-n[0]/2,y:0,r:3,fill:a.stroke},name:"circle-shape"}),t.addShape("circle",{attrs:{x:n[0]/2,y:0,r:3,fill:a.stroke},name:"circle-shape2"}),s},getAnchorPoints:function(){return[[0,.5],[1,.5]]},update:function(r,t){var e=t.getContainer(),n=e.get("children"),a=n[0],o=n[1],s=n[2],l=r.style&&r.style.stroke?r.style.stroke:"#5B8FF9";l&&(a.attr("stroke",l),o.attr("fill",l),s.attr("fill",l))}},"single-node");var w9=function(r){Ti.registerNode("icon-node",{options:{size:[60,20],stroke:"#91d5ff",fill:"#91d5ff"},draw:function(e,n){var a=this.getShapeStyle(e),o=e.labelCfg,s=o===void 0?{}:o,l=n.addShape("rect",{attrs:Fa(Fa({},a),{},{x:0,y:0})}),f={fill:"#e6fffb"},h="https://g.alicdn.com/cm-design/arms-trace/1.0.155/styles/armsTrace/images/TAIR.png";return e.leftIcon&&(f=Object.assign({},f,e.leftIcon.style),h=e.leftIcon.img),n.addShape("rect",{attrs:Fa({x:1,y:1,width:38,height:a.height-2},f)}),n.addShape("image",{attrs:{x:8,y:8,width:24,height:24,img:h},name:"image-shape"}),r.enableEdit&&(n.addShape("marker",{attrs:{x:a.width/3,y:a.height+6,r:6,stroke:"#73d13d",cursor:"pointer",symbol:Ti.Marker.expand},name:"add-item"}),n.addShape("marker",{attrs:{x:a.width*2/3,y:a.height+6,r:6,stroke:"#ff4d4f",cursor:"pointer",symbol:Ti.Marker.collapse},name:"remove-item"})),e.label&&n.addShape("text",{attrs:Fa(Fa({},s.style),{},{text:e.label,x:a.width/2,y:a.height/1.5})}),l}},"rect")};Ti.registerEdge("fund-polyline",{draw:function(r,t){var e=r.startPoint,n=r.endPoint,a=n.y-e.y,o=a!==0?500/Math.abs(a):0,s=16,l=a<0?s:-s,f={x:e.x+o,y:n.y+l},h={x:f.x+s,y:n.y},c={x:(f.x-e.x)*(n.y-e.y)/(f.y-e.y)+e.x,y:n.y},v=[["M",e.x,e.y],["L",f.x,f.y],["Q",c.x,c.y,h.x,h.y],["L",n.x,n.y]];a===0&&(v=[["M",e.x,e.y],["L",n.x,n.y]]);var x=r||{},A=x.style,B=t.addShape("path",{attrs:{path:v,stroke:A.stroke||r.colorMap&&r.colorMap[r.dataType]?r.colorMap[r.dataType]:"#5B8FF9",lineWidth:A.lineWidth||1.2,endArrow:!1},name:"path-shape"}),G=0,H=8,X;if(r.label&&(X=t.addShape("text",{attrs:{text:r.label,x:h.x+G,y:n.y-H-2,fontSize:14,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-label"})),r.dataType){var ut=X?X.getBBox():{height:0};t.addShape("text",{attrs:{text:r.dataType,x:h.x+G,y:n.y-H-ut.height-2,fontSize:10,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-type"})}return r.subLabel&&t.addShape("text",{attrs:{text:r.subLabel,x:h.x+G,y:n.y+H+4,fontSize:12,fontWeight:300,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-sub-label"}),B},update:void 0},"single-edge"),Ti.registerEdge("flow-line",{draw:function(r,t){var e=r.startPoint,n=r.endPoint,a=r.style,o=a===void 0?{}:a,s=t.addShape("path",{attrs:{stroke:o.stroke,endArrow:o.endArrow,path:[["M",e.x,e.y],["L",e.x,(e.y+n.y)/2],["L",n.x,(e.y+n.y)/2],["L",n.x,n.y]]}});return s}});function L1(i,r){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(i);r&&(e=e.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,e)}return t}function S9(i){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?L1(Object(t),!0).forEach(function(e){C9(i,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):L1(Object(t)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(t,e))})}return i}function C9(i,r,t){return r in i?Object.defineProperty(i,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[r]=t,i}var M9={show:!1,size:[150,100],type:"keyShape"},Ns=function(r,t,e){var n,a;return e&&e.current&&(n=e.current.offsetWidth,a=e.current.offsetHeight||500),console.log("graph size",n,a,t,r,e,e.current),!r&&!n||!t&&!a?(console.warn("\u8BF7\u4E3A Graph \u6307\u5B9A width \u4E0E height\uFF01\u5426\u5219\u5C06\u4F7F\u7528\u9ED8\u8BA4\u503C 500 * 500"),[500,500]):[r||n||500,t||a||500]},Gs=function(r,t){if(!(!t||t.destroyed)&&r&&r.show){var e=Object.assign(M9,r),n=new Ti.Minimap(S9({},e));return t.addPlugin(n),n}};function Bu(i,r,t){var e=(0,R.useRef)(),n=r.data,a=r.nodeStyle,o=r.nodeAnchorPoints,s=r.nodeType,l=r.edgeType,f=r.edgeStyle,h=r.width,c=r.height,v=r.layout,x=r.minimapCfg,A=r.behaviors,B=r.nodeLabelCfg,G=r.edgeLabelCfg,H;return(0,R.useEffect)(function(){i&&!i.destroyed&&(i.changeData(n),i.layout())},[n]),(0,R.useEffect)(function(){i&&!i.destroyed&&i.getNodes().forEach(function(X){i.updateItem(X,{type:s,style:a,anchorPoints:o,labelCfg:B})})},[a,o,s]),(0,R.useEffect)(function(){i&&!i.destroyed&&i.getEdges().forEach(function(X){i.updateItem(X,{type:l,style:f,labelCfg:G})})},[f,l]),(0,R.useEffect)(function(){if(i&&!i.destroyed){var X=Ns(h,c,t);i.changeSize(X[0],X[1])}},[t,h,c]),(0,R.useEffect)(function(){i&&!i.destroyed&&i.updateLayout(v)},[v]),(0,R.useEffect)(function(){if(!(!x||!i||i.destroyed))if(x.show)H=Gs(x,i),H&&H.updateCanvas();else{var X=i.get("plugins")[0];X&&i.removePlugin(X)}},[x]),(0,R.useEffect)(function(){if(i&&!i.destroyed){var X=i.get("modes"),ut=X.default,ft=[];ut.forEach(function(xt){(0,u.isObject)(xt)?ft.push(xt.type):(0,u.isString)(xt)&&ft.push(xt)}),i.removeBehaviors(ft,"default"),i.addBehaviors(A,"default")}},[A]),(0,R.useEffect)(function(){if(e.current=i,i&&!i.destroyed)return function(){i.destroy(),i=void 0}},[]),{graphHook:e}}var I1={hover:{stroke:"#1890ff",lineWidth:2}},E9={fill:"#91d5ff",stroke:"#40a9ff",radius:5},_9={stroke:"#91d5ff",endArrow:{path:"M 0,0 L 12, 6 L 9,0 L 12, -6 Z",fill:"#91d5ff",d:-20}},A9={type:"compactBox",direction:"TB",getId:function(r){return r.id},getHeight:function(){return 16},getWidth:function(){return 16},getVGap:function(){return 40},getHGap:function(){return 70}},k1={style:{fill:"#000",fontSize:12}},Sn,P9=function(r){var t=r.data,e=r.className,n=r.style,a=r.width,o=r.height,s=r.nodeType,l=s===void 0?"rect":s,f=r.edgeType,h=f===void 0?"flow-line":f,c=r.collapseExpand,v=c===void 0?!1:c,x=r.nodeSize,A=x===void 0?[120,40]:x,B=r.nodeLabelCfg,G=B===void 0?k1:B,H=r.edgeLabelCfg,X=H===void 0?k1:H,ut=r.layout,ft=ut===void 0?A9:ut,xt=r.enableEdit,Yt=xt===void 0?!1:xt,Kt=r.minimapCfg,te=r.nodeStyle,Wt=te===void 0?E9:te,ae=r.edgeStyle,ce=ae===void 0?_9:ae,he=r.nodeStateStyles,Pe=he===void 0?I1:he,Be=r.edgeStateStyles,ke=Be===void 0?I1:Be,We=r.handleNodeClick,Ke=r.handleEdgeClick,$e=r.handleNodeHover,Ve=r.handleNodeUnHover,He=r.handleEdgeHover,lr=r.handleEdgeUnHover,sr=r.handleCanvasClick,dr=r.graphRef,Qe={data:t,className:e,style:n,width:a,height:o,nodeType:l,edgeType:h,collapseExpand:v,nodeSize:A,nodeLabelCfg:G,edgeLabelCfg:X,layout:ft,enableEdit:Yt,minimapCfg:Kt,nodeStyle:Wt,edgeStyle:ce,nodeStateStyles:Pe,edgeStateStyles:ke,handleNodeClick:We,handleEdgeClick:Ke,handleNodeHover:$e,handleNodeUnHover:Ve,handleEdgeHover:He,handleEdgeUnHover:lr,handleCanvasClick:sr,graphRef:dr},hr=R.useRef(null);return Bu(Sn,Qe,hr),(0,R.useEffect)(function(){var Sr=Ns(a,o,hr);return(!Sn||Sn.destroyed)&&(l==="icon-node"&&w9({enableEdit:Yt}),Sn=new Ti.TreeGraph({container:hr.current,width:Sr[0],height:Sr[1],linkCenter:!0,modes:{default:["drag-canvas","zoom-canvas"]},defaultNode:{type:l,size:A,style:Wt,labelCfg:G},defaultEdge:{type:h,style:ce,labelCfg:X},nodeStateStyles:Pe,edgeStateStyles:ke,layout:ft}),dr&&(dr.current=Sn)),Gs(Kt,Sn),Sn.data(t),Sn.render(),Sn.fitView(),v&&Sn.addBehaviors({type:"collapse-expand",onChange:function(cr,Mr){if(!cr)return!1;var Gr=cr.get("model").data;return Gr.collapsed=Mr,!0}},"default"),Sn.on("node:mouseenter",function(vr){var cr=vr.item;Sn.setItemState(cr,"hover",!0),$e&&$e(cr,Sn)}),Sn.on("node:mouseleave",function(vr){var cr=vr.item;Sn.setItemState(cr,"hover",!1),Ve&&Ve(cr,Sn)}),Sn.on("node:click",function(vr){var cr=vr.item,Mr=vr.target,Gr=Mr.get("type"),gr=Mr.get("name");if(Gr==="marker"){var Re=cr.getModel();if(gr==="add-item"){Re.children||(Re.children=[]);var Je=Math.random().toString(36).slice(-8);Re.children.push({id:Je,label:Je}),Sn.updateChild(Re,Re.id)}else gr==="remove-item"&&Sn.removeChild(Re.id)}else We&&We(cr,Sn)}),Sn.on("edge:mouseenter",function(vr){var cr=vr.item;Sn.setItemState(cr,"hover",!0),He&&He(cr,Sn)}),Sn.on("edge:mouseleave",function(vr){var cr=vr.item;Sn.setItemState(cr,"hover",!1),lr&&lr(cr,Sn)}),Sn.on("edge:click",function(vr){var cr=vr.item;Ke&&Ke(cr,Sn)}),Sn.on("canvas:click",function(vr){sr&&sr(Sn)}),function(){return Sn.destroy()}},[]),R.createElement(Vr,null,R.createElement("div",{className:e,style:n,ref:hr}))},T9=P9,B1={hover:{stroke:"#1890ff",lineWidth:2}},O9=[120,40],L9={stroke:"#40a9ff"},I9=[[.5,0],[.5,1]],k9={stroke:"#91d5ff",endArrow:{path:Ti.Arrow.vee(10,10),fill:"#91d5ff"}},B9={type:"dagre",rankdir:"TB",nodesepFunc:function(r){return 0},ranksepFunc:function(r){return 0},controlPoints:!0},D1={style:{fill:"#000",fontSize:12}},On,D9=function(r){var t=r.data,e=r.className,n=r.style,a=r.width,o=r.height,s=r.nodeType,l=s===void 0?"modelRect":s,f=r.edgeType,h=f===void 0?"polyline":f,c=r.behaviors,v=c===void 0?["zoom-canvas","drag-canvas"]:c,x=r.nodeSize,A=x===void 0?O9:x,B=r.nodeLabelCfg,G=B===void 0?D1:B,H=r.edgeLabelCfg,X=H===void 0?D1:H,ut=r.nodeAnchorPoints,ft=ut===void 0?I9:ut,xt=r.layout,Yt=xt===void 0?B9:xt,Kt=r.minimapCfg,te=r.nodeStyle,Wt=te===void 0?L9:te,ae=r.edgeStyle,ce=ae===void 0?k9:ae,he=r.nodeStateStyles,Pe=he===void 0?B1:he,Be=r.edgeStateStyles,ke=Be===void 0?B1:Be,We=r.handleEdgeClick,Ke=r.handleEdgeHover,$e=r.handleEdgeUnHover,Ve=r.handleNodeClick,He=r.handleNodeHover,lr=r.handleNodeUnHover,sr=r.handleCanvasClick,dr=r.graphRef,Qe={data:t,className:e,style:n,width:a,height:o,nodeType:l,edgeType:h,behaviors:v,nodeSize:A,nodeLabelCfg:G,edgeLabelCfg:X,nodeAnchorPoints:ft,layout:Yt,minimapCfg:Kt,nodeStyle:Wt,edgeStyle:ce,nodeStateStyles:Pe,edgeStateStyles:ke,handleEdgeClick:We,handleEdgeHover:Ke,handleEdgeUnHover:$e,handleNodeClick:Ve,handleNodeHover:He,handleNodeUnHover:lr,handleCanvasClick:sr,graphRef:dr},hr=R.useRef(null);return Bu(On,Qe,hr),(0,R.useEffect)(function(){var Sr=Ns(a,o,hr);return(!On||On.destroyed)&&(On=new Ti.Graph({container:hr.current,width:Sr[0],height:Sr[1],modes:{default:v},defaultNode:{type:l,size:A,style:Wt,anchorPoints:ft,labelCfg:G},defaultEdge:{type:h,style:ce,labelCfg:X},nodeStateStyles:Pe,edgeStateStyles:ke,layout:Yt}),dr&&(dr.current=On)),Gs(Kt,On),On.data(t),On.render(),On.fitView(),On.on("edge:mouseenter",function(vr){var cr=vr.item;On.setItemState(cr,"hover",!0),Ke&&Ke(cr,On)}),On.on("node:mouseenter",function(vr){var cr=vr.item;On.setItemState(cr,"hover",!1),He&&He(cr,On)}),On.on("edge:mouseleave",function(vr){var cr=vr.item;On.setItemState(cr,"hover",!1),$e&&$e(cr,On)}),On.on("node:mouseleave",function(vr){var cr=vr.item;On.setItemState(cr,"hover",!1),lr&&lr(cr,On)}),On.on("edge:click",function(vr){var cr=vr.item;We&&We(cr,On)}),On.on("node:click",function(vr){var cr=vr.item;Ve&&Ve(cr,On)}),On.on("canvas:click",function(vr){sr&&sr(On)}),function(){return On.destroy()}},[]),R.createElement(Vr,null,R.createElement("div",{className:e,style:n,ref:hr}))},F9=D9,F1={hover:{stroke:"#1890ff",lineWidth:2}},R9=[150,30],N9={stroke:"#72CC4A",fill:"#f00"},G9=[[.5,0],[.5,1]],Y9={stroke:"#91d5ff",endArrow:{path:Ti.Arrow.vee(10,10),fill:"#91d5ff"}},z9={type:"dagre",rankdir:"LR",nodesep:30,ranksep:50},R1={style:{fill:"#000000A6",fontSize:10}},En,X9=function(r){var t=r.data,e=r.className,n=r.style,a=r.width,o=r.height,s=r.nodeType,l=s===void 0?"round-rect":s,f=r.edgeType,h=f===void 0?"fund-polyline":f,c=r.behaviors,v=c===void 0?["zoom-canvas","drag-canvas"]:c,x=r.nodeSize,A=x===void 0?R9:x,B=r.nodeLabelCfg,G=B===void 0?R1:B,H=r.edgeLabelCfg,X=H===void 0?R1:H,ut=r.nodeAnchorPoints,ft=ut===void 0?G9:ut,xt=r.layout,Yt=xt===void 0?z9:xt,Kt=r.minimapCfg,te=r.nodeStyle,Wt=te===void 0?N9:te,ae=r.edgeStyle,ce=ae===void 0?Y9:ae,he=r.nodeStateStyles,Pe=he===void 0?F1:he,Be=r.edgeStateStyles,ke=Be===void 0?F1:Be,We=r.colorMap,Ke=We===void 0?{}:We,$e=r.handleEdgeClick,Ve=r.handleEdgeHover,He=r.handleEdgeUnHover,lr=r.handleNodeClick,sr=r.handleNodeHover,dr=r.handleNodeUnHover,Qe=r.handleCanvasClick,hr=r.graphRef,Sr=R.useRef(null),vr={data:t,className:e,style:n,width:a,height:o,nodeType:l,edgeType:h,behaviors:v,nodeSize:A,nodeLabelCfg:G,edgeLabelCfg:X,nodeAnchorPoints:ft,layout:Yt,minimapCfg:Kt,nodeStyle:Wt,edgeStyle:ce,nodeStateStyles:Pe,edgeStateStyles:ke,colorMap:Ke,handleEdgeClick:$e,handleEdgeHover:Ve,handleEdgeUnHover:He,handleNodeClick:lr,handleNodeHover:sr,handleNodeUnHover:dr,handleCanvasClick:Qe,graphRef:hr};return Bu(En,vr,Sr),(0,R.useEffect)(function(){var cr=Ns(a,o,Sr);(!En||En.destroyed)&&(En=new Ti.Graph({container:Sr.current,width:cr[0],height:cr[1],modes:{default:v},defaultNode:{type:l,size:A,style:Wt,anchorPoints:ft,labelCfg:G},defaultEdge:{type:h,style:ce,colorMap:Ke,labelCfg:X},nodeStateStyles:Pe,edgeStateStyles:ke,layout:Yt}),hr&&(hr.current=En)),Gs(Kt,En),En.data(t),En.render();var Mr=En.getEdges();return Mr.forEach(function(Gr){var gr=Gr.getKeyShape(),Re=gr.attr("stroke"),Je=Gr.getTarget();Je.update({style:{stroke:Re}})}),En.fitView(),En.on("edge:mouseenter",function(Gr){var gr=Gr.item;En.setItemState(gr,"hover",!0),Ve&&Ve(gr,En)}),En.on("edge:mouseleave",function(Gr){var gr=Gr.item;En.setItemState(gr,"hover",!1),He&&He(gr,En)}),En.on("edge:click",function(Gr){var gr=Gr.item;$e&&$e(gr,En)}),En.on("node:mouseenter",function(Gr){var gr=Gr.item;En.setItemState(gr,"hover",!1),sr&&sr(gr,En)}),En.on("node:mouseleave",function(Gr){var gr=Gr.item;En.setItemState(gr,"hover",!1),dr&&dr(gr,En)}),En.on("node:click",function(Gr){var gr=Gr.item;lr&&lr(gr,En)}),En.on("canvas:click",function(Gr){Qe&&Qe(En)}),function(){return En.destroy()}},[]),R.createElement(Vr,null,R.createElement("div",{className:e,style:n,ref:Sr}))},V9=X9,N1={hover:{stroke:"#1890ff",lineWidth:2}},H9=[120,40],W9={stroke:"#40a9ff"},j9=[[0,.5],[1,.5]],U9={stroke:"#ccc",endArrow:{path:Ti.Arrow.vee(10,10),fill:"#ccc"}},Z9={type:"indented",direction:"LR",dropCap:!1,indent:250,getHeight:function(){return 60},getWidth:function(r){return 100}},K9={style:{fill:"#000",fontSize:12}},Mn,$9=function(r){var t=r.data,e=r.className,n=r.style,a=r.width,o=r.height,s=r.nodeType,l=s===void 0?"card-node":s,f=r.edgeType,h=f===void 0?"cubic-horizontal":f,c=r.behaviors,v=c===void 0?["zoom-canvas","drag-canvas"]:c,x=r.nodeSize,A=x===void 0?H9:x,B=r.nodeLabelCfg,G=B===void 0?K9:B,H=r.nodeAnchorPoints,X=H===void 0?j9:H,ut=r.layout,ft=ut===void 0?Z9:ut,xt=r.minimapCfg,Yt=r.nodeStyle,Kt=Yt===void 0?W9:Yt,te=r.edgeStyle,Wt=te===void 0?U9:te,ae=r.nodeStateStyles,ce=ae===void 0?N1:ae,he=r.edgeStateStyles,Pe=he===void 0?N1:he,Be=r.collapseExpand,ke=Be===void 0?!0:Be,We=r.handleEdgeClick,Ke=r.handleEdgeHover,$e=r.handleEdgeUnHover,Ve=r.handleNodeClick,He=r.handleNodeHover,lr=r.handleNodeUnHover,sr=r.handleCanvasClick,dr=r.graphRef,Qe=R.useRef(null),hr={data:t,className:e,style:n,width:a,height:o,nodeType:l,edgeType:h,behaviors:v,nodeSize:A,nodeLabelCfg:G,nodeAnchorPoints:X,layout:ft,minimapCfg:xt,nodeStyle:Kt,edgeStyle:Wt,nodeStateStyles:ce,edgeStateStyles:Pe,collapseExpand:ke,handleEdgeClick:We,handleEdgeHover:Ke,handleEdgeUnHover:$e,handleNodeClick:Ve,handleNodeHover:He,handleNodeUnHover:lr,handleCanvasClick:sr,graphRef:dr};return Bu(Mn,hr,Qe),(0,R.useEffect)(function(){var Sr=Ns(a,o,Qe);return(!Mn||Mn.destroyed)&&(Mn=new Ti.TreeGraph({container:Qe.current,width:Sr[0],height:Sr[1],modes:{default:v},defaultNode:{type:l,size:A,style:Kt,anchorPoints:X,labelCfg:G},defaultEdge:{type:h,style:Wt},nodeStateStyles:ce,edgeStateStyles:Pe,layout:ft}),dr&&(dr.current=Mn)),Gs(xt,Mn),Mn.data(t),Mn.render(),Mn.fitView(),ke&&Mn.on("node:click",function(vr){var cr=vr.item;vr.target.get("name")==="collapse-icon"?(Mn.updateItem(cr,{collapsed:!cr.getModel().collapsed}),Mn.layout()):Ve&&Ve(cr,Mn)}),Mn.on("edge:mouseenter",function(vr){var cr=vr.item;Mn.setItemState(cr,"hover",!0),Ke&&Ke(cr,Mn)}),Mn.on("edge:mouseleave",function(vr){var cr=vr.item;Mn.setItemState(cr,"hover",!1),$e&&$e(cr,Mn)}),Mn.on("edge:click",function(vr){var cr=vr.item;We&&We(cr,Mn)}),Mn.on("node:mouseenter",function(vr){var cr=vr.item;Mn.setItemState(cr,"hover",!1),He&&He(cr,Mn)}),Mn.on("node:mouseleave",function(vr){var cr=vr.item;Mn.setItemState(cr,"hover",!1),lr&&lr(cr,Mn)}),Mn.on("canvas:click",function(vr){sr&&sr(Mn)}),function(){return Mn.destroy()}},[]),R.createElement(Vr,null,R.createElement("div",{className:e,style:n,ref:Qe}))},Q9=$9,t7={Area:DD,Bar:ND,Bubble:zD,Bullet:HD,Calendar:ZD,Column:p0,ColumnLine:qD,DensityHeatmap:r5,Donut:x0,DualLine:s5,FanGauge:f5,Funnel:d5,Gauge:C0,GroupedBar:x5,GroupedColumn:S5,GroupedColumnLine:E5,GroupedRose:P5,Heatmap:L5,Histogram:B5,Line:L0,Liquid:k0,MeterGauge:z5,PercentStackedArea:H5,PercentStackedBar:U5,PercentStackedColumn:$5,Pie:q5,Progress:Y0,Radar:X0,RangeBar:oF,RangeColumn:uF,RingProgress:j0,Rose:dF,Scatter:yF,StackedArea:bF,StackedBar:CF,StackedColumn:_F,StackedColumnLine:TF,StackedRose:IF,StepLine:DF,TinyArea:rm,TinyColumn:im,TinyLine:XF,Treemap:WF,Waterfall:ZF,WordCloud:lm,OrganizationTreeGraph:T9,DagreGraph:F9,IndentedTree:Q9,DagreFundFlowGraph:V9,G2:T}},89939:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(49242),L=d(15623),I=function(){function O(T){var _=T.xField,C=T.yField,E=T.adjustNames,p=E===void 0?["x","y"]:E,w=T.dimValuesMap;this.adjustNames=p,this.xField=_,this.yField=C,this.dimValuesMap=w}return O.prototype.isAdjust=function(T){return this.adjustNames.indexOf(T)>=0},O.prototype.getAdjustRange=function(T,_,C){var E=this.yField,p=C.indexOf(_),w=C.length,g,b;return!E&&this.isAdjust("y")?(g=0,b=1):w>1?(g=C[p===0?0:p-1],b=C[p===w-1?w-1:p+1],p!==0?g+=(_-g)/2:g-=(b-_)/2,p!==w-1?b-=(b-_)/2:b+=(_-C[w-2])/2):(g=_===0?0:_-.5,b=_===0?1:_+.5),{pre:g,next:b}},O.prototype.adjustData=function(T,_){var C=this,E=this.getDimValues(_);y.each(T,function(p,w){y.each(E,function(g,b){C.adjustDim(b,g,p,w)})})},O.prototype.groupData=function(T,_){return y.each(T,function(C){C[_]===void 0&&(C[_]=L.DEFAULT_Y)}),y.groupBy(T,_)},O.prototype.adjustDim=function(T,_,C,E){},O.prototype.getDimValues=function(T){var _=this,C=_.xField,E=_.yField,p=y.assign({},this.dimValuesMap),w=[];if(C&&this.isAdjust("x")&&w.push(C),E&&this.isAdjust("y")&&w.push(E),w.forEach(function(b){p&&p[b]||(p[b]=y.valuesOfKey(T,b).sort(function(m,M){return m-M}))}),!E&&this.isAdjust("y")){var g="y";p[g]=[L.DEFAULT_Y,1]}return p},O}();S.default=I},15623:function(gt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.GAP=S.DODGE_RATIO=S.MARGIN_RATIO=S.DEFAULT_Y=void 0,S.DEFAULT_Y=0,S.MARGIN_RATIO=1/2,S.DODGE_RATIO=1/2,S.GAP=.05},28014:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Adjust=S.registerAdjust=S.getAdjust=void 0;var y=d(60153),L=d(89939);S.Adjust=L.default;var I={},O=function(_){return I[_.toLowerCase()]};S.getAdjust=O;var T=function(_,C){if(O(_))throw new Error("Adjust type '"+_+"' existed.");I[_.toLowerCase()]=C};S.registerAdjust=T,y.__exportStar(d(48551),S)},48551:function(gt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0})},21392:function(gt,S,d){"use strict";d.r(S),d.d(S,{Attribute:function(){return O},Color:function(){return E},Opacity:function(){return w},Position:function(){return b},Scale:function(){return N.Scale},Shape:function(){return M},Size:function(){return k},getAttribute:function(){return $},registerAttribute:function(){return Z}});var y=d(49242),L=function(J,lt){return(0,y.isString)(lt)?lt:J.invert(J.scale(lt))},I=function(){function J(lt){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(lt)}return J.prototype.mapping=function(){for(var lt=this,rt=[],bt=0;bt<arguments.length;bt++)rt[bt]=arguments[bt];var Ot=rt.map(function(Bt,Et){return lt._toOriginParam(Bt,lt.scales[Et])});return this.callback.apply(this,Ot)},J.prototype.getLinearValue=function(lt){var rt=this.values.length-1,bt=Math.floor(rt*lt),Ot=rt*lt-bt,Bt=this.values[bt],Et=bt===rt?Bt:this.values[bt+1];return Bt+(Et-Bt)*Ot},J.prototype.getNames=function(){for(var lt=this.scales,rt=this.names,bt=Math.min(lt.length,rt.length),Ot=[],Bt=0;Bt<bt;Bt+=1)Ot.push(rt[Bt]);return Ot},J.prototype.getFields=function(){return this.scales.map(function(lt){return lt.field})},J.prototype.getScale=function(lt){return this.scales[this.names.indexOf(lt)]},J.prototype.defaultCallback=function(){for(var lt=this,rt=[],bt=0;bt<arguments.length;bt++)rt[bt]=arguments[bt];return rt.length===0?this.values:rt.map(function(Ot,Bt){var Et=lt.scales[Bt];return Et.type==="identity"?Et.values[0]:lt._getAttributeValue(Et,Ot)})},J.prototype._parseCfg=function(lt){var rt=this,bt=lt.type,Ot=bt===void 0?"base":bt,Bt=lt.names,Et=Bt===void 0?[]:Bt,Dt=lt.scales,It=Dt===void 0?[]:Dt,_t=lt.values,Xt=_t===void 0?[]:_t,z=lt.callback;this.type=Ot,this.scales=It,this.values=Xt,this.names=Et,this.callback=function(){for(var R=[],F=0;F<arguments.length;F++)R[F]=arguments[F];if(z){var D=z.apply(void 0,R);if(!(0,y.isNil)(D))return[D]}return rt.defaultCallback.apply(rt,R)}},J.prototype._getAttributeValue=function(lt,rt){if(lt.isCategory&&!this.linear){var bt=lt.translate(rt);return this.values[bt%this.values.length]}var Ot=lt.scale(rt);return this.getLinearValue(Ot)},J.prototype._toOriginParam=function(lt,rt){return rt.isLinear?lt:(0,y.isArray)(lt)?lt.map(function(bt){return L(rt,bt)}):L(rt,lt)},J}(),O=I,T=d(60153),_=d(55223),C=function(J){(0,T.__extends)(lt,J);function lt(rt){var bt=J.call(this,rt)||this;return bt.type="color",bt.names=["color"],(0,y.isString)(bt.values)&&(bt.linear=!0),bt.gradient=_.default.gradient(bt.values),bt}return lt.prototype.getLinearValue=function(rt){return this.gradient(rt)},lt}(O),E=C,p=function(J){(0,T.__extends)(lt,J);function lt(rt){var bt=J.call(this,rt)||this;return bt.type="opacity",bt.names=["opacity"],bt}return lt}(O),w=p,g=function(J){(0,T.__extends)(lt,J);function lt(rt){var bt=J.call(this,rt)||this;return bt.names=["x","y"],bt.type="position",bt}return lt.prototype.mapping=function(rt,bt){var Ot=this.scales,Bt=Ot[0],Et=Ot[1];return(0,y.isNil)(rt)||(0,y.isNil)(bt)?[]:[(0,y.isArray)(rt)?rt.map(function(Dt){return Bt.scale(Dt)}):Bt.scale(rt),(0,y.isArray)(bt)?bt.map(function(Dt){return Et.scale(Dt)}):Et.scale(bt)]},lt}(O),b=g,m=function(J){(0,T.__extends)(lt,J);function lt(rt){var bt=J.call(this,rt)||this;return bt.type="shape",bt.names=["shape"],bt}return lt.prototype.getLinearValue=function(rt){var bt=Math.round((this.values.length-1)*rt);return this.values[bt]},lt}(O),M=m,P=function(J){(0,T.__extends)(lt,J);function lt(rt){var bt=J.call(this,rt)||this;return bt.type="size",bt.names=["size"],bt}return lt}(O),k=P,N=d(2443),V={},$=function(J){return V[J.toLowerCase()]},Z=function(J,lt){if($(J))throw new Error("Attribute type '"+J+"' existed.");V[J.toLowerCase()]=lt};Z("Color",E),Z("Opacity",w),Z("Position",b),Z("Shape",M),Z("Size",k)},74839:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(49242),L=function(O,T){return y.isString(T)?T:O.invert(O.scale(T))},I=function(){function O(T){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(T)}return O.prototype.mapping=function(){for(var T=this,_=[],C=0;C<arguments.length;C++)_[C]=arguments[C];var E=_.map(function(p,w){return T._toOriginParam(p,T.scales[w])});return this.callback.apply(this,E)},O.prototype.getLinearValue=function(T){var _=this.values.length-1,C=Math.floor(_*T),E=_*T-C,p=this.values[C],w=C===_?p:this.values[C+1];return p+(w-p)*E},O.prototype.getNames=function(){for(var T=this.scales,_=this.names,C=Math.min(T.length,_.length),E=[],p=0;p<C;p+=1)E.push(_[p]);return E},O.prototype.getFields=function(){return this.scales.map(function(T){return T.field})},O.prototype.getScale=function(T){return this.scales[this.names.indexOf(T)]},O.prototype.defaultCallback=function(){for(var T=this,_=[],C=0;C<arguments.length;C++)_[C]=arguments[C];return _.length===0?this.values:_.map(function(E,p){var w=T.scales[p];return w.type==="identity"?w.values[0]:T._getAttributeValue(w,E)})},O.prototype._parseCfg=function(T){var _=this,C=T.type,E=C===void 0?"base":C,p=T.names,w=p===void 0?[]:p,g=T.scales,b=g===void 0?[]:g,m=T.values,M=m===void 0?[]:m,P=T.callback;this.type=E,this.scales=b,this.values=M,this.names=w,this.callback=function(){for(var k=[],N=0;N<arguments.length;N++)k[N]=arguments[N];if(P){var V=P.apply(void 0,k);if(!y.isNil(V))return[V]}return _.defaultCallback.apply(_,k)}},O.prototype._getAttributeValue=function(T,_){if(T.isCategory&&!this.linear){var C=T.translate(_);return this.values[C%this.values.length]}var E=T.scale(_);return this.getLinearValue(E)},O.prototype._toOriginParam=function(T,_){return _.isLinear?T:y.isArray(T)?T.map(function(C){return L(_,C)}):L(_,T)},O}();S.default=I},24796:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Attribute=S.registerAttribute=S.getAttribute=void 0;var y=d(60153),L=d(74839);S.Attribute=L.default;var I={},O=function(_){return I[_.toLowerCase()]};S.getAttribute=O;var T=function(_,C){if(O(_))throw new Error("Attribute type '"+_+"' existed.");I[_.toLowerCase()]=C};S.registerAttribute=T,y.__exportStar(d(77290),S)},77290:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Scale=void 0;var y=d(2443);Object.defineProperty(S,"Scale",{enumerable:!0,get:function(){return y.Scale}})},55223:function(gt,S,d){"use strict";d.r(S);var y=d(49242),L=/rgba?\(([\s.,0-9]+)\)/,I=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,O=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,T=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,_=function(N){return/^[r,R,L,l]{1}[\s]*\(/.test(N)},C=function(){var N=document.createElement("i");return N.title="Web Colour Picker",N.style.display="none",document.body.appendChild(N),N},E=function(N,V,$,Z){return N[Z]+(V[Z]-N[Z])*$};function p(N){return"#"+g(N[0])+g(N[1])+g(N[2])}var w=function(N){return[parseInt(N.substr(1,2),16),parseInt(N.substr(3,2),16),parseInt(N.substr(5,2),16)]},g=function(N){var V=Math.round(N).toString(16);return V.length===1?"0"+V:V},b=function(N,V){var $=isNaN(Number(V))||V<0?0:V>1?1:Number(V),Z=N.length-1,J=Math.floor(Z*$),lt=Z*$-J,rt=N[J],bt=J===Z?rt:N[J+1];return p([E(rt,bt,lt,0),E(rt,bt,lt,1),E(rt,bt,lt,2)])},m,M=function(N){if(N[0]==="#"&&N.length===7)return N;m||(m=C()),m.style.color=N;var V=document.defaultView.getComputedStyle(m,"").getPropertyValue("color"),$=L.exec(V),Z=$[1].split(/\s*,\s*/).map(function(J){return Number(J)});return V=p(Z),V},P=function(N){var V=(0,y.isString)(N)?N.split("-"):N,$=(0,y.map)(V,function(Z){return w(Z.indexOf("#")===-1?M(Z):Z)});return function(Z){return b($,Z)}},k=function(N){if(_(N)){var V,$=void 0;if(N[0]==="l"){var Z=I.exec(N),J=+Z[1]+90;$=Z[2],V="linear-gradient("+J+"deg, "}else if(N[0]==="r"){V="radial-gradient(";var Z=O.exec(N);$=Z[4]}var lt=$.match(T);return(0,y.each)(lt,function(rt,bt){var Ot=rt.split(":");V+=Ot[1]+" "+Ot[0]*100+"%",bt!==lt.length-1&&(V+=", ")}),V+=")",V}return N};S.default={rgb2arr:w,gradient:P,toRGB:(0,y.memoize)(M),toCSSGradient:k}},51441:function(gt,S,d){"use strict";d.r(S),d.d(S,{Annotation:function(){return y},Axis:function(){return _},Component:function(){return wt},Crosshair:function(){return C},Grid:function(){return E},GroupComponent:function(){return j},HtmlComponent:function(){return ca},Legend:function(){return p},Scrollbar:function(){return Na},Slider:function(){return us},Tooltip:function(){return g}});var y={};d.r(y),d.d(y,{Arc:function(){return nn},DataMarker:function(){return fe},DataRegion:function(){return Ee},Image:function(){return ee},Line:function(){return ze},Region:function(){return yn},RegionFilter:function(){return Ie},Text:function(){return yr}});var L={};d.r(L),d.d(L,{ellipsisHead:function(){return rr},ellipsisMiddle:function(){return ar},ellipsisTail:function(){return ur},getDefault:function(){return or}});var I={};d.r(I),d.d(I,{equidistance:function(){return Fr},getDefault:function(){return kr},reserveBoth:function(){return Hr},reserveFirst:function(){return xr},reserveLast:function(){return Ir}});var O={};d.r(O),d.d(O,{fixedAngle:function(){return hi},getDefault:function(){return Yn},unfixedAngle:function(){return Zn}});var T={};d.r(T),d.d(T,{autoEllipsis:function(){return L},autoHide:function(){return I},autoRotate:function(){return O}});var _={};d.r(_),d.d(_,{Base:function(){return Ge},Circle:function(){return ci},Line:function(){return Gi}});var C={};d.r(C),d.d(C,{Base:function(){return ei},Circle:function(){return ki},Html:function(){return ve},Line:function(){return Jn}});var E={};d.r(E),d.d(E,{Base:function(){return me},Circle:function(){return Lt},Line:function(){return qt}});var p={};d.r(p),d.d(p,{Base:function(){return be},Category:function(){return je},Continuous:function(){return ir}});var w={};d.r(w),d.d(w,{CONTAINER_CLASS:function(){return Tr},CROSSHAIR_X:function(){return Ci},CROSSHAIR_Y:function(){return Di},LIST_CLASS:function(){return fn},LIST_ITEM_CLASS:function(){return jn},MARKER_CLASS:function(){return Rn},NAME_CLASS:function(){return vi},TITLE_CLASS:function(){return jr},VALUE_CLASS:function(){return Ui}});var g={};d.r(g),d.d(g,{Html:function(){return Ma}});var b=d(60153),m=d(49242),M=d(66192);function P(Qt,pt,Y){var Q=new M.default(pt,Y);Q.target=Qt,Q.propagationPath.push(Qt),Qt.emitDelegation(pt,Q);for(var ht=Qt.getParent();ht;)ht.emitDelegation(pt,Q),Q.propagationPath.push(ht),ht=ht.getParent()}var k=d(31506),N=d(31437),V=[1,0,0,0,1,0,0,0,1];function $(Qt,pt,Y){if(Y===void 0&&(Y=V),!pt)return null;var Q=k.transform(Y,[["t",-Qt.x,-Qt.y],["r",pt],["t",Qt.x,Qt.y]]);return Q}function Z(Qt,pt){return!Qt.x&&!Qt.y?null:k.transform(pt||V,[["t",Qt.x,Qt.y]])}function J(Qt){var pt=[1,0,0],Y=[0,0,0];return vec3.transformMat3(Y,pt,Qt),Math.atan2(Y[1],Y[0])}function lt(Qt,pt){var Y=[0,0];return N.transformMat3(Y,pt,Qt),Y}function rt(Qt,pt){var Y=lt(Qt,[pt.minX,pt.minY]),Q=lt(Qt,[pt.maxX,pt.minY]),ht=lt(Qt,[pt.minX,pt.maxY]),St=lt(Qt,[pt.maxX,pt.maxY]),Gt=Math.min(Y[0],Q[0],ht[0],St[0]),$t=Math.max(Y[0],Q[0],ht[0],St[0]),oe=Math.min(Y[1],Q[1],ht[1],St[1]),ue=Math.max(Y[1],Q[1],ht[1],St[1]);return{x:Gt,y:oe,minX:Gt,minY:oe,maxX:$t,maxY:ue,width:$t-Gt,height:ue-oe}}function bt(Qt,pt,Y,Q){if(pt){var ht=$({x:Y,y:Q},pt,Qt.getMatrix());Qt.setMatrix(ht)}}function Ot(Qt,pt,Y){var Q=Z({x:pt,y:Y});Qt.attr("matrix",Q)}function Bt(Qt){var pt=0,Y=0,Q=0,ht=0;return(0,m.isNumber)(Qt)?pt=Y=Q=ht=Qt:(0,m.isArray)(Qt)&&(pt=Qt[0],Q=(0,m.isNil)(Qt[1])?Qt[0]:Qt[1],ht=(0,m.isNil)(Qt[2])?Qt[0]:Qt[2],Y=(0,m.isNil)(Qt[3])?Q:Qt[3]),[pt,Q,ht,Y]}function Et(Qt){for(var pt=Qt.childNodes,Y=pt.length,Q=Y-1;Q>=0;Q--)Qt.removeChild(pt[Q])}function Dt(Qt,pt){return!!Qt.className.match(new RegExp("(\\s|^)"+pt+"(\\s|$)"))}function It(Qt){var pt=Qt.start,Y=Qt.end,Q=Math.min(pt.x,Y.x),ht=Math.min(pt.y,Y.y),St=Math.max(pt.x,Y.x),Gt=Math.max(pt.y,Y.y);return{x:Q,y:ht,minX:Q,minY:ht,maxX:St,maxY:Gt,width:St-Q,height:Gt-ht}}function _t(Qt){var pt=Qt.map(function($t){return $t.x}),Y=Qt.map(function($t){return $t.y}),Q=Math.min.apply(Math,pt),ht=Math.min.apply(Math,Y),St=Math.max.apply(Math,pt),Gt=Math.max.apply(Math,Y);return{x:Q,y:ht,minX:Q,minY:ht,maxX:St,maxY:Gt,width:St-Q,height:Gt-ht}}function Xt(Qt,pt,Y,Q){return{x:Qt,y:pt,width:Y,height:Q,minX:Qt,minY:pt,maxX:Qt+Y,maxY:pt+Q}}function z(Qt,pt,Y){return(1-Y)*Qt+pt*Y}function R(Qt,pt,Y){return{x:Qt.x+Math.cos(Y)*pt,y:Qt.y+Math.sin(Y)*pt}}function F(Qt,pt){var Y=pt.x-Qt.x,Q=pt.y-Qt.y;return Math.sqrt(Y*Y+Q*Q)}var D=function(Qt){return new Promise(function(pt){setTimeout(pt,Qt)})},u=function(Qt,pt){return[Qt,pt].includes(Infinity)?Math.abs(Qt)===Math.abs(pt):Math.abs(Qt-pt)<Math.pow(Number.EPSILON,.5)};function W(Qt,pt){var Y=Math.max(Qt.minX,pt.minX),Q=Math.max(Qt.minY,pt.minY),ht=Math.min(Qt.maxX,pt.maxX),St=Math.min(Qt.maxY,pt.maxY);return Xt(Y,Q,ht-Y,St-Q)}function it(Qt,pt){var Y=Math.min(Qt.minX,pt.minX),Q=Math.min(Qt.minY,pt.minY),ht=Math.max(Qt.maxX,pt.maxX),St=Math.max(Qt.maxY,pt.maxY);return Xt(Y,Q,ht-Y,St-Q)}function nt(Qt){var pt=Qt.getClip(),Y=pt&&pt.getBBox(),Q;if(!Qt.isGroup())Q=Qt.getBBox();else{var ht=Infinity,St=-Infinity,Gt=Infinity,$t=-Infinity,oe=Qt.getChildren();oe.length>0?(0,m.each)(oe,function(ue){if(ue.get("visible")){if(ue.isGroup()&&ue.get("children").length===0)return!0;var Se=nt(ue),Ae=ue.applyToMatrix([Se.minX,Se.minY,1]),Ye=ue.applyToMatrix([Se.minX,Se.maxY,1]),Ue=ue.applyToMatrix([Se.maxX,Se.minY,1]),fr=ue.applyToMatrix([Se.maxX,Se.maxY,1]),Ar=Math.min(Ae[0],Ye[0],Ue[0],fr[0]),wr=Math.max(Ae[0],Ye[0],Ue[0],fr[0]),Zr=Math.min(Ae[1],Ye[1],Ue[1],fr[1]),$r=Math.max(Ae[1],Ye[1],Ue[1],fr[1]);Ar<ht&&(ht=Ar),wr>St&&(St=wr),Zr<Gt&&(Gt=Zr),$r>$t&&($t=$r)}}):(ht=0,St=0,Gt=0,$t=0),Q=Xt(ht,Gt,St-ht,$t-Gt)}return Y?W(Q,Y):Q}function mt(Qt,pt){if(!(!Qt.getClip()&&!pt.getClip())){var Y=pt.getClip();if(!Y){Qt.setClip(null);return}var Q={type:Y.get("type"),attrs:Y.attr()};Qt.setClip(Q)}}function et(Qt){return Qt+"px"}function ct(Qt,pt,Y,Q){var ht=F(Qt,pt),St=Q/ht,Gt=0;return Y==="start"?Gt=0-St:Y==="end"&&(Gt=1+St),{x:z(Qt.x,pt.x,Gt),y:z(Qt.y,pt.y,Gt)}}var Pt=d(39014),At={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},ot=function(Qt){(0,b.__extends)(pt,Qt);function pt(Y){var Q=Qt.call(this,Y)||this;return Q.initCfg(),Q}return pt.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},pt.prototype.clear=function(){},pt.prototype.update=function(Y){var Q=this,ht=this.get("defaultCfg");(0,m.each)(Y,function(St,Gt){var $t=Q.get(Gt),oe=St;$t!==St&&((0,m.isObject)(St)&&ht[Gt]&&(oe=(0,m.deepMix)({},ht[Gt],St)),Q.set(Gt,oe))}),this.updateInner(Y),this.afterUpdate(Y)},pt.prototype.updateInner=function(Y){},pt.prototype.afterUpdate=function(Y){(0,m.hasKey)(Y,"visible")&&(Y.visible?this.show():this.hide()),(0,m.hasKey)(Y,"capture")&&this.setCapture(Y.capture)},pt.prototype.getLayoutBBox=function(){return this.getBBox()},pt.prototype.getLocationType=function(){return this.get("locationType")},pt.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},pt.prototype.setOffset=function(Y,Q){this.update({offsetX:Y,offsetY:Q})},pt.prototype.setLocation=function(Y){var Q=(0,b.__assign)({},Y);this.update(Q)},pt.prototype.getLocation=function(){var Y=this,Q={},ht=this.get("locationType"),St=At[ht];return(0,m.each)(St,function(Gt){Q[Gt]=Y.get(Gt)}),Q},pt.prototype.isList=function(){return!1},pt.prototype.isSlider=function(){return!1},pt.prototype.init=function(){},pt.prototype.initCfg=function(){var Y=this,Q=this.get("defaultCfg");(0,m.each)(Q,function(ht,St){var Gt=Y.get(St);if((0,m.isObject)(Gt)){var $t=(0,m.deepMix)({},ht,Gt);Y.set(St,$t)}})},pt}(Pt.Base),wt=ot,st="update_status",K=["visible","tip","delegateObject"],tt=["container","group","shapesMap","isRegister","isUpdating","destroyed"],U=function(Qt){(0,b.__extends)(pt,Qt);function pt(){return Qt!==null&&Qt.apply(this,arguments)||this}return pt.prototype.getDefaultCfg=function(){var Y=Qt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},Y),{container:null,shapesMap:{},group:null,capture:!0,isRegister:!1,isUpdating:!1,isInit:!0})},pt.prototype.remove=function(){this.clear();var Y=this.get("group");Y.remove()},pt.prototype.clear=function(){var Y=this.get("group");Y.clear(),this.set("shapesMap",{}),this.clearOffScreenCache(),this.set("isInit",!0)},pt.prototype.getChildComponentById=function(Y){var Q=this.getElementById(Y),ht=Q&&Q.get("component");return ht},pt.prototype.getElementById=function(Y){return this.get("shapesMap")[Y]},pt.prototype.getElementByLocalId=function(Y){var Q=this.getElementId(Y);return this.getElementById(Q)},pt.prototype.getElementsByName=function(Y){var Q=[];return(0,m.each)(this.get("shapesMap"),function(ht){ht.get("name")===Y&&Q.push(ht)}),Q},pt.prototype.getContainer=function(){return this.get("container")},pt.prototype.updateInner=function(Y){this.offScreenRender(),this.get("updateAutoRender")&&this.render()},pt.prototype.render=function(){var Y=this.get("offScreenGroup");Y||(Y=this.offScreenRender());var Q=this.get("group");this.updateElements(Y,Q),this.deleteElements(),this.applyOffset(),this.get("eventInitted")||(this.initEvent(),this.set("eventInitted",!0)),this.set("isInit",!1)},pt.prototype.show=function(){var Y=this.get("group");Y.show(),this.set("visible",!0)},pt.prototype.hide=function(){var Y=this.get("group");Y.hide(),this.set("visible",!1)},pt.prototype.setCapture=function(Y){var Q=this.get("group");Q.set("capture",Y),this.set("capture",Y)},pt.prototype.destroy=function(){this.removeEvent(),this.remove(),Qt.prototype.destroy.call(this)},pt.prototype.getBBox=function(){return this.get("group").getCanvasBBox()},pt.prototype.getLayoutBBox=function(){var Y=this.get("group"),Q=this.getInnerLayoutBBox(),ht=Y.getTotalMatrix();return ht&&(Q=rt(ht,Q)),Q},pt.prototype.on=function(Y,Q,ht){var St=this.get("group");return St.on(Y,Q,ht),this},pt.prototype.off=function(Y,Q){var ht=this.get("group");return ht&&ht.off(Y,Q),this},pt.prototype.emit=function(Y,Q){var ht=this.get("group");ht.emit(Y,Q)},pt.prototype.init=function(){Qt.prototype.init.call(this),this.get("group")||this.initGroup(),this.offScreenRender()},pt.prototype.getInnerLayoutBBox=function(){return this.get("offScreenBBox")||this.get("group").getBBox()},pt.prototype.delegateEmit=function(Y,Q){var ht=this.get("group");Q.target=ht,ht.emit(Y,Q),P(ht,Y,Q)},pt.prototype.createOffScreenGroup=function(){var Y=this.get("group"),Q=Y.getGroupBase(),ht=new Q({delegateObject:this.getDelegateObject()});return ht},pt.prototype.applyOffset=function(){var Y=this.get("offsetX"),Q=this.get("offsetY");this.moveElementTo(this.get("group"),{x:Y,y:Q})},pt.prototype.initGroup=function(){var Y=this.get("container");this.set("group",Y.addGroup({id:this.get("id"),name:this.get("name"),capture:this.get("capture"),visible:this.get("visible"),isComponent:!0,component:this,delegateObject:this.getDelegateObject()}))},pt.prototype.offScreenRender=function(){this.clearOffScreenCache();var Y=this.createOffScreenGroup();return this.renderInner(Y),this.set("offScreenGroup",Y),this.set("offScreenBBox",nt(Y)),Y},pt.prototype.addGroup=function(Y,Q){this.appendDelegateObject(Y,Q);var ht=Y.addGroup(Q);return this.get("isRegister")&&this.registerElement(ht),ht},pt.prototype.addShape=function(Y,Q){this.appendDelegateObject(Y,Q);var ht=Y.addShape(Q);return this.get("isRegister")&&this.registerElement(ht),ht},pt.prototype.addComponent=function(Y,Q){var ht=Q.id,St=Q.component,Gt=(0,b.__rest)(Q,["id","component"]),$t=new St((0,b.__assign)((0,b.__assign)({},Gt),{id:ht,container:Y,updateAutoRender:this.get("updateAutoRender")}));return $t.init(),$t.render(),this.get("isRegister")&&this.registerElement($t.get("group")),$t},pt.prototype.initEvent=function(){},pt.prototype.removeEvent=function(){var Y=this.get("group");Y.off()},pt.prototype.getElementId=function(Y){var Q=this.get("id"),ht=this.get("name");return Q+"-"+ht+"-"+Y},pt.prototype.registerElement=function(Y){var Q=Y.get("id");this.get("shapesMap")[Q]=Y},pt.prototype.unregisterElement=function(Y){var Q=Y.get("id");delete this.get("shapesMap")[Q]},pt.prototype.moveElementTo=function(Y,Q){var ht=Z(Q);Y.attr("matrix",ht)},pt.prototype.addAnimation=function(Y,Q,ht){var St=Q.attr("opacity");(0,m.isNil)(St)&&(St=1),Q.attr("opacity",0),Q.animate({opacity:St},ht)},pt.prototype.removeAnimation=function(Y,Q,ht){Q.animate({opacity:0},ht)},pt.prototype.updateAnimation=function(Y,Q,ht,St){Q.animate(ht,St)},pt.prototype.updateElements=function(Y,Q){var ht=this,St=this.get("animate"),Gt=this.get("animateOption"),$t=Y.getChildren().slice(0),oe;(0,m.each)($t,function(ue){var Se=ue.get("id"),Ae=ht.getElementById(Se),Ye=ue.get("name");if(Ae)if(ue.get("isComponent")){var Ue=ue.get("component"),fr=Ae.get("component"),Ar=(0,m.pick)(Ue.cfg,(0,m.difference)((0,m.keys)(Ue.cfg),tt));fr.update(Ar),Ae.set(st,"update")}else{var wr=ht.getReplaceAttrs(Ae,ue);St&&Gt.update?ht.updateAnimation(Ye,Ae,wr,Gt.update):Ae.attr(wr),ue.isGroup()&&ht.updateElements(ue,Ae),(0,m.each)(K,function(Rt){Ae.set(Rt,ue.get(Rt))}),mt(Ae,ue),oe=Ae,Ae.set(st,"update")}else{Q.add(ue);var Zr=Q.getChildren();if(Zr.splice(Zr.length-1,1),oe){var $r=Zr.indexOf(oe);Zr.splice($r+1,0,ue)}else Zr.unshift(ue);if(ht.registerElement(ue),ue.set(st,"add"),ue.get("isComponent")){var Ue=ue.get("component");Ue.set("container",Q)}else ue.isGroup()&&ht.registerNewGroup(ue);if(oe=ue,St){var Kr=ht.get("isInit")?Gt.appear:Gt.enter;Kr&&ht.addAnimation(Ye,ue,Kr)}}})},pt.prototype.clearUpdateStatus=function(Y){var Q=Y.getChildren();(0,m.each)(Q,function(ht){ht.set(st,null)})},pt.prototype.clearOffScreenCache=function(){var Y=this.get("offScreenGroup");Y&&Y.destroy(),this.set("offScreenGroup",null),this.set("offScreenBBox",null)},pt.prototype.getDelegateObject=function(){var Y,Q=this.get("name"),ht=(Y={},Y[Q]=this,Y.component=this,Y);return ht},pt.prototype.appendDelegateObject=function(Y,Q){var ht=Y.get("delegateObject");Q.delegateObject||(Q.delegateObject={}),(0,m.mix)(Q.delegateObject,ht)},pt.prototype.getReplaceAttrs=function(Y,Q){var ht=Y.attr(),St=Q.attr();return(0,m.each)(ht,function(Gt,$t){St[$t]===void 0&&(St[$t]=void 0)}),St},pt.prototype.registerNewGroup=function(Y){var Q=this,ht=Y.getChildren();(0,m.each)(ht,function(St){Q.registerElement(St),St.set(st,"add"),St.isGroup()&&Q.registerNewGroup(St)})},pt.prototype.deleteElements=function(){var Y=this,Q=this.get("shapesMap"),ht=[];(0,m.each)(Q,function($t,oe){!$t.get(st)||$t.destroyed?ht.push([oe,$t]):$t.set(st,null)});var St=this.get("animate"),Gt=this.get("animateOption");(0,m.each)(ht,function($t){var oe=$t[0],ue=$t[1];if(!ue.destroyed){var Se=ue.get("name");if(St&&Gt.leave){var Ae=(0,m.mix)({callback:function(){Y.removeElement(ue)}},Gt.leave);Y.removeAnimation(Se,ue,Ae)}else Y.removeElement(ue)}delete Q[oe]})},pt.prototype.removeElement=function(Y){if(Y.get("isGroup")){var Q=Y.get("component");Q&&Q.destroy()}Y.remove()},pt}(wt),j=U,at="\u2026";function vt(Qt){for(var pt=0,Y=0;Y<Qt.length;Y++)pt+=Ft(Qt,Y);return pt}function Ft(Qt,pt){return Qt.charCodeAt(pt)>0&&Qt.charCodeAt(pt)<128?1:2}function Jt(Qt,pt,Y){Y===void 0&&(Y="tail");var Q=Qt.length,ht="";if(Y==="tail"){for(var St=0,Gt=0;St<pt;){var $t=Ft(Qt,Gt);if(St+$t<=pt)ht+=Qt[Gt],St+=Ft(Qt,Gt),Gt++;else break}ht+=at}else if(Y==="head"){for(var St=0,Gt=Q-1;St<pt;){var $t=Ft(Qt,Gt);if(St+$t<=pt)ht+=Qt[Gt],St+=Ft(Qt,Gt),Gt--;else break}ht=at+ht}else{for(var oe="",ue="",St=0,Se=0,Ae=Q-1;St<pt;){var Ye=Ft(Qt,Se),Ue=!1;Ye+St<=pt&&(oe+=Qt[Se],Se++,St+=Ye,Ue=!0);var fr=Ft(Qt,Ae);if(fr+St<=pt&&(ue=Qt[Ae]+ue,St+=fr,Ae--,Ue=!0),!Ue)break}ht=oe+at+ue}return ht}var le="\u2026",ge=2;function Zt(Qt){var pt=0;return(0,m.each)(Qt,function(Y){var Q=Y.getBBox(),ht=Q.width;pt<ht&&(pt=ht)}),pt}function kt(Qt,pt){var Y=pt.getCanvasBBox();return Qt?Y.width:Y.height}function zt(Qt,pt){return Qt.getBBox().width<pt}function ne(Qt,pt,Y,Q){Q===void 0&&(Q="tail");var ht=pt.attr("text"),St=kt(Qt,pt),Gt=vt(ht),$t=!1;if(Y<St){var oe=Math.floor(Y/St*Gt)-ge,ue=void 0;oe>=0?ue=Jt(ht,oe,Q):ue=le,ue&&(pt.attr("text",ue),$t=!0)}return $t?pt.set("tip",ht):pt.set("tip",null),$t}function de(Qt,pt){var Y=pt.x,Q=pt.y,ht=pt.content,St=pt.style,Gt=pt.id,$t=pt.name,oe=pt.rotate,ue=pt.maxLength,Se=pt.autoEllipsis,Ae=pt.isVertical,Ye=pt.ellipsisPosition,Ue=pt.background,fr=Qt.addGroup({id:Gt+"-group",name:$t+"-group",attrs:{x:Y,y:Q}}),Ar=fr.addShape({type:"text",id:Gt,name:$t,attrs:(0,b.__assign)({x:0,y:0,text:ht},St)}),wr=Bt((0,m.get)(Ue,"padding",0));if(ue&&Se){var Zr=ue-(wr[1]+wr[3]);ne(!Ae,Ar,Zr,Ye)}if(Ue){var $r=(0,m.get)(Ue,"style",{}),Kr=Ar.getCanvasBBox(),Rt=Kr.minX,ie=Kr.minY,pe=Kr.width,Me=Kr.height,Ne=fr.addShape("rect",{id:Gt+"-bg",name:Gt+"-bg",attrs:(0,b.__assign)({x:Rt-wr[3],y:ie-wr[0],width:pe+wr[1]+wr[3],height:Me+wr[0]+wr[2]},$r)});Ne.toBack()}Ot(fr,Y,Q),bt(fr,oe,Y,Q)}var Ce={fontFamily:`
  "-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",
  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
  SimSun, "sans-serif"`,textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4},De=function(Qt){(0,b.__extends)(pt,Qt);function pt(){return Qt!==null&&Qt.apply(this,arguments)||this}return pt.prototype.getDefaultCfg=function(){var Y=Qt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},Y),{name:"annotation",type:"line",locationType:"region",start:null,end:null,style:{},text:null,defaultCfg:{style:{fill:Ce.textColor,fontSize:12,textAlign:"center",textBaseline:"bottom",fontFamily:Ce.fontFamily},text:{position:"center",autoRotate:!0,content:null,offsetX:0,offsetY:0,style:{stroke:Ce.lineColor,lineWidth:1}}}})},pt.prototype.renderInner=function(Y){this.renderLine(Y),this.get("text")&&this.renderLabel(Y)},pt.prototype.renderLine=function(Y){var Q=this.get("start"),ht=this.get("end"),St=this.get("style");this.addShape(Y,{type:"line",id:this.getElementId("line"),name:"annotation-line",attrs:(0,b.__assign)({x1:Q.x,y1:Q.y,x2:ht.x,y2:ht.y},St)})},pt.prototype.getLabelPoint=function(Y,Q,ht){var St;return ht==="start"?St=0:ht==="center"?St=.5:(0,m.isString)(ht)&&ht.indexOf("%")!==-1?St=parseInt(ht,10)/100:(0,m.isNumber)(ht)?St=ht:St=1,(St>1||St<0)&&(St=1),{x:z(Y.x,Q.x,St),y:z(Y.y,Q.y,St)}},pt.prototype.renderLabel=function(Y){var Q=this.get("text"),ht=this.get("start"),St=this.get("end"),Gt=Q.position,$t=Q.content,oe=Q.style,ue=Q.offsetX,Se=Q.offsetY,Ae=Q.autoRotate,Ye=Q.maxLength,Ue=Q.autoEllipsis,fr=Q.ellipsisPosition,Ar=Q.background,wr=Q.isVertical,Zr=wr===void 0?!1:wr,$r=this.getLabelPoint(ht,St,Gt),Kr=$r.x+ue,Rt=$r.y+Se,ie={id:this.getElementId("line-text"),name:"annotation-line-text",x:Kr,y:Rt,content:$t,style:oe,maxLength:Ye,autoEllipsis:Ue,ellipsisPosition:fr,background:Ar,isVertical:Zr};if(Ae){var pe=[St.x-ht.x,St.y-ht.y];ie.rotate=Math.atan2(pe[1],pe[0])}de(Y,ie)},pt}(j),ze=De,er=function(Qt){(0,b.__extends)(pt,Qt);function pt(){return Qt!==null&&Qt.apply(this,arguments)||this}return pt.prototype.getDefaultCfg=function(){var Y=Qt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},Y),{name:"annotation",type:"text",locationType:"point",x:0,y:0,content:"",rotate:null,style:{},background:null,maxLength:null,autoEllipsis:!0,isVertical:!1,ellipsisPosition:"tail",defaultCfg:{style:{fill:Ce.textColor,fontSize:12,textAlign:"center",textBaseline:"middle",fontFamily:Ce.fontFamily}}})},pt.prototype.setLocation=function(Y){this.set("x",Y.x),this.set("y",Y.y),this.resetLocation()},pt.prototype.renderInner=function(Y){var Q=this.getLocation(),ht=Q.x,St=Q.y,Gt=this.get("content"),$t=this.get("style"),oe=this.getElementId("text"),ue=this.get("name")+"-text",Se=this.get("maxLength"),Ae=this.get("autoEllipsis"),Ye=this.get("isVertical"),Ue=this.get("ellipsisPosition"),fr=this.get("background"),Ar=this.get("rotate"),wr={id:oe,name:ue,x:ht,y:St,content:Gt,style:$t,maxLength:Se,autoEllipsis:Ae,isVertical:Ye,ellipsisPosition:Ue,background:fr,rotate:Ar};de(Y,wr)},pt.prototype.resetLocation=function(){var Y=this.getElementByLocalId("text-group");if(Y){var Q=this.getLocation(),ht=Q.x,St=Q.y,Gt=this.get("rotate");Ot(Y,ht,St),bt(Y,Gt,ht,St)}},pt}(j),yr=er,tn=function(Qt){(0,b.__extends)(pt,Qt);function pt(){return Qt!==null&&Qt.apply(this,arguments)||this}return pt.prototype.getDefaultCfg=function(){var Y=Qt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},Y),{name:"annotation",type:"arc",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2,style:{stroke:"#999",lineWidth:1}})},pt.prototype.renderInner=function(Y){this.renderArc(Y)},pt.prototype.getArcPath=function(){var Y=this.getLocation(),Q=Y.center,ht=Y.radius,St=Y.startAngle,Gt=Y.endAngle,$t=R(Q,ht,St),oe=R(Q,ht,Gt),ue=Gt-St>Math.PI?1:0,Se=[["M",$t.x,$t.y]];if(Gt-St==Math.PI*2){var Ae=R(Q,ht,St+Math.PI);Se.push(["A",ht,ht,0,ue,1,Ae.x,Ae.y]),Se.push(["A",ht,ht,0,ue,1,oe.x,oe.y])}else Se.push(["A",ht,ht,0,ue,1,oe.x,oe.y]);return Se},pt.prototype.renderArc=function(Y){var Q=this.getArcPath(),ht=this.get("style");this.addShape(Y,{type:"path",id:this.getElementId("arc"),name:"annotation-arc",attrs:(0,b.__assign)({path:Q},ht)})},pt}(j),nn=tn,gn=function(Qt){(0,b.__extends)(pt,Qt);function pt(){return Qt!==null&&Qt.apply(this,arguments)||this}return pt.prototype.getDefaultCfg=function(){var Y=Qt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},Y),{name:"annotation",type:"region",locationType:"region",start:null,end:null,style:{},defaultCfg:{style:{lineWidth:0,fill:Ce.regionColor,opacity:.4}}})},pt.prototype.renderInner=function(Y){this.renderRegion(Y)},pt.prototype.renderRegion=function(Y){var Q=this.get("start"),ht=this.get("end"),St=this.get("style"),Gt=It({start:Q,end:ht});this.addShape(Y,{type:"rect",id:this.getElementId("region"),name:"annotation-region",attrs:(0,b.__assign)({x:Gt.x,y:Gt.y,width:Gt.width,height:Gt.height},St)})},pt}(j),yn=gn,jt=function(Qt){(0,b.__extends)(pt,Qt);function pt(){return Qt!==null&&Qt.apply(this,arguments)||this}return pt.prototype.getDefaultCfg=function(){var Y=Qt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},Y),{name:"annotation",type:"image",locationType:"region",start:null,end:null,src:null,style:{}})},pt.prototype.renderInner=function(Y){this.renderImage(Y)},pt.prototype.getImageAttrs=function(){var Y=this.get("start"),Q=this.get("end"),ht=this.get("style"),St=It({start:Y,end:Q}),Gt=this.get("src");return(0,b.__assign)({x:St.x,y:St.y,img:Gt,width:St.width,height:St.height},ht)},pt.prototype.renderImage=function(Y){this.addShape(Y,{type:"image",id:this.getElementId("image"),name:"annotation-image",attrs:this.getImageAttrs()})},pt}(j),ee=jt,se=function(Qt){(0,b.__extends)(pt,Qt);function pt(){return Qt!==null&&Qt.apply(this,arguments)||this}return pt.prototype.getDefaultCfg=function(){var Y=Qt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},Y),{name:"annotation",type:"dataMarker",locationType:"point",x:0,y:0,point:{},line:{},text:{},direction:"upward",autoAdjust:!0,coordinateBBox:null,defaultCfg:{point:{display:!0,style:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2}},line:{display:!0,length:20,style:{stroke:Ce.lineColor,lineWidth:1}},text:{content:"",display:!0,style:{fill:Ce.textColor,opacity:.65,fontSize:12,textAlign:"start",fontFamily:Ce.fontFamily}}}})},pt.prototype.renderInner=function(Y){(0,m.get)(this.get("line"),"display")&&this.renderLine(Y),(0,m.get)(this.get("text"),"display")&&this.renderText(Y),(0,m.get)(this.get("point"),"display")&&this.renderPoint(Y),this.get("autoAdjust")&&this.autoAdjust(Y)},pt.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x")+this.get("offsetX"),y:this.get("y")+this.get("offsetY")})},pt.prototype.renderPoint=function(Y){var Q=this.getShapeAttrs().point;this.addShape(Y,{type:"circle",id:this.getElementId("point"),name:"annotation-point",attrs:Q})},pt.prototype.renderLine=function(Y){var Q=this.getShapeAttrs().line;this.addShape(Y,{type:"path",id:this.getElementId("line"),name:"annotation-line",attrs:Q})},pt.prototype.renderText=function(Y){var Q=this.getShapeAttrs().text,ht=Q.x,St=Q.y,Gt=Q.text,$t=(0,b.__rest)(Q,["x","y","text"]),oe=this.get("text"),ue=oe.background,Se=oe.maxLength,Ae=oe.autoEllipsis,Ye=oe.isVertival,Ue=oe.ellipsisPosition,fr={x:ht,y:St,id:this.getElementId("text"),name:"annotation-text",content:Gt,style:$t,background:ue,maxLength:Se,autoEllipsis:Ae,isVertival:Ye,ellipsisPosition:Ue};de(Y,fr)},pt.prototype.autoAdjust=function(Y){var Q=this.get("direction"),ht=this.get("x"),St=this.get("y"),Gt=(0,m.get)(this.get("line"),"length",0),$t=this.get("coordinateBBox"),oe=Y.getBBox(),ue=oe.minX,Se=oe.maxX,Ae=oe.minY,Ye=oe.maxY,Ue=Y.findById(this.getElementId("text-group")),fr=Y.findById(this.getElementId("text")),Ar=Y.findById(this.getElementId("line"));if(!!$t){if(Ue){if(ht+ue<=$t.minX){var wr=$t.minX-(ht+ue);Ot(Ue,Ue.attr("x")+wr,Ue.attr("y"))}if(ht+Se>=$t.maxX){var wr=ht+Se-$t.maxX;Ot(Ue,Ue.attr("x")-wr,Ue.attr("y"))}}if(Q==="upward"&&St+Ae<=$t.minY||Q!=="upward"&&St+Ye>=$t.maxY){var Zr=void 0,$r=void 0;Q==="upward"&&St+Ae<=$t.minY?(Zr="top",$r=1):(Zr="bottom",$r=-1),fr.attr("textBaseline",Zr),Ar&&Ar.attr("path",[["M",0,0],["L",0,Gt*$r]]),Ot(Ue,Ue.attr("x"),(Gt+2)*$r)}}},pt.prototype.getShapeAttrs=function(){var Y=(0,m.get)(this.get("line"),"display"),Q=(0,m.get)(this.get("point"),"style",{}),ht=(0,m.get)(this.get("line"),"style",{}),St=(0,m.get)(this.get("text"),"style",{}),Gt=this.get("direction"),$t=Y?(0,m.get)(this.get("line"),"length",0):0,oe=Gt==="upward"?-1:1;return{point:(0,b.__assign)({x:0,y:0},Q),line:(0,b.__assign)({path:[["M",0,0],["L",0,$t*oe]]},ht),text:(0,b.__assign)({x:0,y:($t+2)*oe,text:(0,m.get)(this.get("text"),"content",""),textBaseline:Gt==="upward"?"bottom":"top"},St)}},pt}(j),fe=se,we=function(Qt){(0,b.__extends)(pt,Qt);function pt(){return Qt!==null&&Qt.apply(this,arguments)||this}return pt.prototype.getDefaultCfg=function(){var Y=Qt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},Y),{name:"annotation",type:"dataRegion",locationType:"points",points:[],lineLength:0,region:{},text:{},defaultCfg:{region:{style:{lineWidth:0,fill:Ce.regionColor,opacity:.4}},text:{content:"",style:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:Ce.textColor,fontFamily:Ce.fontFamily}}}})},pt.prototype.renderInner=function(Y){var Q=(0,m.get)(this.get("region"),"style",{}),ht=(0,m.get)(this.get("text"),"style",{}),St=this.get("lineLength")||0,Gt=this.get("points");if(!!Gt.length){var $t=_t(Gt),oe=[];oe.push(["M",Gt[0].x,$t.minY-St]),Gt.forEach(function(Se){oe.push(["L",Se.x,Se.y])}),oe.push(["L",Gt[Gt.length-1].x,Gt[Gt.length-1].y-St]),this.addShape(Y,{type:"path",id:this.getElementId("region"),name:"annotation-region",attrs:(0,b.__assign)({path:oe},Q)});var ue=(0,b.__assign)({id:this.getElementId("text"),name:"annotation-text",x:($t.minX+$t.maxX)/2,y:$t.minY-St},this.get("text"));de(Y,ue)}},pt}(j),Ee=we,Oe=function(Qt){(0,b.__extends)(pt,Qt);function pt(){return Qt!==null&&Qt.apply(this,arguments)||this}return pt.prototype.getDefaultCfg=function(){var Y=Qt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},Y),{name:"annotation",type:"regionFilter",locationType:"region",start:null,end:null,color:null,shape:[]})},pt.prototype.renderInner=function(Y){var Q=this,ht=this.get("start"),St=this.get("end"),Gt=this.addGroup(Y,{id:this.getElementId("region-filter"),capture:!1});(0,m.each)(this.get("shapes"),function(oe,ue){var Se=oe.get("type"),Ae=(0,m.clone)(oe.attr());Q.adjustShapeAttrs(Ae),Q.addShape(Gt,{id:Q.getElementId("shape-"+Se+"-"+ue),capture:!1,type:Se,attrs:Ae})});var $t=It({start:ht,end:St});Gt.setClip({type:"rect",attrs:{x:$t.minX,y:$t.minY,width:$t.width,height:$t.height}})},pt.prototype.adjustShapeAttrs=function(Y){var Q=this.get("color");Y.fill&&(Y.fill=Y.fillStyle=Q),Y.stroke=Y.strokeStyle=Q},pt}(j),Ie=Oe;function xe(Qt,pt,Y){var Q=pt+"Style",ht=null;return(0,m.each)(Y,function(St,Gt){Qt[Gt]&&St[Q]&&(ht||(ht={}),(0,m.mix)(ht,St[Q]))}),ht}var Ze=function(Qt){(0,b.__extends)(pt,Qt);function pt(){return Qt!==null&&Qt.apply(this,arguments)||this}return pt.prototype.getDefaultCfg=function(){var Y=Qt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},Y),{name:"axis",ticks:[],line:{},tickLine:{},subTickLine:null,title:null,label:{},verticalFactor:1,verticalLimitLength:null,overlapOrder:["autoRotate","autoEllipsis","autoHide"],tickStates:{},defaultCfg:{line:{style:{lineWidth:1,stroke:Ce.lineColor}},tickLine:{style:{lineWidth:1,stroke:Ce.lineColor},alignTick:!0,length:5,displayWithLabel:!0},subTickLine:{style:{lineWidth:1,stroke:Ce.lineColor},count:4,length:2},label:{autoRotate:!0,autoHide:!1,autoEllipsis:!1,style:{fontSize:12,fill:Ce.textColor,textBaseline:"middle",fontFamily:Ce.fontFamily,fontWeight:"normal"},offset:10},title:{autoRotate:!0,spacing:5,position:"center",style:{fontSize:12,fill:Ce.textColor,textBaseline:"middle",fontFamily:Ce.fontFamily,textAlign:"center"}},tickStates:{active:{labelStyle:{fontWeight:500},tickLineStyle:{lineWidth:2}},inactive:{labelStyle:{fill:Ce.uncheckedColor}}}}})},pt.prototype.renderInner=function(Y){this.get("line")&&this.drawLine(Y),this.drawTicks(Y),this.get("title")&&this.drawTitle(Y)},pt.prototype.isList=function(){return!0},pt.prototype.getItems=function(){return this.get("ticks")},pt.prototype.setItems=function(Y){this.update({ticks:Y})},pt.prototype.updateItem=function(Y,Q){(0,m.mix)(Y,Q),this.clear(),this.render()},pt.prototype.clearItems=function(){var Y=this.getElementByLocalId("label-group");Y&&Y.clear()},pt.prototype.setItemState=function(Y,Q,ht){Y[Q]=ht,this.updateTickStates(Y)},pt.prototype.hasState=function(Y,Q){return!!Y[Q]},pt.prototype.getItemStates=function(Y){var Q=this.get("tickStates"),ht=[];return(0,m.each)(Q,function(St,Gt){Y[Gt]&&ht.push(Gt)}),ht},pt.prototype.clearItemsState=function(Y){var Q=this,ht=this.getItemsByState(Y);(0,m.each)(ht,function(St){Q.setItemState(St,Y,!1)})},pt.prototype.getItemsByState=function(Y){var Q=this,ht=this.getItems();return(0,m.filter)(ht,function(St){return Q.hasState(St,Y)})},pt.prototype.getSidePoint=function(Y,Q){var ht=this,St=ht.getSideVector(Q,Y);return{x:Y.x+St[0],y:Y.y+St[1]}},pt.prototype.getTextAnchor=function(Y){var Q;return(0,m.isNumberEqual)(Y[0],0)?Q="center":Y[0]>0?Q="start":Y[0]<0&&(Q="end"),Q},pt.prototype.processOverlap=function(Y){},pt.prototype.drawLine=function(Y){var Q=this.getLinePath(),ht=this.get("line");this.addShape(Y,{type:"path",id:this.getElementId("line"),name:"axis-line",attrs:(0,m.mix)({path:Q},ht.style)})},pt.prototype.getTickLineItems=function(Y){var Q=this,ht=[],St=this.get("tickLine"),Gt=St.alignTick,$t=St.length,oe=1,ue=Y.length;return ue>=2&&(oe=Y[1].value-Y[0].value),(0,m.each)(Y,function(Se){var Ae=Se.point;Gt||(Ae=Q.getTickPoint(Se.value-oe/2));var Ye=Q.getSidePoint(Ae,$t);ht.push({startPoint:Ae,tickValue:Se.value,endPoint:Ye,tickId:Se.id,id:"tickline-"+Se.id})}),ht},pt.prototype.getSubTickLineItems=function(Y){var Q=[],ht=this.get("subTickLine"),St=ht.count,Gt=Y.length;if(Gt>=2)for(var $t=0;$t<Gt-1;$t++)for(var oe=Y[$t],ue=Y[$t+1],Se=0;Se<St;Se++){var Ae=(Se+1)/(St+1),Ye=(1-Ae)*oe.tickValue+Ae*ue.tickValue,Ue=this.getTickPoint(Ye),fr=this.getSidePoint(Ue,ht.length);Q.push({startPoint:Ue,endPoint:fr,tickValue:Ye,id:"sub-"+oe.id+"-"+Se})}return Q},pt.prototype.getTickLineAttrs=function(Y,Q){var ht=this.get(Q).style,St=Y.startPoint,Gt=Y.endPoint,$t=(0,m.mix)({x1:St.x,y1:St.y,x2:Gt.x,y2:Gt.y},ht);return $t},pt.prototype.drawTick=function(Y,Q,ht){this.addShape(Q,{type:"line",id:this.getElementId(Y.id),name:"axis-"+ht,attrs:this.getTickLineAttrs(Y,ht)})},pt.prototype.drawTickLines=function(Y){var Q=this,ht=this.get("ticks"),St=this.get("subTickLine"),Gt=this.getTickLineItems(ht),$t=this.addGroup(Y,{name:"axis-tickline-group",id:this.getElementId("tickline-group")}),oe=this.get("tickLine");if((0,m.each)(Gt,function(Se){if(oe.displayWithLabel){var Ae=Q.getElementId("label-"+Se.tickId);Y.findById(Ae)&&Q.drawTick(Se,$t,"tickLine")}else Q.drawTick(Se,$t,"tickLine")}),St){var ue=this.getSubTickLineItems(Gt);(0,m.each)(ue,function(Se){Q.drawTick(Se,$t,"subTickLine")})}},pt.prototype.processTicks=function(){var Y=this,Q=this.get("ticks");(0,m.each)(Q,function(ht){ht.point=Y.getTickPoint(ht.value),(0,m.isNil)(ht.id)&&(ht.id=ht.name)})},pt.prototype.drawTicks=function(Y){var Q=this;this.processTicks(),this.get("label")&&this.drawLabels(Y),this.get("tickLine")&&this.drawTickLines(Y);var ht=this.get("ticks");(0,m.each)(ht,function(St){Q.applyTickStates(St,Y)})},pt.prototype.getLabelAttrs=function(Y,Q){var ht=this.get("label"),St=ht.offset,Gt=ht.style,$t=ht.rotate,oe=ht.formatter,ue=this.getSidePoint(Y.point,St),Se=this.getSideVector(St,ue),Ae=oe?oe(Y.name,Y,Q):Y.name,Ye=(0,m.mix)({x:ue.x,y:ue.y,text:Ae,textAlign:this.getTextAnchor(Se)},Gt);return $t&&(Ye.matrix=$(ue,$t)),Ye},pt.prototype.drawLabels=function(Y){var Q=this,ht=this.get("ticks"),St=this.addGroup(Y,{name:"axis-label-group",id:this.getElementId("label-group")});(0,m.each)(ht,function(Gt,$t){Q.addShape(St,{type:"text",name:"axis-label",id:Q.getElementId("label-"+Gt.id),attrs:Q.getLabelAttrs(Gt,$t),delegateObject:{tick:Gt,item:Gt,index:$t}})}),this.processOverlap(St)},pt.prototype.getTitleAttrs=function(){var Y=this.get("title"),Q=Y.style,ht=Y.position,St=Y.offset,Gt=Y.spacing,$t=Gt===void 0?0:Gt,oe=Y.autoRotate,ue=Q.fontSize,Se=.5;ht==="start"?Se=0:ht==="end"&&(Se=1);var Ae=this.getTickPoint(Se),Ye=this.getSidePoint(Ae,St||$t+ue/2),Ue=(0,m.mix)({x:Ye.x,y:Ye.y,text:Y.text},Q),fr=Y.rotate,Ar=fr;if((0,m.isNil)(fr)&&oe){var wr=this.getAxisVector(Ae),Zr=[1,0];Ar=k.angleTo(wr,Zr,!0)}if(Ar){var $r=$(Ye,Ar);Ue.matrix=$r}return Ue},pt.prototype.drawTitle=function(Y){this.addShape(Y,{type:"text",id:this.getElementId("title"),name:"axis-title",attrs:this.getTitleAttrs()})},pt.prototype.applyTickStates=function(Y,Q){var ht=this.getItemStates(Y);if(ht.length){var St=this.get("tickStates"),Gt=this.getElementId("label-"+Y.id),$t=Q.findById(Gt);if($t){var oe=xe(Y,"label",St);oe&&$t.attr(oe)}var ue=this.getElementId("tickline-"+Y.id),Se=Q.findById(ue);if(Se){var Ae=xe(Y,"tickLine",St);Ae&&Se.attr(Ae)}}},pt.prototype.updateTickStates=function(Y){var Q=this.getItemStates(Y),ht=this.get("tickStates"),St=this.get("label"),Gt=this.getElementByLocalId("label-"+Y.id),$t=this.get("tickLine"),oe=this.getElementByLocalId("tickline-"+Y.id);if(Q.length){if(Gt){var ue=xe(Y,"label",ht);ue&&Gt.attr(ue)}if(oe){var Se=xe(Y,"tickLine",ht);Se&&oe.attr(Se)}}else Gt&&Gt.attr(St.style),oe&&oe.attr($t.style)},pt}(j),Ge=Ze;function qe(Qt,pt,Y,Q){var ht=pt.getChildren(),St=!1;return(0,m.each)(ht,function(Gt){var $t=ne(Qt,Gt,Y,Q);St=St||$t}),St}function or(){return ur}function rr(Qt,pt,Y){return qe(Qt,pt,Y,"head")}function ur(Qt,pt,Y){return qe(Qt,pt,Y,"tail")}function ar(Qt,pt,Y){return qe(Qt,pt,Y,"middle")}function pr(Qt){var pt=Qt.attr("matrix");return pt&&pt[0]!==1}function tr(Qt,pt,Y,Q,ht){ht===void 0&&(ht=!1);var St=!1;if(Qt)St=Math.abs(Y.y-Q.y)<Y.height;else if(pt){var Gt=ht?Q.height:Y.height;St=Math.abs(Y.x-Q.x)<Gt}else{var $t=ht?Q.width:Y.width;St=Math.abs(Y.x-Q.x)<$t}return St}function mr(Qt,pt,Y){var Q=pt.getChildren().slice();if(!Q.length)return!1;var ht=!1;Y&&Q.reverse();for(var St=Q.length,Gt=Q[0],$t=pr(Gt),oe=Gt.getBBox(),ue=1;ue<St;ue++){var Se=Q[ue],Ae=Se.getBBox(),Ye=tr(Qt,$t,oe,Ae,Y);Ye?(Se.hide(),ht=!0):oe=Ae}return ht}function kr(){return Fr}function xr(Qt,pt){return mr(Qt,pt,!1)}function Ir(Qt,pt){return mr(Qt,pt,!0)}function Hr(Qt,pt){var Y=pt.getChildren().slice();if(Y.length<=2)return!1;for(var Q=!1,ht=Y.length,St=Y[0],Gt=Y[ht-1],$t=pr(St),oe=St.getBBox(),ue=St,Se=1;Se<ht-1;Se++){var Ae=Y[Se],Ye=Ae.getBBox(),Ue=tr(Qt,$t,oe,Ye);Ue?(Ae.hide(),Q=!0):(oe=Ye,ue=Ae)}var fr=Gt.getBBox(),Ar=tr(Qt,$t,oe,fr);return Ar&&(ue.hide(),Q=!0),Q}function Fr(Qt,pt){var Y=pt.getChildren().slice();if(Y.length<2)return!1;var Q=!1,ht=Y[0],St=ht.getBBox(),Gt=Y[1],$t=pr(ht),oe=Y.length,ue=0;if(Qt){var Se=Math.abs(Gt.attr("y")-ht.attr("y"));ue=St.height/Se}else if($t){var Se=Math.abs(Gt.attr("x")-ht.attr("x"));ue=St.width/Se}else{var Ae=Zt(Y),Se=Math.abs(Gt.attr("x")-ht.attr("x"));ue=Ae/Se}if(ue>1){ue=Math.ceil(ue);for(var Ye=0;Ye<oe;Ye++)Ye%ue!=0&&(Y[Ye].hide(),Q=!0)}return Q}function In(Qt,pt){(0,m.each)(Qt,function(Y){var Q=Y.attr("x"),ht=Y.attr("y"),St=$({x:Q,y:ht},pt);Y.attr("matrix",St)})}function qr(Qt,pt,Y,Q){var ht=pt.getChildren();if(!ht.length||!Qt&&ht.length<2)return!1;var St=Zt(ht),Gt=!1;if(Qt)Gt=!!Y&&St>Y;else{var $t=Math.abs(ht[1].attr("x")-ht[0].attr("x"));Gt=St>$t}if(Gt){var oe=Q(Y,St);In(ht,oe)}return Gt}function Yn(){return hi}function hi(Qt,pt,Y){return qr(Qt,pt,Y,function(){return Qt?Ce.verticalAxisRotate:Ce.horizontalAxisRotate})}function Zn(Qt,pt,Y){return qr(Qt,pt,Y,function(Q,ht){if(!Q)return Qt?Ce.verticalAxisRotate:Ce.horizontalAxisRotate;if(Qt)return-Math.acos(Q/ht);var St=0;return Q>ht?St=Math.PI/4:(St=Math.asin(Q/ht),St>Math.PI/4&&(St=Math.PI/4)),St})}var Ii=function(Qt){(0,b.__extends)(pt,Qt);function pt(){return Qt!==null&&Qt.apply(this,arguments)||this}return pt.prototype.getDefaultCfg=function(){var Y=Qt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},Y),{type:"line",locationType:"region",start:null,end:null})},pt.prototype.getLinePath=function(){var Y=this.get("start"),Q=this.get("end"),ht=[];return ht.push(["M",Y.x,Y.y]),ht.push(["L",Q.x,Q.y]),ht},pt.prototype.getInnerLayoutBBox=function(){var Y=this.get("start"),Q=this.get("end"),ht=Qt.prototype.getInnerLayoutBBox.call(this),St=Math.min(Y.x,Q.x,ht.x),Gt=Math.min(Y.y,Q.y,ht.y),$t=Math.max(Y.x,Q.x,ht.maxX),oe=Math.max(Y.y,Q.y,ht.maxY);return{x:St,y:Gt,minX:St,minY:Gt,maxX:$t,maxY:oe,width:$t-St,height:oe-Gt}},pt.prototype.isVertical=function(){var Y=this.get("start"),Q=this.get("end");return(0,m.isNumberEqual)(Y.x,Q.x)},pt.prototype.isHorizontal=function(){var Y=this.get("start"),Q=this.get("end");return(0,m.isNumberEqual)(Y.y,Q.y)},pt.prototype.getTickPoint=function(Y){var Q=this,ht=Q.get("start"),St=Q.get("end"),Gt=St.x-ht.x,$t=St.y-ht.y;return{x:ht.x+Gt*Y,y:ht.y+$t*Y}},pt.prototype.getSideVector=function(Y){var Q=this.getAxisVector(),ht=N.normalize([0,0],Q),St=this.get("verticalFactor"),Gt=[ht[1],ht[0]*-1];return N.scale([0,0],Gt,Y*St)},pt.prototype.getAxisVector=function(){var Y=this.get("start"),Q=this.get("end");return[Q.x-Y.x,Q.y-Y.y]},pt.prototype.processOverlap=function(Y){var Q=this,ht=this.isVertical(),St=this.isHorizontal();if(!(!ht&&!St)){var Gt=this.get("label"),$t=this.get("title"),oe=this.get("verticalLimitLength"),ue=Gt.offset,Se=oe,Ae=0,Ye=0;$t&&(Ae=$t.style.fontSize,Ye=$t.spacing),Se&&(Se=Se-ue-Ye-Ae);var Ue=this.get("overlapOrder");if((0,m.each)(Ue,function(wr){Gt[wr]&&Q.autoProcessOverlap(wr,Gt[wr],Y,Se)}),$t){var fr=Y.getBBox(),Ar=ht?fr.width:fr.height;(0,m.isNil)($t.offset)&&($t.offset=ue+Ar+Ye+Ae/2)}}},pt.prototype.autoProcessOverlap=function(Y,Q,ht,St){var Gt=this,$t=this.isVertical(),oe=!1,ue=T[Y];if(Q===!0?oe=ue.getDefault()($t,ht,St):(0,m.isFunction)(Q)?oe=Q($t,ht,St):ue[Q]&&(oe=ue[Q]($t,ht,St)),Y==="autoRotate"){if(oe){var Se=ht.getChildren(),Ae=this.get("verticalFactor");(0,m.each)(Se,function(Ue){var fr=Ue.attr("textAlign");if(fr==="center"){var Ar=Ae>0?"end":"start";Ue.attr("textAlign",Ar)}})}}else if(Y==="autoHide"){var Ye=ht.getChildren().slice(0);(0,m.each)(Ye,function(Ue){Ue.get("visible")||(Gt.get("isRegister")&&Gt.unregisterElement(Ue),Ue.remove())})}},pt}(Ge),Gi=Ii,_r=function(Qt){(0,b.__extends)(pt,Qt);function pt(){return Qt!==null&&Qt.apply(this,arguments)||this}return pt.prototype.getDefaultCfg=function(){var Y=Qt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},Y),{type:"circle",locationType:"circle",center:null,radius:null,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},pt.prototype.getLinePath=function(){var Y=this.get("center"),Q=Y.x,ht=Y.y,St=this.get("radius"),Gt=St,$t=this.get("startAngle"),oe=this.get("endAngle"),ue=[];if(Math.abs(oe-$t)===Math.PI*2)ue=[["M",Q,ht-Gt],["A",St,Gt,0,1,1,Q,ht+Gt],["A",St,Gt,0,1,1,Q,ht-Gt],["Z"]];else{var Se=this.getCirclePoint($t),Ae=this.getCirclePoint(oe),Ye=Math.abs(oe-$t)>Math.PI?1:0,Ue=$t>oe?0:1;ue=[["M",Q,ht],["L",Se.x,Se.y],["A",St,Gt,0,Ye,Ue,Ae.x,Ae.y],["L",Q,ht]]}return ue},pt.prototype.getTickPoint=function(Y){var Q=this.get("startAngle"),ht=this.get("endAngle"),St=Q+(ht-Q)*Y;return this.getCirclePoint(St)},pt.prototype.getSideVector=function(Y,Q){var ht=this.get("center"),St=[Q.x-ht.x,Q.y-ht.y],Gt=this.get("verticalFactor"),$t=N.length(St);return N.scale(St,St,Gt*Y/$t),St},pt.prototype.getAxisVector=function(Y){var Q=this.get("center"),ht=[Y.x-Q.x,Y.y-Q.y];return[ht[1],-1*ht[0]]},pt.prototype.getCirclePoint=function(Y,Q){var ht=this.get("center");return Q=Q||this.get("radius"),{x:ht.x+Math.cos(Y)*Q,y:ht.y+Math.sin(Y)*Q}},pt}(Ge),ci=_r,Si=function(Qt){(0,b.__extends)(pt,Qt);function pt(){return Qt!==null&&Qt.apply(this,arguments)||this}return pt.prototype.getDefaultCfg=function(){var Y=Qt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},Y),{name:"crosshair",type:"base",line:{},text:null,textBackground:{},capture:!1,defaultCfg:{line:{style:{lineWidth:1,stroke:Ce.lineColor}},text:{position:"start",offset:10,autoRotate:!1,content:null,style:{fill:Ce.textColor,textAlign:"center",textBaseline:"middle",fontFamily:Ce.fontFamily}},textBackground:{padding:5,style:{stroke:Ce.lineColor}}}})},pt.prototype.renderInner=function(Y){this.get("line")&&this.renderLine(Y),this.get("text")&&(this.renderText(Y),this.renderBackground(Y))},pt.prototype.renderText=function(Y){var Q=this.get("text"),ht=Q.style,St=Q.autoRotate,Gt=Q.content;if(!(0,m.isNil)(Gt)){var $t=this.getTextPoint(),oe=null;if(St){var ue=this.getRotateAngle();oe=$($t,ue)}this.addShape(Y,{type:"text",name:"crosshair-text",id:this.getElementId("text"),attrs:(0,b.__assign)((0,b.__assign)((0,b.__assign)({},$t),{text:Gt,matrix:oe}),ht)})}},pt.prototype.renderLine=function(Y){var Q=this.getLinePath(),ht=this.get("line"),St=ht.style;this.addShape(Y,{type:"path",name:"crosshair-line",id:this.getElementId("line"),attrs:(0,b.__assign)({path:Q},St)})},pt.prototype.renderBackground=function(Y){var Q=this.getElementId("text"),ht=Y.findById(Q),St=this.get("textBackground");if(St&&ht){var Gt=ht.getBBox(),$t=Bt(St.padding),oe=St.style,ue=this.addShape(Y,{type:"rect",name:"crosshair-text-background",id:this.getElementId("text-background"),attrs:(0,b.__assign)({x:Gt.x-$t[3],y:Gt.y-$t[0],width:Gt.width+$t[1]+$t[3],height:Gt.height+$t[0]+$t[2],matrix:ht.attr("matrix")},oe)});ue.toBack()}},pt}(j),ei=Si,mn=function(Qt){(0,b.__extends)(pt,Qt);function pt(){return Qt!==null&&Qt.apply(this,arguments)||this}return pt.prototype.getDefaultCfg=function(){var Y=Qt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},Y),{type:"line",locationType:"region",start:null,end:null})},pt.prototype.getRotateAngle=function(){var Y=this.getLocation(),Q=Y.start,ht=Y.end,St=this.get("text").position,Gt=Math.atan2(ht.y-Q.y,ht.x-Q.x),$t=St==="start"?Gt-Math.PI/2:Gt+Math.PI/2;return $t},pt.prototype.getTextPoint=function(){var Y=this.getLocation(),Q=Y.start,ht=Y.end,St=this.get("text"),Gt=St.position,$t=St.offset;return ct(Q,ht,Gt,$t)},pt.prototype.getLinePath=function(){var Y=this.getLocation(),Q=Y.start,ht=Y.end;return[["M",Q.x,Q.y],["L",ht.x,ht.y]]},pt}(ei),Jn=mn,ji=function(Qt){(0,b.__extends)(pt,Qt);function pt(){return Qt!==null&&Qt.apply(this,arguments)||this}return pt.prototype.getDefaultCfg=function(){var Y=Qt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},Y),{type:"circle",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},pt.prototype.getRotateAngle=function(){var Y=this.getLocation(),Q=Y.startAngle,ht=Y.endAngle,St=this.get("text").position,Gt=St==="start"?Q+Math.PI/2:ht-Math.PI/2;return Gt},pt.prototype.getTextPoint=function(){var Y=this.get("text"),Q=Y.position,ht=Y.offset,St=this.getLocation(),Gt=St.center,$t=St.radius,oe=St.startAngle,ue=St.endAngle,Se=Q==="start"?oe:ue,Ae=this.getRotateAngle()-Math.PI,Ye=R(Gt,$t,Se),Ue=Math.cos(Ae)*ht,fr=Math.sin(Ae)*ht;return{x:Ye.x+Ue,y:Ye.y+fr}},pt.prototype.getLinePath=function(){var Y=this.getLocation(),Q=Y.center,ht=Y.radius,St=Y.startAngle,Gt=Y.endAngle,$t=null;if(Gt-St==Math.PI*2){var oe=Q.x,ue=Q.y;$t=[["M",oe,ue-ht],["A",ht,ht,0,1,1,oe,ue+ht],["A",ht,ht,0,1,1,oe,ue-ht],["Z"]]}else{var Se=R(Q,ht,St),Ae=R(Q,ht,Gt),Ye=Math.abs(Gt-St)>Math.PI?1:0,Ue=St>Gt?0:1;$t=[["M",Se.x,Se.y],["A",ht,ht,0,Ye,Ue,Ae.x,Ae.y]]}return $t},pt}(ei),ki=ji,Bi=d(6056),Vn=d(45442),Ji=function(Qt){(0,b.__extends)(pt,Qt);function pt(){return Qt!==null&&Qt.apply(this,arguments)||this}return pt.prototype.getDefaultCfg=function(){var Y=Qt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},Y),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},pt.prototype.getContainer=function(){return this.get("container")},pt.prototype.show=function(){var Y=this.get("container");Y.style.display="",this.set("visible",!0)},pt.prototype.hide=function(){var Y=this.get("container");Y.style.display="none",this.set("visible",!1)},pt.prototype.setCapture=function(Y){var Q=this.getContainer(),ht=Y?"auto":"none";Q.style.pointerEvents=ht,this.set("capture",Y)},pt.prototype.getBBox=function(){var Y=this.getContainer(),Q=parseFloat(Y.style.left)||0,ht=parseFloat(Y.style.top)||0;return Xt(Q,ht,Y.clientWidth,Y.clientHeight)},pt.prototype.clear=function(){var Y=this.get("container");Et(Y)},pt.prototype.destroy=function(){this.removeEvent(),this.removeDom(),Qt.prototype.destroy.call(this)},pt.prototype.init=function(){Qt.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},pt.prototype.initCapture=function(){this.setCapture(this.get("capture"))},pt.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},pt.prototype.initDom=function(){},pt.prototype.initContainer=function(){var Y=this.get("container");if((0,m.isNil)(Y)){Y=this.createDom();var Q=this.get("parent");(0,m.isString)(Q)&&(Q=document.getElementById(Q),this.set("parent",Q)),Q.appendChild(Y),this.set("container",Y)}else(0,m.isString)(Y)&&(Y=document.getElementById(Y),this.set("container",Y));this.get("parent")||this.set("parent",Y.parentNode)},pt.prototype.resetStyles=function(){var Y=this.get("domStyles"),Q=this.get("defaultStyles");Y?Y=(0,m.deepMix)({},Q,Y):Y=Q,this.set("domStyles",Y)},pt.prototype.applyStyles=function(){var Y=this.get("domStyles");if(!!Y){var Q=this.getContainer();this.applyChildrenStyles(Q,Y);var ht=this.get("containerClassName");if(ht&&Dt(Q,ht)){var St=Y[ht];(0,Vn.Z)(Q,St)}}},pt.prototype.applyChildrenStyles=function(Y,Q){(0,m.each)(Q,function(ht,St){var Gt=Y.getElementsByClassName(St);(0,m.each)(Gt,function($t){(0,Vn.Z)($t,ht)})})},pt.prototype.applyStyle=function(Y,Q){var ht=this.get("domStyles");(0,Vn.Z)(Q,ht[Y])},pt.prototype.createDom=function(){var Y=this.get("containerTpl");return(0,Bi.Z)(Y)},pt.prototype.initEvent=function(){},pt.prototype.removeDom=function(){var Y=this.get("container");Y&&Y.parentNode.removeChild(Y)},pt.prototype.removeEvent=function(){},pt.prototype.updateInner=function(Y){(0,m.hasKey)(Y,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},pt.prototype.resetPosition=function(){},pt}(wt),ca=Ji,Nt="g2-crosshair",Mt=Nt+"-line",dt=Nt+"-text",yt,Vt=(yt={},yt[""+Nt]={position:"relative"},yt[""+Mt]={position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.25)"},yt[""+dt]={position:"absolute",color:Ce.textColor,fontFamily:Ce.fontFamily},yt),re=function(Qt){(0,b.__extends)(pt,Qt);function pt(){return Qt!==null&&Qt.apply(this,arguments)||this}return pt.prototype.getDefaultCfg=function(){var Y=Qt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},Y),{name:"crosshair",type:"html",locationType:"region",start:{x:0,y:0},end:{x:0,y:0},capture:!1,text:null,containerTpl:'<div class="'+Nt+'"></div>',crosshairTpl:'<div class="'+Mt+'"></div>',textTpl:'<span class="'+dt+'">{content}</span>',domStyles:null,containerClassName:Nt,defaultStyles:Vt,defaultCfg:{text:{position:"start",content:null,align:"center",offset:10}}})},pt.prototype.render=function(){this.resetText(),this.resetPosition()},pt.prototype.initCrossHair=function(){var Y=this.getContainer(),Q=this.get("crosshairTpl"),ht=(0,Bi.Z)(Q);Y.appendChild(ht),this.applyStyle(Mt,ht),this.set("crosshairEl",ht)},pt.prototype.getTextPoint=function(){var Y=this.getLocation(),Q=Y.start,ht=Y.end,St=this.get("text"),Gt=St.position,$t=St.offset;return ct(Q,ht,Gt,$t)},pt.prototype.resetText=function(){var Y=this.get("text"),Q=this.get("textEl");if(Y){var ht=Y.content;if(!Q){var St=this.getContainer(),Gt=(0,m.substitute)(this.get("textTpl"),Y);Q=(0,Bi.Z)(Gt),St.appendChild(Q),this.applyStyle(dt,Q),this.set("textEl",Q)}Q.innerHTML=ht}else Q&&Q.remove()},pt.prototype.isVertical=function(Y,Q){return Y.x===Q.x},pt.prototype.resetPosition=function(){var Y=this.get("crosshairEl");Y||(this.initCrossHair(),Y=this.get("crosshairEl"));var Q=this.get("start"),ht=this.get("end"),St=Math.min(Q.x,ht.x),Gt=Math.min(Q.y,ht.y);this.isVertical(Q,ht)?(0,Vn.Z)(Y,{width:"1px",height:et(Math.abs(ht.y-Q.y))}):(0,Vn.Z)(Y,{height:"1px",width:et(Math.abs(ht.x-Q.x))}),(0,Vn.Z)(Y,{top:et(Gt),left:et(St)}),this.alignText()},pt.prototype.alignText=function(){var Y=this.get("textEl");if(Y){var Q=this.get("text").align,ht=Y.clientWidth,St=this.getTextPoint();switch(Q){case"center":St.x=St.x-ht/2;break;case"right":St.x=St.x-ht;case"left":break}(0,Vn.Z)(Y,{top:et(St.y),left:et(St.x)})}},pt.prototype.updateInner=function(Y){(0,m.hasKey)(Y,"text")&&this.resetText(),Qt.prototype.updateInner.call(this,Y)},pt}(ca),ve=re,ye=function(Qt){(0,b.__extends)(pt,Qt);function pt(){return Qt!==null&&Qt.apply(this,arguments)||this}return pt.prototype.getDefaultCfg=function(){var Y=Qt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},Y),{name:"grid",line:{},alternateColor:null,capture:!1,items:[],closed:!1,defaultCfg:{line:{type:"line",style:{lineWidth:1,stroke:Ce.lineColor}}}})},pt.prototype.getLineType=function(){var Y=this.get("line")||this.get("defaultCfg").line;return Y.type},pt.prototype.renderInner=function(Y){this.drawGrid(Y)},pt.prototype.getAlternatePath=function(Y,Q){var ht=this.getGridPath(Y),St=Q.slice(0).reverse(),Gt=this.getGridPath(St,!0),$t=this.get("closed");return $t?ht=ht.concat(Gt):(Gt[0][0]="L",ht=ht.concat(Gt),ht.push(["Z"])),ht},pt.prototype.getPathStyle=function(){return this.get("line").style},pt.prototype.drawGrid=function(Y){var Q=this,ht=this.get("line"),St=this.get("items"),Gt=this.get("alternateColor"),$t=null;(0,m.each)(St,function(oe,ue){var Se=oe.id||ue;if(ht){var Ae=Q.getPathStyle(),Ye=Q.getElementId("line-"+Se),Ue=Q.getGridPath(oe.points);Q.addShape(Y,{type:"path",name:"grid-line",id:Ye,attrs:(0,m.mix)({path:Ue},Ae)})}if(Gt&&ue>0){var fr=Q.getElementId("region-"+Se),Ar=ue%2==0;if((0,m.isString)(Gt))Ar&&Q.drawAlternateRegion(fr,Y,$t.points,oe.points,Gt);else{var wr=Ar?Gt[1]:Gt[0];Q.drawAlternateRegion(fr,Y,$t.points,oe.points,wr)}}$t=oe})},pt.prototype.drawAlternateRegion=function(Y,Q,ht,St,Gt){var $t=this.getAlternatePath(ht,St);this.addShape(Q,{type:"path",id:Y,name:"grid-region",attrs:{path:$t,fill:Gt}})},pt}(j),me=ye;function Ct(Qt,pt,Y,Q){var ht=Y-Qt,St=Q-pt;return Math.sqrt(ht*ht+St*St)}var Tt=function(Qt){(0,b.__extends)(pt,Qt);function pt(){return Qt!==null&&Qt.apply(this,arguments)||this}return pt.prototype.getDefaultCfg=function(){var Y=Qt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},Y),{type:"circle",center:null,closed:!0})},pt.prototype.getGridPath=function(Y,Q){var ht=this.getLineType(),St=this.get("closed"),Gt=[];if(Y.length)if(ht==="circle"){var $t=this.get("center"),oe=Y[0],ue=Ct($t.x,$t.y,oe.x,oe.y),Se=Q?0:1;St?(Gt.push(["M",$t.x,$t.y-ue]),Gt.push(["A",ue,ue,0,0,Se,$t.x,$t.y+ue]),Gt.push(["A",ue,ue,0,0,Se,$t.x,$t.y-ue]),Gt.push(["Z"])):(0,m.each)(Y,function(Ae,Ye){Ye===0?Gt.push(["M",Ae.x,Ae.y]):Gt.push(["A",ue,ue,0,0,Se,Ae.x,Ae.y])})}else(0,m.each)(Y,function(Ae,Ye){Ye===0?Gt.push(["M",Ae.x,Ae.y]):Gt.push(["L",Ae.x,Ae.y])}),St&&Gt.push(["Z"]);return Gt},pt}(me),Lt=Tt,Ht=function(Qt){(0,b.__extends)(pt,Qt);function pt(){return Qt!==null&&Qt.apply(this,arguments)||this}return pt.prototype.getDefaultCfg=function(){var Y=Qt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},Y),{type:"line"})},pt.prototype.getGridPath=function(Y){var Q=[];return(0,m.each)(Y,function(ht,St){St===0?Q.push(["M",ht.x,ht.y]):Q.push(["L",ht.x,ht.y])}),Q},pt}(me),qt=Ht,Ut=function(Qt){(0,b.__extends)(pt,Qt);function pt(){return Qt!==null&&Qt.apply(this,arguments)||this}return pt.prototype.getDefaultCfg=function(){var Y=Qt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},Y),{name:"legend",layout:"horizontal",locationType:"point",x:0,y:0,offsetX:0,offsetY:0,title:null,background:null})},pt.prototype.getLayoutBBox=function(){var Y=Qt.prototype.getLayoutBBox.call(this),Q=this.get("x"),ht=this.get("y"),St=this.get("offsetX"),Gt=this.get("offsetY"),$t=this.get("maxWidth"),oe=this.get("maxHeight"),ue=Q+St,Se=ht+Gt,Ae=Y.maxX-ue,Ye=Y.maxY-Se;return $t&&(Ae=Math.min(Ae,$t)),oe&&(Ye=Math.min(Ye,oe)),Xt(ue,Se,Ae,Ye)},pt.prototype.setLocation=function(Y){this.set("x",Y.x),this.set("y",Y.y),this.resetLocation()},pt.prototype.resetLocation=function(){var Y=this.get("x"),Q=this.get("y"),ht=this.get("offsetX"),St=this.get("offsetY");this.moveElementTo(this.get("group"),{x:Y+ht,y:Q+St})},pt.prototype.applyOffset=function(){this.resetLocation()},pt.prototype.getDrawPoint=function(){return this.get("currentPoint")},pt.prototype.setDrawPoint=function(Y){return this.set("currentPoint",Y)},pt.prototype.renderInner=function(Y){this.resetDraw(),this.get("title")&&this.drawTitle(Y),this.drawLegendContent(Y),this.get("background")&&this.drawBackground(Y)},pt.prototype.drawBackground=function(Y){var Q=this.get("background"),ht=Y.getBBox(),St=Bt(Q.padding),Gt=(0,b.__assign)({x:0,y:0,width:ht.width+St[1]+St[3],height:ht.height+St[0]+St[2]},Q.style),$t=this.addShape(Y,{type:"rect",id:this.getElementId("background"),name:"legend-background",attrs:Gt});$t.toBack()},pt.prototype.drawTitle=function(Y){var Q=this.get("currentPoint"),ht=this.get("title"),St=ht.spacing,Gt=ht.style,$t=ht.text,oe=this.addShape(Y,{type:"text",id:this.getElementId("title"),name:"legend-title",attrs:(0,b.__assign)({text:$t,x:Q.x,y:Q.y},Gt)}),ue=oe.getBBox();this.set("currentPoint",{x:Q.x,y:ue.maxY+St})},pt.prototype.resetDraw=function(){var Y=this.get("background"),Q={x:0,y:0};if(Y){var ht=Bt(Y.padding);Q.x=ht[3],Q.y=ht[0]}this.set("currentPoint",Q)},pt}(j),be=Ut,_e=function(Qt){(0,b.__extends)(pt,Qt);function pt(){var Y=Qt!==null&&Qt.apply(this,arguments)||this;return Y.currentPageIndex=1,Y.totalPagesCnt=1,Y.pageWidth=0,Y.pageHeight=0,Y.startX=0,Y.startY=0,Y.onNavigationBack=function(){var Q=Y.getElementByLocalId("item-group");if(Y.currentPageIndex>1){Y.currentPageIndex-=1,Y.updateNavigation();var ht=Y.getCurrentNavigationMatrix();Y.get("animate")?Q.animate({matrix:ht},100):Q.attr({matrix:ht})}},Y.onNavigationAfter=function(){var Q=Y.getElementByLocalId("item-group");if(Y.currentPageIndex<Y.totalPagesCnt){Y.currentPageIndex+=1,Y.updateNavigation();var ht=Y.getCurrentNavigationMatrix();Y.get("animate")?Q.animate({matrix:ht},100):Q.attr({matrix:ht})}},Y}return pt.prototype.getDefaultCfg=function(){var Y=Qt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},Y),{name:"legend",type:"category",itemSpacing:24,maxItemWidth:null,itemWidth:null,itemHeight:null,itemName:{},itemValue:null,maxWidth:null,maxHeight:null,marker:{},items:[],itemStates:{},itemBackground:{},defaultCfg:{title:{spacing:5,style:{fill:Ce.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}},background:{padding:5,style:{stroke:Ce.lineColor}},itemBackground:{style:{opacity:0,fill:"#fff"}},itemName:{spacing:16,style:{fill:Ce.textColor,fontSize:12,textAlign:"start",textBaseline:"middle"}},marker:{spacing:8,style:{r:6,symbol:"circle"}},itemValue:{alignRight:!1,formatter:null,style:{fill:Ce.textColor,fontSize:12,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:Ce.uncheckedColor},markerStyle:{fill:Ce.uncheckedColor,stroke:Ce.uncheckedColor}},inactive:{nameStyle:{fill:Ce.uncheckedColor},markerStyle:{opacity:.2}}}}})},pt.prototype.isList=function(){return!0},pt.prototype.getItems=function(){return this.get("items")},pt.prototype.setItems=function(Y){this.update({items:Y})},pt.prototype.updateItem=function(Y,Q){(0,m.mix)(Y,Q),this.clear(),this.render()},pt.prototype.clearItems=function(){var Y=this.getElementByLocalId("item-group");Y&&Y.clear()},pt.prototype.setItemState=function(Y,Q,ht){Y[Q]=ht;var St=this.getElementByLocalId("item-"+Y.id);if(St){var Gt=this.getItems(),$t=Gt.indexOf(Y),oe=this.createOffScreenGroup(),ue=this.drawItem(Y,$t,this.getItemHeight(),oe);this.updateElements(ue,St),this.clearUpdateStatus(St)}},pt.prototype.hasState=function(Y,Q){return!!Y[Q]},pt.prototype.getItemStates=function(Y){var Q=this.get("itemStates"),ht=[];return(0,m.each)(Q,function(St,Gt){Y[Gt]&&ht.push(Gt)}),ht},pt.prototype.clearItemsState=function(Y){var Q=this,ht=this.getItemsByState(Y);(0,m.each)(ht,function(St){Q.setItemState(St,Y,!1)})},pt.prototype.getItemsByState=function(Y){var Q=this,ht=this.getItems();return(0,m.filter)(ht,function(St){return Q.hasState(St,Y)})},pt.prototype.drawLegendContent=function(Y){this.processItems(),this.drawItems(Y)},pt.prototype.processItems=function(){var Y=this.get("items");(0,m.each)(Y,function(Q){Q.id||(Q.id=Q.name)})},pt.prototype.drawItems=function(Y){var Q=this,ht=this.addGroup(Y,{id:this.getElementId("item-container-group"),name:"legend-item-container-group"}),St=this.addGroup(ht,{id:this.getElementId("item-group"),name:"legend-item-group"}),Gt=this.getItemHeight(),$t=this.get("itemWidth"),oe=this.get("itemSpacing"),ue=this.get("currentPoint"),Se=ue.x,Ae=ue.y,Ye=this.get("layout"),Ue=this.get("items"),fr=!1,Ar=0,wr=this.get("maxWidth"),Zr=this.get("maxHeight");(0,m.each)(Ue,function($r,Kr){var Rt=Q.drawItem($r,Kr,Gt,St),ie=Rt.getBBox(),pe=$t||ie.width;pe>Ar&&(Ar=pe),Ye==="horizontal"?(wr&&wr<ue.x+pe-Se&&(fr=!0,ue.x=Se,ue.y+=Gt),Q.moveElementTo(Rt,ue),ue.x+=pe+oe):(Zr&&Zr<ue.y+Gt-Ae&&(fr=!0,ue.x+=Ar+oe,ue.y=Ae,Ar=0),Q.moveElementTo(Rt,ue),ue.y+=Gt)}),fr&&this.get("flipPage")&&(this.pageHeight=0,this.pageWidth=0,this.totalPagesCnt=1,this.startX=Se,this.startY=Ae,this.adjustNavigation(Y,St))},pt.prototype.getItemHeight=function(){var Y=this.get("itemHeight");if(!Y){var Q=this.get("itemName");Q&&(Y=Q.style.fontSize+8)}return Y},pt.prototype.drawMarker=function(Y,Q,ht,St){var Gt=(0,b.__assign)((0,b.__assign)((0,b.__assign)({x:0,y:St/2},Q.style),{symbol:(0,m.get)(ht.marker,"symbol","circle")}),(0,m.get)(ht.marker,"style",{})),$t=this.addShape(Y,{type:"marker",id:this.getElementId("item-"+ht.id+"-marker"),name:"legend-item-marker",attrs:Gt}),oe=$t.getBBox();$t.attr("x",oe.width/2);var ue=$t.attr(),Se=ue.stroke,Ae=ue.fill;return Se&&$t.set("isStroke",!0),Ae&&$t.set("isFill",!0),$t},pt.prototype.drawItemText=function(Y,Q,ht,St,Gt,$t,oe){var ue=ht.formatter,Se=(0,b.__assign)({x:$t,y:Gt/2,text:ue?ue(St[Q],St,oe):St[Q]},ht.style);return this.addShape(Y,{type:"text",id:this.getElementId("item-"+St.id+"-"+Q),name:"legend-item-"+Q,attrs:Se})},pt.prototype.drawItem=function(Y,Q,ht,St){var Gt="item-"+Y.id,$t=this.addGroup(St,{name:"legend-item-container",id:this.getElementId("item-container-"+Gt),delegateObject:{item:Y,index:Q}}),oe=this.addGroup($t,{name:"legend-item",id:this.getElementId(Gt),delegateObject:{item:Y,index:Q}}),ue=this.get("marker"),Se=this.get("itemName"),Ae=this.get("itemValue"),Ye=this.get("itemBackground"),Ue=this.getLimitItemWidth(),fr=0;if(ue){var Ar=this.drawMarker(oe,ue,Y,ht);fr=Ar.getBBox().maxX+ue.spacing}if(Se){var wr=this.drawItemText(oe,"name",Se,Y,ht,fr,Q);Ue&&ne(!0,wr,(0,m.clamp)(Ue-fr,0,Ue)),fr=wr.getBBox().maxX+Se.spacing}if(Ae){var Zr=this.drawItemText(oe,"value",Ae,Y,ht,fr,Q);Ue&&(Ae.alignRight?(Zr.attr({textAlign:"right",x:Ue}),ne(!0,Zr,(0,m.clamp)(Ue-fr,0,Ue),"head")):ne(!0,Zr,(0,m.clamp)(Ue-fr,0,Ue)))}if(Ye){var $r=oe.getBBox(),Kr=this.addShape(oe,{type:"rect",name:"legend-item-background",id:this.getElementId(Gt+"-background"),attrs:(0,b.__assign)({x:0,y:0,width:$r.width,height:ht},Ye.style)});Kr.toBack()}return this.applyItemStates(Y,oe),oe},pt.prototype.adjustNavigation=function(Y,Q){var ht=this,St=this.startX,Gt=this.startY,$t=this.get("layout"),oe=Q.findAll(function(pe){return pe.get("name")==="legend-item"}),ue=this.get("maxWidth"),Se=this.get("maxHeight"),Ae=this.get("itemWidth"),Ye=this.get("itemSpacing"),Ue=this.getItemHeight(),fr=this.drawNavigation(Y,$t,"00/00",12),Ar=fr.getBBox(),wr={x:St,y:Gt},Zr=1,$r=0,Kr=0,Rt=0;if($t==="horizontal")this.pageHeight=Ue,(0,m.each)(oe,function(pe){var Me=pe.getBBox(),Ne=Ae||Me.width;($r&&$r<wr.x+Ne+Ye||ue<wr.x+Ne+Ye+Ar.width)&&(Zr===1&&($r=wr.x+Ye,ht.pageWidth=$r,ht.moveElementTo(fr,{x:ue-Ye-Ar.width-Ar.minX,y:wr.y+Ue/2-Ar.height/2-Ar.minY})),Zr+=1,wr.x=St,wr.y+=Ue),ht.moveElementTo(pe,wr),pe.getParent().setClip({type:"rect",attrs:{x:wr.x,y:wr.y,width:Ne+Ye,height:Ue}}),wr.x+=Ne+Ye});else{(0,m.each)(oe,function(pe){var Me=pe.getBBox();Me.width>Kr&&(Kr=Me.width)}),Rt=Kr,Kr+=Ye,ue&&(Kr=Math.min(ue,Kr),Rt=Math.min(ue,Rt)),this.pageWidth=Kr,this.pageHeight=Se-Math.max(Ar.height,Ue);var ie=Math.floor(this.pageHeight/Ue);(0,m.each)(oe,function(pe,Me){Me!==0&&Me%ie==0&&(Zr+=1,wr.x+=Kr,wr.y=Gt),ht.moveElementTo(pe,wr),pe.getParent().setClip({type:"rect",attrs:{x:wr.x,y:wr.y,width:Kr,height:Ue}}),wr.y+=Ue}),this.totalPagesCnt=Zr,this.moveElementTo(fr,{x:St+Rt/2-Ar.width/2-Ar.minX,y:Se-Ar.height-Ar.minY})}this.pageHeight&&this.pageWidth&&Q.getParent().setClip({type:"rect",attrs:{x:this.startX,y:this.startY,width:this.pageWidth,height:this.pageHeight}}),this.totalPagesCnt=Zr,this.currentPageIndex>this.totalPagesCnt&&(this.currentPageIndex=1),this.updateNavigation(fr),Q.attr("matrix",this.getCurrentNavigationMatrix())},pt.prototype.drawNavigation=function(Y,Q,ht,St){var Gt={x:0,y:0},$t=this.addGroup(Y,{id:this.getElementId("navigation-group"),name:"legend-navigation"}),oe=this.drawArrow($t,Gt,"navigation-arrow-left",Q==="horizontal"?"up":"left",St);oe.on("click",this.onNavigationBack);var ue=oe.getBBox();Gt.x+=ue.width+2;var Se=this.addShape($t,{type:"text",id:this.getElementId("navigation-text"),name:"navigation-text",attrs:{x:Gt.x,y:Gt.y+St/2,text:ht,fontSize:12,fill:"#ccc",textBaseline:"middle"}}),Ae=Se.getBBox();Gt.x+=Ae.width+2;var Ye=this.drawArrow($t,Gt,"navigation-arrow-right",Q==="horizontal"?"down":"right",St);return Ye.on("click",this.onNavigationAfter),$t},pt.prototype.updateNavigation=function(Y){var Q=this.currentPageIndex+"/"+this.totalPagesCnt,ht=Y?Y.getChildren()[1]:this.getElementByLocalId("navigation-text"),St=Y?Y.findById(this.getElementId("navigation-arrow-left")):this.getElementByLocalId("navigation-arrow-left"),Gt=Y?Y.findById(this.getElementId("navigation-arrow-right")):this.getElementByLocalId("navigation-arrow-right"),$t=ht.getBBox();ht.attr("text",Q);var oe=ht.getBBox();ht.attr("x",ht.attr("x")-(oe.width-$t.width)/2),St.attr("opacity",this.currentPageIndex===1?.45:1),St.attr("cursor",this.currentPageIndex===1?"not-allowed":"pointer"),Gt.attr("opacity",this.currentPageIndex===this.totalPagesCnt?.45:1),Gt.attr("cursor",this.currentPageIndex===this.totalPagesCnt?"not-allowed":"pointer")},pt.prototype.drawArrow=function(Y,Q,ht,St,Gt){var $t=Q.x,oe=Q.y,ue={right:90*Math.PI/180,left:(360-90)*Math.PI/180,up:0,down:180*Math.PI/180},Se=this.addShape(Y,{type:"path",id:this.getElementId(ht),name:ht,attrs:{path:[["M",$t+Gt/2,oe],["L",$t,oe+Gt],["L",$t+Gt,oe+Gt],["Z"]],fill:"#000",cursor:"pointer"}});return Se.attr("matrix",$({x:$t+Gt/2,y:oe+Gt/2},ue[St])),Se},pt.prototype.getCurrentNavigationMatrix=function(){var Y=this,Q=Y.currentPageIndex,ht=Y.pageWidth,St=Y.pageHeight,Gt=this.get("layout"),$t=Gt==="horizontal"?{x:0,y:St*(1-Q)}:{x:ht*(1-Q),y:0};return Z($t)},pt.prototype.applyItemStates=function(Y,Q){var ht=this.getItemStates(Y),St=ht.length>0;if(St){var Gt=Q.getChildren(),$t=this.get("itemStates");(0,m.each)(Gt,function(oe){var ue=oe.get("name"),Se=ue.split("-")[2],Ae=xe(Y,Se,$t);Ae&&(oe.attr(Ae),Se==="marker"&&!(oe.get("isStroke")&&oe.get("isFill"))&&(oe.get("isStroke")&&oe.attr("fill",null),oe.get("isFill")&&oe.attr("stroke",null)))})}},pt.prototype.getLimitItemWidth=function(){var Y=this.get("itemWidth"),Q=this.get("maxItemWidth");return Q?Y&&(Q=Y<=Q?Y:Q):Y&&(Q=Y),Q},pt}(be),je=_e,Te=1.4,Le=.4,Fe=function(Qt){(0,b.__extends)(pt,Qt);function pt(){return Qt!==null&&Qt.apply(this,arguments)||this}return pt.prototype.getDefaultCfg=function(){var Y=Qt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},Y),{type:"continue",min:0,max:100,value:null,colors:[],track:{},rail:{},label:{},handler:{},slidable:!0,tip:null,step:null,maxWidth:null,maxHeight:null,defaultCfg:{label:{align:"rail",spacing:5,formatter:null,style:{fontSize:12,fill:Ce.textColor,textBaseline:"middle",fontFamily:Ce.fontFamily}},handler:{size:10,style:{fill:"#fff",stroke:"#333"}},track:{},rail:{type:"color",size:20,defaultLength:100,style:{fill:"#DCDEE2"}},title:{spacing:5,style:{fill:Ce.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}}}})},pt.prototype.isSlider=function(){return!0},pt.prototype.getValue=function(){return this.getCurrentValue()},pt.prototype.getRange=function(){return{min:this.get("min"),max:this.get("max")}},pt.prototype.setRange=function(Y,Q){this.update({min:Y,max:Q})},pt.prototype.setValue=function(Y){var Q=this.getValue();this.set("value",Y);var ht=this.get("group");this.resetTrackClip(),this.get("slidable")&&this.resetHandlers(ht),this.delegateEmit("valuechanged",{originValue:Q,value:Y})},pt.prototype.initEvent=function(){var Y=this.get("group");this.bindSliderEvent(Y),this.bindRailEvent(Y),this.bindTrackEvent(Y)},pt.prototype.drawLegendContent=function(Y){this.drawRail(Y),this.drawLabels(Y),this.fixedElements(Y),this.resetTrack(Y),this.resetTrackClip(Y),this.get("slidable")&&this.resetHandlers(Y)},pt.prototype.bindSliderEvent=function(Y){this.bindHandlersEvent(Y)},pt.prototype.bindHandlersEvent=function(Y){var Q=this;Y.on("legend-handler-min:drag",function(ht){var St=Q.getValueByCanvasPoint(ht.x,ht.y),Gt=Q.getCurrentValue(),$t=Gt[1];$t<St&&($t=St),Q.setValue([St,$t])}),Y.on("legend-handler-max:drag",function(ht){var St=Q.getValueByCanvasPoint(ht.x,ht.y),Gt=Q.getCurrentValue(),$t=Gt[0];$t>St&&($t=St),Q.setValue([$t,St])})},pt.prototype.bindRailEvent=function(Y){},pt.prototype.bindTrackEvent=function(Y){var Q=this,ht=null;Y.on("legend-track:dragstart",function(St){ht={x:St.x,y:St.y}}),Y.on("legend-track:drag",function(St){if(!!ht){var Gt=Q.getValueByCanvasPoint(ht.x,ht.y),$t=Q.getValueByCanvasPoint(St.x,St.y),oe=Q.getCurrentValue(),ue=oe[1]-oe[0],Se=Q.getRange(),Ae=$t-Gt;Ae<0?oe[0]+Ae>Se.min?Q.setValue([oe[0]+Ae,oe[1]+Ae]):Q.setValue([Se.min,Se.min+ue]):Ae>0&&(Ae>0&&oe[1]+Ae<Se.max?Q.setValue([oe[0]+Ae,oe[1]+Ae]):Q.setValue([Se.max-ue,Se.max])),ht={x:St.x,y:St.y}}}),Y.on("legend-track:dragend",function(St){ht=null})},pt.prototype.drawLabels=function(Y){this.drawLabel("min",Y),this.drawLabel("max",Y)},pt.prototype.drawLabel=function(Y,Q){var ht=this.get("label"),St=ht.style,Gt=ht.align,$t=this.get(Y),oe=this.getLabelAlignAttrs(Y,Gt),ue="label-"+Y;this.addShape(Q,{type:"text",id:this.getElementId(ue),name:"legend-label-"+Y,attrs:(0,b.__assign)((0,b.__assign)({x:0,y:0,text:$t},St),oe)})},pt.prototype.getLabelAlignAttrs=function(Y,Q){var ht=this.isVertical(),St="center",Gt="middle";return ht?(St="start",Q!=="rail"?Y==="min"?Gt="top":Gt="bottom":Gt="top"):Q!=="rail"?(Gt="top",Y==="min"?St="start":St="end"):(St="start",Gt="middle"),{textAlign:St,textBaseline:Gt}},pt.prototype.getRailPath=function(Y,Q,ht,St){var Gt=this.get("rail"),$t=Gt.size,oe=Gt.defaultLength,ue=Gt.type,Se=this.isVertical(),Ae=oe,Ye=ht,Ue=St;Ye||(Ye=Se?$t:Ae),Ue||(Ue=Se?Ae:$t);var fr=[];return ue==="color"?(fr.push(["M",Y,Q]),fr.push(["L",Y+Ye,Q]),fr.push(["L",Y+Ye,Q+Ue]),fr.push(["L",Y,Q+Ue]),fr.push(["Z"])):(fr.push(["M",Y+Ye,Q]),fr.push(["L",Y+Ye,Q+Ue]),fr.push(["L",Y,Q+Ue]),fr.push(["Z"])),fr},pt.prototype.drawRail=function(Y){var Q=this.get("rail"),ht=Q.style;this.addShape(Y,{type:"path",id:this.getElementId("rail"),name:"legend-rail",attrs:(0,b.__assign)({path:this.getRailPath(0,0)},ht)})},pt.prototype.getTrackColor=function(Y){var Q=Y.length;if(!Q)return null;if(Q===1)return Y[0];var ht;this.isVertical()?ht="l(90)":ht="l(0)";for(var St=0;St<Q;St++){var Gt=St/(Q-1);ht+=" "+Gt+":"+Y[St]}return ht},pt.prototype.getTrackPath=function(Y){var Q=this.getRailShape(Y),ht=Q.attr("path");return(0,m.clone)(ht)},pt.prototype.getClipTrackAttrs=function(Y){var Q=this.getCurrentValue(),ht=Q[0],St=Q[1],Gt=this.getRailBBox(Y),$t=this.getPointByValue(ht,Y),oe=this.getPointByValue(St,Y),ue=this.isVertical(),Se,Ae,Ye,Ue;return ue?(Se=Gt.minX,Ae=$t.y,Ye=Gt.width,Ue=oe.y-$t.y):(Se=$t.x,Ae=Gt.minY,Ye=oe.x-$t.x,Ue=Gt.height),{x:Se,y:Ae,width:Ye,height:Ue}},pt.prototype.getTrackAttrs=function(Y){var Q=this.get("track"),ht=this.get("colors"),St=this.getTrackPath(Y);return(0,m.mix)({path:St,fill:this.getTrackColor(ht)},Q.style)},pt.prototype.resetTrackClip=function(Y){var Q=Y||this.get("group"),ht=this.getElementId("track"),St=Q.findById(ht),Gt=St.getClip(),$t=this.getClipTrackAttrs(Y);Gt?Gt.attr($t):St.setClip({type:"rect",attrs:$t})},pt.prototype.resetTrack=function(Y){var Q=this.getElementId("track"),ht=Y.findById(Q),St=this.getTrackAttrs(Y);ht?ht.attr(St):this.addShape(Y,{type:"path",id:Q,draggable:this.get("slidable"),name:"legend-track",attrs:St})},pt.prototype.getPointByValue=function(Y,Q){var ht=this.getRange(),St=ht.min,Gt=ht.max,$t=(Y-St)/(Gt-St),oe=this.getRailBBox(Q),ue=this.isVertical(),Se={x:0,y:0};return ue?(Se.x=oe.minX+oe.width/2,Se.y=z(oe.minY,oe.maxY,$t)):(Se.x=z(oe.minX,oe.maxX,$t),Se.y=oe.minY+oe.height/2),Se},pt.prototype.getRailShape=function(Y){var Q=Y||this.get("group");return Q.findById(this.getElementId("rail"))},pt.prototype.getRailBBox=function(Y){var Q=this.getRailShape(Y),ht=Q.getBBox();return ht},pt.prototype.getRailCanvasBBox=function(){var Y=this.get("group"),Q=Y.findById(this.getElementId("rail")),ht=Q.getCanvasBBox();return ht},pt.prototype.isVertical=function(){return this.get("layout")==="vertical"},pt.prototype.getValueByCanvasPoint=function(Y,Q){var ht=this.getRange(),St=ht.min,Gt=ht.max,$t=this.getRailCanvasBBox(),oe=this.isVertical(),ue=this.get("step"),Se;oe?Se=(Q-$t.minY)/$t.height:Se=(Y-$t.minX)/$t.width;var Ae=z(St,Gt,Se);if(ue){var Ye=Math.round((Ae-St)/ue);Ae=St+Ye*ue}return Ae>Gt&&(Ae=Gt),Ae<St&&(Ae=St),Ae},pt.prototype.getCurrentValue=function(){var Y=this.get("value");return Y||(Y=[this.get("min"),this.get("max")]),Y},pt.prototype.resetHandlers=function(Y){var Q=this.getCurrentValue(),ht=Q[0],St=Q[1];this.resetHandler(Y,"min",ht),this.resetHandler(Y,"max",St)},pt.prototype.getHandlerPath=function(Y,Q){var ht=this.isVertical(),St=[],Gt=Y.size,$t=Q.x,oe=Q.y,ue=Gt*Te,Se=Gt/2,Ae=Gt/6;if(ht){var Ye=$t+ue*Le;St.push(["M",$t,oe]),St.push(["L",Ye,oe+Se]),St.push(["L",$t+ue,oe+Se]),St.push(["L",$t+ue,oe-Se]),St.push(["L",Ye,oe-Se]),St.push(["Z"]),St.push(["M",Ye,oe+Ae]),St.push(["L",$t+ue-2,oe+Ae]),St.push(["M",Ye,oe-Ae]),St.push(["L",$t+ue-2,oe-Ae])}else{var Ue=oe+ue*Le;St.push(["M",$t,oe]),St.push(["L",$t-Se,Ue]),St.push(["L",$t-Se,oe+ue]),St.push(["L",$t+Se,oe+ue]),St.push(["L",$t+Se,Ue]),St.push(["Z"]),St.push(["M",$t-Ae,Ue]),St.push(["L",$t-Ae,oe+ue-2]),St.push(["M",$t+Ae,Ue]),St.push(["L",$t+Ae,oe+ue-2])}return St},pt.prototype.resetHandler=function(Y,Q,ht){var St=this.getPointByValue(ht,Y),Gt=this.get("handler"),$t=this.getHandlerPath(Gt,St),oe=this.getElementId("handler-"+Q),ue=Y.findById(oe),Se=this.isVertical();ue?ue.attr("path",$t):this.addShape(Y,{type:"path",name:"legend-handler-"+Q,draggable:!0,id:oe,attrs:(0,b.__assign)((0,b.__assign)({path:$t},Gt.style),{cursor:Se?"ns-resize":"ew-resize"})})},pt.prototype.fixedElements=function(Y){var Q=Y.findById(this.getElementId("rail")),ht=Y.findById(this.getElementId("label-min")),St=Y.findById(this.getElementId("label-max")),Gt=this.getDrawPoint();this.isVertical()?this.fixedVertail(ht,St,Q,Gt):this.fixedHorizontal(ht,St,Q,Gt)},pt.prototype.fitRailLength=function(Y,Q,ht,St){var Gt=this.isVertical(),$t=Gt?"height":"width",oe=this.get("label"),ue=oe.align,Se=oe.spacing,Ae=this.get("max"+(0,m.upperFirst)($t));if(Ae){var Ye=ue==="rail"?ht[$t]+Y[$t]+Q[$t]+Se*2:ht[$t],Ue=Ye-Ae;Ue>0&&this.changeRailLength(St,$t,ht[$t]-Ue)}},pt.prototype.changeRailLength=function(Y,Q,ht){var St=Y.getBBox(),Gt;Q==="height"?Gt=this.getRailPath(St.x,St.y,St.width,ht):Gt=this.getRailPath(St.x,St.y,ht,St.height),Y.attr("path",Gt)},pt.prototype.changeRailPosition=function(Y,Q,ht){var St=Y.getBBox(),Gt=this.getRailPath(Q,ht,St.width,St.height);Y.attr("path",Gt)},pt.prototype.fixedHorizontal=function(Y,Q,ht,St){var Gt=this.get("label"),$t=Gt.align,oe=Gt.spacing,ue=ht.getBBox(),Se=Y.getBBox(),Ae=Q.getBBox(),Ye=ue.height;this.fitRailLength(Se,Ae,ue,ht),ue=ht.getBBox(),$t==="rail"?(Y.attr({x:St.x,y:St.y+Ye/2}),this.changeRailPosition(ht,St.x+Se.width+oe,St.y),Q.attr({x:St.x+Se.width+ue.width+oe*2,y:St.y+Ye/2})):$t==="top"?(Y.attr({x:St.x,y:St.y}),Q.attr({x:St.x+ue.width,y:St.y}),this.changeRailPosition(ht,St.x,St.y+Se.height+oe)):(this.changeRailPosition(ht,St.x,St.y),Y.attr({x:St.x,y:St.y+ue.height+oe}),Q.attr({x:St.x+ue.width,y:St.y+ue.height+oe}))},pt.prototype.fixedVertail=function(Y,Q,ht,St){var Gt=this.get("label"),$t=Gt.align,oe=Gt.spacing,ue=ht.getBBox(),Se=Y.getBBox(),Ae=Q.getBBox();if(this.fitRailLength(Se,Ae,ue,ht),ue=ht.getBBox(),$t==="rail")Y.attr({x:St.x,y:St.y}),this.changeRailPosition(ht,St.x,St.y+Se.height+oe),Q.attr({x:St.x,y:St.y+Se.height+ue.height+oe*2});else if($t==="right")Y.attr({x:St.x+ue.width+oe,y:St.y}),this.changeRailPosition(ht,St.x,St.y),Q.attr({x:St.x+ue.width+oe,y:St.y+ue.height});else{var Ye=Math.max(Se.width,Ae.width);Y.attr({x:St.x,y:St.y}),this.changeRailPosition(ht,St.x+Ye+oe,St.y),Q.attr({x:St.x,y:St.y+ue.height})}},pt}(be),ir=Fe,Or=d(55223),Tr="g2-tooltip",jr="g2-tooltip-title",fn="g2-tooltip-list",jn="g2-tooltip-list-item",Rn="g2-tooltip-marker",Ui="g2-tooltip-value",vi="g2-tooltip-name",Ci="g2-tooltip-crosshair-x",Di="g2-tooltip-crosshair-y",an,ri=(an={},an[""+Tr]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:Ce.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},an[""+jr]={marginBottom:"4px"},an[""+fn]={margin:"0px",listStyleType:"none",padding:"0px"},an[""+jn]={listStyleType:"none",marginBottom:"4px"},an[""+Rn]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},an[""+Ui]={display:"inline-block",float:"right",marginLeft:"30px"},an[""+Ci]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},an[""+Di]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},an);function ni(Qt,pt,Y,Q,ht){var St={left:Qt<ht.x,right:Qt+Y>ht.x+ht.width,top:pt<ht.y,bottom:pt+Q>ht.y+ht.height};return St}function Hn(Qt,pt,Y,Q,ht,St){var Gt=Qt,$t=pt;switch(St){case"left":Gt=Qt-Q-Y,$t=pt-ht/2;break;case"right":Gt=Qt+Y,$t=pt-ht/2;break;case"top":Gt=Qt-Q/2,$t=pt-ht-Y;break;case"bottom":Gt=Qt-Q/2,$t=pt+Y;break;default:Gt=Qt+Y,$t=pt-ht-Y;break}return{x:Gt,y:$t}}function na(Qt,pt,Y,Q,ht,St,Gt){var $t=Hn(Qt,pt,Y,Q,ht,St);if(Gt){var oe=ni($t.x,$t.y,Q,ht,Gt);St==="auto"?(oe.right&&($t.x=Math.max(0,Qt-Q-Y)),oe.top&&($t.y=Math.max(0,pt-ht-Y))):St==="top"||St==="bottom"?(oe.left&&($t.x=Gt.x),oe.right&&($t.x=Gt.x+Gt.width-Q),St==="top"&&oe.top&&($t.y=pt+Y),St==="bottom"&&oe.bottom&&($t.y=pt-ht-Y)):(oe.top&&($t.y=Gt.y),oe.bottom&&($t.y=Gt.y+Gt.height-ht),St==="left"&&oe.left&&($t.x=Qt+Y),St==="right"&&oe.right&&($t.x=Qt-Q-Y))}return $t}function ii(Qt,pt){var Y=!1;return(0,m.each)(pt,function(Q){if((0,m.hasKey)(Qt,Q))return Y=!0,!1}),Y}var va=function(Qt){(0,b.__extends)(pt,Qt);function pt(){return Qt!==null&&Qt.apply(this,arguments)||this}return pt.prototype.getDefaultCfg=function(){var Y=Qt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},Y),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+Tr+'"><div class="'+jr+'"></div><ul class="'+fn+'"></ul></div>',itemTpl:'<li class="'+jn+`" data-index={index}>
          <span class="`+Rn+`" style="background:{color}"></span>
          <span class="`+vi+`">{name}</span>:
          <span class="`+Ui+`">{value}</span>
        </li>`,xCrosshairTpl:'<div class="'+Ci+'"></div>',yCrosshairTpl:'<div class="'+Di+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:Tr,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:ri})},pt.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},pt.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},pt.prototype.show=function(){var Y=this.getContainer();!Y||this.destroyed||(this.set("visible",!0),(0,Vn.Z)(Y,{visibility:"visible"}),this.setCrossHairsVisible(!0))},pt.prototype.hide=function(){var Y=this.getContainer();!Y||this.destroyed||(this.set("visible",!1),(0,Vn.Z)(Y,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},pt.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},pt.prototype.setLocation=function(Y){this.set("x",Y.x),this.set("y",Y.y),this.resetPosition()},pt.prototype.setCrossHairsVisible=function(Y){var Q=Y?"":"none",ht=this.get("xCrosshairDom"),St=this.get("yCrosshairDom");ht&&(0,Vn.Z)(ht,{display:Q}),St&&(0,Vn.Z)(St,{display:Q})},pt.prototype.initContainer=function(){if(Qt.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var Y=this.getHtmlContentNode();this.get("parent").appendChild(Y),this.set("container",Y),this.resetStyles(),this.applyStyles()}},pt.prototype.updateInner=function(Y){this.get("customContent")?this.renderCustomContent():(ii(Y,["title","showTitle"])&&this.resetTitle(),(0,m.hasKey)(Y,"items")&&this.renderItems()),Qt.prototype.updateInner.call(this,Y)},pt.prototype.initDom=function(){this.cacheDoms()},pt.prototype.removeDom=function(){Qt.prototype.removeDom.call(this),this.clearCrosshairs()},pt.prototype.resetPosition=function(){var Y=this.get("x"),Q=this.get("y"),ht=this.get("offset"),St=this.getOffset(),Gt=St.offsetX,$t=St.offsetY,oe=this.get("position"),ue=this.get("region"),Se=this.getContainer(),Ae=this.getBBox(),Ye=Ae.width,Ue=Ae.height,fr;ue&&(fr=It(ue));var Ar=na(Y,Q,ht,Ye,Ue,oe,fr);(0,Vn.Z)(Se,{left:et(Ar.x+Gt),top:et(Ar.y+$t)}),this.resetCrosshairs()},pt.prototype.renderCustomContent=function(){var Y=this.getHtmlContentNode(),Q=this.get("parent"),ht=this.get("container");ht&&ht.parentNode===Q?Q.replaceChild(Y,ht):Q.appendChild(Y),this.set("container",Y),this.resetStyles(),this.applyStyles()},pt.prototype.getHtmlContentNode=function(){var Y,Q=this.get("customContent");if(Q){var ht=Q(this.get("title"),this.get("items"));(0,m.isElement)(ht)?Y=ht:Y=(0,Bi.Z)(ht)}return Y},pt.prototype.cacheDoms=function(){var Y=this.getContainer(),Q=Y.getElementsByClassName(jr)[0],ht=Y.getElementsByClassName(fn)[0];this.set("titleDom",Q),this.set("listDom",ht)},pt.prototype.resetTitle=function(){var Y=this.get("title"),Q=this.get("showTitle");Q&&Y?this.setTitle(Y):this.setTitle("")},pt.prototype.setTitle=function(Y){var Q=this.get("titleDom");Q&&(Q.innerText=Y)},pt.prototype.resetCrosshairs=function(){var Y=this.get("crosshairsRegion"),Q=this.get("crosshairs");if(!Y||!Q)this.clearCrosshairs();else{var ht=It(Y),St=this.get("xCrosshairDom"),Gt=this.get("yCrosshairDom");Q==="x"?(this.resetCrosshair("x",ht),Gt&&(Gt.remove(),this.set("yCrosshairDom",null))):Q==="y"?(this.resetCrosshair("y",ht),St&&(St.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",ht),this.resetCrosshair("y",ht)),this.setCrossHairsVisible(this.get("visible"))}},pt.prototype.resetCrosshair=function(Y,Q){var ht=this.checkCrosshair(Y),St=this.get(Y);Y==="x"?(0,Vn.Z)(ht,{left:et(St),top:et(Q.y),height:et(Q.height)}):(0,Vn.Z)(ht,{top:et(St),left:et(Q.x),width:et(Q.width)})},pt.prototype.checkCrosshair=function(Y){var Q=Y+"CrosshairDom",ht=Y+"CrosshairTpl",St="CROSSHAIR_"+Y.toUpperCase(),Gt=w[St],$t=this.get(Q),oe=this.get("parent");return $t||($t=(0,Bi.Z)(this.get(ht)),this.applyStyle(Gt,$t),oe.appendChild($t),this.set(Q,$t)),$t},pt.prototype.renderItems=function(){this.clearItemDoms();var Y=this.get("items"),Q=this.get("itemTpl"),ht=this.get("listDom");ht&&((0,m.each)(Y,function(St){var Gt=Or.default.toCSSGradient(St.color),$t=(0,b.__assign)((0,b.__assign)({},St),{color:Gt}),oe=(0,m.substitute)(Q,$t),ue=(0,Bi.Z)(oe);ht.appendChild(ue)}),this.applyChildrenStyles(ht,this.get("domStyles")))},pt.prototype.clearItemDoms=function(){this.get("listDom")&&Et(this.get("listDom"))},pt.prototype.clearCrosshairs=function(){var Y=this.get("xCrosshairDom"),Q=this.get("yCrosshairDom");Y&&Y.remove(),Q&&Q.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},pt}(ca),Ma=va,ia={opacity:0},di={stroke:"#C5C5C5",strokeOpacity:.85},aa={fill:"#CACED4",opacity:.85},Mi=d(57350),Kn=d(2443);function Ei(Qt){return(0,m.map)(Qt,function(pt,Y){var Q=Y===0?"M":"L",ht=pt[0],St=pt[1];return[Q,ht,St]})}function qi(Qt){return Ei(Qt)}function Ea(Qt){if(Qt.length<=2)return qi(Qt);var pt=[];(0,m.each)(Qt,function(Gt){(0,m.isEqual)(Gt,pt.slice(pt.length-2))||pt.push(Gt[0],Gt[1])});var Y=(0,Mi.catmullRom2Bezier)(pt,!1),Q=(0,m.head)(Qt),ht=Q[0],St=Q[1];return Y.unshift(["M",ht,St]),Y}function _a(Qt,pt,Y,Q){Q===void 0&&(Q=!0);var ht=new Kn.Linear({values:Qt}),St=new Kn.Category({values:(0,m.map)(Qt,function($t,oe){return oe})}),Gt=(0,m.map)(Qt,function($t,oe){return[St.scale(oe)*pt,Y-ht.scale($t)*Y]});return Q?Ea(Gt):qi(Gt)}function os(Qt,pt,Y){var Q=(0,b.__spreadArrays)(Qt);return Q.push(["L",pt,0]),Q.push(["L",0,Y]),Q.push(["Z"]),Q}var Lo=function(Qt){(0,b.__extends)(pt,Qt);function pt(){return Qt!==null&&Qt.apply(this,arguments)||this}return pt.prototype.getDefaultCfg=function(){var Y=Qt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},Y),{name:"trend",x:0,y:0,width:200,height:16,smooth:!0,isArea:!1,data:[],backgroundStyle:ia,lineStyle:di,areaStyle:aa})},pt.prototype.renderInner=function(Y){var Q=this.cfg,ht=Q.width,St=Q.height,Gt=Q.data,$t=Q.smooth,oe=Q.isArea,ue=Q.backgroundStyle,Se=Q.lineStyle,Ae=Q.areaStyle;this.addShape(Y,{id:this.getElementId("background"),type:"rect",attrs:(0,b.__assign)({x:0,y:0,width:ht,height:St},ue)});var Ye=_a(Gt,ht,St,$t);if(this.addShape(Y,{id:this.getElementId("line"),type:"path",attrs:(0,b.__assign)({path:Ye},Se)}),oe){var Ue=os(Ye,ht,St);this.addShape(Y,{id:this.getElementId("area"),type:"path",attrs:(0,b.__assign)({path:Ue},Ae)})}},pt.prototype.applyOffset=function(){var Y=this.cfg,Q=Y.x,ht=Y.y;this.moveElementTo(this.get("group"),{x:Q,y:ht})},pt}(j),Hs=null,ho={fill:"#416180",opacity:.05},Io={fill:"#5B8FF9",opacity:.15,cursor:"move"},$a=10,_i={width:$a,height:24},ss={textBaseline:"middle",fill:"#000",opacity:.45},ls="sliderchange",ko={fill:"#F7F7F7",stroke:"#BFBFBF",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#FFF"},co=function(Qt){(0,b.__extends)(pt,Qt);function pt(){return Qt!==null&&Qt.apply(this,arguments)||this}return pt.prototype.getDefaultCfg=function(){var Y=Qt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},Y),{name:"handler",x:0,y:0,width:10,height:24,style:ko})},pt.prototype.renderInner=function(Y){var Q=this.cfg,ht=Q.width,St=Q.height,Gt=Q.style,$t=Gt.fill,oe=Gt.stroke,ue=Gt.radius,Se=Gt.opacity,Ae=Gt.cursor;this.addShape(Y,{type:"rect",id:this.getElementId("background"),attrs:{x:0,y:0,width:ht,height:St,fill:$t,stroke:oe,radius:ue,opacity:Se,cursor:Ae}});var Ye=1/3*ht,Ue=2/3*ht,fr=1/4*St,Ar=3/4*St;this.addShape(Y,{id:this.getElementId("line-left"),type:"line",attrs:{x1:Ye,y1:fr,x2:Ye,y2:Ar,stroke:oe,cursor:Ae}}),this.addShape(Y,{id:this.getElementId("line-right"),type:"line",attrs:{x1:Ue,y1:fr,x2:Ue,y2:Ar,stroke:oe,cursor:Ae}})},pt.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},pt.prototype.initEvent=function(){this.bindEvents()},pt.prototype.bindEvents=function(){var Y=this;this.get("group").on("mouseenter",function(){var Q=Y.get("style").highLightFill;Y.getElementByLocalId("background").attr("fill",Q),Y.draw()}),this.get("group").on("mouseleave",function(){var Q=Y.get("style").fill;Y.getElementByLocalId("background").attr("fill",Q),Y.draw()})},pt.prototype.draw=function(){var Y=this.get("container").get("canvas");Y&&Y.draw()},pt}(j),wn=null,us=function(Qt){(0,b.__extends)(pt,Qt);function pt(){var Y=Qt!==null&&Qt.apply(this,arguments)||this;return Y.onMouseDown=function(Q){return function(ht){Y.currentTarget=Q;var St=ht.originalEvent;St.stopPropagation(),St.preventDefault(),Y.prevX=(0,m.get)(St,"touches.0.pageX",St.pageX),Y.prevY=(0,m.get)(St,"touches.0.pageY",St.pageY);var Gt=Y.getContainerDOM();Gt.addEventListener("mousemove",Y.onMouseMove),Gt.addEventListener("mouseup",Y.onMouseUp),Gt.addEventListener("mouseleave",Y.onMouseUp),Gt.addEventListener("touchmove",Y.onMouseMove),Gt.addEventListener("touchend",Y.onMouseUp),Gt.addEventListener("touchcancel",Y.onMouseUp)}},Y.onMouseMove=function(Q){var ht=Y.cfg.width,St=[Y.get("start"),Y.get("end")];Q.stopPropagation(),Q.preventDefault();var Gt=(0,m.get)(Q,"touches.0.pageX",Q.pageX),$t=(0,m.get)(Q,"touches.0.pageY",Q.pageY),oe=Gt-Y.prevX,ue=Y.adjustOffsetRange(oe/ht);Y.updateStartEnd(ue),Y.updateUI(Y.getElementByLocalId("foreground"),Y.getElementByLocalId("minText"),Y.getElementByLocalId("maxText")),Y.prevX=Gt,Y.prevY=$t,Y.draw(),Y.emit(ls,[Y.get("start"),Y.get("end")].sort()),Y.delegateEmit("valuechanged",{originValue:St,value:[Y.get("start"),Y.get("end")]})},Y.onMouseUp=function(){Y.currentTarget&&(Y.currentTarget=void 0);var Q=Y.getContainerDOM();Q&&(Q.removeEventListener("mousemove",Y.onMouseMove),Q.removeEventListener("mouseup",Y.onMouseUp),Q.removeEventListener("mouseleave",Y.onMouseUp),Q.removeEventListener("touchmove",Y.onMouseMove),Q.removeEventListener("touchend",Y.onMouseUp),Q.removeEventListener("touchcancel",Y.onMouseUp))},Y}return pt.prototype.setRange=function(Y,Q){this.set("minLimit",Y),this.set("maxLimit",Q);var ht=this.get("start"),St=this.get("end"),Gt=(0,m.clamp)(ht,Y,Q),$t=(0,m.clamp)(St,Y,Q);!this.get("isInit")&&(ht!==Gt||St!==$t)&&this.setValue([Gt,$t])},pt.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},pt.prototype.setValue=function(Y){var Q=this.getRange();if((0,m.isArray)(Y)&&Y.length===2){var ht=[this.get("start"),this.get("end")];this.update({start:(0,m.clamp)(Y[0],Q.min,Q.max),end:(0,m.clamp)(Y[1],Q.min,Q.max)}),this.get("updateAutoRender")||this.render(),this.delegateEmit("valuechanged",{originValue:ht,value:Y})}},pt.prototype.getValue=function(){return[this.get("start"),this.get("end")]},pt.prototype.getDefaultCfg=function(){var Y=Qt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},Y),{name:"slider",x:0,y:0,width:100,height:16,backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},defaultCfg:{backgroundStyle:ho,foregroundStyle:Io,handlerStyle:_i,textStyle:ss}})},pt.prototype.update=function(Y){var Q=Y.start,ht=Y.end,St=(0,b.__assign)({},Y);(0,m.isNil)(Q)||(St.start=(0,m.clamp)(Q,0,1)),(0,m.isNil)(ht)||(St.end=(0,m.clamp)(ht,0,1)),Qt.prototype.update.call(this,St),this.minHandler=this.getChildComponentById(this.getElementId("minHandler")),this.maxHandler=this.getChildComponentById(this.getElementId("maxHandler"))},pt.prototype.init=function(){this.set("start",(0,m.clamp)(this.get("start"),0,1)),this.set("end",(0,m.clamp)(this.get("end"),0,1)),Qt.prototype.init.call(this)},pt.prototype.renderInner=function(Y){var Q=this.cfg,ht=Q.start,St=Q.end,Gt=Q.width,$t=Q.height,oe=Q.trendCfg,ue=oe===void 0?{}:oe,Se=Q.minText,Ae=Q.maxText,Ye=Q.backgroundStyle,Ue=Ye===void 0?{}:Ye,fr=Q.foregroundStyle,Ar=fr===void 0?{}:fr,wr=Q.textStyle,Zr=wr===void 0?{}:wr,$r=Q.handlerStyle,Kr=$r===void 0?{}:$r,Rt=ht*Gt,ie=St*Gt;(0,m.size)((0,m.get)(ue,"data"))&&this.addComponent(Y,(0,b.__assign)({component:Lo,id:this.getElementId("trend"),x:0,y:0,width:Gt,height:$t},ue)),this.addShape(Y,{id:this.getElementId("background"),type:"rect",attrs:(0,b.__assign)({x:0,y:0,width:Gt,height:$t},Ue)});var pe=this.addShape(Y,{id:this.getElementId("minText"),type:"text",attrs:(0,b.__assign)({y:$t/2,textAlign:"right",text:Se,silent:!1},Zr)}),Me=this.addShape(Y,{id:this.getElementId("maxText"),type:"text",attrs:(0,b.__assign)({y:$t/2,textAlign:"left",text:Ae,silent:!1},Zr)}),Ne=this.addShape(Y,{id:this.getElementId("foreground"),name:"foreground",type:"rect",attrs:(0,b.__assign)({y:0,height:$t},Ar)}),nr=(0,m.get)(Kr,"height",24);this.minHandler=this.addComponent(Y,(0,b.__assign)({component:co,id:this.getElementId("minHandler"),name:"handler-min",x:0,y:($t-nr)/2,width:Gt,height:nr,cursor:"ew-resize"},Kr)),this.maxHandler=this.addComponent(Y,(0,b.__assign)({component:co,id:this.getElementId("maxHandler"),name:"handler-max",x:0,y:($t-nr)/2,width:Gt,height:nr,cursor:"ew-resize"},Kr)),this.updateUI(Ne,pe,Me)},pt.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},pt.prototype.initEvent=function(){this.bindEvents()},pt.prototype.updateUI=function(Y,Q,ht){var St=this.cfg,Gt=St.start,$t=St.end,oe=St.width,ue=St.minText,Se=St.maxText,Ae=St.handlerStyle,Ye=Gt*oe,Ue=$t*oe;Y.attr("x",Ye),Y.attr("width",Ue-Ye);var fr=(0,m.get)(Ae,"width",$a);Q.attr("text",ue),ht.attr("text",Se);var Ar=this._dodgeText([Ye,Ue],Q,ht),wr=Ar[0],Zr=Ar[1];this.minHandler&&(this.minHandler.update({x:Ye-fr/2}),this.get("updateAutoRender")||this.minHandler.render()),(0,m.each)(wr,function($r,Kr){return Q.attr(Kr,$r)}),this.maxHandler&&(this.maxHandler.update({x:Ue-fr/2}),this.get("updateAutoRender")||this.maxHandler.render()),(0,m.each)(Zr,function($r,Kr){return ht.attr(Kr,$r)})},pt.prototype.bindEvents=function(){var Y=this.get("group");Y.on("handler-min:mousedown",this.onMouseDown("minHandler")),Y.on("handler-min:touchstart",this.onMouseDown("minHandler")),Y.on("handler-max:mousedown",this.onMouseDown("maxHandler")),Y.on("handler-max:touchstart",this.onMouseDown("maxHandler"));var Q=Y.findById(this.getElementId("foreground"));Q.on("mousedown",this.onMouseDown("foreground")),Q.on("touchstart",this.onMouseDown("foreground"))},pt.prototype.adjustOffsetRange=function(Y){var Q=this.cfg,ht=Q.start,St=Q.end;switch(this.currentTarget){case"minHandler":{var Gt=0-ht,$t=1-ht;return Math.min($t,Math.max(Gt,Y))}case"maxHandler":{var Gt=0-St,$t=1-St;return Math.min($t,Math.max(Gt,Y))}case"foreground":{var Gt=0-ht,$t=1-St;return Math.min($t,Math.max(Gt,Y))}}},pt.prototype.updateStartEnd=function(Y){var Q=this.cfg,ht=Q.start,St=Q.end;switch(this.currentTarget){case"minHandler":ht+=Y;break;case"maxHandler":St+=Y;break;case"foreground":ht+=Y,St+=Y;break}this.set("start",ht),this.set("end",St)},pt.prototype._dodgeText=function(Y,Q,ht){var St,Gt,$t=this.cfg,oe=$t.handlerStyle,ue=$t.width,Se=2,Ae=(0,m.get)(oe,"width",$a),Ye=Y[0],Ue=Y[1],fr=!1;Ye>Ue&&(St=[Ue,Ye],Ye=St[0],Ue=St[1],Gt=[ht,Q],Q=Gt[0],ht=Gt[1],fr=!0);var Ar=Q.getBBox(),wr=ht.getBBox(),Zr=Ar.width>Ye-Se?{x:Ye+Ae/2+Se,textAlign:"left"}:{x:Ye-Ae/2-Se,textAlign:"right"},$r=wr.width>ue-Ue-Se?{x:Ue-Ae/2-Se,textAlign:"right"}:{x:Ue+Ae/2+Se,textAlign:"left"};return fr?[$r,Zr]:[Zr,$r]},pt.prototype.draw=function(){var Y=this.get("container"),Q=Y&&Y.get("canvas");Q&&Q.draw()},pt.prototype.getContainerDOM=function(){var Y=this.get("container"),Q=Y&&Y.get("canvas");return Q&&Q.get("container")},pt}(j),pi=null,bn=d(57817),Bo={trackColor:"rgba(0,0,0,0)",thumbColor:"rgba(0,0,0,0.15)",size:8,lineCap:"round"},vn={default:Bo,hover:{thumbColor:"rgba(0,0,0,0.2)"}},Na=function(Qt){(0,b.__extends)(pt,Qt);function pt(){var Y=Qt!==null&&Qt.apply(this,arguments)||this;return Y.clearEvents=m.noop,Y.onStartEvent=function(Q){return function(ht){Y.isMobile=Q,ht.originalEvent.preventDefault();var St=Q?(0,m.get)(ht.originalEvent,"touches.0.clientX"):ht.clientX,Gt=Q?(0,m.get)(ht.originalEvent,"touches.0.clientY"):ht.clientY;Y.startPos=Y.cfg.isHorizontal?St:Gt,Y.bindLaterEvent()}},Y.bindLaterEvent=function(){var Q=Y.getContainerDOM(),ht=[];Y.isMobile?ht=[(0,bn.Z)(Q,"touchmove",Y.onMouseMove),(0,bn.Z)(Q,"touchend",Y.onMouseUp),(0,bn.Z)(Q,"touchcancel",Y.onMouseUp)]:ht=[(0,bn.Z)(Q,"mousemove",Y.onMouseMove),(0,bn.Z)(Q,"mouseup",Y.onMouseUp),(0,bn.Z)(Q,"mouseleave",Y.onMouseUp)],Y.clearEvents=function(){ht.forEach(function(St){St.remove()})}},Y.onMouseMove=function(Q){var ht=Y.cfg,St=ht.isHorizontal,Gt=ht.thumbOffset;Q.preventDefault();var $t=Y.isMobile?(0,m.get)(Q,"touches.0.clientX"):Q.clientX,oe=Y.isMobile?(0,m.get)(Q,"touches.0.clientY"):Q.clientY,ue=St?$t:oe,Se=ue-Y.startPos;Y.startPos=ue,Y.updateThumbOffset(Gt+Se)},Y.onMouseUp=function(Q){Q.preventDefault(),Y.clearEvents()},Y.onTrackClick=function(Q){var ht=Y.cfg,St=ht.isHorizontal,Gt=ht.x,$t=ht.y,oe=ht.thumbLen,ue=Y.getContainerDOM(),Se=ue.getBoundingClientRect(),Ae=Q.clientX,Ye=Q.clientY,Ue=St?Ae-Se.left-Gt-oe/2:Ye-Se.top-$t-oe/2,fr=Y.validateRange(Ue);Y.updateThumbOffset(fr)},Y.onThumbMouseOver=function(){var Q=Y.cfg.theme.hover.thumbColor;Y.getElementByLocalId("thumb").attr("stroke",Q),Y.draw()},Y.onThumbMouseOut=function(){var Q=Y.cfg.theme.default.thumbColor;Y.getElementByLocalId("thumb").attr("stroke",Q),Y.draw()},Y}return pt.prototype.setRange=function(Y,Q){this.set("minLimit",Y),this.set("maxLimit",Q);var ht=this.getValue(),St=(0,m.clamp)(ht,Y,Q);ht!==St&&!this.get("isInit")&&this.setValue(St)},pt.prototype.getRange=function(){var Y=this.get("minLimit")||0,Q=this.get("maxLimit")||1;return{min:Y,max:Q}},pt.prototype.setValue=function(Y){var Q=this.getRange(),ht=this.getValue();this.update({thumbOffset:(this.get("trackLen")-this.get("thumbLen"))*(0,m.clamp)(Y,Q.min,Q.max)}),this.delegateEmit("valuechange",{originalValue:ht,value:this.getValue()})},pt.prototype.getValue=function(){return(0,m.clamp)(this.get("thumbOffset")/(this.get("trackLen")-this.get("thumbLen")),0,1)},pt.prototype.getDefaultCfg=function(){var Y=Qt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},Y),{name:"scrollbar",isHorizontal:!0,minThumbLen:20,thumbOffset:0,theme:vn})},pt.prototype.renderInner=function(Y){this.renderTrackShape(Y),this.renderThumbShape(Y)},pt.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},pt.prototype.initEvent=function(){this.bindEvents()},pt.prototype.renderTrackShape=function(Y){var Q=this.cfg,ht=Q.trackLen,St=Q.theme,Gt=St===void 0?{default:{}}:St,$t=Gt.default,oe=$t.lineCap,ue=$t.trackColor,Se=$t.size,Ae=this.get("isHorizontal")?{x1:0+Se/2,y1:Se/2,x2:ht-Se/2,y2:Se/2,lineWidth:Se,stroke:ue,lineCap:oe}:{x1:Se/2,y1:0+Se/2,x2:Se/2,y2:ht-Se/2,lineWidth:Se,stroke:ue,lineCap:oe};return this.addShape(Y,{id:this.getElementId("track"),name:"track",type:"line",attrs:Ae})},pt.prototype.renderThumbShape=function(Y){var Q=this.cfg,ht=Q.thumbOffset,St=Q.thumbLen,Gt=Q.theme,$t=Gt===void 0?{default:{}}:Gt,oe=$t.default,ue=oe.size,Se=oe.lineCap,Ae=oe.thumbColor,Ye=this.get("isHorizontal")?{x1:ht+ue/2,y1:ue/2,x2:ht+St-ue/2,y2:ue/2,lineWidth:ue,stroke:Ae,lineCap:Se,cursor:"default"}:{x1:ue/2,y1:ht+ue/2,x2:ue/2,y2:ht+St-ue/2,lineWidth:ue,stroke:Ae,lineCap:Se,cursor:"default"};return this.addShape(Y,{id:this.getElementId("thumb"),name:"thumb",type:"line",attrs:Ye})},pt.prototype.bindEvents=function(){var Y=this.get("group");Y.on("mousedown",this.onStartEvent(!1)),Y.on("mouseup",this.onMouseUp),Y.on("touchstart",this.onStartEvent(!0)),Y.on("touchend",this.onMouseUp);var Q=Y.findById(this.getElementId("track"));Q.on("click",this.onTrackClick);var ht=Y.findById(this.getElementId("thumb"));ht.on("mouseover",this.onThumbMouseOver),ht.on("mouseout",this.onThumbMouseOut)},pt.prototype.getContainerDOM=function(){var Y=this.get("container"),Q=Y&&Y.get("canvas");return Q&&Q.get("container")},pt.prototype.validateRange=function(Y){var Q=this.cfg,ht=Q.thumbLen,St=Q.trackLen,Gt=Y;return Y+ht>St?Gt=St-ht:Y+ht<ht&&(Gt=0),Gt},pt.prototype.draw=function(){var Y=this.get("container"),Q=Y&&Y.get("canvas");Q&&Q.draw()},pt.prototype.updateThumbOffset=function(Y){var Q=this.cfg,ht=Q.thumbOffset,St=Q.isHorizontal,Gt=Q.thumbLen,$t=Q.size,oe=this.validateRange(Y);if(oe!==ht){var ue=this.getElementByLocalId("thumb");St?ue.attr({x1:oe+$t/2,x2:oe+Gt-$t/2}):ue.attr({y1:oe+$t/2,y2:oe+Gt-$t/2}),this.emitOffsetChange(oe)}},pt.prototype.emitOffsetChange=function(Y){var Q=this.cfg,ht=Q.thumbOffset,St=Q.trackLen,Gt=Q.thumbLen;this.cfg.thumbOffset=Y,this.emit("scrollchange",{thumbOffset:Y,ratio:(0,m.clamp)(Y/(St-Gt),0,1)}),this.delegateEmit("valuechange",{originalValue:ht,value:Y})},pt}(j)},15110:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(60153),L=d(39014),I=d(49242),O={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},T=function(_){y.__extends(C,_);function C(E){var p=_.call(this,E)||this;return p.initCfg(),p}return C.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},C.prototype.clear=function(){},C.prototype.update=function(E){var p=this,w=this.get("defaultCfg");I.each(E,function(g,b){var m=p.get(b),M=g;m!==g&&(I.isObject(g)&&w[b]&&(M=I.deepMix({},w[b],g)),p.set(b,M))}),this.updateInner(E),this.afterUpdate(E)},C.prototype.updateInner=function(E){},C.prototype.afterUpdate=function(E){I.hasKey(E,"visible")&&(E.visible?this.show():this.hide()),I.hasKey(E,"capture")&&this.setCapture(E.capture)},C.prototype.getLayoutBBox=function(){return this.getBBox()},C.prototype.getLocationType=function(){return this.get("locationType")},C.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},C.prototype.setOffset=function(E,p){this.update({offsetX:E,offsetY:p})},C.prototype.setLocation=function(E){var p=y.__assign({},E);this.update(p)},C.prototype.getLocation=function(){var E=this,p={},w=this.get("locationType"),g=O[w];return I.each(g,function(b){p[b]=E.get(b)}),p},C.prototype.isList=function(){return!1},C.prototype.isSlider=function(){return!1},C.prototype.init=function(){},C.prototype.initCfg=function(){var E=this,p=this.get("defaultCfg");I.each(p,function(w,g){var b=E.get(g);if(I.isObject(b)){var m=I.deepMix({},w,b);E.set(g,m)}})},C}(L.Base);S.default=T},51964:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(60153),L=d(80478),I=d(49242),O=d(11594),T=d(15110),_=function(C){y.__extends(E,C);function E(){return C!==null&&C.apply(this,arguments)||this}return E.prototype.getDefaultCfg=function(){var p=C.prototype.getDefaultCfg.call(this);return y.__assign(y.__assign({},p),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},E.prototype.getContainer=function(){return this.get("container")},E.prototype.show=function(){var p=this.get("container");p.style.display="",this.set("visible",!0)},E.prototype.hide=function(){var p=this.get("container");p.style.display="none",this.set("visible",!1)},E.prototype.setCapture=function(p){var w=this.getContainer(),g=p?"auto":"none";w.style.pointerEvents=g,this.set("capture",p)},E.prototype.getBBox=function(){var p=this.getContainer(),w=parseFloat(p.style.left)||0,g=parseFloat(p.style.top)||0;return O.createBBox(w,g,p.clientWidth,p.clientHeight)},E.prototype.clear=function(){var p=this.get("container");O.clearDom(p)},E.prototype.destroy=function(){this.removeEvent(),this.removeDom(),C.prototype.destroy.call(this)},E.prototype.init=function(){C.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},E.prototype.initCapture=function(){this.setCapture(this.get("capture"))},E.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},E.prototype.initDom=function(){},E.prototype.initContainer=function(){var p=this.get("container");if(I.isNil(p)){p=this.createDom();var w=this.get("parent");I.isString(w)&&(w=document.getElementById(w),this.set("parent",w)),w.appendChild(p),this.set("container",p)}else I.isString(p)&&(p=document.getElementById(p),this.set("container",p));this.get("parent")||this.set("parent",p.parentNode)},E.prototype.resetStyles=function(){var p=this.get("domStyles"),w=this.get("defaultStyles");p?p=I.deepMix({},w,p):p=w,this.set("domStyles",p)},E.prototype.applyStyles=function(){var p=this.get("domStyles");if(!!p){var w=this.getContainer();this.applyChildrenStyles(w,p);var g=this.get("containerClassName");if(g&&O.hasClass(w,g)){var b=p[g];L.modifyCSS(w,b)}}},E.prototype.applyChildrenStyles=function(p,w){I.each(w,function(g,b){var m=p.getElementsByClassName(b);I.each(m,function(M){L.modifyCSS(M,g)})})},E.prototype.applyStyle=function(p,w){var g=this.get("domStyles");L.modifyCSS(w,g[p])},E.prototype.createDom=function(){var p=this.get("containerTpl");return L.createDom(p)},E.prototype.initEvent=function(){},E.prototype.removeDom=function(){var p=this.get("container");p&&p.parentNode.removeChild(p)},E.prototype.removeEvent=function(){},E.prototype.updateInner=function(p){I.hasKey(p,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},E.prototype.resetPosition=function(){},E}(T.default);S.default=_},7755:function(gt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.CROSSHAIR_Y=S.CROSSHAIR_X=S.NAME_CLASS=S.VALUE_CLASS=S.MARKER_CLASS=S.LIST_ITEM_CLASS=S.LIST_CLASS=S.TITLE_CLASS=S.CONTAINER_CLASS=void 0,S.CONTAINER_CLASS="g2-tooltip",S.TITLE_CLASS="g2-tooltip-title",S.LIST_CLASS="g2-tooltip-list",S.LIST_ITEM_CLASS="g2-tooltip-list-item",S.MARKER_CLASS="g2-tooltip-marker",S.VALUE_CLASS="g2-tooltip-value",S.NAME_CLASS="g2-tooltip-name",S.CROSSHAIR_X="g2-tooltip-crosshair-x",S.CROSSHAIR_Y="g2-tooltip-crosshair-y"},55225:function(gt,S,d){"use strict";var y;Object.defineProperty(S,"__esModule",{value:!0});var L=d(52782),I=d(7755);S.default=(y={},y[""+I.CONTAINER_CLASS]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:L.default.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},y[""+I.TITLE_CLASS]={marginBottom:"4px"},y[""+I.LIST_CLASS]={margin:"0px",listStyleType:"none",padding:"0px"},y[""+I.LIST_ITEM_CLASS]={listStyleType:"none",marginBottom:"4px"},y[""+I.MARKER_CLASS]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},y[""+I.VALUE_CLASS]={display:"inline-block",float:"right",marginLeft:"30px"},y[""+I.CROSSHAIR_X]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},y[""+I.CROSSHAIR_Y]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},y)},88373:function(gt,S,d){"use strict";var y;y={value:!0};var L=d(60153),I=d(55223),O=d(80478),T=d(49242),_=d(51964),C=d(11594),E=d(7755),p=d(55225),w=d(51227);function g(m,M){var P=!1;return T.each(M,function(k){if(T.hasKey(m,k))return P=!0,!1}),P}var b=function(m){L.__extends(M,m);function M(){return m!==null&&m.apply(this,arguments)||this}return M.prototype.getDefaultCfg=function(){var P=m.prototype.getDefaultCfg.call(this);return L.__assign(L.__assign({},P),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+E.CONTAINER_CLASS+'"><div class="'+E.TITLE_CLASS+'"></div><ul class="'+E.LIST_CLASS+'"></ul></div>',itemTpl:'<li class="'+E.LIST_ITEM_CLASS+`" data-index={index}>
          <span class="`+E.MARKER_CLASS+`" style="background:{color}"></span>
          <span class="`+E.NAME_CLASS+`">{name}</span>:
          <span class="`+E.VALUE_CLASS+`">{value}</span>
        </li>`,xCrosshairTpl:'<div class="'+E.CROSSHAIR_X+'"></div>',yCrosshairTpl:'<div class="'+E.CROSSHAIR_Y+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:E.CONTAINER_CLASS,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:p.default})},M.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},M.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},M.prototype.show=function(){var P=this.getContainer();!P||this.destroyed||(this.set("visible",!0),O.modifyCSS(P,{visibility:"visible"}),this.setCrossHairsVisible(!0))},M.prototype.hide=function(){var P=this.getContainer();!P||this.destroyed||(this.set("visible",!1),O.modifyCSS(P,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},M.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},M.prototype.setLocation=function(P){this.set("x",P.x),this.set("y",P.y),this.resetPosition()},M.prototype.setCrossHairsVisible=function(P){var k=P?"":"none",N=this.get("xCrosshairDom"),V=this.get("yCrosshairDom");N&&O.modifyCSS(N,{display:k}),V&&O.modifyCSS(V,{display:k})},M.prototype.initContainer=function(){if(m.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var P=this.getHtmlContentNode();this.get("parent").appendChild(P),this.set("container",P),this.resetStyles(),this.applyStyles()}},M.prototype.updateInner=function(P){this.get("customContent")?this.renderCustomContent():(g(P,["title","showTitle"])&&this.resetTitle(),T.hasKey(P,"items")&&this.renderItems()),m.prototype.updateInner.call(this,P)},M.prototype.initDom=function(){this.cacheDoms()},M.prototype.removeDom=function(){m.prototype.removeDom.call(this),this.clearCrosshairs()},M.prototype.resetPosition=function(){var P=this.get("x"),k=this.get("y"),N=this.get("offset"),V=this.getOffset(),$=V.offsetX,Z=V.offsetY,J=this.get("position"),lt=this.get("region"),rt=this.getContainer(),bt=this.getBBox(),Ot=bt.width,Bt=bt.height,Et;lt&&(Et=C.regionToBBox(lt));var Dt=w.getAlignPoint(P,k,N,Ot,Bt,J,Et);O.modifyCSS(rt,{left:C.toPx(Dt.x+$),top:C.toPx(Dt.y+Z)}),this.resetCrosshairs()},M.prototype.renderCustomContent=function(){var P=this.getHtmlContentNode(),k=this.get("parent"),N=this.get("container");N&&N.parentNode===k?k.replaceChild(P,N):k.appendChild(P),this.set("container",P),this.resetStyles(),this.applyStyles()},M.prototype.getHtmlContentNode=function(){var P,k=this.get("customContent");if(k){var N=k(this.get("title"),this.get("items"));T.isElement(N)?P=N:P=O.createDom(N)}return P},M.prototype.cacheDoms=function(){var P=this.getContainer(),k=P.getElementsByClassName(E.TITLE_CLASS)[0],N=P.getElementsByClassName(E.LIST_CLASS)[0];this.set("titleDom",k),this.set("listDom",N)},M.prototype.resetTitle=function(){var P=this.get("title"),k=this.get("showTitle");k&&P?this.setTitle(P):this.setTitle("")},M.prototype.setTitle=function(P){var k=this.get("titleDom");k&&(k.innerText=P)},M.prototype.resetCrosshairs=function(){var P=this.get("crosshairsRegion"),k=this.get("crosshairs");if(!P||!k)this.clearCrosshairs();else{var N=C.regionToBBox(P),V=this.get("xCrosshairDom"),$=this.get("yCrosshairDom");k==="x"?(this.resetCrosshair("x",N),$&&($.remove(),this.set("yCrosshairDom",null))):k==="y"?(this.resetCrosshair("y",N),V&&(V.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",N),this.resetCrosshair("y",N)),this.setCrossHairsVisible(this.get("visible"))}},M.prototype.resetCrosshair=function(P,k){var N=this.checkCrosshair(P),V=this.get(P);P==="x"?O.modifyCSS(N,{left:C.toPx(V),top:C.toPx(k.y),height:C.toPx(k.height)}):O.modifyCSS(N,{top:C.toPx(V),left:C.toPx(k.x),width:C.toPx(k.width)})},M.prototype.checkCrosshair=function(P){var k=P+"CrosshairDom",N=P+"CrosshairTpl",V="CROSSHAIR_"+P.toUpperCase(),$=E[V],Z=this.get(k),J=this.get("parent");return Z||(Z=O.createDom(this.get(N)),this.applyStyle($,Z),J.appendChild(Z),this.set(k,Z)),Z},M.prototype.renderItems=function(){this.clearItemDoms();var P=this.get("items"),k=this.get("itemTpl"),N=this.get("listDom");N&&(T.each(P,function(V){var $=I.default.toCSSGradient(V.color),Z=L.__assign(L.__assign({},V),{color:$}),J=T.substitute(k,Z),lt=O.createDom(J);N.appendChild(lt)}),this.applyChildrenStyles(N,this.get("domStyles")))},M.prototype.clearItemDoms=function(){this.get("listDom")&&C.clearDom(this.get("listDom"))},M.prototype.clearCrosshairs=function(){var P=this.get("xCrosshairDom"),k=this.get("yCrosshairDom");P&&P.remove(),k&&k.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},M}(_.default);S.Z=b},51227:function(gt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getAlignPoint=S.getPointByPosition=S.getOutSides=void 0;function d(I,O,T,_,C){var E={left:I<C.x,right:I+T>C.x+C.width,top:O<C.y,bottom:O+_>C.y+C.height};return E}S.getOutSides=d;function y(I,O,T,_,C,E){var p=I,w=O;switch(E){case"left":p=I-_-T,w=O-C/2;break;case"right":p=I+T,w=O-C/2;break;case"top":p=I-_/2,w=O-C-T;break;case"bottom":p=I-_/2,w=O+T;break;default:p=I+T,w=O-C-T;break}return{x:p,y:w}}S.getPointByPosition=y;function L(I,O,T,_,C,E,p){var w=y(I,O,T,_,C,E);if(p){var g=d(w.x,w.y,_,C,p);E==="auto"?(g.right&&(w.x=Math.max(0,I-_-T)),g.top&&(w.y=Math.max(0,O-C-T))):E==="top"||E==="bottom"?(g.left&&(w.x=p.x),g.right&&(w.x=p.x+p.width-_),E==="top"&&g.top&&(w.y=O+T),E==="bottom"&&g.bottom&&(w.y=O-C-T)):(g.top&&(w.y=p.y),g.bottom&&(w.y=p.y+p.height-C),E==="left"&&g.left&&(w.x=I+T),E==="right"&&g.right&&(w.x=I-_-T))}return w}S.getAlignPoint=L},31207:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.propagationDelegate=void 0;var y=d(66192);function L(I,O,T){var _=new y.default(O,T);_.target=I,_.propagationPath.push(I),I.emitDelegation(O,_);for(var C=I.getParent();C;)C.emitDelegation(O,_),_.propagationPath.push(C),C=C.getParent()}S.propagationDelegate=L},52782:function(gt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default={fontFamily:`
  "-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",
  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
  SimSun, "sans-serif"`,textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4}},11594:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getTextPoint=S.toPx=S.updateClip=S.getBBoxWithClip=S.mergeBBox=S.intersectBBox=S.near=S.wait=S.distance=S.getCirclePoint=S.getValueByPercent=S.createBBox=S.pointsToBBox=S.regionToBBox=S.hasClass=S.clearDom=S.formatPadding=void 0;var y=d(49242);function L(N){var V=0,$=0,Z=0,J=0;return y.isNumber(N)?V=$=Z=J=N:y.isArray(N)&&(V=N[0],Z=y.isNil(N[1])?N[0]:N[1],J=y.isNil(N[2])?N[0]:N[2],$=y.isNil(N[3])?Z:N[3]),[V,Z,J,$]}S.formatPadding=L;function I(N){for(var V=N.childNodes,$=V.length,Z=$-1;Z>=0;Z--)N.removeChild(V[Z])}S.clearDom=I;function O(N,V){return!!N.className.match(new RegExp("(\\s|^)"+V+"(\\s|$)"))}S.hasClass=O;function T(N){var V=N.start,$=N.end,Z=Math.min(V.x,$.x),J=Math.min(V.y,$.y),lt=Math.max(V.x,$.x),rt=Math.max(V.y,$.y);return{x:Z,y:J,minX:Z,minY:J,maxX:lt,maxY:rt,width:lt-Z,height:rt-J}}S.regionToBBox=T;function _(N){var V=N.map(function(bt){return bt.x}),$=N.map(function(bt){return bt.y}),Z=Math.min.apply(Math,V),J=Math.min.apply(Math,$),lt=Math.max.apply(Math,V),rt=Math.max.apply(Math,$);return{x:Z,y:J,minX:Z,minY:J,maxX:lt,maxY:rt,width:lt-Z,height:rt-J}}S.pointsToBBox=_;function C(N,V,$,Z){return{x:N,y:V,width:$,height:Z,minX:N,minY:V,maxX:N+$,maxY:V+Z}}S.createBBox=C;function E(N,V,$){return(1-$)*N+V*$}S.getValueByPercent=E;function p(N,V,$){return{x:N.x+Math.cos($)*V,y:N.y+Math.sin($)*V}}S.getCirclePoint=p;function w(N,V){var $=V.x-N.x,Z=V.y-N.y;return Math.sqrt($*$+Z*Z)}S.distance=w,S.wait=function(N){return new Promise(function(V){setTimeout(V,N)})},S.near=function(N,V){return[N,V].includes(Infinity)?Math.abs(N)===Math.abs(V):Math.abs(N-V)<Math.pow(Number.EPSILON,.5)};function g(N,V){var $=Math.max(N.minX,V.minX),Z=Math.max(N.minY,V.minY),J=Math.min(N.maxX,V.maxX),lt=Math.min(N.maxY,V.maxY);return C($,Z,J-$,lt-Z)}S.intersectBBox=g;function b(N,V){var $=Math.min(N.minX,V.minX),Z=Math.min(N.minY,V.minY),J=Math.max(N.maxX,V.maxX),lt=Math.max(N.maxY,V.maxY);return C($,Z,J-$,lt-Z)}S.mergeBBox=b;function m(N){var V=N.getClip(),$=V&&V.getBBox(),Z;if(!N.isGroup())Z=N.getBBox();else{var J=Infinity,lt=-Infinity,rt=Infinity,bt=-Infinity,Ot=N.getChildren();Ot.length>0?y.each(Ot,function(Bt){if(Bt.get("visible")){if(Bt.isGroup()&&Bt.get("children").length===0)return!0;var Et=m(Bt),Dt=Bt.applyToMatrix([Et.minX,Et.minY,1]),It=Bt.applyToMatrix([Et.minX,Et.maxY,1]),_t=Bt.applyToMatrix([Et.maxX,Et.minY,1]),Xt=Bt.applyToMatrix([Et.maxX,Et.maxY,1]),z=Math.min(Dt[0],It[0],_t[0],Xt[0]),R=Math.max(Dt[0],It[0],_t[0],Xt[0]),F=Math.min(Dt[1],It[1],_t[1],Xt[1]),D=Math.max(Dt[1],It[1],_t[1],Xt[1]);z<J&&(J=z),R>lt&&(lt=R),F<rt&&(rt=F),D>bt&&(bt=D)}}):(J=0,lt=0,rt=0,bt=0),Z=C(J,rt,lt-J,bt-rt)}return $?g(Z,$):Z}S.getBBoxWithClip=m;function M(N,V){if(!(!N.getClip()&&!V.getClip())){var $=V.getClip();if(!$){N.setClip(null);return}var Z={type:$.get("type"),attrs:$.attr()};N.setClip(Z)}}S.updateClip=M;function P(N){return N+"px"}S.toPx=P;function k(N,V,$,Z){var J=w(N,V),lt=Z/J,rt=0;return $==="start"?rt=0-lt:$==="end"&&(rt=1+lt),{x:E(N.x,V.x,rt),y:E(N.y,V.y,rt)}}S.getTextPoint=k},50782:function(gt,S,d){"use strict";d.r(S),d.d(S,{Coordinate:function(){return W},getCoordinate:function(){return wt},registerCoordinate:function(){return st}});var y=function(K,tt){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,j){U.__proto__=j}||function(U,j){for(var at in j)Object.prototype.hasOwnProperty.call(j,at)&&(U[at]=j[at])},y(K,tt)};function L(K,tt){if(typeof tt!="function"&&tt!==null)throw new TypeError("Class extends value "+String(tt)+" is not a constructor or null");y(K,tt);function U(){this.constructor=K}K.prototype=tt===null?Object.create(tt):(U.prototype=tt.prototype,new U)}var I=function(){return I=Object.assign||function(tt){for(var U,j=1,at=arguments.length;j<at;j++){U=arguments[j];for(var vt in U)Object.prototype.hasOwnProperty.call(U,vt)&&(tt[vt]=U[vt])}return tt},I.apply(this,arguments)};function O(K,tt){var U={};for(var j in K)Object.prototype.hasOwnProperty.call(K,j)&&tt.indexOf(j)<0&&(U[j]=K[j]);if(K!=null&&typeof Object.getOwnPropertySymbols=="function")for(var at=0,j=Object.getOwnPropertySymbols(K);at<j.length;at++)tt.indexOf(j[at])<0&&Object.prototype.propertyIsEnumerable.call(K,j[at])&&(U[j[at]]=K[j[at]]);return U}function T(K,tt,U,j){var at=arguments.length,vt=at<3?tt:j===null?j=Object.getOwnPropertyDescriptor(tt,U):j,Ft;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")vt=Reflect.decorate(K,tt,U,j);else for(var Jt=K.length-1;Jt>=0;Jt--)(Ft=K[Jt])&&(vt=(at<3?Ft(vt):at>3?Ft(tt,U,vt):Ft(tt,U))||vt);return at>3&&vt&&Object.defineProperty(tt,U,vt),vt}function _(K,tt){return function(U,j){tt(U,j,K)}}function C(K,tt,U,j,at,vt){function Ft(ze){if(ze!==void 0&&typeof ze!="function")throw new TypeError("Function expected");return ze}for(var Jt=j.kind,le=Jt==="getter"?"get":Jt==="setter"?"set":"value",ge=!tt&&K?j.static?K:K.prototype:null,Zt=tt||(ge?Object.getOwnPropertyDescriptor(ge,j.name):{}),kt,zt=!1,ne=U.length-1;ne>=0;ne--){var de={};for(var Ce in j)de[Ce]=Ce==="access"?{}:j[Ce];for(var Ce in j.access)de.access[Ce]=j.access[Ce];de.addInitializer=function(ze){if(zt)throw new TypeError("Cannot add initializers after decoration has completed");vt.push(Ft(ze||null))};var De=(0,U[ne])(Jt==="accessor"?{get:Zt.get,set:Zt.set}:Zt[le],de);if(Jt==="accessor"){if(De===void 0)continue;if(De===null||typeof De!="object")throw new TypeError("Object expected");(kt=Ft(De.get))&&(Zt.get=kt),(kt=Ft(De.set))&&(Zt.set=kt),(kt=Ft(De.init))&&at.push(kt)}else(kt=Ft(De))&&(Jt==="field"?at.push(kt):Zt[le]=kt)}ge&&Object.defineProperty(ge,j.name,Zt),zt=!0}function E(K,tt,U){for(var j=arguments.length>2,at=0;at<tt.length;at++)U=j?tt[at].call(K,U):tt[at].call(K);return j?U:void 0}function p(K){return typeof K=="symbol"?K:"".concat(K)}function w(K,tt,U){return typeof tt=="symbol"&&(tt=tt.description?"[".concat(tt.description,"]"):""),Object.defineProperty(K,"name",{configurable:!0,value:U?"".concat(U," ",tt):tt})}function g(K,tt){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(K,tt)}function b(K,tt,U,j){function at(vt){return vt instanceof U?vt:new U(function(Ft){Ft(vt)})}return new(U||(U=Promise))(function(vt,Ft){function Jt(Zt){try{ge(j.next(Zt))}catch(kt){Ft(kt)}}function le(Zt){try{ge(j.throw(Zt))}catch(kt){Ft(kt)}}function ge(Zt){Zt.done?vt(Zt.value):at(Zt.value).then(Jt,le)}ge((j=j.apply(K,tt||[])).next())})}function m(K,tt){var U={label:0,sent:function(){if(vt[0]&1)throw vt[1];return vt[1]},trys:[],ops:[]},j,at,vt,Ft;return Ft={next:Jt(0),throw:Jt(1),return:Jt(2)},typeof Symbol=="function"&&(Ft[Symbol.iterator]=function(){return this}),Ft;function Jt(ge){return function(Zt){return le([ge,Zt])}}function le(ge){if(j)throw new TypeError("Generator is already executing.");for(;Ft&&(Ft=0,ge[0]&&(U=0)),U;)try{if(j=1,at&&(vt=ge[0]&2?at.return:ge[0]?at.throw||((vt=at.return)&&vt.call(at),0):at.next)&&!(vt=vt.call(at,ge[1])).done)return vt;switch(at=0,vt&&(ge=[ge[0]&2,vt.value]),ge[0]){case 0:case 1:vt=ge;break;case 4:return U.label++,{value:ge[1],done:!1};case 5:U.label++,at=ge[1],ge=[0];continue;case 7:ge=U.ops.pop(),U.trys.pop();continue;default:if(vt=U.trys,!(vt=vt.length>0&&vt[vt.length-1])&&(ge[0]===6||ge[0]===2)){U=0;continue}if(ge[0]===3&&(!vt||ge[1]>vt[0]&&ge[1]<vt[3])){U.label=ge[1];break}if(ge[0]===6&&U.label<vt[1]){U.label=vt[1],vt=ge;break}if(vt&&U.label<vt[2]){U.label=vt[2],U.ops.push(ge);break}vt[2]&&U.ops.pop(),U.trys.pop();continue}ge=tt.call(K,U)}catch(Zt){ge=[6,Zt],at=0}finally{j=vt=0}if(ge[0]&5)throw ge[1];return{value:ge[0]?ge[1]:void 0,done:!0}}}var M=Object.create?function(K,tt,U,j){j===void 0&&(j=U);var at=Object.getOwnPropertyDescriptor(tt,U);(!at||("get"in at?!tt.__esModule:at.writable||at.configurable))&&(at={enumerable:!0,get:function(){return tt[U]}}),Object.defineProperty(K,j,at)}:function(K,tt,U,j){j===void 0&&(j=U),K[j]=tt[U]};function P(K,tt){for(var U in K)U!=="default"&&!Object.prototype.hasOwnProperty.call(tt,U)&&M(tt,K,U)}function k(K){var tt=typeof Symbol=="function"&&Symbol.iterator,U=tt&&K[tt],j=0;if(U)return U.call(K);if(K&&typeof K.length=="number")return{next:function(){return K&&j>=K.length&&(K=void 0),{value:K&&K[j++],done:!K}}};throw new TypeError(tt?"Object is not iterable.":"Symbol.iterator is not defined.")}function N(K,tt){var U=typeof Symbol=="function"&&K[Symbol.iterator];if(!U)return K;var j=U.call(K),at,vt=[],Ft;try{for(;(tt===void 0||tt-- >0)&&!(at=j.next()).done;)vt.push(at.value)}catch(Jt){Ft={error:Jt}}finally{try{at&&!at.done&&(U=j.return)&&U.call(j)}finally{if(Ft)throw Ft.error}}return vt}function V(){for(var K=[],tt=0;tt<arguments.length;tt++)K=K.concat(N(arguments[tt]));return K}function $(){for(var K=0,tt=0,U=arguments.length;tt<U;tt++)K+=arguments[tt].length;for(var j=Array(K),at=0,tt=0;tt<U;tt++)for(var vt=arguments[tt],Ft=0,Jt=vt.length;Ft<Jt;Ft++,at++)j[at]=vt[Ft];return j}function Z(K,tt,U){if(U||arguments.length===2)for(var j=0,at=tt.length,vt;j<at;j++)(vt||!(j in tt))&&(vt||(vt=Array.prototype.slice.call(tt,0,j)),vt[j]=tt[j]);return K.concat(vt||Array.prototype.slice.call(tt))}function J(K){return this instanceof J?(this.v=K,this):new J(K)}function lt(K,tt,U){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var j=U.apply(K,tt||[]),at,vt=[];return at={},Ft("next"),Ft("throw"),Ft("return"),at[Symbol.asyncIterator]=function(){return this},at;function Ft(zt){j[zt]&&(at[zt]=function(ne){return new Promise(function(de,Ce){vt.push([zt,ne,de,Ce])>1||Jt(zt,ne)})})}function Jt(zt,ne){try{le(j[zt](ne))}catch(de){kt(vt[0][3],de)}}function le(zt){zt.value instanceof J?Promise.resolve(zt.value.v).then(ge,Zt):kt(vt[0][2],zt)}function ge(zt){Jt("next",zt)}function Zt(zt){Jt("throw",zt)}function kt(zt,ne){zt(ne),vt.shift(),vt.length&&Jt(vt[0][0],vt[0][1])}}function rt(K){var tt,U;return tt={},j("next"),j("throw",function(at){throw at}),j("return"),tt[Symbol.iterator]=function(){return this},tt;function j(at,vt){tt[at]=K[at]?function(Ft){return(U=!U)?{value:J(K[at](Ft)),done:!1}:vt?vt(Ft):Ft}:vt}}function bt(K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var tt=K[Symbol.asyncIterator],U;return tt?tt.call(K):(K=typeof k=="function"?k(K):K[Symbol.iterator](),U={},j("next"),j("throw"),j("return"),U[Symbol.asyncIterator]=function(){return this},U);function j(vt){U[vt]=K[vt]&&function(Ft){return new Promise(function(Jt,le){Ft=K[vt](Ft),at(Jt,le,Ft.done,Ft.value)})}}function at(vt,Ft,Jt,le){Promise.resolve(le).then(function(ge){vt({value:ge,done:Jt})},Ft)}}function Ot(K,tt){return Object.defineProperty?Object.defineProperty(K,"raw",{value:tt}):K.raw=tt,K}var Bt=Object.create?function(K,tt){Object.defineProperty(K,"default",{enumerable:!0,value:tt})}:function(K,tt){K.default=tt};function Et(K){if(K&&K.__esModule)return K;var tt={};if(K!=null)for(var U in K)U!=="default"&&Object.prototype.hasOwnProperty.call(K,U)&&M(tt,K,U);return Bt(tt,K),tt}function Dt(K){return K&&K.__esModule?K:{default:K}}function It(K,tt,U,j){if(U==="a"&&!j)throw new TypeError("Private accessor was defined without a getter");if(typeof tt=="function"?K!==tt||!j:!tt.has(K))throw new TypeError("Cannot read private member from an object whose class did not declare it");return U==="m"?j:U==="a"?j.call(K):j?j.value:tt.get(K)}function _t(K,tt,U,j,at){if(j==="m")throw new TypeError("Private method is not writable");if(j==="a"&&!at)throw new TypeError("Private accessor was defined without a setter");if(typeof tt=="function"?K!==tt||!at:!tt.has(K))throw new TypeError("Cannot write private member to an object whose class did not declare it");return j==="a"?at.call(K,U):at?at.value=U:tt.set(K,U),U}function Xt(K,tt){if(tt===null||typeof tt!="object"&&typeof tt!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof K=="function"?tt===K:K.has(tt)}var z=d(77160),R=d(35600),F=d(31506),D=d(49242),u=function(){function K(tt){this.type="coordinate",this.isRect=!1,this.isHelix=!1,this.isPolar=!1,this.isReflectX=!1,this.isReflectY=!1;var U=tt.start,j=tt.end,at=tt.matrix,vt=at===void 0?[1,0,0,0,1,0,0,0,1]:at,Ft=tt.isTransposed,Jt=Ft===void 0?!1:Ft;this.start=U,this.end=j,this.matrix=vt,this.originalMatrix=Z([],vt),this.isTransposed=Jt}return K.prototype.initial=function(){this.center={x:(this.start.x+this.end.x)/2,y:(this.start.y+this.end.y)/2},this.width=Math.abs(this.end.x-this.start.x),this.height=Math.abs(this.end.y-this.start.y)},K.prototype.update=function(tt){(0,D.assign)(this,tt),this.initial()},K.prototype.convertDim=function(tt,U){var j,at=this[U],vt=at.start,Ft=at.end;return this.isReflect(U)&&(j=[Ft,vt],vt=j[0],Ft=j[1]),vt+tt*(Ft-vt)},K.prototype.invertDim=function(tt,U){var j,at=this[U],vt=at.start,Ft=at.end;return this.isReflect(U)&&(j=[Ft,vt],vt=j[0],Ft=j[1]),(tt-vt)/(Ft-vt)},K.prototype.applyMatrix=function(tt,U,j){j===void 0&&(j=0);var at=this.matrix,vt=[tt,U,j];return z.transformMat3(vt,vt,at),vt},K.prototype.invertMatrix=function(tt,U,j){j===void 0&&(j=0);var at=this.matrix,vt=R.invert([0,0,0,0,0,0,0,0,0],at),Ft=[tt,U,j];return vt&&z.transformMat3(Ft,Ft,vt),Ft},K.prototype.convert=function(tt){var U=this.convertPoint(tt),j=U.x,at=U.y,vt=this.applyMatrix(j,at,1);return{x:vt[0],y:vt[1]}},K.prototype.invert=function(tt){var U=this.invertMatrix(tt.x,tt.y,1);return this.invertPoint({x:U[0],y:U[1]})},K.prototype.rotate=function(tt){var U=this.matrix,j=this.center;return F.leftTranslate(U,U,[-j.x,-j.y]),F.leftRotate(U,U,tt),F.leftTranslate(U,U,[j.x,j.y]),this},K.prototype.reflect=function(tt){return tt==="x"?this.isReflectX=!this.isReflectX:this.isReflectY=!this.isReflectY,this},K.prototype.scale=function(tt,U){var j=this.matrix,at=this.center;return F.leftTranslate(j,j,[-at.x,-at.y]),F.leftScale(j,j,[tt,U]),F.leftTranslate(j,j,[at.x,at.y]),this},K.prototype.translate=function(tt,U){var j=this.matrix;return F.leftTranslate(j,j,[tt,U]),this},K.prototype.transpose=function(){return this.isTransposed=!this.isTransposed,this},K.prototype.getCenter=function(){return this.center},K.prototype.getWidth=function(){return this.width},K.prototype.getHeight=function(){return this.height},K.prototype.getRadius=function(){return this.radius},K.prototype.isReflect=function(tt){return tt==="x"?this.isReflectX:this.isReflectY},K.prototype.resetMatrix=function(tt){this.matrix=tt||Z([],this.originalMatrix)},K}(),W=u,it=function(K){L(tt,K);function tt(U){var j=K.call(this,U)||this;return j.isRect=!0,j.type="cartesian",j.initial(),j}return tt.prototype.initial=function(){K.prototype.initial.call(this);var U=this.start,j=this.end;this.x={start:U.x,end:j.x},this.y={start:U.y,end:j.y}},tt.prototype.convertPoint=function(U){var j,at=U.x,vt=U.y;return this.isTransposed&&(j=[vt,at],at=j[0],vt=j[1]),{x:this.convertDim(at,"x"),y:this.convertDim(vt,"y")}},tt.prototype.invertPoint=function(U){var j,at=this.invertDim(U.x,"x"),vt=this.invertDim(U.y,"y");return this.isTransposed&&(j=[vt,at],at=j[0],vt=j[1]),{x:at,y:vt}},tt}(W),nt=it,mt=d(31437),et=function(K){L(tt,K);function tt(U){var j=K.call(this,U)||this;j.isHelix=!0,j.type="helix";var at=U.startAngle,vt=at===void 0?1.25*Math.PI:at,Ft=U.endAngle,Jt=Ft===void 0?7.25*Math.PI:Ft,le=U.innerRadius,ge=le===void 0?0:le,Zt=U.radius;return j.startAngle=vt,j.endAngle=Jt,j.innerRadius=ge,j.radius=Zt,j.initial(),j}return tt.prototype.initial=function(){K.prototype.initial.call(this);var U=(this.endAngle-this.startAngle)/(2*Math.PI)+1,j=Math.min(this.width,this.height)/2;this.radius&&this.radius>=0&&this.radius<=1&&(j=j*this.radius),this.d=Math.floor(j*(1-this.innerRadius)/U),this.a=this.d/(Math.PI*2),this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*j,end:this.innerRadius*j+this.d*.99}},tt.prototype.convertPoint=function(U){var j,at=U.x,vt=U.y;this.isTransposed&&(j=[vt,at],at=j[0],vt=j[1]);var Ft=this.convertDim(at,"x"),Jt=this.a*Ft,le=this.convertDim(vt,"y");return{x:this.center.x+Math.cos(Ft)*(Jt+le),y:this.center.y+Math.sin(Ft)*(Jt+le)}},tt.prototype.invertPoint=function(U){var j,at=this.d+this.y.start,vt=mt.subtract([0,0],[U.x,U.y],[this.center.x,this.center.y]),Ft=F.angleTo(vt,[1,0],!0),Jt=Ft*this.a;mt.length(vt)<Jt&&(Jt=mt.length(vt));var le=Math.floor((mt.length(vt)-Jt)/at);Ft=2*le*Math.PI+Ft;var ge=this.a*Ft,Zt=mt.length(vt)-ge;Zt=(0,D.isNumberEqual)(Zt,0)?0:Zt;var kt=this.invertDim(Ft,"x"),zt=this.invertDim(Zt,"y");return kt=(0,D.isNumberEqual)(kt,0)?0:kt,zt=(0,D.isNumberEqual)(zt,0)?0:zt,this.isTransposed&&(j=[zt,kt],kt=j[0],zt=j[1]),{x:kt,y:zt}},tt}(W),ct=et,Pt=function(K){L(tt,K);function tt(U){var j=K.call(this,U)||this;j.isPolar=!0,j.type="polar";var at=U.startAngle,vt=at===void 0?-Math.PI/2:at,Ft=U.endAngle,Jt=Ft===void 0?Math.PI*3/2:Ft,le=U.innerRadius,ge=le===void 0?0:le,Zt=U.radius;return j.startAngle=vt,j.endAngle=Jt,j.innerRadius=ge,j.radius=Zt,j.initial(),j}return tt.prototype.initial=function(){for(K.prototype.initial.call(this);this.endAngle<this.startAngle;)this.endAngle+=Math.PI*2;var U=this.getOneBox(),j=U.maxX-U.minX,at=U.maxY-U.minY,vt=Math.abs(U.minX)/j,Ft=Math.abs(U.minY)/at,Jt;this.height/at>this.width/j?(Jt=this.width/j,this.circleCenter={x:this.center.x-(.5-vt)*this.width,y:this.center.y-(.5-Ft)*Jt*at}):(Jt=this.height/at,this.circleCenter={x:this.center.x-(.5-vt)*Jt*j,y:this.center.y-(.5-Ft)*this.height}),this.polarRadius=this.radius,this.radius?this.radius>0&&this.radius<=1?this.polarRadius=Jt*this.radius:(this.radius<=0||this.radius>Jt)&&(this.polarRadius=Jt):this.polarRadius=Jt,this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*this.polarRadius,end:this.polarRadius}},tt.prototype.getRadius=function(){return this.polarRadius},tt.prototype.convertPoint=function(U){var j,at=this.getCenter(),vt=U.x,Ft=U.y;return this.isTransposed&&(j=[Ft,vt],vt=j[0],Ft=j[1]),vt=this.convertDim(vt,"x"),Ft=this.convertDim(Ft,"y"),{x:at.x+Math.cos(vt)*Ft,y:at.y+Math.sin(vt)*Ft}},tt.prototype.invertPoint=function(U){var j,at=this.getCenter(),vt=[U.x-at.x,U.y-at.y],Ft=this,Jt=Ft.startAngle,le=Ft.endAngle;this.isReflect("x")&&(j=[le,Jt],Jt=j[0],le=j[1]);var ge=[1,0,0,0,1,0,0,0,1];F.leftRotate(ge,ge,Jt);var Zt=[1,0,0];z.transformMat3(Zt,Zt,ge);var kt=[Zt[0],Zt[1]],zt=F.angleTo(kt,vt,le<Jt);(0,D.isNumberEqual)(zt,Math.PI*2)&&(zt=0);var ne=mt.length(vt),de=zt/(le-Jt);de=le-Jt>0?de:-de;var Ce=this.invertDim(ne,"y"),De={x:0,y:0};return De.x=this.isTransposed?Ce:de,De.y=this.isTransposed?de:Ce,De},tt.prototype.getCenter=function(){return this.circleCenter},tt.prototype.getOneBox=function(){var U=this.startAngle,j=this.endAngle;if(Math.abs(j-U)>=Math.PI*2)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var at=[0,Math.cos(U),Math.cos(j)],vt=[0,Math.sin(U),Math.sin(j)],Ft=Math.min(U,j);Ft<Math.max(U,j);Ft+=Math.PI/18)at.push(Math.cos(Ft)),vt.push(Math.sin(Ft));return{minX:Math.min.apply(Math,at),maxX:Math.max.apply(Math,at),minY:Math.min.apply(Math,vt),maxY:Math.max.apply(Math,vt)}},tt}(W),At=Pt,ot={},wt=function(K){return ot[K.toLowerCase()]},st=function(K,tt){ot[K.toLowerCase()]=tt};st("rect",nt),st("cartesian",nt),st("polar",At),st("helix",ct)},57817:function(gt,S,d){"use strict";d.d(S,{Z:function(){return y}});function y(L,I,O){if(L){if(typeof L.addEventListener=="function")return L.addEventListener(I,O,!1),{remove:function(){L.removeEventListener(I,O,!1)}};if(typeof L.attachEvent=="function")return L.attachEvent("on"+I,O),{remove:function(){L.detachEvent("on"+I,O)}}}}},6056:function(gt,S,d){"use strict";d.d(S,{Z:function(){return _}});var y,L,I,O;function T(){y=document.createElement("table"),L=document.createElement("tr"),I=/^\s*<(\w+|!)[^>]*>/,O={tr:document.createElement("tbody"),tbody:y,thead:y,tfoot:y,td:L,th:L,"*":document.createElement("div")}}function _(C){y||T();var E=I.test(C)&&RegExp.$1;(!E||!(E in O))&&(E="*");var p=O[E];C=typeof C=="string"?C.replace(/(^\s*)|(\s*$)/g,""):C,p.innerHTML=""+C;var w=p.childNodes[0];return w&&p.contains(w)&&p.removeChild(w),w}},10430:function(gt,S,d){"use strict";d.d(S,{Z:function(){return L}});var y=d(99911);function L(I,O){var T=(0,y.Z)(I,"height",O);return T==="auto"&&(T=I.offsetHeight),parseFloat(T)}},79189:function(gt,S,d){"use strict";d.d(S,{Z:function(){return I}});var y=d(99911),L=d(10430);function I(O,T){var _=(0,L.Z)(O,T),C=parseFloat((0,y.Z)(O,"borderTopWidth"))||0,E=parseFloat((0,y.Z)(O,"paddingTop"))||0,p=parseFloat((0,y.Z)(O,"paddingBottom"))||0,w=parseFloat((0,y.Z)(O,"borderBottomWidth"))||0,g=parseFloat((0,y.Z)(O,"marginTop"))||0,b=parseFloat((0,y.Z)(O,"marginBottom"))||0;return _+C+w+E+p+g+b}},89810:function(gt,S,d){"use strict";d.d(S,{Z:function(){return I}});var y=d(99911),L=d(23408);function I(O,T){var _=(0,L.Z)(O,T),C=parseFloat((0,y.Z)(O,"borderLeftWidth"))||0,E=parseFloat((0,y.Z)(O,"paddingLeft"))||0,p=parseFloat((0,y.Z)(O,"paddingRight"))||0,w=parseFloat((0,y.Z)(O,"borderRightWidth"))||0,g=parseFloat((0,y.Z)(O,"marginRight"))||0,b=parseFloat((0,y.Z)(O,"marginLeft"))||0;return _+C+w+E+p+b+g}},99911:function(gt,S,d){"use strict";d.d(S,{Z:function(){return y}});function y(L,I,O){var T;try{T=window.getComputedStyle?window.getComputedStyle(L,null)[I]:L.style[I]}catch(_){}finally{T=T===void 0?O:T}return T}},23408:function(gt,S,d){"use strict";d.d(S,{Z:function(){return L}});var y=d(99911);function L(I,O){var T=(0,y.Z)(I,"width",O);return T==="auto"&&(T=I.offsetWidth),parseFloat(T)}},80478:function(gt,S,d){"use strict";d.r(S),d.d(S,{addEventListener:function(){return y.Z},createDom:function(){return L.Z},getHeight:function(){return I.Z},getOuterHeight:function(){return O.Z},getOuterWidth:function(){return T.Z},getRatio:function(){return _},getStyle:function(){return C.Z},getWidth:function(){return E.Z},modifyCSS:function(){return p.Z}});var y=d(57817),L=d(6056),I=d(10430),O=d(79189),T=d(89810);function _(){return window.devicePixelRatio?window.devicePixelRatio:2}var C=d(99911),E=d(23408),p=d(45442)},45442:function(gt,S,d){"use strict";d.d(S,{Z:function(){return y}});function y(L,I){if(L)for(var O in I)I.hasOwnProperty(O)&&(L.style[O]=I[O]);return L}},73136:function(gt,S){"use strict";var d;d={value:!0};function y(L,I,O){if(L){if(typeof L.addEventListener=="function")return L.addEventListener(I,O,!1),{remove:function(){L.removeEventListener(I,O,!1)}};if(typeof L.attachEvent=="function")return L.attachEvent("on"+I,O),{remove:function(){L.detachEvent("on"+I,O)}}}}S.Z=y},57821:function(gt,S){"use strict";var d;d={value:!0};var y,L,I,O;function T(){y=document.createElement("table"),L=document.createElement("tr"),I=/^\s*<(\w+|!)[^>]*>/,O={tr:document.createElement("tbody"),tbody:y,thead:y,tfoot:y,td:L,th:L,"*":document.createElement("div")}}function _(C){y||T();var E=I.test(C)&&RegExp.$1;(!E||!(E in O))&&(E="*");var p=O[E];C=typeof C=="string"?C.replace(/(^\s*)|(\s*$)/g,""):C,p.innerHTML=""+C;var w=p.childNodes[0];return w&&p.contains(w)&&p.removeChild(w),w}S.Z=_},1513:function(gt,S){"use strict";var d;d={value:!0};function y(L,I){if(L)for(var O in I)I.hasOwnProperty(O)&&(L.style[O]=I[O]);return L}S.Z=y},90494:function(gt,S,d){"use strict";d.r(S);var y="*",L=function(){function I(){this._events={}}return I.prototype.on=function(O,T,_){return this._events[O]||(this._events[O]=[]),this._events[O].push({callback:T,once:!!_}),this},I.prototype.once=function(O,T){return this.on(O,T,!0)},I.prototype.emit=function(O){for(var T=this,_=[],C=1;C<arguments.length;C++)_[C-1]=arguments[C];var E=this._events[O]||[],p=this._events[y]||[],w=function(g){for(var b=g.length,m=0;m<b;m++)if(!!g[m]){var M=g[m],P=M.callback,k=M.once;k&&(g.splice(m,1),g.length===0&&delete T._events[O],b--,m--),P.apply(T,_)}};w(E),w(p)},I.prototype.off=function(O,T){if(!O)this._events={};else if(!T)delete this._events[O];else{for(var _=this._events[O]||[],C=_.length,E=0;E<C;E++)_[E].callback===T&&(_.splice(E,1),C--,E--);_.length===0&&delete this._events[O]}return this},I.prototype.getEvents=function(){return this._events},I}();S.default=L},39014:function(gt,S,d){"use strict";d.r(S),d.d(S,{AbstractCanvas:function(){return Jn},AbstractGroup:function(){return ki},AbstractShape:function(){return Vn},Base:function(){return ge},Event:function(){return et},PathUtil:function(){return y},version:function(){return ca}});var y={};d.r(y),d.d(y,{catmullRomToBezier:function(){return C},fillPath:function(){return z},fillPathByDiff:function(){return u},formatPath:function(){return nt},intersection:function(){return Dt},parsePathArray:function(){return P},parsePathString:function(){return _},pathToAbsolute:function(){return p},pathToCurve:function(){return m},rectPath:function(){return J}});var L=d(49242),I=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,O=new RegExp("([a-z])["+I+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+I+"]*,?["+I+"]*)+)","ig"),T=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+I+"]*,?["+I+"]*","ig"),_=function(Nt){if(!Nt)return null;if((0,L.isArray)(Nt))return Nt;var Mt={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},dt=[];return String(Nt).replace(O,function(yt,Vt,re){var ve=[],ye=Vt.toLowerCase();if(re.replace(T,function(me,Ct){Ct&&ve.push(+Ct)}),ye==="m"&&ve.length>2&&(dt.push([Vt].concat(ve.splice(0,2))),ye="l",Vt=Vt==="m"?"l":"L"),ye==="o"&&ve.length===1&&dt.push([Vt,ve[0]]),ye==="r")dt.push([Vt].concat(ve));else for(;ve.length>=Mt[ye]&&(dt.push([Vt].concat(ve.splice(0,Mt[ye]))),!!Mt[ye]););return Nt}),dt},C=function(Nt,Mt){for(var dt=[],yt=0,Vt=Nt.length;Vt-2*!Mt>yt;yt+=2){var re=[{x:+Nt[yt-2],y:+Nt[yt-1]},{x:+Nt[yt],y:+Nt[yt+1]},{x:+Nt[yt+2],y:+Nt[yt+3]},{x:+Nt[yt+4],y:+Nt[yt+5]}];Mt?yt?Vt-4===yt?re[3]={x:+Nt[0],y:+Nt[1]}:Vt-2===yt&&(re[2]={x:+Nt[0],y:+Nt[1]},re[3]={x:+Nt[2],y:+Nt[3]}):re[0]={x:+Nt[Vt-2],y:+Nt[Vt-1]}:Vt-4===yt?re[3]=re[2]:yt||(re[0]={x:+Nt[yt],y:+Nt[yt+1]}),dt.push(["C",(-re[0].x+6*re[1].x+re[2].x)/6,(-re[0].y+6*re[1].y+re[2].y)/6,(re[1].x+6*re[2].x-re[3].x)/6,(re[1].y+6*re[2].y-re[3].y)/6,re[2].x,re[2].y])}return dt},E=function(Nt,Mt,dt,yt,Vt){var re=[];if(Vt===null&&yt===null&&(yt=dt),Nt=+Nt,Mt=+Mt,dt=+dt,yt=+yt,Vt!==null){var ve=Math.PI/180,ye=Nt+dt*Math.cos(-yt*ve),me=Nt+dt*Math.cos(-Vt*ve),Ct=Mt+dt*Math.sin(-yt*ve),Tt=Mt+dt*Math.sin(-Vt*ve);re=[["M",ye,Ct],["A",dt,dt,0,+(Vt-yt>180),0,me,Tt]]}else re=[["M",Nt,Mt],["m",0,-yt],["a",dt,yt,0,1,1,0,2*yt],["a",dt,yt,0,1,1,0,-2*yt],["z"]];return re},p=function(Nt){if(Nt=_(Nt),!Nt||!Nt.length)return[["M",0,0]];var Mt=[],dt=0,yt=0,Vt=0,re=0,ve=0,ye,me;Nt[0][0]==="M"&&(dt=+Nt[0][1],yt=+Nt[0][2],Vt=dt,re=yt,ve++,Mt[0]=["M",dt,yt]);for(var Ct=Nt.length===3&&Nt[0][0]==="M"&&Nt[1][0].toUpperCase()==="R"&&Nt[2][0].toUpperCase()==="Z",Tt=void 0,Lt=void 0,Ht=ve,qt=Nt.length;Ht<qt;Ht++){if(Mt.push(Tt=[]),Lt=Nt[Ht],ye=Lt[0],ye!==ye.toUpperCase())switch(Tt[0]=ye.toUpperCase(),Tt[0]){case"A":Tt[1]=Lt[1],Tt[2]=Lt[2],Tt[3]=Lt[3],Tt[4]=Lt[4],Tt[5]=Lt[5],Tt[6]=+Lt[6]+dt,Tt[7]=+Lt[7]+yt;break;case"V":Tt[1]=+Lt[1]+yt;break;case"H":Tt[1]=+Lt[1]+dt;break;case"R":me=[dt,yt].concat(Lt.slice(1));for(var Ut=2,be=me.length;Ut<be;Ut++)me[Ut]=+me[Ut]+dt,me[++Ut]=+me[Ut]+yt;Mt.pop(),Mt=Mt.concat(C(me,Ct));break;case"O":Mt.pop(),me=E(dt,yt,Lt[1],Lt[2]),me.push(me[0]),Mt=Mt.concat(me);break;case"U":Mt.pop(),Mt=Mt.concat(E(dt,yt,Lt[1],Lt[2],Lt[3])),Tt=["U"].concat(Mt[Mt.length-1].slice(-2));break;case"M":Vt=+Lt[1]+dt,re=+Lt[2]+yt;break;default:for(var Ut=1,be=Lt.length;Ut<be;Ut++)Tt[Ut]=+Lt[Ut]+(Ut%2?dt:yt)}else if(ye==="R")me=[dt,yt].concat(Lt.slice(1)),Mt.pop(),Mt=Mt.concat(C(me,Ct)),Tt=["R"].concat(Lt.slice(-2));else if(ye==="O")Mt.pop(),me=E(dt,yt,Lt[1],Lt[2]),me.push(me[0]),Mt=Mt.concat(me);else if(ye==="U")Mt.pop(),Mt=Mt.concat(E(dt,yt,Lt[1],Lt[2],Lt[3])),Tt=["U"].concat(Mt[Mt.length-1].slice(-2));else for(var _e=0,je=Lt.length;_e<je;_e++)Tt[_e]=Lt[_e];if(ye=ye.toUpperCase(),ye!=="O")switch(Tt[0]){case"Z":dt=+Vt,yt=+re;break;case"H":dt=Tt[1];break;case"V":yt=Tt[1];break;case"M":Vt=Tt[Tt.length-2],re=Tt[Tt.length-1];break;default:dt=Tt[Tt.length-2],yt=Tt[Tt.length-1]}}return Mt},w=function(Nt,Mt,dt,yt){return[Nt,Mt,dt,yt,dt,yt]},g=function(Nt,Mt,dt,yt,Vt,re){var ve=1/3,ye=2/3;return[ve*Nt+ye*dt,ve*Mt+ye*yt,ve*Vt+ye*dt,ve*re+ye*yt,Vt,re]},b=function(Nt,Mt,dt,yt,Vt,re,ve,ye,me,Ct){dt===yt&&(dt+=1);var Tt=Math.PI*120/180,Lt=Math.PI/180*(+Vt||0),Ht=[],qt,Ut,be,_e,je,Te=function(Mi,Kn,Ei){var qi=Mi*Math.cos(Ei)-Kn*Math.sin(Ei),Ea=Mi*Math.sin(Ei)+Kn*Math.cos(Ei);return{x:qi,y:Ea}};if(Ct)Ut=Ct[0],be=Ct[1],_e=Ct[2],je=Ct[3];else{qt=Te(Nt,Mt,-Lt),Nt=qt.x,Mt=qt.y,qt=Te(ye,me,-Lt),ye=qt.x,me=qt.y,Nt===ye&&Mt===me&&(ye+=1,me+=1);var Le=(Nt-ye)/2,Fe=(Mt-me)/2,ir=Le*Le/(dt*dt)+Fe*Fe/(yt*yt);ir>1&&(ir=Math.sqrt(ir),dt=ir*dt,yt=ir*yt);var Or=dt*dt,Tr=yt*yt,jr=(re===ve?-1:1)*Math.sqrt(Math.abs((Or*Tr-Or*Fe*Fe-Tr*Le*Le)/(Or*Fe*Fe+Tr*Le*Le)));_e=jr*dt*Fe/yt+(Nt+ye)/2,je=jr*-yt*Le/dt+(Mt+me)/2,Ut=Math.asin(((Mt-je)/yt).toFixed(9)),be=Math.asin(((me-je)/yt).toFixed(9)),Ut=Nt<_e?Math.PI-Ut:Ut,be=ye<_e?Math.PI-be:be,Ut<0&&(Ut=Math.PI*2+Ut),be<0&&(be=Math.PI*2+be),ve&&Ut>be&&(Ut=Ut-Math.PI*2),!ve&&be>Ut&&(be=be-Math.PI*2)}var fn=be-Ut;if(Math.abs(fn)>Tt){var jn=be,Rn=ye,Ui=me;be=Ut+Tt*(ve&&be>Ut?1:-1),ye=_e+dt*Math.cos(be),me=je+yt*Math.sin(be),Ht=b(ye,me,dt,yt,Vt,0,ve,Rn,Ui,[be,jn,_e,je])}fn=be-Ut;var vi=Math.cos(Ut),Ci=Math.sin(Ut),Di=Math.cos(be),an=Math.sin(be),ri=Math.tan(fn/4),ni=4/3*dt*ri,Hn=4/3*yt*ri,na=[Nt,Mt],ii=[Nt+ni*Ci,Mt-Hn*vi],va=[ye+ni*an,me-Hn*Di],Ma=[ye,me];if(ii[0]=2*na[0]-ii[0],ii[1]=2*na[1]-ii[1],Ct)return[ii,va,Ma].concat(Ht);Ht=[ii,va,Ma].concat(Ht).join().split(",");for(var ia=[],di=0,aa=Ht.length;di<aa;di++)ia[di]=di%2?Te(Ht[di-1],Ht[di],Lt).y:Te(Ht[di],Ht[di+1],Lt).x;return ia},m=function(Nt,Mt){var dt=p(Nt),yt=Mt&&p(Mt),Vt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},re={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ve=[],ye=[],me="",Ct="",Tt,Lt=function(Le,Fe,ir){var Or,Tr;if(!Le)return["C",Fe.x,Fe.y,Fe.x,Fe.y,Fe.x,Fe.y];switch(!(Le[0]in{T:1,Q:1})&&(Fe.qx=Fe.qy=null),Le[0]){case"M":Fe.X=Le[1],Fe.Y=Le[2];break;case"A":Le=["C"].concat(b.apply(0,[Fe.x,Fe.y].concat(Le.slice(1))));break;case"S":ir==="C"||ir==="S"?(Or=Fe.x*2-Fe.bx,Tr=Fe.y*2-Fe.by):(Or=Fe.x,Tr=Fe.y),Le=["C",Or,Tr].concat(Le.slice(1));break;case"T":ir==="Q"||ir==="T"?(Fe.qx=Fe.x*2-Fe.qx,Fe.qy=Fe.y*2-Fe.qy):(Fe.qx=Fe.x,Fe.qy=Fe.y),Le=["C"].concat(g(Fe.x,Fe.y,Fe.qx,Fe.qy,Le[1],Le[2]));break;case"Q":Fe.qx=Le[1],Fe.qy=Le[2],Le=["C"].concat(g(Fe.x,Fe.y,Le[1],Le[2],Le[3],Le[4]));break;case"L":Le=["C"].concat(w(Fe.x,Fe.y,Le[1],Le[2]));break;case"H":Le=["C"].concat(w(Fe.x,Fe.y,Le[1],Fe.y));break;case"V":Le=["C"].concat(w(Fe.x,Fe.y,Fe.x,Le[1]));break;case"Z":Le=["C"].concat(w(Fe.x,Fe.y,Fe.X,Fe.Y));break;default:break}return Le},Ht=function(Le,Fe){if(Le[Fe].length>7){Le[Fe].shift();for(var ir=Le[Fe];ir.length;)ve[Fe]="A",yt&&(ye[Fe]="A"),Le.splice(Fe++,0,["C"].concat(ir.splice(0,6)));Le.splice(Fe,1),Tt=Math.max(dt.length,yt&&yt.length||0)}},qt=function(Le,Fe,ir,Or,Tr){Le&&Fe&&Le[Tr][0]==="M"&&Fe[Tr][0]!=="M"&&(Fe.splice(Tr,0,["M",Or.x,Or.y]),ir.bx=0,ir.by=0,ir.x=Le[Tr][1],ir.y=Le[Tr][2],Tt=Math.max(dt.length,yt&&yt.length||0))};Tt=Math.max(dt.length,yt&&yt.length||0);for(var Ut=0;Ut<Tt;Ut++){dt[Ut]&&(me=dt[Ut][0]),me!=="C"&&(ve[Ut]=me,Ut&&(Ct=ve[Ut-1])),dt[Ut]=Lt(dt[Ut],Vt,Ct),ve[Ut]!=="A"&&me==="C"&&(ve[Ut]="C"),Ht(dt,Ut),yt&&(yt[Ut]&&(me=yt[Ut][0]),me!=="C"&&(ye[Ut]=me,Ut&&(Ct=ye[Ut-1])),yt[Ut]=Lt(yt[Ut],re,Ct),ye[Ut]!=="A"&&me==="C"&&(ye[Ut]="C"),Ht(yt,Ut)),qt(dt,yt,Vt,re,Ut),qt(yt,dt,re,Vt,Ut);var be=dt[Ut],_e=yt&&yt[Ut],je=be.length,Te=yt&&_e.length;Vt.x=be[je-2],Vt.y=be[je-1],Vt.bx=parseFloat(be[je-4])||Vt.x,Vt.by=parseFloat(be[je-3])||Vt.y,re.bx=yt&&(parseFloat(_e[Te-4])||re.x),re.by=yt&&(parseFloat(_e[Te-3])||re.y),re.x=yt&&_e[Te-2],re.y=yt&&_e[Te-1]}return yt?[dt,yt]:dt},M=/,?([a-z]),?/gi,P=function(Nt){return Nt.join(",").replace(M,"$1")},k=function(Nt,Mt,dt,yt,Vt){var re=-3*Mt+9*dt-9*yt+3*Vt,ve=Nt*re+6*Mt-12*dt+6*yt;return Nt*ve-3*Mt+3*dt},N=function(Nt,Mt,dt,yt,Vt,re,ve,ye,me){me===null&&(me=1),me=me>1?1:me<0?0:me;for(var Ct=me/2,Tt=12,Lt=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Ht=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],qt=0,Ut=0;Ut<Tt;Ut++){var be=Ct*Lt[Ut]+Ct,_e=k(be,Nt,dt,Vt,ve),je=k(be,Mt,yt,re,ye),Te=_e*_e+je*je;qt+=Ht[Ut]*Math.sqrt(Te)}return Ct*qt},V=function(Nt,Mt,dt,yt,Vt,re,ve,ye){for(var me=[],Ct=[[],[]],Tt,Lt,Ht,qt,Ut=0;Ut<2;++Ut){if(Ut===0?(Lt=6*Nt-12*dt+6*Vt,Tt=-3*Nt+9*dt-9*Vt+3*ve,Ht=3*dt-3*Nt):(Lt=6*Mt-12*yt+6*re,Tt=-3*Mt+9*yt-9*re+3*ye,Ht=3*yt-3*Mt),Math.abs(Tt)<1e-12){if(Math.abs(Lt)<1e-12)continue;qt=-Ht/Lt,qt>0&&qt<1&&me.push(qt);continue}var be=Lt*Lt-4*Ht*Tt,_e=Math.sqrt(be);if(!(be<0)){var je=(-Lt+_e)/(2*Tt);je>0&&je<1&&me.push(je);var Te=(-Lt-_e)/(2*Tt);Te>0&&Te<1&&me.push(Te)}}for(var Le=me.length,Fe=Le,ir;Le--;)qt=me[Le],ir=1-qt,Ct[0][Le]=ir*ir*ir*Nt+3*ir*ir*qt*dt+3*ir*qt*qt*Vt+qt*qt*qt*ve,Ct[1][Le]=ir*ir*ir*Mt+3*ir*ir*qt*yt+3*ir*qt*qt*re+qt*qt*qt*ye;return Ct[0][Fe]=Nt,Ct[1][Fe]=Mt,Ct[0][Fe+1]=ve,Ct[1][Fe+1]=ye,Ct[0].length=Ct[1].length=Fe+2,{min:{x:Math.min.apply(0,Ct[0]),y:Math.min.apply(0,Ct[1])},max:{x:Math.max.apply(0,Ct[0]),y:Math.max.apply(0,Ct[1])}}},$=function(Nt,Mt,dt,yt,Vt,re,ve,ye){if(!(Math.max(Nt,dt)<Math.min(Vt,ve)||Math.min(Nt,dt)>Math.max(Vt,ve)||Math.max(Mt,yt)<Math.min(re,ye)||Math.min(Mt,yt)>Math.max(re,ye))){var me=(Nt*yt-Mt*dt)*(Vt-ve)-(Nt-dt)*(Vt*ye-re*ve),Ct=(Nt*yt-Mt*dt)*(re-ye)-(Mt-yt)*(Vt*ye-re*ve),Tt=(Nt-dt)*(re-ye)-(Mt-yt)*(Vt-ve);if(!!Tt){var Lt=me/Tt,Ht=Ct/Tt,qt=+Lt.toFixed(2),Ut=+Ht.toFixed(2);if(!(qt<+Math.min(Nt,dt).toFixed(2)||qt>+Math.max(Nt,dt).toFixed(2)||qt<+Math.min(Vt,ve).toFixed(2)||qt>+Math.max(Vt,ve).toFixed(2)||Ut<+Math.min(Mt,yt).toFixed(2)||Ut>+Math.max(Mt,yt).toFixed(2)||Ut<+Math.min(re,ye).toFixed(2)||Ut>+Math.max(re,ye).toFixed(2)))return{x:Lt,y:Ht}}}},Z=function(Nt,Mt,dt){return Mt>=Nt.x&&Mt<=Nt.x+Nt.width&&dt>=Nt.y&&dt<=Nt.y+Nt.height},J=function(Nt,Mt,dt,yt,Vt){if(Vt)return[["M",+Nt+ +Vt,Mt],["l",dt-Vt*2,0],["a",Vt,Vt,0,0,1,Vt,Vt],["l",0,yt-Vt*2],["a",Vt,Vt,0,0,1,-Vt,Vt],["l",Vt*2-dt,0],["a",Vt,Vt,0,0,1,-Vt,-Vt],["l",0,Vt*2-yt],["a",Vt,Vt,0,0,1,Vt,-Vt],["z"]];var re=[["M",Nt,Mt],["l",dt,0],["l",0,yt],["l",-dt,0],["z"]];return re.parsePathArray=P,re},lt=function(Nt,Mt,dt,yt){return Nt===null&&(Nt=Mt=dt=yt=0),Mt===null&&(Mt=Nt.y,dt=Nt.width,yt=Nt.height,Nt=Nt.x),{x:Nt,y:Mt,width:dt,w:dt,height:yt,h:yt,x2:Nt+dt,y2:Mt+yt,cx:Nt+dt/2,cy:Mt+yt/2,r1:Math.min(dt,yt)/2,r2:Math.max(dt,yt)/2,r0:Math.sqrt(dt*dt+yt*yt)/2,path:J(Nt,Mt,dt,yt),vb:[Nt,Mt,dt,yt].join(" ")}},rt=function(Nt,Mt){return Nt=lt(Nt),Mt=lt(Mt),Z(Mt,Nt.x,Nt.y)||Z(Mt,Nt.x2,Nt.y)||Z(Mt,Nt.x,Nt.y2)||Z(Mt,Nt.x2,Nt.y2)||Z(Nt,Mt.x,Mt.y)||Z(Nt,Mt.x2,Mt.y)||Z(Nt,Mt.x,Mt.y2)||Z(Nt,Mt.x2,Mt.y2)||(Nt.x<Mt.x2&&Nt.x>Mt.x||Mt.x<Nt.x2&&Mt.x>Nt.x)&&(Nt.y<Mt.y2&&Nt.y>Mt.y||Mt.y<Nt.y2&&Mt.y>Nt.y)},bt=function(Nt,Mt,dt,yt,Vt,re,ve,ye){(0,L.isArray)(Nt)||(Nt=[Nt,Mt,dt,yt,Vt,re,ve,ye]);var me=V.apply(null,Nt);return lt(me.min.x,me.min.y,me.max.x-me.min.x,me.max.y-me.min.y)},Ot=function(Nt,Mt,dt,yt,Vt,re,ve,ye,me){var Ct=1-me,Tt=Math.pow(Ct,3),Lt=Math.pow(Ct,2),Ht=me*me,qt=Ht*me,Ut=Tt*Nt+Lt*3*me*dt+Ct*3*me*me*Vt+qt*ve,be=Tt*Mt+Lt*3*me*yt+Ct*3*me*me*re+qt*ye,_e=Nt+2*me*(dt-Nt)+Ht*(Vt-2*dt+Nt),je=Mt+2*me*(yt-Mt)+Ht*(re-2*yt+Mt),Te=dt+2*me*(Vt-dt)+Ht*(ve-2*Vt+dt),Le=yt+2*me*(re-yt)+Ht*(ye-2*re+yt),Fe=Ct*Nt+me*dt,ir=Ct*Mt+me*yt,Or=Ct*Vt+me*ve,Tr=Ct*re+me*ye,jr=90-Math.atan2(_e-Te,je-Le)*180/Math.PI;return{x:Ut,y:be,m:{x:_e,y:je},n:{x:Te,y:Le},start:{x:Fe,y:ir},end:{x:Or,y:Tr},alpha:jr}},Bt=function(Nt,Mt,dt){var yt=bt(Nt),Vt=bt(Mt);if(!rt(yt,Vt))return dt?0:[];for(var re=N.apply(0,Nt),ve=N.apply(0,Mt),ye=~~(re/8),me=~~(ve/8),Ct=[],Tt=[],Lt={},Ht=dt?0:[],qt=0;qt<ye+1;qt++){var Ut=Ot.apply(0,Nt.concat(qt/ye));Ct.push({x:Ut.x,y:Ut.y,t:qt/ye})}for(var qt=0;qt<me+1;qt++){var Ut=Ot.apply(0,Mt.concat(qt/me));Tt.push({x:Ut.x,y:Ut.y,t:qt/me})}for(var qt=0;qt<ye;qt++)for(var be=0;be<me;be++){var _e=Ct[qt],je=Ct[qt+1],Te=Tt[be],Le=Tt[be+1],Fe=Math.abs(je.x-_e.x)<.001?"y":"x",ir=Math.abs(Le.x-Te.x)<.001?"y":"x",Or=$(_e.x,_e.y,je.x,je.y,Te.x,Te.y,Le.x,Le.y);if(Or){if(Lt[Or.x.toFixed(4)]===Or.y.toFixed(4))continue;Lt[Or.x.toFixed(4)]=Or.y.toFixed(4);var Tr=_e.t+Math.abs((Or[Fe]-_e[Fe])/(je[Fe]-_e[Fe]))*(je.t-_e.t),jr=Te.t+Math.abs((Or[ir]-Te[ir])/(Le[ir]-Te[ir]))*(Le.t-Te.t);Tr>=0&&Tr<=1&&jr>=0&&jr<=1&&(dt?Ht+=1:Ht.push({x:Or.x,y:Or.y,t1:Tr,t2:jr}))}}return Ht},Et=function(Nt,Mt,dt){Nt=m(Nt),Mt=m(Mt);for(var yt,Vt,re,ve,ye,me,Ct,Tt,Lt,Ht,qt=dt?0:[],Ut=0,be=Nt.length;Ut<be;Ut++){var _e=Nt[Ut];if(_e[0]==="M")yt=ye=_e[1],Vt=me=_e[2];else{_e[0]==="C"?(Lt=[yt,Vt].concat(_e.slice(1)),yt=Lt[6],Vt=Lt[7]):(Lt=[yt,Vt,yt,Vt,ye,me,ye,me],yt=ye,Vt=me);for(var je=0,Te=Mt.length;je<Te;je++){var Le=Mt[je];if(Le[0]==="M")re=Ct=Le[1],ve=Tt=Le[2];else{Le[0]==="C"?(Ht=[re,ve].concat(Le.slice(1)),re=Ht[6],ve=Ht[7]):(Ht=[re,ve,re,ve,Ct,Tt,Ct,Tt],re=Ct,ve=Tt);var Fe=Bt(Lt,Ht,dt);if(dt)qt+=Fe;else{for(var ir=0,Or=Fe.length;ir<Or;ir++)Fe[ir].segment1=Ut,Fe[ir].segment2=je,Fe[ir].bez1=Lt,Fe[ir].bez2=Ht;qt=qt.concat(Fe)}}}}}return qt},Dt=function(Nt,Mt){return Et(Nt,Mt)};function It(Nt,Mt){var dt=[],yt=[];function Vt(re,ve){if(re.length===1)dt.push(re[0]),yt.push(re[0]);else{for(var ye=[],me=0;me<re.length-1;me++)me===0&&dt.push(re[0]),me===re.length-2&&yt.push(re[me+1]),ye[me]=[(1-ve)*re[me][0]+ve*re[me+1][0],(1-ve)*re[me][1]+ve*re[me+1][1]];Vt(ye,ve)}}return Nt.length&&Vt(Nt,Mt),{left:dt,right:yt.reverse()}}function _t(Nt,Mt,dt){var yt=[[Nt[1],Nt[2]]];dt=dt||2;var Vt=[];Mt[0]==="A"?(yt.push(Mt[6]),yt.push(Mt[7])):Mt[0]==="C"?(yt.push([Mt[1],Mt[2]]),yt.push([Mt[3],Mt[4]]),yt.push([Mt[5],Mt[6]])):Mt[0]==="S"||Mt[0]==="Q"?(yt.push([Mt[1],Mt[2]]),yt.push([Mt[3],Mt[4]])):yt.push([Mt[1],Mt[2]]);for(var re=yt,ve=1/dt,ye=0;ye<dt-1;ye++){var me=ve/(1-ve*ye),Ct=It(re,me);Vt.push(Ct.left),re=Ct.right}Vt.push(re);var Tt=Vt.map(function(Lt){var Ht=[];return Lt.length===4&&(Ht.push("C"),Ht=Ht.concat(Lt[2])),Lt.length>=3&&(Lt.length===3&&Ht.push("Q"),Ht=Ht.concat(Lt[1])),Lt.length===2&&Ht.push("L"),Ht=Ht.concat(Lt[Lt.length-1]),Ht});return Tt}var Xt=function(Nt,Mt,dt){if(dt===1)return[[].concat(Nt)];var yt=[];if(Mt[0]==="L"||Mt[0]==="C"||Mt[0]==="Q")yt=yt.concat(_t(Nt,Mt,dt));else{var Vt=[].concat(Nt);Vt[0]==="M"&&(Vt[0]="L");for(var re=0;re<=dt-1;re++)yt.push(Vt)}return yt},z=function(Nt,Mt){if(Nt.length===1)return Nt;var dt=Nt.length-1,yt=Mt.length-1,Vt=dt/yt,re=[];if(Nt.length===1&&Nt[0][0]==="M"){for(var ve=0;ve<yt-dt;ve++)Nt.push(Nt[0]);return Nt}for(var ve=0;ve<yt;ve++){var ye=Math.floor(Vt*ve);re[ye]=(re[ye]||0)+1}var me=re.reduce(function(Ct,Tt,Lt){return Lt===dt?Ct.concat(Nt[dt]):Ct.concat(Xt(Nt[Lt],Nt[Lt+1],Tt))},[]);return me.unshift(Nt[0]),(Mt[yt]==="Z"||Mt[yt]==="z")&&me.push("Z"),me},R=function(Nt,Mt){if(Nt.length!==Mt.length)return!1;var dt=!0;return(0,L.each)(Nt,function(yt,Vt){if(yt!==Mt[Vt])return dt=!1,!1}),dt};function F(Nt,Mt,dt){var yt=null,Vt=dt;return Mt<Vt&&(Vt=Mt,yt="add"),Nt<Vt&&(Vt=Nt,yt="del"),{type:yt,min:Vt}}var D=function(Nt,Mt){var dt=Nt.length,yt=Mt.length,Vt,re,ve=0;if(dt===0||yt===0)return null;for(var ye=[],me=0;me<=dt;me++)ye[me]=[],ye[me][0]={min:me};for(var Ct=0;Ct<=yt;Ct++)ye[0][Ct]={min:Ct};for(var me=1;me<=dt;me++){Vt=Nt[me-1];for(var Ct=1;Ct<=yt;Ct++){re=Mt[Ct-1],R(Vt,re)?ve=0:ve=1;var Tt=ye[me-1][Ct].min+1,Lt=ye[me][Ct-1].min+1,Ht=ye[me-1][Ct-1].min+ve;ye[me][Ct]=F(Tt,Lt,Ht)}}return ye},u=function(Nt,Mt){var dt=D(Nt,Mt),yt=Nt.length,Vt=Mt.length,re=[],ve=1,ye=1;if(dt[yt][Vt].min!==yt){for(var me=1;me<=yt;me++){var Ct=dt[me][me].min;ye=me;for(var Tt=ve;Tt<=Vt;Tt++)dt[me][Tt].min<Ct&&(Ct=dt[me][Tt].min,ye=Tt);ve=ye,dt[me][ve].type&&re.push({index:me-1,type:dt[me][ve].type})}for(var me=re.length-1;me>=0;me--)ve=re[me].index,re[me].type==="add"?Nt.splice(ve,0,[].concat(Nt[ve])):Nt.splice(ve,1)}yt=Nt.length;var Lt=Vt-yt;if(yt<Vt)for(var me=0;me<Lt;me++)Nt[yt-1][0]==="z"||Nt[yt-1][0]==="Z"?Nt.splice(yt-2,0,Nt[yt-2]):Nt.push(Nt[yt-1]),yt+=1;return Nt};function W(Nt,Mt,dt){for(var yt=[].concat(Nt),Vt,re=1/(dt+1),ve=it(Mt)[0],ye=1;ye<=dt;ye++)re*=ye,Vt=Math.floor(Nt.length*re),Vt===0?yt.unshift([ve[0]*re+Nt[Vt][0]*(1-re),ve[1]*re+Nt[Vt][1]*(1-re)]):yt.splice(Vt,0,[ve[0]*re+Nt[Vt][0]*(1-re),ve[1]*re+Nt[Vt][1]*(1-re)]);return yt}function it(Nt){var Mt=[];switch(Nt[0]){case"M":Mt.push([Nt[1],Nt[2]]);break;case"L":Mt.push([Nt[1],Nt[2]]);break;case"A":Mt.push([Nt[6],Nt[7]]);break;case"Q":Mt.push([Nt[3],Nt[4]]),Mt.push([Nt[1],Nt[2]]);break;case"T":Mt.push([Nt[1],Nt[2]]);break;case"C":Mt.push([Nt[5],Nt[6]]),Mt.push([Nt[1],Nt[2]]),Mt.push([Nt[3],Nt[4]]);break;case"S":Mt.push([Nt[3],Nt[4]]),Mt.push([Nt[1],Nt[2]]);break;case"H":Mt.push([Nt[1],Nt[1]]);break;case"V":Mt.push([Nt[1],Nt[1]]);break;default:}return Mt}var nt=function(Nt,Mt){if(Nt.length<=1)return Nt;for(var dt,yt=0;yt<Mt.length;yt++)if(Nt[yt][0]!==Mt[yt][0])switch(dt=it(Nt[yt]),Mt[yt][0]){case"M":Nt[yt]=["M"].concat(dt[0]);break;case"L":Nt[yt]=["L"].concat(dt[0]);break;case"A":Nt[yt]=[].concat(Mt[yt]),Nt[yt][6]=dt[0][0],Nt[yt][7]=dt[0][1];break;case"Q":if(dt.length<2)if(yt>0)dt=W(dt,Nt[yt-1],1);else{Nt[yt]=Mt[yt];break}Nt[yt]=["Q"].concat(dt.reduce(function(Vt,re){return Vt.concat(re)},[]));break;case"T":Nt[yt]=["T"].concat(dt[0]);break;case"C":if(dt.length<3)if(yt>0)dt=W(dt,Nt[yt-1],2);else{Nt[yt]=Mt[yt];break}Nt[yt]=["C"].concat(dt.reduce(function(Vt,re){return Vt.concat(re)},[]));break;case"S":if(dt.length<2)if(yt>0)dt=W(dt,Nt[yt-1],1);else{Nt[yt]=Mt[yt];break}Nt[yt]=["S"].concat(dt.reduce(function(Vt,re){return Vt.concat(re)},[]));break;default:Nt[yt]=Mt[yt]}return Nt},mt=function(){function Nt(Mt,dt){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=Mt,this.name=Mt,this.originalEvent=dt,this.timeStamp=dt.timeStamp}return Nt.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},Nt.prototype.stopPropagation=function(){this.propagationStopped=!0},Nt.prototype.toString=function(){var Mt=this.type;return"[Event (type="+Mt+")]"},Nt.prototype.save=function(){},Nt.prototype.restore=function(){},Nt}(),et=mt,ct=d(60153),Pt=d(90494),At=d(73890),ot=d(46812),wt=d(21830),st=d(33643),K=d(66631),tt=d(66974),U=d(27154),j=d(85260);function at(Nt,Mt){var dt=Nt.indexOf(Mt);dt!==-1&&Nt.splice(dt,1)}var vt=typeof window!="undefined"&&typeof window.document!="undefined";function Ft(Nt,Mt){if(Nt.isCanvas())return!0;for(var dt=Mt.getParent(),yt=!1;dt;){if(dt===Nt){yt=!0;break}dt=dt.getParent()}return yt}function Jt(Nt){return Nt.cfg.visible&&Nt.cfg.capture}var le=function(Nt){(0,ct.__extends)(Mt,Nt);function Mt(dt){var yt=Nt.call(this)||this;yt.destroyed=!1;var Vt=yt.getDefaultCfg();return yt.cfg=(0,tt.default)(Vt,dt),yt}return Mt.prototype.getDefaultCfg=function(){return{}},Mt.prototype.get=function(dt){return this.cfg[dt]},Mt.prototype.set=function(dt,yt){this.cfg[dt]=yt},Mt.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},Mt}(Pt.default),ge=le,Zt=d(43631),kt=d(31506);function zt(Nt,Mt){var dt=[],yt=Nt[0],Vt=Nt[1],re=Nt[2],ve=Nt[3],ye=Nt[4],me=Nt[5],Ct=Nt[6],Tt=Nt[7],Lt=Nt[8],Ht=Mt[0],qt=Mt[1],Ut=Mt[2],be=Mt[3],_e=Mt[4],je=Mt[5],Te=Mt[6],Le=Mt[7],Fe=Mt[8];return dt[0]=Ht*yt+qt*ve+Ut*Ct,dt[1]=Ht*Vt+qt*ye+Ut*Tt,dt[2]=Ht*re+qt*me+Ut*Lt,dt[3]=be*yt+_e*ve+je*Ct,dt[4]=be*Vt+_e*ye+je*Tt,dt[5]=be*re+_e*me+je*Lt,dt[6]=Te*yt+Le*ve+Fe*Ct,dt[7]=Te*Vt+Le*ye+Fe*Tt,dt[8]=Te*re+Le*me+Fe*Lt,dt}function ne(Nt,Mt){var dt=[],yt=Mt[0],Vt=Mt[1];return dt[0]=Nt[0]*yt+Nt[3]*Vt+Nt[6],dt[1]=Nt[1]*yt+Nt[4]*Vt+Nt[7],dt}function de(Nt){var Mt=[],dt=Nt[0],yt=Nt[1],Vt=Nt[2],re=Nt[3],ve=Nt[4],ye=Nt[5],me=Nt[6],Ct=Nt[7],Tt=Nt[8],Lt=Tt*ve-ye*Ct,Ht=-Tt*re+ye*me,qt=Ct*re-ve*me,Ut=dt*Lt+yt*Ht+Vt*qt;return Ut?(Ut=1/Ut,Mt[0]=Lt*Ut,Mt[1]=(-Tt*yt+Vt*Ct)*Ut,Mt[2]=(ye*yt-Vt*ve)*Ut,Mt[3]=Ht*Ut,Mt[4]=(Tt*dt-Vt*me)*Ut,Mt[5]=(-ye*dt+Vt*re)*Ut,Mt[6]=qt*Ut,Mt[7]=(-Ct*dt+yt*me)*Ut,Mt[8]=(ve*dt-yt*re)*Ut,Mt):null}var Ce="matrix",De=["zIndex","capture","visible","type"],ze=["repeat"],er=":",yr="*";function tn(Nt){for(var Mt=[],dt=0;dt<Nt.length;dt++)(0,L.isArray)(Nt[dt])?Mt.push([].concat(Nt[dt])):Mt.push(Nt[dt]);return Mt}function nn(Nt,Mt){var dt={},yt=Mt.attrs;for(var Vt in Nt)dt[Vt]=yt[Vt];return dt}function gn(Nt,Mt){var dt={},yt=Mt.attr();return(0,L.each)(Nt,function(Vt,re){ze.indexOf(re)===-1&&!(0,L.isEqual)(yt[re],Vt)&&(dt[re]=Vt)}),dt}function yn(Nt,Mt){if(Mt.onFrame)return Nt;var dt=Mt.startTime,yt=Mt.delay,Vt=Mt.duration,re=Object.prototype.hasOwnProperty;return(0,L.each)(Nt,function(ve){dt+yt<ve.startTime+ve.delay+ve.duration&&Vt>ve.delay&&(0,L.each)(Mt.toAttrs,function(ye,me){re.call(ve.toAttrs,me)&&(delete ve.toAttrs[me],delete ve.fromAttrs[me])})}),Nt}var jt=function(Nt){(0,ct.__extends)(Mt,Nt);function Mt(dt){var yt=Nt.call(this,dt)||this;yt.attrs={};var Vt=yt.getDefaultAttrs();return(0,L.mix)(Vt,dt.attrs),yt.attrs=Vt,yt.initAttrs(Vt),yt.initAnimate(),yt}return Mt.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},Mt.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},Mt.prototype.onCanvasChange=function(dt){},Mt.prototype.initAttrs=function(dt){},Mt.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},Mt.prototype.isGroup=function(){return!1},Mt.prototype.getParent=function(){return this.get("parent")},Mt.prototype.getCanvas=function(){return this.get("canvas")},Mt.prototype.attr=function(){for(var dt,yt=[],Vt=0;Vt<arguments.length;Vt++)yt[Vt]=arguments[Vt];var re=yt[0],ve=yt[1];if(!re)return this.attrs;if((0,L.isObject)(re)){for(var ye in re)this.setAttr(ye,re[ye]);return this.afterAttrsChange(re),this}return yt.length===2?(this.setAttr(re,ve),this.afterAttrsChange((dt={},dt[re]=ve,dt)),this):this.attrs[re]},Mt.prototype.isClipped=function(dt,yt){var Vt=this.getClip();return Vt&&!Vt.isHit(dt,yt)},Mt.prototype.setAttr=function(dt,yt){var Vt=this.attrs[dt];Vt!==yt&&(this.attrs[dt]=yt,this.onAttrChange(dt,yt,Vt))},Mt.prototype.onAttrChange=function(dt,yt,Vt){dt==="matrix"&&this.set("totalMatrix",null)},Mt.prototype.afterAttrsChange=function(dt){this.onCanvasChange("attr")},Mt.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},Mt.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},Mt.prototype.setZIndex=function(dt){this.set("zIndex",dt);var yt=this.getParent();return yt&&yt.sort(),this},Mt.prototype.toFront=function(){var dt=this.getParent();if(!!dt){var yt=dt.getChildren(),Vt=this.get("el"),re=yt.indexOf(this);yt.splice(re,1),yt.push(this),this.onCanvasChange("zIndex")}},Mt.prototype.toBack=function(){var dt=this.getParent();if(!!dt){var yt=dt.getChildren(),Vt=this.get("el"),re=yt.indexOf(this);yt.splice(re,1),yt.unshift(this),this.onCanvasChange("zIndex")}},Mt.prototype.remove=function(dt){dt===void 0&&(dt=!0);var yt=this.getParent();yt?(at(yt.getChildren(),this),yt.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),dt&&this.destroy()},Mt.prototype.resetMatrix=function(){this.attr(Ce,this.getDefaultMatrix()),this.onCanvasChange("matrix")},Mt.prototype.getMatrix=function(){return this.attr(Ce)},Mt.prototype.setMatrix=function(dt){this.attr(Ce,dt),this.onCanvasChange("matrix")},Mt.prototype.getTotalMatrix=function(){var dt=this.get("totalMatrix");if(!dt){var yt=this.attr("matrix"),Vt=this.get("parentMatrix");Vt&&yt?dt=zt(Vt,yt):dt=yt||Vt,this.set("totalMatrix",dt)}return dt},Mt.prototype.applyMatrix=function(dt){var yt=this.attr("matrix"),Vt=null;dt&&yt?Vt=zt(dt,yt):Vt=yt||dt,this.set("totalMatrix",Vt),this.set("parentMatrix",dt)},Mt.prototype.getDefaultMatrix=function(){return null},Mt.prototype.applyToMatrix=function(dt){var yt=this.attr("matrix");return yt?ne(yt,dt):dt},Mt.prototype.invertFromMatrix=function(dt){var yt=this.attr("matrix");if(yt){var Vt=de(yt);if(Vt)return ne(Vt,dt)}return dt},Mt.prototype.setClip=function(dt){var yt=this.getCanvas(),Vt=null;if(dt){var re=this.getShapeBase(),ve=(0,L.upperFirst)(dt.type),ye=re[ve];ye&&(Vt=new ye({type:dt.type,isClipShape:!0,attrs:dt.attrs,canvas:yt}))}return this.set("clipShape",Vt),this.onCanvasChange("clip"),Vt},Mt.prototype.getClip=function(){var dt=this.cfg.clipShape;return dt||null},Mt.prototype.clone=function(){var dt=this,yt=this.attrs,Vt={};(0,L.each)(yt,function(ye,me){(0,L.isArray)(yt[me])?Vt[me]=tn(yt[me]):Vt[me]=yt[me]});var re=this.constructor,ve=new re({attrs:Vt});return(0,L.each)(De,function(ye){ve.set(ye,dt.get(ye))}),ve},Mt.prototype.destroy=function(){var dt=this.destroyed;dt||(this.attrs={},Nt.prototype.destroy.call(this))},Mt.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},Mt.prototype.animate=function(){for(var dt=[],yt=0;yt<arguments.length;yt++)dt[yt]=arguments[yt];this.set("animating",!0);var Vt=this.get("timeline");Vt||(Vt=this.get("canvas").get("timeline"),this.set("timeline",Vt));var re=this.get("animations")||[];Vt.timer||Vt.initTimer();var ve=dt[0],ye=dt[1],me=dt[2],Ct=me===void 0?"easeLinear":me,Tt=dt[3],Lt=Tt===void 0?L.noop:Tt,Ht=dt[4],qt=Ht===void 0?0:Ht,Ut,be,_e,je,Te;(0,L.isFunction)(ve)?(Ut=ve,ve={}):(0,L.isObject)(ve)&&ve.onFrame&&(Ut=ve.onFrame,be=ve.repeat),(0,L.isObject)(ye)?(Te=ye,ye=Te.duration,Ct=Te.easing||"easeLinear",qt=Te.delay||0,be=Te.repeat||be||!1,Lt=Te.callback||L.noop,_e=Te.pauseCallback||L.noop,je=Te.resumeCallback||L.noop):((0,L.isNumber)(Lt)&&(qt=Lt,Lt=null),(0,L.isFunction)(Ct)?(Lt=Ct,Ct="easeLinear"):Ct=Ct||"easeLinear");var Le=gn(ve,this),Fe={fromAttrs:nn(Le,this),toAttrs:Le,duration:ye,easing:Ct,repeat:be,callback:Lt,pauseCallback:_e,resumeCallback:je,delay:qt,startTime:Vt.getTime(),id:(0,L.uniqueId)(),onFrame:Ut,pathFormatted:!1};re.length>0?re=yn(re,Fe):Vt.addAnimator(this),re.push(Fe),this.set("animations",re),this.set("_pause",{isPaused:!1})},Mt.prototype.stopAnimate=function(dt){var yt=this;dt===void 0&&(dt=!0);var Vt=this.get("animations");(0,L.each)(Vt,function(re){dt&&(re.onFrame?yt.attr(re.onFrame(1)):yt.attr(re.toAttrs)),re.callback&&re.callback()}),this.set("animating",!1),this.set("animations",[])},Mt.prototype.pauseAnimate=function(){var dt=this.get("timeline"),yt=this.get("animations"),Vt=dt.getTime();return(0,L.each)(yt,function(re){re._paused=!0,re._pauseTime=Vt,re.pauseCallback&&re.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:Vt}),this},Mt.prototype.resumeAnimate=function(){var dt=this.get("timeline"),yt=dt.getTime(),Vt=this.get("animations"),re=this.get("_pause").pauseTime;return(0,L.each)(Vt,function(ve){ve.startTime=ve.startTime+(yt-re),ve._paused=!1,ve._pauseTime=null,ve.resumeCallback&&ve.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",Vt),this},Mt.prototype.emitDelegation=function(dt,yt){var Vt=this,re=yt.propagationPath,ve=this.getEvents(),ye;dt==="mouseenter"?ye=yt.fromShape:dt==="mouseleave"&&(ye=yt.toShape);for(var me=function(Ht){var qt=re[Ht],Ut=qt.get("name");if(Ut){if((qt.isGroup()||qt.isCanvas&&qt.isCanvas())&&ye&&Ft(qt,ye))return"break";(0,L.isArray)(Ut)?(0,L.each)(Ut,function(be){Vt.emitDelegateEvent(qt,be,yt)}):Ct.emitDelegateEvent(qt,Ut,yt)}},Ct=this,Tt=0;Tt<re.length;Tt++){var Lt=me(Tt);if(Lt==="break")break}},Mt.prototype.emitDelegateEvent=function(dt,yt,Vt){var re=this.getEvents(),ve=yt+er+Vt.type;(re[ve]||re[yr])&&(Vt.name=ve,Vt.currentTarget=dt,Vt.delegateTarget=this,Vt.delegateObject=dt.get("delegateObject"),this.emit(ve,Vt))},Mt.prototype.translate=function(dt,yt){dt===void 0&&(dt=0),yt===void 0&&(yt=0);var Vt=this.getMatrix(),re=kt.transform(Vt,[["t",dt,yt]]);return this.setMatrix(re),this},Mt.prototype.move=function(dt,yt){var Vt=this.attr("x")||0,re=this.attr("y")||0;return this.translate(dt-Vt,yt-re),this},Mt.prototype.moveTo=function(dt,yt){return this.move(dt,yt)},Mt.prototype.scale=function(dt,yt){var Vt=this.getMatrix(),re=kt.transform(Vt,[["s",dt,yt||dt]]);return this.setMatrix(re),this},Mt.prototype.rotate=function(dt){var yt=this.getMatrix(),Vt=kt.transform(yt,[["r",dt]]);return this.setMatrix(Vt),this},Mt.prototype.rotateAtStart=function(dt){var yt=this.attr(),Vt=yt.x,re=yt.y,ve=this.getMatrix(),ye=kt.transform(ve,[["t",-Vt,-re],["r",dt],["t",Vt,re]]);return this.setMatrix(ye),this},Mt.prototype.rotateAtPoint=function(dt,yt,Vt){var re=this.getMatrix(),ve=kt.transform(re,[["t",-dt,-yt],["r",Vt],["t",dt,yt]]);return this.setMatrix(ve),this},Mt}(ge),ee=jt,se={},fe="_INDEX";function we(Nt){Nt.isGroup()?(Nt.isEntityGroup()||Nt.get("children").length)&&Nt.onCanvasChange("add"):Nt.onCanvasChange("add")}function Ee(Nt,Mt){if(Nt.set("canvas",Mt),Nt.isGroup()){var dt=Nt.get("children");dt.length&&dt.forEach(function(yt){Ee(yt,Mt)})}}function Oe(Nt,Mt){if(Nt.set("timeline",Mt),Nt.isGroup()){var dt=Nt.get("children");dt.length&&dt.forEach(function(yt){Oe(yt,Mt)})}}function Ie(Nt,Mt){var dt=Nt.getChildren();return dt.indexOf(Mt)>=0}function xe(Nt,Mt,dt){dt===void 0&&(dt=!0),dt?Mt.destroy():(Mt.set("parent",null),Mt.set("canvas",null)),at(Nt.getChildren(),Mt)}function Ze(Nt){return function(Mt,dt){var yt=Nt(Mt,dt);return yt===0?Mt[fe]-dt[fe]:yt}}var Ge=function(Nt){(0,ct.__extends)(Mt,Nt);function Mt(){return Nt!==null&&Nt.apply(this,arguments)||this}return Mt.prototype.isCanvas=function(){return!1},Mt.prototype.getBBox=function(){var dt=Infinity,yt=-Infinity,Vt=Infinity,re=-Infinity,ve=[],ye=[],me=this.getChildren().filter(function(Tt){return Tt.get("visible")&&(!Tt.isGroup()||Tt.isGroup()&&Tt.getChildren().length>0)});me.length>0?((0,U.default)(me,function(Tt){var Lt=Tt.getBBox();ve.push(Lt.minX,Lt.maxX),ye.push(Lt.minY,Lt.maxY)}),dt=Math.min.apply(null,ve),yt=Math.max.apply(null,ve),Vt=Math.min.apply(null,ye),re=Math.max.apply(null,ye)):(dt=0,yt=0,Vt=0,re=0);var Ct={x:dt,y:Vt,minX:dt,minY:Vt,maxX:yt,maxY:re,width:yt-dt,height:re-Vt};return Ct},Mt.prototype.getCanvasBBox=function(){var dt=Infinity,yt=-Infinity,Vt=Infinity,re=-Infinity,ve=[],ye=[],me=this.getChildren().filter(function(Tt){return Tt.get("visible")&&(!Tt.isGroup()||Tt.isGroup()&&Tt.getChildren().length>0)});me.length>0?((0,U.default)(me,function(Tt){var Lt=Tt.getCanvasBBox();ve.push(Lt.minX,Lt.maxX),ye.push(Lt.minY,Lt.maxY)}),dt=Math.min.apply(null,ve),yt=Math.max.apply(null,ve),Vt=Math.min.apply(null,ye),re=Math.max.apply(null,ye)):(dt=0,yt=0,Vt=0,re=0);var Ct={x:dt,y:Vt,minX:dt,minY:Vt,maxX:yt,maxY:re,width:yt-dt,height:re-Vt};return Ct},Mt.prototype.getDefaultCfg=function(){var dt=Nt.prototype.getDefaultCfg.call(this);return dt.children=[],dt},Mt.prototype.onAttrChange=function(dt,yt,Vt){if(Nt.prototype.onAttrChange.call(this,dt,yt,Vt),dt==="matrix"){var re=this.getTotalMatrix();this._applyChildrenMarix(re)}},Mt.prototype.applyMatrix=function(dt){var yt=this.getTotalMatrix();Nt.prototype.applyMatrix.call(this,dt);var Vt=this.getTotalMatrix();Vt!==yt&&this._applyChildrenMarix(Vt)},Mt.prototype._applyChildrenMarix=function(dt){var yt=this.getChildren();(0,U.default)(yt,function(Vt){Vt.applyMatrix(dt)})},Mt.prototype.addShape=function(){for(var dt=[],yt=0;yt<arguments.length;yt++)dt[yt]=arguments[yt];var Vt=dt[0],re=dt[1];(0,st.default)(Vt)?re=Vt:re.type=Vt;var ve=se[re.type];ve||(ve=(0,j.default)(re.type),se[re.type]=ve);var ye=this.getShapeBase(),me=new ye[ve](re);return this.add(me),me},Mt.prototype.addGroup=function(){for(var dt=[],yt=0;yt<arguments.length;yt++)dt[yt]=arguments[yt];var Vt=dt[0],re=dt[1],ve;if((0,ot.default)(Vt))re?ve=new Vt(re):ve=new Vt({parent:this});else{var ye=Vt||{},me=this.getGroupBase();ve=new me(ye)}return this.add(ve),ve},Mt.prototype.getCanvas=function(){var dt;return this.isCanvas()?dt=this:dt=this.get("canvas"),dt},Mt.prototype.getShape=function(dt,yt,Vt){if(!Jt(this))return null;var re=this.getChildren(),ve;if(this.isCanvas())ve=this._findShape(re,dt,yt,Vt);else{var ye=[dt,yt,1];ye=this.invertFromMatrix(ye),this.isClipped(ye[0],ye[1])||(ve=this._findShape(re,ye[0],ye[1],Vt))}return ve},Mt.prototype._findShape=function(dt,yt,Vt,re){for(var ve=null,ye=dt.length-1;ye>=0;ye--){var me=dt[ye];if(Jt(me)&&(me.isGroup()?ve=me.getShape(yt,Vt,re):me.isHit(yt,Vt)&&(ve=me)),ve)break}return ve},Mt.prototype.add=function(dt){var yt=this.getCanvas(),Vt=this.getChildren(),re=this.get("timeline"),ve=dt.getParent();ve&&xe(ve,dt,!1),dt.set("parent",this),yt&&Ee(dt,yt),re&&Oe(dt,re),Vt.push(dt),we(dt),this._applyElementMatrix(dt)},Mt.prototype._applyElementMatrix=function(dt){var yt=this.getTotalMatrix();yt&&dt.applyMatrix(yt)},Mt.prototype.getChildren=function(){return this.get("children")},Mt.prototype.sort=function(){var dt=this.getChildren();(0,U.default)(dt,function(yt,Vt){return yt[fe]=Vt,yt}),dt.sort(Ze(function(yt,Vt){return yt.get("zIndex")-Vt.get("zIndex")})),this.onCanvasChange("sort")},Mt.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var dt=this.getChildren(),yt=dt.length-1;yt>=0;yt--)dt[yt].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},Mt.prototype.destroy=function(){this.get("destroyed")||(this.clear(),Nt.prototype.destroy.call(this))},Mt.prototype.getFirst=function(){return this.getChildByIndex(0)},Mt.prototype.getLast=function(){var dt=this.getChildren();return this.getChildByIndex(dt.length-1)},Mt.prototype.getChildByIndex=function(dt){var yt=this.getChildren();return yt[dt]},Mt.prototype.getCount=function(){var dt=this.getChildren();return dt.length},Mt.prototype.contain=function(dt){var yt=this.getChildren();return yt.indexOf(dt)>-1},Mt.prototype.removeChild=function(dt,yt){yt===void 0&&(yt=!0),this.contain(dt)&&dt.remove(yt)},Mt.prototype.findAll=function(dt){var yt=[],Vt=this.getChildren();return(0,U.default)(Vt,function(re){dt(re)&&yt.push(re),re.isGroup()&&(yt=yt.concat(re.findAll(dt)))}),yt},Mt.prototype.find=function(dt){var yt=null,Vt=this.getChildren();return(0,U.default)(Vt,function(re){if(dt(re)?yt=re:re.isGroup()&&(yt=re.find(dt)),yt)return!1}),yt},Mt.prototype.findById=function(dt){return this.find(function(yt){return yt.get("id")===dt})},Mt.prototype.findByClassName=function(dt){return this.find(function(yt){return yt.get("className")===dt})},Mt.prototype.findAllByName=function(dt){return this.findAll(function(yt){return yt.get("name")===dt})},Mt}(ee),qe=Ge,or=d(35374),rr=d(13681),ur=d(21775),ar=d(88122),pr=function(Nt){return["fill","stroke","fillStyle","strokeStyle"].includes(Nt)},tr=function(Nt){return/^[r,R,L,l]{1}[\s]*\(/.test(Nt)},mr=[1,0,0,0,1,0,0,0,1];function kr(Nt,Mt,dt){var yt={},Vt=Mt.fromAttrs,re=Mt.toAttrs;if(!Nt.destroyed){var ve;for(var ye in re)if(!(0,L.isEqual)(Vt[ye],re[ye]))if(ye==="path"){var me=re[ye],Ct=Vt[ye];me.length>Ct.length?(me=_(re[ye]),Ct=_(Vt[ye]),Ct=u(Ct,me),Ct=nt(Ct,me),Mt.fromAttrs.path=Ct,Mt.toAttrs.path=me):Mt.pathFormatted||(me=_(re[ye]),Ct=_(Vt[ye]),Ct=nt(Ct,me),Mt.fromAttrs.path=Ct,Mt.toAttrs.path=me,Mt.pathFormatted=!0),yt[ye]=[];for(var Tt=0;Tt<me.length;Tt++){for(var Lt=me[Tt],Ht=Ct[Tt],qt=[],Ut=0;Ut<Lt.length;Ut++)(0,L.isNumber)(Lt[Ut])&&Ht&&(0,L.isNumber)(Ht[Ut])?(ve=(0,ur.Z)(Ht[Ut],Lt[Ut]),qt.push(ve(dt))):qt.push(Lt[Ut]);yt[ye].push(qt)}}else if(ye==="matrix"){var be=(0,ar.Z)(Vt[ye]||mr,re[ye]||mr),_e=be(dt);yt[ye]=_e}else pr(ye)&&tr(re[ye])?yt[ye]=re[ye]:(0,L.isFunction)(re[ye])||(ve=(0,ur.Z)(Vt[ye],re[ye]),yt[ye]=ve(dt));Nt.attr(yt)}}function xr(Nt,Mt,dt){var yt=Mt.startTime,Vt=Mt.delay;if(dt<yt+Vt||Mt._paused)return!1;var re,ve=Mt.duration,ye=Mt.easing;if(dt=dt-yt-Mt.delay,Mt.repeat)re=dt%ve/ve,re=rr[ye](re);else if(re=dt/ve,re<1)re=rr[ye](re);else return Mt.onFrame?Nt.attr(Mt.onFrame(1)):Nt.attr(Mt.toAttrs),!0;if(Mt.onFrame){var me=Mt.onFrame(re);Nt.attr(me)}else kr(Nt,Mt,re);return!1}var Ir=function(){function Nt(Mt){this.animators=[],this.current=0,this.timer=null,this.canvas=Mt}return Nt.prototype.initTimer=function(){var Mt=this,dt=!1,yt,Vt,re;this.timer=or.HT(function(ve){if(Mt.current=ve,Mt.animators.length>0){for(var ye=Mt.animators.length-1;ye>=0;ye--){if(yt=Mt.animators[ye],yt.destroyed){Mt.removeAnimator(ye);continue}if(!yt.isAnimatePaused()){Vt=yt.get("animations");for(var me=Vt.length-1;me>=0;me--)re=Vt[me],dt=xr(yt,re,ve),dt&&(Vt.splice(me,1),dt=!1,re.callback&&re.callback())}Vt.length===0&&Mt.removeAnimator(ye)}var Ct=Mt.canvas.get("autoDraw");Ct||Mt.canvas.draw()}})},Nt.prototype.addAnimator=function(Mt){this.animators.push(Mt)},Nt.prototype.removeAnimator=function(Mt){this.animators.splice(Mt,1)},Nt.prototype.isAnimating=function(){return!!this.animators.length},Nt.prototype.stop=function(){this.timer&&this.timer.stop()},Nt.prototype.stopAllAnimations=function(Mt){Mt===void 0&&(Mt=!0),this.animators.forEach(function(dt){dt.stopAnimate(Mt)}),this.animators=[],this.canvas.draw()},Nt.prototype.getTime=function(){return this.current},Nt}(),Hr=Ir,Fr=40,In=0,qr=":",Yn=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function hi(Nt,Mt){for(var dt in Nt)if(Nt.hasOwnProperty(dt)&&dt.indexOf(qr+Mt)>=0)return!0;return!1}function Zn(Nt,Mt,dt){dt.name=Mt,dt.target=Nt,dt.currentTarget=Nt,dt.delegateTarget=Nt,Nt.emit(Mt,dt)}function Ii(Nt,Mt,dt){if(dt.bubbles){var yt=void 0,Vt=!1;if(Mt==="mouseenter"?(yt=dt.fromShape,Vt=!0):Mt==="mouseleave"&&(Vt=!0,yt=dt.toShape),Nt.isCanvas()&&Vt)return;if(yt&&Ft(Nt,yt)){dt.bubbles=!1;return}dt.name=Mt,dt.currentTarget=Nt,dt.delegateTarget=Nt,Nt.emit(Mt,dt)}}var Gi=function(){function Nt(Mt){var dt=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(yt){var Vt=yt.type;dt._triggerEvent(Vt,yt)},this._onDocumentMove=function(yt){var Vt=dt.canvas,re=Vt.get("el");if(re!==yt.target&&(dt.dragging||dt.currentShape)){var ve=dt._getPointInfo(yt);dt.dragging&&dt._emitEvent("drag",yt,ve,dt.draggingShape)}},this._onDocumentMouseUp=function(yt){var Vt=dt.canvas,re=Vt.get("el");if(re!==yt.target&&dt.dragging){var ve=dt._getPointInfo(yt);dt.draggingShape&&dt._emitEvent("drop",yt,ve,null),dt._emitEvent("dragend",yt,ve,dt.draggingShape),dt._afterDrag(dt.draggingShape,ve,yt)}},this.canvas=Mt.canvas}return Nt.prototype.init=function(){this._bindEvents()},Nt.prototype._bindEvents=function(){var Mt=this,dt=this.canvas.get("el");(0,U.default)(Yn,function(yt){dt.addEventListener(yt,Mt._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},Nt.prototype._clearEvents=function(){var Mt=this,dt=this.canvas.get("el");(0,U.default)(Yn,function(yt){dt.removeEventListener(yt,Mt._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},Nt.prototype._getEventObj=function(Mt,dt,yt,Vt,re,ve){var ye=new et(Mt,dt);return ye.fromShape=re,ye.toShape=ve,ye.x=yt.x,ye.y=yt.y,ye.clientX=yt.clientX,ye.clientY=yt.clientY,ye.propagationPath.push(Vt),ye},Nt.prototype._getShape=function(Mt,dt){return this.canvas.getShape(Mt.x,Mt.y,dt)},Nt.prototype._getPointInfo=function(Mt){var dt=this.canvas,yt=dt.getClientByEvent(Mt),Vt=dt.getPointByEvent(Mt);return{x:Vt.x,y:Vt.y,clientX:yt.x,clientY:yt.y}},Nt.prototype._triggerEvent=function(Mt,dt){var yt=this._getPointInfo(dt),Vt=this._getShape(yt,dt),re=this["_on"+Mt],ve=!1;if(re)re.call(this,yt,Vt,dt);else{var ye=this.currentShape;Mt==="mouseenter"||Mt==="dragenter"||Mt==="mouseover"?(this._emitEvent(Mt,dt,yt,null,null,Vt),Vt&&this._emitEvent(Mt,dt,yt,Vt,null,Vt),Mt==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",dt,yt,null)):Mt==="mouseleave"||Mt==="dragleave"||Mt==="mouseout"?(ve=!0,ye&&this._emitEvent(Mt,dt,yt,ye,ye,null),this._emitEvent(Mt,dt,yt,null,ye,null),Mt==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",dt,yt,null)):this._emitEvent(Mt,dt,yt,Vt,null,null)}if(ve||(this.currentShape=Vt),Vt&&!Vt.get("destroyed")){var me=this.canvas,Ct=me.get("el");Ct.style.cursor=Vt.attr("cursor")||me.get("cursor")}},Nt.prototype._onmousedown=function(Mt,dt,yt){yt.button===In&&(this.mousedownShape=dt,this.mousedownPoint=Mt,this.mousedownTimeStamp=yt.timeStamp),this._emitEvent("mousedown",yt,Mt,dt,null,null)},Nt.prototype._emitMouseoverEvents=function(Mt,dt,yt,Vt){var re=this.canvas.get("el");yt!==Vt&&(yt&&(this._emitEvent("mouseout",Mt,dt,yt,yt,Vt),this._emitEvent("mouseleave",Mt,dt,yt,yt,Vt),(!Vt||Vt.get("destroyed"))&&(re.style.cursor=this.canvas.get("cursor"))),Vt&&(this._emitEvent("mouseover",Mt,dt,Vt,yt,Vt),this._emitEvent("mouseenter",Mt,dt,Vt,yt,Vt)))},Nt.prototype._emitDragoverEvents=function(Mt,dt,yt,Vt,re){Vt?(Vt!==yt&&(yt&&this._emitEvent("dragleave",Mt,dt,yt,yt,Vt),this._emitEvent("dragenter",Mt,dt,Vt,yt,Vt)),re||this._emitEvent("dragover",Mt,dt,Vt)):yt&&this._emitEvent("dragleave",Mt,dt,yt,yt,Vt),re&&this._emitEvent("dragover",Mt,dt,Vt)},Nt.prototype._afterDrag=function(Mt,dt,yt){Mt&&(Mt.set("capture",!0),this.draggingShape=null),this.dragging=!1;var Vt=this._getShape(dt,yt);Vt!==Mt&&this._emitMouseoverEvents(yt,dt,Mt,Vt),this.currentShape=Vt},Nt.prototype._onmouseup=function(Mt,dt,yt){if(yt.button===In){var Vt=this.draggingShape;this.dragging?(Vt&&this._emitEvent("drop",yt,Mt,dt),this._emitEvent("dragend",yt,Mt,Vt),this._afterDrag(Vt,Mt,yt)):(this._emitEvent("mouseup",yt,Mt,dt),dt===this.mousedownShape&&this._emitEvent("click",yt,Mt,dt),this.mousedownShape=null,this.mousedownPoint=null)}},Nt.prototype._ondragover=function(Mt,dt,yt){yt.preventDefault();var Vt=this.currentShape;this._emitDragoverEvents(yt,Mt,Vt,dt,!0)},Nt.prototype._onmousemove=function(Mt,dt,yt){var Vt=this.canvas,re=this.currentShape,ve=this.draggingShape;if(this.dragging)ve&&this._emitDragoverEvents(yt,Mt,re,dt,!1),this._emitEvent("drag",yt,Mt,ve);else{var ye=this.mousedownPoint;if(ye){var me=this.mousedownShape,Ct=yt.timeStamp,Tt=Ct-this.mousedownTimeStamp,Lt=ye.clientX-Mt.clientX,Ht=ye.clientY-Mt.clientY,qt=Lt*Lt+Ht*Ht;Tt>120||qt>Fr?me&&me.get("draggable")?(ve=this.mousedownShape,ve.set("capture",!1),this.draggingShape=ve,this.dragging=!0,this._emitEvent("dragstart",yt,Mt,ve),this.mousedownShape=null,this.mousedownPoint=null):!me&&Vt.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",yt,Mt,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(yt,Mt,re,dt),this._emitEvent("mousemove",yt,Mt,dt)):(this._emitMouseoverEvents(yt,Mt,re,dt),this._emitEvent("mousemove",yt,Mt,dt))}else this._emitMouseoverEvents(yt,Mt,re,dt),this._emitEvent("mousemove",yt,Mt,dt)}},Nt.prototype._emitEvent=function(Mt,dt,yt,Vt,re,ve){var ye=this._getEventObj(Mt,dt,yt,Vt,re,ve);if(Vt){ye.shape=Vt,Zn(Vt,Mt,ye);for(var me=Vt.getParent();me;)me.emitDelegation(Mt,ye),ye.propagationStopped||Ii(me,Mt,ye),ye.propagationPath.push(me),me=me.getParent()}else{var Ct=this.canvas;Zn(Ct,Mt,ye)}},Nt.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},Nt}(),_r=Gi,ci="px",Si=(0,Zt.detect)(),ei=Si&&Si.name==="firefox",mn=function(Nt){(0,ct.__extends)(Mt,Nt);function Mt(dt){var yt=Nt.call(this,dt)||this;return yt.initContainer(),yt.initDom(),yt.initEvents(),yt.initTimeline(),yt}return Mt.prototype.getDefaultCfg=function(){var dt=Nt.prototype.getDefaultCfg.call(this);return dt.cursor="default",dt.supportCSSTransform=!1,dt},Mt.prototype.initContainer=function(){var dt=this.get("container");(0,wt.default)(dt)&&(dt=document.getElementById(dt),this.set("container",dt))},Mt.prototype.initDom=function(){var dt=this.createDom();this.set("el",dt);var yt=this.get("container");yt.appendChild(dt),this.setDOMSize(this.get("width"),this.get("height"))},Mt.prototype.initEvents=function(){var dt=new _r({canvas:this});dt.init(),this.set("eventController",dt)},Mt.prototype.initTimeline=function(){var dt=new Hr(this);this.set("timeline",dt)},Mt.prototype.setDOMSize=function(dt,yt){var Vt=this.get("el");vt&&(Vt.style.width=dt+ci,Vt.style.height=yt+ci)},Mt.prototype.changeSize=function(dt,yt){this.setDOMSize(dt,yt),this.set("width",dt),this.set("height",yt),this.onCanvasChange("changeSize")},Mt.prototype.getRenderer=function(){return this.get("renderer")},Mt.prototype.getCursor=function(){return this.get("cursor")},Mt.prototype.setCursor=function(dt){this.set("cursor",dt);var yt=this.get("el");vt&&yt&&(yt.style.cursor=dt)},Mt.prototype.getPointByEvent=function(dt){var yt=this.get("supportCSSTransform");if(yt){if(ei&&!(0,At.default)(dt.layerX)&&dt.layerX!==dt.offsetX)return{x:dt.layerX,y:dt.layerY};if(!(0,At.default)(dt.offsetX))return{x:dt.offsetX,y:dt.offsetY}}var Vt=this.getClientByEvent(dt),re=Vt.x,ve=Vt.y;return this.getPointByClient(re,ve)},Mt.prototype.getClientByEvent=function(dt){var yt=dt;return dt.touches&&(dt.type==="touchend"?yt=dt.changedTouches[0]:yt=dt.touches[0]),{x:yt.clientX,y:yt.clientY}},Mt.prototype.getPointByClient=function(dt,yt){var Vt=this.get("el"),re=Vt.getBoundingClientRect();return{x:dt-re.left,y:yt-re.top}},Mt.prototype.getClientByPoint=function(dt,yt){var Vt=this.get("el"),re=Vt.getBoundingClientRect();return{x:dt+re.left,y:yt+re.top}},Mt.prototype.draw=function(){},Mt.prototype.removeDom=function(){var dt=this.get("el");dt.parentNode.removeChild(dt)},Mt.prototype.clearEvents=function(){var dt=this.get("eventController");dt.destroy()},Mt.prototype.isCanvas=function(){return!0},Mt.prototype.getParent=function(){return null},Mt.prototype.destroy=function(){var dt=this.get("timeline");this.get("destroyed")||(this.clear(),dt&&dt.stop(),this.clearEvents(),this.removeDom(),Nt.prototype.destroy.call(this))},Mt}(qe),Jn=mn,ji=function(Nt){(0,ct.__extends)(Mt,Nt);function Mt(){return Nt!==null&&Nt.apply(this,arguments)||this}return Mt.prototype.isGroup=function(){return!0},Mt.prototype.isEntityGroup=function(){return!1},Mt.prototype.clone=function(){for(var dt=Nt.prototype.clone.call(this),yt=this.getChildren(),Vt=0;Vt<yt.length;Vt++){var re=yt[Vt];dt.add(re.clone())}return dt},Mt}(qe),ki=ji,Bi=function(Nt){(0,ct.__extends)(Mt,Nt);function Mt(dt){return Nt.call(this,dt)||this}return Mt.prototype._isInBBox=function(dt,yt){var Vt=this.getBBox();return Vt.minX<=dt&&Vt.maxX>=dt&&Vt.minY<=yt&&Vt.maxY>=yt},Mt.prototype.afterAttrsChange=function(dt){Nt.prototype.afterAttrsChange.call(this,dt),this.clearCacheBBox()},Mt.prototype.getBBox=function(){var dt=this.get("bbox");return dt||(dt=this.calculateBBox(),this.set("bbox",dt)),dt},Mt.prototype.getCanvasBBox=function(){var dt=this.get("canvasBox");return dt||(dt=this.calculateCanvasBBox(),this.set("canvasBox",dt)),dt},Mt.prototype.applyMatrix=function(dt){Nt.prototype.applyMatrix.call(this,dt),this.set("canvasBox",null)},Mt.prototype.calculateCanvasBBox=function(){var dt=this.getBBox(),yt=this.getTotalMatrix(),Vt=dt.minX,re=dt.minY,ve=dt.maxX,ye=dt.maxY;if(yt){var me=ne(yt,[dt.minX,dt.minY]),Ct=ne(yt,[dt.maxX,dt.minY]),Tt=ne(yt,[dt.minX,dt.maxY]),Lt=ne(yt,[dt.maxX,dt.maxY]);Vt=Math.min(me[0],Ct[0],Tt[0],Lt[0]),ve=Math.max(me[0],Ct[0],Tt[0],Lt[0]),re=Math.min(me[1],Ct[1],Tt[1],Lt[1]),ye=Math.max(me[1],Ct[1],Tt[1],Lt[1])}var Ht=this.attrs;if(Ht.shadowColor){var qt=Ht.shadowBlur,Ut=qt===void 0?0:qt,be=Ht.shadowOffsetX,_e=be===void 0?0:be,je=Ht.shadowOffsetY,Te=je===void 0?0:je,Le=Vt-Ut+_e,Fe=ve+Ut+_e,ir=re-Ut+Te,Or=ye+Ut+Te;Vt=Math.min(Vt,Le),ve=Math.max(ve,Fe),re=Math.min(re,ir),ye=Math.max(ye,Or)}return{x:Vt,y:re,minX:Vt,minY:re,maxX:ve,maxY:ye,width:ve-Vt,height:ye-re}},Mt.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBox",null)},Mt.prototype.isClipShape=function(){return this.get("isClipShape")},Mt.prototype.isInShape=function(dt,yt){return!1},Mt.prototype.isOnlyHitBox=function(){return!1},Mt.prototype.isHit=function(dt,yt){var Vt=this.get("startArrowShape"),re=this.get("endArrowShape"),ve=[dt,yt,1];ve=this.invertFromMatrix(ve);var ye=ve[0],me=ve[1],Ct=this._isInBBox(ye,me);return this.isOnlyHitBox()?Ct:!!(Ct&&!this.isClipped(ye,me)&&(this.isInShape(ye,me)||Vt&&Vt.isHit(ye,me)||re&&re.isHit(ye,me)))},Mt}(ee),Vn=Bi,Ji=d(76062),ca=Ji.version},40455:function(gt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(y){var L=y.attr(),I=L.x,O=L.y,T=L.r;return{x:I-T,y:O-T,width:T*2,height:T*2}}S.default=d},27633:function(gt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(y){var L=y.attr(),I=L.x,O=L.y,T=L.rx,_=L.ry;return{x:I-T,y:O-_,width:T*2,height:_*2}}S.default=d},41056:function(gt,S,d){"use strict";var y;y={value:!0};var L=d(28648);S.b=L.getMethod;var I=d(3541),O=d(40455),T=d(10687),_=d(19914),C=d(92933),E=d(89372),p=d(74461),w=d(27633);L.register("rect",I.default),L.register("image",I.default),L.register("circle",O.default),L.register("marker",O.default),L.register("polyline",T.default),L.register("polygon",_.default),L.register("text",C.default),L.register("path",E.default),L.register("line",p.default),L.register("ellipse",w.default)},74461:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(3406);function L(I){var O=I.attr(),T=O.x1,_=O.y1,C=O.x2,E=O.y2,p=Math.min(T,C),w=Math.max(T,C),g=Math.min(_,E),b=Math.max(_,E),m={minX:p,maxX:w,minY:g,maxY:b};return m=y.mergeArrowBBox(I,m),{x:m.minX,y:m.minY,width:m.maxX-m.minX,height:m.maxY-m.minY}}S.default=L},89372:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(2879),L=d(15730),I=d(33418),O=d(49274),T=d(39984),_=d(3406);function C(w,g){for(var b=[],m=[],M=[],P=0;P<w.length;P++){var k=w[P],N=k.currentPoint,V=k.params,$=k.prePoint,Z=void 0;switch(k.command){case"Q":Z=y.default.box($[0],$[1],V[1],V[2],V[3],V[4]);break;case"C":Z=L.default.box($[0],$[1],V[1],V[2],V[3],V[4],V[5],V[6]);break;case"A":var J=k.arcParams;Z=I.default.box(J.cx,J.cy,J.rx,J.ry,J.xRotation,J.startAngle,J.endAngle);break;default:b.push(N[0]),m.push(N[1]);break}Z&&(k.box=Z,b.push(Z.x,Z.x+Z.width),m.push(Z.y,Z.y+Z.height)),g&&(k.command==="L"||k.command==="M")&&k.prePoint&&k.nextPoint&&M.push(k)}b=b.filter(function(Et){return!Number.isNaN(Et)}),m=m.filter(function(Et){return!Number.isNaN(Et)});var lt=Math.min.apply(null,b),rt=Math.min.apply(null,m),bt=Math.max.apply(null,b),Ot=Math.max.apply(null,m);if(M.length===0)return{x:lt,y:rt,width:bt-lt,height:Ot-rt};for(var P=0;P<M.length;P++){var k=M[P],N=k.currentPoint,Bt=void 0;N[0]===lt?(Bt=E(k,g),lt=lt-Bt.xExtra):N[0]===bt&&(Bt=E(k,g),bt=bt+Bt.xExtra),N[1]===rt?(Bt=E(k,g),rt=rt-Bt.yExtra):N[1]===Ot&&(Bt=E(k,g),Ot=Ot+Bt.yExtra)}return{x:lt,y:rt,width:bt-lt,height:Ot-rt}}function E(w,g){var b=w.prePoint,m=w.currentPoint,M=w.nextPoint,P=Math.pow(m[0]-b[0],2)+Math.pow(m[1]-b[1],2),k=Math.pow(m[0]-M[0],2)+Math.pow(m[1]-M[1],2),N=Math.pow(b[0]-M[0],2)+Math.pow(b[1]-M[1],2),V=Math.acos((P+k-N)/(2*Math.sqrt(P)*Math.sqrt(k)));if(!V||Math.sin(V)===0||T.default(V,0))return{xExtra:0,yExtra:0};var $=Math.abs(Math.atan2(M[1]-m[1],M[0]-m[0])),Z=Math.abs(Math.atan2(M[0]-m[0],M[1]-m[1]));$=$>Math.PI/2?Math.PI-$:$,Z=Z>Math.PI/2?Math.PI-Z:Z;var J={xExtra:Math.cos(V/2-$)*(g/2*(1/Math.sin(V/2)))-g/2||0,yExtra:Math.cos(Z-V/2)*(g/2*(1/Math.sin(V/2)))-g/2||0};return J}function p(w){var g=w.attr(),b=g.path,m=g.stroke,M=m?g.lineWidth:0,P=w.get("segments")||O.default(b),k=C(P,M),N=k.x,V=k.y,$=k.width,Z=k.height,J={minX:N,minY:V,maxX:N+$,maxY:V+Z};return J=_.mergeArrowBBox(w,J),{x:J.minX,y:J.minY,width:J.maxX-J.minX,height:J.maxY-J.minY}}S.default=p},19914:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(76256);function L(I){for(var O=I.attr(),T=O.points,_=[],C=[],E=0;E<T.length;E++){var p=T[E];_.push(p[0]),C.push(p[1])}return y.getBBoxByArray(_,C)}S.default=L},10687:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(76256),L=d(3406);function I(O){for(var T=O.attr(),_=T.points,C=[],E=[],p=0;p<_.length;p++){var w=_[p];C.push(w[0]),E.push(w[1])}var g=y.getBBoxByArray(C,E),b=g.x,m=g.y,M=g.width,P=g.height,k={minX:b,minY:m,maxX:b+M,maxY:m+P};return k=L.mergeArrowBBox(O,k),{x:k.minX,y:k.minY,width:k.maxX-k.minX,height:k.maxY-k.minY}}S.default=I},3541:function(gt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(y){var L=y.attr(),I=L.x,O=L.y,T=L.width,_=L.height;return{x:I,y:O,width:T,height:_}}S.default=d},28648:function(gt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=new Map;function y(I,O){d.set(I,O)}S.register=y;function L(I){return d.get(I)}S.getMethod=L},92933:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(8914);function L(I){var O=I.attr(),T=O.x,_=O.y,C=O.text,E=O.fontSize,p=O.lineHeight,w=O.font;w||(w=y.assembleFont(O));var g=y.getTextWidth(C,w),b;if(!g)b={x:T,y:_,width:0,height:0};else{var m=O.textAlign,M=O.textBaseline,P=y.getTextHeight(C,E,p),k={x:T,y:_-P};m&&(m==="end"||m==="right"?k.x-=g:m==="center"&&(k.x-=g/2)),M&&(M==="top"?k.y+=P:M==="middle"&&(k.y+=P/2)),b={x:k.x,y:k.y,width:g,height:P}}return b}S.default=L},3406:function(gt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(L,I){return!L||!I?L||I:{minX:Math.min(L.minX,I.minX),minY:Math.min(L.minY,I.minY),maxX:Math.max(L.maxX,I.maxX),maxY:Math.max(L.maxY,I.maxY)}}S.mergeBBox=d;function y(L,I){var O=L.get("startArrowShape"),T=L.get("endArrowShape"),_=null,C=null;return O&&(_=O.getCanvasBBox(),I=d(I,_)),T&&(C=T.getCanvasBBox(),I=d(I,C)),I}S.mergeArrowBBox=y},66192:function(gt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(){function y(L,I){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=L,this.name=L,this.originalEvent=I,this.timeStamp=I.timeStamp}return y.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},y.prototype.stopPropagation=function(){this.propagationStopped=!0},y.prototype.toString=function(){var L=this.type;return"[Event (type="+L+")]"},y.prototype.save=function(){},y.prototype.restore=function(){},y}();S.default=d},85424:function(gt,S){"use strict";var d;d={value:!0}},4555:function(gt,S){"use strict";Object.defineProperty(S,"X",{value:!0})},6052:function(gt,S){"use strict";var d;d={value:!0};function y(O,T){var _=[],C=O[0],E=O[1],p=O[2],w=O[3],g=O[4],b=O[5],m=O[6],M=O[7],P=O[8],k=T[0],N=T[1],V=T[2],$=T[3],Z=T[4],J=T[5],lt=T[6],rt=T[7],bt=T[8];return _[0]=k*C+N*w+V*m,_[1]=k*E+N*g+V*M,_[2]=k*p+N*b+V*P,_[3]=$*C+Z*w+J*m,_[4]=$*E+Z*g+J*M,_[5]=$*p+Z*b+J*P,_[6]=lt*C+rt*w+bt*m,_[7]=lt*E+rt*g+bt*M,_[8]=lt*p+rt*b+bt*P,_}d=y;function L(O,T){var _=[],C=T[0],E=T[1];return _[0]=O[0]*C+O[3]*E+O[6],_[1]=O[1]*C+O[4]*E+O[7],_}S.rG=L;function I(O){var T=[],_=O[0],C=O[1],E=O[2],p=O[3],w=O[4],g=O[5],b=O[6],m=O[7],M=O[8],P=M*w-g*m,k=-M*p+g*b,N=m*p-w*b,V=_*P+C*k+E*N;return V?(V=1/V,T[0]=P*V,T[1]=(-M*C+E*m)*V,T[2]=(g*C-E*w)*V,T[3]=k*V,T[4]=(M*_-E*b)*V,T[5]=(-g*_+E*p)*V,T[6]=N*V,T[7]=(-m*_+C*b)*V,T[8]=(w*_-C*p)*V,T):null}S.U_=I},26632:function(gt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=null;function y(){if(!d){var L=document.createElement("canvas");L.width=1,L.height=1,d=L.getContext("2d")}return d}S.getOffScreenContext=y},8914:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(22487),L=d(26632);function I(C,E,p){var w=1;if(y.isString(C)&&(w=C.split(`
`).length),w>1){var g=O(E,p);return E*w+g*(w-1)}return E}S.getTextHeight=I;function O(C,E){return E?E-C:C*.14}S.getLineSpaceing=O;function T(C,E){var p=L.getOffScreenContext(),w=0;if(y.isNil(C)||C==="")return w;if(p.save(),p.font=E,y.isString(C)&&C.includes(`
`)){var g=C.split(`
`);y.each(g,function(b){var m=p.measureText(b).width;w<m&&(w=m)})}else w=p.measureText(C).width;return p.restore(),w}S.getTextWidth=T;function _(C){var E=C.fontSize,p=C.fontFamily,w=C.fontWeight,g=C.fontStyle,b=C.fontVariant;return[g,b,w,E+"px",p].join(" ").trim()}S.assembleFont=_},22487:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function y(b,m){var M=b.indexOf(m);M!==-1&&b.splice(M,1)}S.removeFromArray=y,S.isBrowser=typeof window!="undefined"&&typeof window.document!="undefined";var L=d(73890);S.isNil=L.default;var I=d(46812);S.isFunction=I.default;var O=d(21830);S.isString=O.default;var T=d(33643);S.isObject=T.default;var _=d(66631);S.isArray=_.default;var C=d(66974);S.mix=C.default;var E=d(27154);S.each=E.default;var p=d(85260);S.upperFirst=p.default;function w(b,m){if(b.isCanvas())return!0;for(var M=m.getParent(),P=!1;M;){if(M===b){P=!0;break}M=M.getParent()}return P}S.isParent=w;function g(b){return b.cfg.visible&&b.cfg.capture}S.isAllowCapture=g},76062:function(gt){"use strict";gt.exports=JSON.parse('{"name":"@antv/g-base","version":"0.4.7","description":"A common util collection for antv projects","main":"lib/index.js","module":"esm/index.js","types":"lib/index.d.ts","files":["package.json","esm","lib","LICENSE","README.md"],"scripts":{"build":"npm run clean && run-p build:*","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","clean":"rm -rf esm lib","watch:cjs":"tsc-watch -p tsconfig.json --target ES5 --module commonjs --outDir lib --compiler typescript/bin/tsc","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit"},"repository":{"type":"git","url":"git+https://github.com/antvis/util.git"},"keywords":["util","antv","g"],"publishConfig":{"access":"public"},"author":"https://github.com/orgs/antvis/people","license":"ISC","bugs":{"url":"https://github.com/antvis/util/issues"},"devDependencies":{"@antv/torch":"^1.0.0","gl-matrix":"^3.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","tsc-watch":"^4.0.0"},"homepage":"https://github.com/antvis/util#readme","dependencies":{"@antv/event-emitter":"^0.1.1","@antv/g-math":"^0.1.3","@antv/matrix-util":"^3.1.0-beta.1","@antv/path-util":"~2.0.5","@antv/util":"~2.0.0","@types/d3-timer":"^1.0.9","d3-ease":"^1.0.5","d3-interpolate":"^1.3.2","d3-timer":"^1.0.9","detect-browser":"^5.1.0"},"__npminstall_done":false,"gitHead":"eb6a2503cb7bb8154697592b10680939d954a31a"}')},84909:function(gt,S,d){"use strict";var y;y={value:!0};var L=d(48465);function I(C){return Math.sqrt(C[0]*C[0]+C[1]*C[1])}function O(C,E){return I(C)*I(E)?(C[0]*E[0]+C[1]*E[1])/(I(C)*I(E)):1}function T(C,E){return(C[0]*E[1]<C[1]*E[0]?-1:1)*Math.acos(O(C,E))}function _(C,E){var p=E[1],w=E[2],g=L.mod(L.toRadian(E[3]),Math.PI*2),b=E[4],m=E[5],M=C[0],P=C[1],k=E[6],N=E[7],V=Math.cos(g)*(M-k)/2+Math.sin(g)*(P-N)/2,$=-1*Math.sin(g)*(M-k)/2+Math.cos(g)*(P-N)/2,Z=V*V/(p*p)+$*$/(w*w);Z>1&&(p*=Math.sqrt(Z),w*=Math.sqrt(Z));var J=p*p*($*$)+w*w*(V*V),lt=J?Math.sqrt((p*p*(w*w)-J)/J):1;b===m&&(lt*=-1),isNaN(lt)&&(lt=0);var rt=w?lt*p*$/w:0,bt=p?lt*-w*V/p:0,Ot=(M+k)/2+Math.cos(g)*rt-Math.sin(g)*bt,Bt=(P+N)/2+Math.sin(g)*rt+Math.cos(g)*bt,Et=[(V-rt)/p,($-bt)/w],Dt=[(-1*V-rt)/p,(-1*$-bt)/w],It=T([1,0],Et),_t=T(Et,Dt);return O(Et,Dt)<=-1&&(_t=Math.PI),O(Et,Dt)>=1&&(_t=0),m===0&&_t>0&&(_t=_t-2*Math.PI),m===1&&_t<0&&(_t=_t+2*Math.PI),{cx:Ot,cy:Bt,rx:L.isSamePoint(C,[k,N])?0:p,ry:L.isSamePoint(C,[k,N])?0:w,startAngle:It,endAngle:It+_t,xRotation:g,arcFlag:b,sweepFlag:m}}S.Z=_},48465:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.isSamePoint=S.mergeRegion=S.intersectRect=S.inBox=S.distance=S.getPixelRatio=void 0;function y(){return window?window.devicePixelRatio:1}S.getPixelRatio=y;function L(N,V,$,Z){var J=N-$,lt=V-Z;return Math.sqrt(J*J+lt*lt)}S.distance=L;function I(N,V,$,Z,J,lt){return J>=N&&J<=N+$&&lt>=V&&lt<=V+Z}S.inBox=I;function O(N,V){return!(V.minX>N.maxX||V.maxX<N.minX||V.minY>N.maxY||V.maxY<N.minY)}S.intersectRect=O;function T(N,V){return!N||!V?N||V:{minX:Math.min(N.minX,V.minX),minY:Math.min(N.minY,V.minY),maxX:Math.max(N.maxX,V.maxX),maxY:Math.max(N.maxY,V.maxY)}}S.mergeRegion=T;function _(N,V){return N[0]===V[0]&&N[1]===V[1]}S.isSamePoint=_;var C=d(73890);Object.defineProperty(S,"isNil",{enumerable:!0,get:function(){return C.default}});var E=d(21830);Object.defineProperty(S,"isString",{enumerable:!0,get:function(){return E.default}});var p=d(46812);Object.defineProperty(S,"isFunction",{enumerable:!0,get:function(){return p.default}});var w=d(66631);Object.defineProperty(S,"isArray",{enumerable:!0,get:function(){return w.default}});var g=d(27154);Object.defineProperty(S,"each",{enumerable:!0,get:function(){return g.default}});var b=d(9217);Object.defineProperty(S,"toRadian",{enumerable:!0,get:function(){return b.default}});var m=d(5253);Object.defineProperty(S,"mod",{enumerable:!0,get:function(){return m.default}});var M=d(39984);Object.defineProperty(S,"isNumberEqual",{enumerable:!0,get:function(){return M.default}});var P=d(98229);Object.defineProperty(S,"requestAnimationFrame",{enumerable:!0,get:function(){return P.default}});var k=d(35755);Object.defineProperty(S,"clearAnimationFrame",{enumerable:!0,get:function(){return k.default}})},71270:function(gt){"use strict";gt.exports=JSON.parse('{"name":"@antv/g-canvas","version":"0.4.15","description":"A canvas library which providing 2d","main":"lib/index.js","module":"esm/index.js","unpkg":"dist/g.min.js","types":"lib/index.d.ts","files":["package.json","esm","lib","dist","LICENSE","README.md"],"scripts":{"build":"npm run clean && run-p build:*","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","build:umd":"webpack --config webpack.config.js --mode production","clean":"rm -rf esm lib dist","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit","dist":"webpack --config webpack.config.js --mode production"},"repository":{"type":"git","url":"git+https://github.com/antvis/g.git"},"keywords":["util","antv","g"],"publishConfig":{"access":"public"},"author":"https://github.com/orgs/antvis/people","license":"ISC","bugs":{"url":"https://github.com/antvis/g/issues"},"devDependencies":{"@antv/torch":"^1.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","webpack":"^4.26.1","webpack-cli":"^3.1.2"},"homepage":"https://github.com/antvis/g#readme","dependencies":{"@antv/g-base":"^0.4.7","@antv/g-math":"^0.1.3","@antv/path-util":"~2.0.5","@antv/util":"~2.0.0","gl-matrix":"^3.0.0"},"__npminstall_done":false,"gitHead":"9092384bf6b7efd6ec71bbcdec1b801a0079c403"}')},89838:function(gt,S,d){"use strict";d.r(S),d.d(S,{Arc:function(){return u},Cubic:function(){return bt},Line:function(){return p},Polygon:function(){return At},Polyline:function(){return ct},Quad:function(){return V},Util:function(){return y}});var y={};d.r(y),d.d(y,{distance:function(){return I},getBBoxByArray:function(){return T},getBBoxRange:function(){return _},isNumberEqual:function(){return O},piMod:function(){return C}});var L=d(49242);function I(ot,wt,st,K){var tt=ot-st,U=wt-K;return Math.sqrt(tt*tt+U*U)}function O(ot,wt){return Math.abs(ot-wt)<.001}function T(ot,wt){var st=(0,L.min)(ot),K=(0,L.min)(wt),tt=(0,L.max)(ot),U=(0,L.max)(wt);return{x:st,y:K,width:tt-st,height:U-K}}function _(ot,wt,st,K){return{minX:(0,L.min)([ot,st]),maxX:(0,L.max)([ot,st]),minY:(0,L.min)([wt,K]),maxY:(0,L.max)([wt,K])}}function C(ot){return(ot+Math.PI*2)%(Math.PI*2)}var E=d(31437),p={box:function(ot,wt,st,K){return T([ot,st],[wt,K])},length:function(ot,wt,st,K){return I(ot,wt,st,K)},pointAt:function(ot,wt,st,K,tt){return{x:(1-tt)*ot+tt*st,y:(1-tt)*wt+tt*K}},pointDistance:function(ot,wt,st,K,tt,U){var j=(st-ot)*(tt-ot)+(K-wt)*(U-wt);if(j<0)return I(ot,wt,tt,U);var at=(st-ot)*(st-ot)+(K-wt)*(K-wt);return j>at?I(st,K,tt,U):this.pointToLine(ot,wt,st,K,tt,U)},pointToLine:function(ot,wt,st,K,tt,U){var j=[st-ot,K-wt];if(E.exactEquals(j,[0,0]))return Math.sqrt((tt-ot)*(tt-ot)+(U-wt)*(U-wt));var at=[-j[1],j[0]];E.normalize(at,at);var vt=[tt-ot,U-wt];return Math.abs(E.dot(vt,at))},tangentAngle:function(ot,wt,st,K){return Math.atan2(K-wt,st-ot)}},w=1e-4;function g(ot,wt,st,K,tt,U){var j,at=Infinity,vt=[st,K],Ft=20;U&&U>200&&(Ft=U/10);for(var Jt=1/Ft,le=Jt/10,ge=0;ge<=Ft;ge++){var Zt=ge*Jt,kt=[tt.apply(null,ot.concat([Zt])),tt.apply(null,wt.concat([Zt]))],zt=I(vt[0],vt[1],kt[0],kt[1]);zt<at&&(j=Zt,at=zt)}if(j===0)return{x:ot[0],y:wt[0]};if(j===1){var ne=ot.length;return{x:ot[ne-1],y:wt[ne-1]}}at=Infinity;for(var ge=0;ge<32&&!(le<w);ge++){var de=j-le,Ce=j+le,kt=[tt.apply(null,ot.concat([de])),tt.apply(null,wt.concat([de]))],zt=I(vt[0],vt[1],kt[0],kt[1]);if(de>=0&&zt<at)j=de,at=zt;else{var De=[tt.apply(null,ot.concat([Ce])),tt.apply(null,wt.concat([Ce]))],ze=I(vt[0],vt[1],De[0],De[1]);Ce<=1&&ze<at?(j=Ce,at=ze):le*=.5}}return{x:tt.apply(null,ot.concat([j])),y:tt.apply(null,wt.concat([j]))}}function b(ot,wt){for(var st=0,K=ot.length,tt=0;tt<K;tt++){var U=ot[tt],j=wt[tt],at=ot[(tt+1)%K],vt=wt[(tt+1)%K];st+=I(U,j,at,vt)}return st/2}function m(ot,wt,st,K){var tt=1-K;return tt*tt*ot+2*K*tt*wt+K*K*st}function M(ot,wt,st){var K=ot+st-2*wt;if(O(K,0))return[.5];var tt=(ot-wt)/K;return tt<=1&&tt>=0?[tt]:[]}function P(ot,wt,st,K){return 2*(1-K)*(wt-ot)+2*K*(st-wt)}function k(ot,wt,st,K,tt,U,j){var at=m(ot,st,tt,j),vt=m(wt,K,U,j),Ft=p.pointAt(ot,wt,st,K,j),Jt=p.pointAt(st,K,tt,U,j);return[[ot,wt,Ft.x,Ft.y,at,vt],[at,vt,Jt.x,Jt.y,tt,U]]}function N(ot,wt,st,K,tt,U,j){if(j===0)return(I(ot,wt,st,K)+I(st,K,tt,U)+I(ot,wt,tt,U))/2;var at=k(ot,wt,st,K,tt,U,.5),vt=at[0],Ft=at[1];return vt.push(j-1),Ft.push(j-1),N.apply(null,vt)+N.apply(null,Ft)}var V={box:function(ot,wt,st,K,tt,U){var j=M(ot,st,tt)[0],at=M(wt,K,U)[0],vt=[ot,tt],Ft=[wt,U];return j!==void 0&&vt.push(m(ot,st,tt,j)),at!==void 0&&Ft.push(m(wt,K,U,at)),T(vt,Ft)},length:function(ot,wt,st,K,tt,U){return N(ot,wt,st,K,tt,U,3)},nearestPoint:function(ot,wt,st,K,tt,U,j,at){return g([ot,st,tt],[wt,K,U],j,at,m)},pointDistance:function(ot,wt,st,K,tt,U,j,at){var vt=this.nearestPoint(ot,wt,st,K,tt,U,j,at);return I(vt.x,vt.y,j,at)},interpolationAt:m,pointAt:function(ot,wt,st,K,tt,U,j){return{x:m(ot,st,tt,j),y:m(wt,K,U,j)}},divide:function(ot,wt,st,K,tt,U,j){return k(ot,wt,st,K,tt,U,j)},tangentAngle:function(ot,wt,st,K,tt,U,j){var at=P(ot,st,tt,j),vt=P(wt,K,U,j),Ft=Math.atan2(vt,at);return C(Ft)}};function $(ot,wt,st,K,tt){var U=1-tt;return U*U*U*ot+3*wt*tt*U*U+3*st*tt*tt*U+K*tt*tt*tt}function Z(ot,wt,st,K,tt){var U=1-tt;return 3*(U*U*(wt-ot)+2*U*tt*(st-wt)+tt*tt*(K-st))}function J(ot,wt,st,K){var tt=-3*ot+9*wt-9*st+3*K,U=6*ot-12*wt+6*st,j=3*wt-3*ot,at=[],vt,Ft,Jt;if(O(tt,0))O(U,0)||(vt=-j/U,vt>=0&&vt<=1&&at.push(vt));else{var le=U*U-4*tt*j;O(le,0)?at.push(-U/(2*tt)):le>0&&(Jt=Math.sqrt(le),vt=(-U+Jt)/(2*tt),Ft=(-U-Jt)/(2*tt),vt>=0&&vt<=1&&at.push(vt),Ft>=0&&Ft<=1&&at.push(Ft))}return at}function lt(ot,wt,st,K,tt,U,j,at,vt){var Ft=$(ot,st,tt,j,vt),Jt=$(wt,K,U,at,vt),le=p.pointAt(ot,wt,st,K,vt),ge=p.pointAt(st,K,tt,U,vt),Zt=p.pointAt(tt,U,j,at,vt),kt=p.pointAt(le.x,le.y,ge.x,ge.y,vt),zt=p.pointAt(ge.x,ge.y,Zt.x,Zt.y,vt);return[[ot,wt,le.x,le.y,kt.x,kt.y,Ft,Jt],[Ft,Jt,zt.x,zt.y,Zt.x,Zt.y,j,at]]}function rt(ot,wt,st,K,tt,U,j,at,vt){if(vt===0)return b([ot,st,tt,j],[wt,K,U,at]);var Ft=lt(ot,wt,st,K,tt,U,j,at,.5),Jt=Ft[0],le=Ft[1];return Jt.push(vt-1),le.push(vt-1),rt.apply(null,Jt)+rt.apply(null,le)}var bt={extrema:J,box:function(ot,wt,st,K,tt,U,j,at){for(var vt=[ot,j],Ft=[wt,at],Jt=J(ot,st,tt,j),le=J(wt,K,U,at),ge=0;ge<Jt.length;ge++)vt.push($(ot,st,tt,j,Jt[ge]));for(var ge=0;ge<le.length;ge++)Ft.push($(wt,K,U,at,le[ge]));return T(vt,Ft)},length:function(ot,wt,st,K,tt,U,j,at){return rt(ot,wt,st,K,tt,U,j,at,3)},nearestPoint:function(ot,wt,st,K,tt,U,j,at,vt,Ft,Jt){return g([ot,st,tt,j],[wt,K,U,at],vt,Ft,$,Jt)},pointDistance:function(ot,wt,st,K,tt,U,j,at,vt,Ft,Jt){var le=this.nearestPoint(ot,wt,st,K,tt,U,j,at,vt,Ft,Jt);return I(le.x,le.y,vt,Ft)},interpolationAt:$,pointAt:function(ot,wt,st,K,tt,U,j,at,vt){return{x:$(ot,st,tt,j,vt),y:$(wt,K,U,at,vt)}},divide:function(ot,wt,st,K,tt,U,j,at,vt){return lt(ot,wt,st,K,tt,U,j,at,vt)},tangentAngle:function(ot,wt,st,K,tt,U,j,at,vt){var Ft=Z(ot,st,tt,j,vt),Jt=Z(wt,K,U,at,vt);return C(Math.atan2(Jt,Ft))}};function Ot(ot,wt){var st=Math.abs(ot);return wt>0?st:st*-1}var Bt={box:function(ot,wt,st,K){return{x:ot-st,y:wt-K,width:st*2,height:K*2}},length:function(ot,wt,st,K){return Math.PI*(3*(st+K)-Math.sqrt((3*st+K)*(st+3*K)))},nearestPoint:function(ot,wt,st,K,tt,U){var j=st,at=K;if(j===0||at===0)return{x:ot,y:wt};for(var vt=tt-ot,Ft=U-wt,Jt=Math.abs(vt),le=Math.abs(Ft),ge=j*j,Zt=at*at,kt=Math.PI/4,zt,ne,de=0;de<4;de++){zt=j*Math.cos(kt),ne=at*Math.sin(kt);var Ce=(ge-Zt)*Math.pow(Math.cos(kt),3)/j,De=(Zt-ge)*Math.pow(Math.sin(kt),3)/at,ze=zt-Ce,er=ne-De,yr=Jt-Ce,tn=le-De,nn=Math.hypot(er,ze),gn=Math.hypot(tn,yr),yn=nn*Math.asin((ze*tn-er*yr)/(nn*gn)),jt=yn/Math.sqrt(ge+Zt-zt*zt-ne*ne);kt+=jt,kt=Math.min(Math.PI/2,Math.max(0,kt))}return{x:ot+Ot(zt,vt),y:wt+Ot(ne,Ft)}},pointDistance:function(ot,wt,st,K,tt,U){var j=this.nearestPoint(ot,wt,st,K,tt,U);return I(j.x,j.y,tt,U)},pointAt:function(ot,wt,st,K,tt){var U=2*Math.PI*tt;return{x:ot+st*Math.cos(U),y:wt+K*Math.sin(U)}},tangentAngle:function(ot,wt,st,K,tt){var U=2*Math.PI*tt,j=Math.atan2(K*Math.cos(U),-st*Math.sin(U));return C(j)}};function Et(ot,wt,st,K,tt,U,j,at){return-1*st*Math.cos(tt)*Math.sin(at)-K*Math.sin(tt)*Math.cos(at)}function Dt(ot,wt,st,K,tt,U,j,at){return-1*st*Math.sin(tt)*Math.sin(at)+K*Math.cos(tt)*Math.cos(at)}function It(ot,wt,st){return Math.atan(-wt/ot*Math.tan(st))}function _t(ot,wt,st){return Math.atan(wt/(ot*Math.tan(st)))}function Xt(ot,wt,st,K,tt,U){return st*Math.cos(tt)*Math.cos(U)-K*Math.sin(tt)*Math.sin(U)+ot}function z(ot,wt,st,K,tt,U){return st*Math.sin(tt)*Math.cos(U)+K*Math.cos(tt)*Math.sin(U)+wt}function R(ot,wt,st,K){var tt=Math.atan2(K*ot,st*wt);return(tt+Math.PI*2)%(Math.PI*2)}function F(ot,wt,st){return{x:ot*Math.cos(st),y:wt*Math.sin(st)}}function D(ot,wt,st){var K=Math.cos(st),tt=Math.sin(st);return[ot*K-wt*tt,ot*tt+wt*K]}var u={box:function(ot,wt,st,K,tt,U,j){for(var at=It(st,K,tt),vt=Infinity,Ft=-Infinity,Jt=[U,j],le=-Math.PI*2;le<=Math.PI*2;le+=Math.PI){var ge=at+le;U<j?U<ge&&ge<j&&Jt.push(ge):j<ge&&ge<U&&Jt.push(ge)}for(var le=0;le<Jt.length;le++){var Zt=Xt(ot,wt,st,K,tt,Jt[le]);Zt<vt&&(vt=Zt),Zt>Ft&&(Ft=Zt)}for(var kt=_t(st,K,tt),zt=Infinity,ne=-Infinity,de=[U,j],le=-Math.PI*2;le<=Math.PI*2;le+=Math.PI){var Ce=kt+le;U<j?U<Ce&&Ce<j&&de.push(Ce):j<Ce&&Ce<U&&de.push(Ce)}for(var le=0;le<de.length;le++){var De=z(ot,wt,st,K,tt,de[le]);De<zt&&(zt=De),De>ne&&(ne=De)}return{x:vt,y:zt,width:Ft-vt,height:ne-zt}},length:function(ot,wt,st,K,tt,U,j){},nearestPoint:function(ot,wt,st,K,tt,U,j,at,vt){var Ft=D(at-ot,vt-wt,-tt),Jt=Ft[0],le=Ft[1],ge=Bt.nearestPoint(0,0,st,K,Jt,le),Zt=R(st,K,ge.x,ge.y);Zt<U?ge=F(st,K,U):Zt>j&&(ge=F(st,K,j));var kt=D(ge.x,ge.y,tt);return{x:kt[0]+ot,y:kt[1]+wt}},pointDistance:function(ot,wt,st,K,tt,U,j,at,vt){var Ft=this.nearestPoint(ot,wt,st,K,at,vt);return I(Ft.x,Ft.y,at,vt)},pointAt:function(ot,wt,st,K,tt,U,j,at){var vt=(j-U)*at+U;return{x:Xt(ot,wt,st,K,tt,vt),y:z(ot,wt,st,K,tt,vt)}},tangentAngle:function(ot,wt,st,K,tt,U,j,at){var vt=(j-U)*at+U,Ft=Et(ot,wt,st,K,tt,U,j,vt),Jt=Dt(ot,wt,st,K,tt,U,j,vt);return C(Math.atan2(Jt,Ft))}};function W(ot){for(var wt=0,st=[],K=0;K<ot.length-1;K++){var tt=ot[K],U=ot[K+1],j=I(tt[0],tt[1],U[0],U[1]),at={from:tt,to:U,length:j};st.push(at),wt+=j}return{segments:st,totalLength:wt}}function it(ot){if(ot.length<2)return 0;for(var wt=0,st=0;st<ot.length-1;st++){var K=ot[st],tt=ot[st+1];wt+=I(K[0],K[1],tt[0],tt[1])}return wt}function nt(ot,wt){if(wt>1||wt<0||ot.length<2)return null;var st=W(ot),K=st.segments,tt=st.totalLength;if(tt===0)return{x:ot[0][0],y:ot[0][1]};for(var U=0,j=null,at=0;at<K.length;at++){var vt=K[at],Ft=vt.from,Jt=vt.to,le=vt.length/tt;if(wt>=U&&wt<=U+le){var ge=(wt-U)/le;j=p.pointAt(Ft[0],Ft[1],Jt[0],Jt[1],ge);break}U+=le}return j}function mt(ot,wt){if(wt>1||wt<0||ot.length<2)return 0;for(var st=W(ot),K=st.segments,tt=st.totalLength,U=0,j=0,at=0;at<K.length;at++){var vt=K[at],Ft=vt.from,Jt=vt.to,le=vt.length/tt;if(wt>=U&&wt<=U+le){j=Math.atan2(Jt[1]-Ft[1],Jt[0]-Ft[0]);break}U+=le}return j}function et(ot,wt,st){for(var K=Infinity,tt=0;tt<ot.length-1;tt++){var U=ot[tt],j=ot[tt+1],at=p.pointDistance(U[0],U[1],j[0],j[1],wt,st);at<K&&(K=at)}return K}var ct={box:function(ot){for(var wt=[],st=[],K=0;K<ot.length;K++){var tt=ot[K];wt.push(tt[0]),st.push(tt[1])}return T(wt,st)},length:function(ot){return it(ot)},pointAt:function(ot,wt){return nt(ot,wt)},pointDistance:function(ot,wt,st){return et(ot,wt,st)},tangentAngle:function(ot,wt){return mt(ot,wt)}};function Pt(ot){var wt=ot.slice(0);return ot.length&&wt.push(ot[0]),wt}var At={box:function(ot){return ct.box(ot)},length:function(ot){return it(Pt(ot))},pointAt:function(ot,wt){return nt(Pt(ot),wt)},pointDistance:function(ot,wt,st){return et(Pt(ot),wt,st)},tangentAngle:function(ot,wt){return mt(Pt(ot),wt)}}},33418:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(76256),L=d(55397);function I(b,m,M,P,k,N,V,$){return-1*M*Math.cos(k)*Math.sin($)-P*Math.sin(k)*Math.cos($)}function O(b,m,M,P,k,N,V,$){return-1*M*Math.sin(k)*Math.sin($)+P*Math.cos(k)*Math.cos($)}function T(b,m,M){return Math.atan(-m/b*Math.tan(M))}function _(b,m,M){return Math.atan(m/(b*Math.tan(M)))}function C(b,m,M,P,k,N){return M*Math.cos(k)*Math.cos(N)-P*Math.sin(k)*Math.sin(N)+b}function E(b,m,M,P,k,N){return M*Math.sin(k)*Math.cos(N)+P*Math.cos(k)*Math.sin(N)+m}function p(b,m,M,P){var k=Math.atan2(P*b,M*m);return(k+Math.PI*2)%(Math.PI*2)}function w(b,m,M){return{x:b*Math.cos(M),y:m*Math.sin(M)}}function g(b,m,M){var P=Math.cos(M),k=Math.sin(M);return[b*P-m*k,b*k+m*P]}S.default={box:function(b,m,M,P,k,N,V){for(var $=T(M,P,k),Z=Infinity,J=-Infinity,lt=[N,V],rt=-Math.PI*2;rt<=Math.PI*2;rt+=Math.PI){var bt=$+rt;N<V?N<bt&&bt<V&&lt.push(bt):V<bt&&bt<N&&lt.push(bt)}for(var rt=0;rt<lt.length;rt++){var Ot=C(b,m,M,P,k,lt[rt]);Ot<Z&&(Z=Ot),Ot>J&&(J=Ot)}for(var Bt=_(M,P,k),Et=Infinity,Dt=-Infinity,It=[N,V],rt=-Math.PI*2;rt<=Math.PI*2;rt+=Math.PI){var _t=Bt+rt;N<V?N<_t&&_t<V&&It.push(_t):V<_t&&_t<N&&It.push(_t)}for(var rt=0;rt<It.length;rt++){var Xt=E(b,m,M,P,k,It[rt]);Xt<Et&&(Et=Xt),Xt>Dt&&(Dt=Xt)}return{x:Z,y:Et,width:J-Z,height:Dt-Et}},length:function(b,m,M,P,k,N,V){},nearestPoint:function(b,m,M,P,k,N,V,$,Z){var J=g($-b,Z-m,-k),lt=J[0],rt=J[1],bt=L.default.nearestPoint(0,0,M,P,lt,rt),Ot=p(M,P,bt.x,bt.y);Ot<N?bt=w(M,P,N):Ot>V&&(bt=w(M,P,V));var Bt=g(bt.x,bt.y,k);return{x:Bt[0]+b,y:Bt[1]+m}},pointDistance:function(b,m,M,P,k,N,V,$,Z){var J=this.nearestPoint(b,m,M,P,$,Z);return y.distance(J.x,J.y,$,Z)},pointAt:function(b,m,M,P,k,N,V,$){var Z=(V-N)*$+N;return{x:C(b,m,M,P,k,Z),y:E(b,m,M,P,k,Z)}},tangentAngle:function(b,m,M,P,k,N,V,$){var Z=(V-N)*$+N,J=I(b,m,M,P,k,N,V,Z),lt=O(b,m,M,P,k,N,V,Z);return y.piMod(Math.atan2(lt,J))}}},87335:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.snapLength=S.nearestPoint=void 0;var y=d(76256),L=1e-4;function I(T,_,C,E,p,w){var g,b=Infinity,m=[C,E],M=20;w&&w>200&&(M=w/10);for(var P=1/M,k=P/10,N=0;N<=M;N++){var V=N*P,$=[p.apply(null,T.concat([V])),p.apply(null,_.concat([V]))],Z=y.distance(m[0],m[1],$[0],$[1]);Z<b&&(g=V,b=Z)}if(g===0)return{x:T[0],y:_[0]};if(g===1){var J=T.length;return{x:T[J-1],y:_[J-1]}}b=Infinity;for(var N=0;N<32&&!(k<L);N++){var lt=g-k,rt=g+k,$=[p.apply(null,T.concat([lt])),p.apply(null,_.concat([lt]))],Z=y.distance(m[0],m[1],$[0],$[1]);if(lt>=0&&Z<b)g=lt,b=Z;else{var bt=[p.apply(null,T.concat([rt])),p.apply(null,_.concat([rt]))],Ot=y.distance(m[0],m[1],bt[0],bt[1]);rt<=1&&Ot<b?(g=rt,b=Ot):k*=.5}}return{x:p.apply(null,T.concat([g])),y:p.apply(null,_.concat([g]))}}S.nearestPoint=I;function O(T,_){for(var C=0,E=T.length,p=0;p<E;p++){var w=T[p],g=_[p],b=T[(p+1)%E],m=_[(p+1)%E];C+=y.distance(w,g,b,m)}return C/2}S.snapLength=O},15730:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(76256),L=d(23646),I=d(87335);function O(p,w,g,b,m){var M=1-m;return M*M*M*p+3*w*m*M*M+3*g*m*m*M+b*m*m*m}function T(p,w,g,b,m){var M=1-m;return 3*(M*M*(w-p)+2*M*m*(g-w)+m*m*(b-g))}function _(p,w,g,b){var m=-3*p+9*w-9*g+3*b,M=6*p-12*w+6*g,P=3*w-3*p,k=[],N,V,$;if(y.isNumberEqual(m,0))y.isNumberEqual(M,0)||(N=-P/M,N>=0&&N<=1&&k.push(N));else{var Z=M*M-4*m*P;y.isNumberEqual(Z,0)?k.push(-M/(2*m)):Z>0&&($=Math.sqrt(Z),N=(-M+$)/(2*m),V=(-M-$)/(2*m),N>=0&&N<=1&&k.push(N),V>=0&&V<=1&&k.push(V))}return k}function C(p,w,g,b,m,M,P,k,N){var V=O(p,g,m,P,N),$=O(w,b,M,k,N),Z=L.default.pointAt(p,w,g,b,N),J=L.default.pointAt(g,b,m,M,N),lt=L.default.pointAt(m,M,P,k,N),rt=L.default.pointAt(Z.x,Z.y,J.x,J.y,N),bt=L.default.pointAt(J.x,J.y,lt.x,lt.y,N);return[[p,w,Z.x,Z.y,rt.x,rt.y,V,$],[V,$,bt.x,bt.y,lt.x,lt.y,P,k]]}function E(p,w,g,b,m,M,P,k,N){if(N===0)return I.snapLength([p,g,m,P],[w,b,M,k]);var V=C(p,w,g,b,m,M,P,k,.5),$=V[0],Z=V[1];return $.push(N-1),Z.push(N-1),E.apply(null,$)+E.apply(null,Z)}S.default={extrema:_,box:function(p,w,g,b,m,M,P,k){for(var N=[p,P],V=[w,k],$=_(p,g,m,P),Z=_(w,b,M,k),J=0;J<$.length;J++)N.push(O(p,g,m,P,$[J]));for(var J=0;J<Z.length;J++)V.push(O(w,b,M,k,Z[J]));return y.getBBoxByArray(N,V)},length:function(p,w,g,b,m,M,P,k){return E(p,w,g,b,m,M,P,k,3)},nearestPoint:function(p,w,g,b,m,M,P,k,N,V,$){return I.nearestPoint([p,g,m,P],[w,b,M,k],N,V,O,$)},pointDistance:function(p,w,g,b,m,M,P,k,N,V,$){var Z=this.nearestPoint(p,w,g,b,m,M,P,k,N,V,$);return y.distance(Z.x,Z.y,N,V)},interpolationAt:O,pointAt:function(p,w,g,b,m,M,P,k,N){return{x:O(p,g,m,P,N),y:O(w,b,M,k,N)}},divide:function(p,w,g,b,m,M,P,k,N){return C(p,w,g,b,m,M,P,k,N)},tangentAngle:function(p,w,g,b,m,M,P,k,N){var V=T(p,g,m,P,N),$=T(w,b,M,k,N);return y.piMod(Math.atan2($,V))}}},55397:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(76256);function L(I,O){var T=Math.abs(I);return O>0?T:T*-1}S.default={box:function(I,O,T,_){return{x:I-T,y:O-_,width:T*2,height:_*2}},length:function(I,O,T,_){return Math.PI*(3*(T+_)-Math.sqrt((3*T+_)*(T+3*_)))},nearestPoint:function(I,O,T,_,C,E){var p=T,w=_;if(p===0||w===0)return{x:I,y:O};for(var g=C-I,b=E-O,m=Math.abs(g),M=Math.abs(b),P=p*p,k=w*w,N=Math.PI/4,V,$,Z=0;Z<4;Z++){V=p*Math.cos(N),$=w*Math.sin(N);var J=(P-k)*Math.pow(Math.cos(N),3)/p,lt=(k-P)*Math.pow(Math.sin(N),3)/w,rt=V-J,bt=$-lt,Ot=m-J,Bt=M-lt,Et=Math.hypot(bt,rt),Dt=Math.hypot(Bt,Ot),It=Et*Math.asin((rt*Bt-bt*Ot)/(Et*Dt)),_t=It/Math.sqrt(P+k-V*V-$*$);N+=_t,N=Math.min(Math.PI/2,Math.max(0,N))}return{x:I+L(V,g),y:O+L($,b)}},pointDistance:function(I,O,T,_,C,E){var p=this.nearestPoint(I,O,T,_,C,E);return y.distance(p.x,p.y,C,E)},pointAt:function(I,O,T,_,C){var E=2*Math.PI*C;return{x:I+T*Math.cos(E),y:O+_*Math.sin(E)}},tangentAngle:function(I,O,T,_,C){var E=2*Math.PI*C,p=Math.atan2(_*Math.cos(E),-T*Math.sin(E));return y.piMod(p)}}},23646:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(76256),L=d(31437);S.default={box:function(I,O,T,_){return y.getBBoxByArray([I,T],[O,_])},length:function(I,O,T,_){return y.distance(I,O,T,_)},pointAt:function(I,O,T,_,C){return{x:(1-C)*I+C*T,y:(1-C)*O+C*_}},pointDistance:function(I,O,T,_,C,E){var p=(T-I)*(C-I)+(_-O)*(E-O);if(p<0)return y.distance(I,O,C,E);var w=(T-I)*(T-I)+(_-O)*(_-O);return p>w?y.distance(T,_,C,E):this.pointToLine(I,O,T,_,C,E)},pointToLine:function(I,O,T,_,C,E){var p=[T-I,_-O];if(L.exactEquals(p,[0,0]))return Math.sqrt((C-I)*(C-I)+(E-O)*(E-O));var w=[-p[1],p[0]];L.normalize(w,w);var g=[C-I,E-O];return Math.abs(L.dot(g,w))},tangentAngle:function(I,O,T,_){return Math.atan2(_-O,T-I)}}},65386:function(gt,S,d){"use strict";var y;y={value:!0};var L=d(28171),I=d(76256);S.Z={box:function(O){for(var T=[],_=[],C=0;C<O.length;C++){var E=O[C];T.push(E[0]),_.push(E[1])}return I.getBBoxByArray(T,_)},length:function(O){return L.lengthOfSegment(O)},pointAt:function(O,T){return L.pointAtSegments(O,T)},pointDistance:function(O,T,_){return L.distanceAtSegment(O,T,_)},tangentAngle:function(O,T){return L.angleAtSegments(O,T)}}},2879:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(23646),L=d(76256),I=d(87335);function O(p,w,g,b){var m=1-b;return m*m*p+2*b*m*w+b*b*g}function T(p,w,g){var b=p+g-2*w;if(L.isNumberEqual(b,0))return[.5];var m=(p-w)/b;return m<=1&&m>=0?[m]:[]}function _(p,w,g,b){return 2*(1-b)*(w-p)+2*b*(g-w)}function C(p,w,g,b,m,M,P){var k=O(p,g,m,P),N=O(w,b,M,P),V=y.default.pointAt(p,w,g,b,P),$=y.default.pointAt(g,b,m,M,P);return[[p,w,V.x,V.y,k,N],[k,N,$.x,$.y,m,M]]}function E(p,w,g,b,m,M,P){if(P===0)return(L.distance(p,w,g,b)+L.distance(g,b,m,M)+L.distance(p,w,m,M))/2;var k=C(p,w,g,b,m,M,.5),N=k[0],V=k[1];return N.push(P-1),V.push(P-1),E.apply(null,N)+E.apply(null,V)}S.default={box:function(p,w,g,b,m,M){var P=T(p,g,m)[0],k=T(w,b,M)[0],N=[p,m],V=[w,M];return P!==void 0&&N.push(O(p,g,m,P)),k!==void 0&&V.push(O(w,b,M,k)),L.getBBoxByArray(N,V)},length:function(p,w,g,b,m,M){return E(p,w,g,b,m,M,3)},nearestPoint:function(p,w,g,b,m,M,P,k){return I.nearestPoint([p,g,m],[w,b,M],P,k,O)},pointDistance:function(p,w,g,b,m,M,P,k){var N=this.nearestPoint(p,w,g,b,m,M,P,k);return L.distance(N.x,N.y,P,k)},interpolationAt:O,pointAt:function(p,w,g,b,m,M,P){return{x:O(p,g,m,P),y:O(w,b,M,P)}},divide:function(p,w,g,b,m,M,P){return C(p,w,g,b,m,M,P)},tangentAngle:function(p,w,g,b,m,M,P){var k=_(p,g,m,P),N=_(w,b,M,P),V=Math.atan2(N,k);return L.piMod(V)}}},28171:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.distanceAtSegment=S.angleAtSegments=S.pointAtSegments=S.lengthOfSegment=void 0;var y=d(23646),L=d(76256);function I(E){for(var p=0,w=[],g=0;g<E.length-1;g++){var b=E[g],m=E[g+1],M=L.distance(b[0],b[1],m[0],m[1]),P={from:b,to:m,length:M};w.push(P),p+=M}return{segments:w,totalLength:p}}function O(E){if(E.length<2)return 0;for(var p=0,w=0;w<E.length-1;w++){var g=E[w],b=E[w+1];p+=L.distance(g[0],g[1],b[0],b[1])}return p}S.lengthOfSegment=O;function T(E,p){if(p>1||p<0||E.length<2)return null;var w=I(E),g=w.segments,b=w.totalLength;if(b===0)return{x:E[0][0],y:E[0][1]};for(var m=0,M=null,P=0;P<g.length;P++){var k=g[P],N=k.from,V=k.to,$=k.length/b;if(p>=m&&p<=m+$){var Z=(p-m)/$;M=y.default.pointAt(N[0],N[1],V[0],V[1],Z);break}m+=$}return M}S.pointAtSegments=T;function _(E,p){if(p>1||p<0||E.length<2)return 0;for(var w=I(E),g=w.segments,b=w.totalLength,m=0,M=0,P=0;P<g.length;P++){var k=g[P],N=k.from,V=k.to,$=k.length/b;if(p>=m&&p<=m+$){M=Math.atan2(V[1]-N[1],V[0]-N[0]);break}m+=$}return M}S.angleAtSegments=_;function C(E,p,w){for(var g=Infinity,b=0;b<E.length-1;b++){var m=E[b],M=E[b+1],P=y.default.pointDistance(m[0],m[1],M[0],M[1],p,w);P<g&&(g=P)}return g}S.distanceAtSegment=C},76256:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.piMod=S.getBBoxRange=S.getBBoxByArray=S.isNumberEqual=S.distance=void 0;var y=d(49242);function L(C,E,p,w){var g=C-p,b=E-w;return Math.sqrt(g*g+b*b)}S.distance=L;function I(C,E){return Math.abs(C-E)<.001}S.isNumberEqual=I;function O(C,E){var p=y.min(C),w=y.min(E),g=y.max(C),b=y.max(E);return{x:p,y:w,width:g-p,height:b-w}}S.getBBoxByArray=O;function T(C,E,p,w){return{minX:y.min([C,p]),maxX:y.max([C,p]),minY:y.min([E,w]),maxY:y.max([E,w])}}S.getBBoxRange=T;function _(C){return(C+Math.PI*2)%(Math.PI*2)}S.piMod=_},56463:function(gt,S,d){"use strict";var y=d(34155),L=this&&this.__spreadArrays||function(){for(var k=0,N=0,V=arguments.length;N<V;N++)k+=arguments[N].length;for(var $=Array(k),Z=0,N=0;N<V;N++)for(var J=arguments[N],lt=0,rt=J.length;lt<rt;lt++,Z++)$[Z]=J[lt];return $};Object.defineProperty(S,"__esModule",{value:!0});var I=function(){function k(N,V,$){this.name=N,this.version=V,this.os=$}return k}();S.BrowserInfo=I;var O=function(){function k(N){this.version=N,this.name="node",this.os=y.platform}return k}();S.NodeInfo=O;var T=function(){function k(){this.bot=!0,this.name="bot",this.version=null,this.os=null}return k}();S.BotInfo=T;var _=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,C=/(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\/Teoma)|(ia_archiver)/,E=3,p=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["vivaldi",/Vivaldi\/([0-9\.]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/Edg\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",_]],w=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/],["Search Bot",C]];function g(k){return k?b(k):typeof navigator!="undefined"?b(navigator.userAgent):M()}S.detect=g;function b(k){var N=k!==""&&p.reduce(function(J,lt){var rt=lt[0],bt=lt[1];if(J)return J;var Ot=bt.exec(k);return!!Ot&&[rt,Ot]},!1);if(!N)return null;var V=N[0],$=N[1];if(V==="searchbot")return new T;var Z=$[1]&&$[1].split(/[._]/).slice(0,3);return Z?Z.length<E&&(Z=L(Z,P(E-Z.length))):Z=[],new I(V,Z.join("."),m(k))}S.parseUserAgent=b;function m(k){for(var N=0,V=w.length;N<V;N++){var $=w[N],Z=$[0],J=$[1],lt=J.test(k);if(lt)return Z}return null}S.detectOS=m;function M(){var k=typeof y!="undefined"&&y.version;return k?new O(y.version.slice(1)):null}S.getNodeVersion=M;function P(k){for(var N=[],V=0;V<k;V++)N.push("0");return N}},23231:function(gt){"use strict";gt.exports=JSON.parse('{"name":"@antv/g-svg","version":"0.4.7","description":"A canvas library which providing 2d","main":"lib/index.js","module":"esm/index.js","unpkg":"dist/g.min.js","types":"lib/index.d.ts","files":["package.json","esm","lib","dist","LICENSE","README.md"],"scripts":{"build":"npm run clean && run-p build:*","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","build:umd":"webpack --config webpack.config.js --mode production","clean":"rm -rf esm lib dist","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit"},"repository":{"type":"git","url":"git+https://github.com/antvis/g.git"},"keywords":["util","antv","g"],"publishConfig":{"access":"public"},"author":"https://github.com/orgs/antvis/people","license":"ISC","bugs":{"url":"https://github.com/antvis/g/issues"},"devDependencies":{"@antv/torch":"^1.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","webpack":"^4.39.3","webpack-cli":"^3.3.7"},"homepage":"https://github.com/antvis/g#readme","dependencies":{"@antv/g-base":"^0.4.7","@antv/g-math":"^0.1.3","@antv/util":"~2.0.0","detect-browser":"^4.6.0"},"__npminstall_done":false,"gitHead":"eb6a2503cb7bb8154697592b10680939d954a31a"}')},66002:function(){},92762:function(gt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.registerAnimation=S.getAnimation=void 0;var d={};function y(I){return d[I.toLowerCase()]}S.getAnimation=y;function L(I,O){d[I.toLowerCase()]=O}S.registerAnimation=L},27978:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.doGroupAppearAnimate=S.doAnimate=S.getDefaultAnimateCfg=S.DEFAULT_ANIMATE_CFG=void 0;var y=d(60517),L=d(49242),I=d(29583),O=d(92762);S.DEFAULT_ANIMATE_CFG={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}};var T={interval:function(g){return{enter:{animation:g.isRect?g.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:g.isPolar&&g.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},_={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(g){var b;return g.isRect?b=g.isTransposed?"grow-in-x":"grow-in-y":(b="grow-in-xy",g.isPolar&&g.isTransposed&&(b="wave-in")),{animation:b}},schema:function(g){var b;return g.isRect?b=g.isTransposed?"grow-in-x":"grow-in-y":b="grow-in-xy",{animation:b}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function C(g,b){return{delay:L.isFunction(g.delay)?g.delay(b):g.delay,easing:L.isFunction(g.easing)?g.easing(b):g.easing,duration:L.isFunction(g.duration)?g.duration(b):g.duration,callback:g.callback}}function E(g,b,m){var M=T[g];return M&&(L.isFunction(M)&&(M=M(b)),M=L.deepMix({},S.DEFAULT_ANIMATE_CFG,M),m)?M[m]:M}S.getDefaultAnimateCfg=E;function p(g,b,m){var M=L.get(g.get("origin"),"data",I.FIELD_ORIGIN),P=b.animation,k=C(b,M);if(P){var N=O.getAnimation(P);N&&N(g,k,m)}else g.animate(m.toAttrs,k)}S.doAnimate=p;function w(g,b,m,M,P){if(_[m]){var k=_[m](M),N=O.getAnimation(L.get(k,"animation",""));if(N){var V=y.__assign(y.__assign(y.__assign({},S.DEFAULT_ANIMATE_CFG.appear),k),b);g.stopAnimate(),N(g,V,{coordinate:M,minYPoint:P,toAttrs:null})}}}S.doGroupAppearAnimate=w},29515:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(60517),L=y.__importDefault(d(90494)),I=function(O){y.__extends(T,O);function T(_){var C=O.call(this)||this;C.destroyed=!1;var E=_.visible,p=E===void 0?!0:E;return C.visible=p,C}return T.prototype.show=function(){var _=this.visible;_||this.changeVisible(!0)},T.prototype.hide=function(){var _=this.visible;_&&this.changeVisible(!1)},T.prototype.destroy=function(){this.off(),this.destroyed=!0},T.prototype.changeVisible=function(_){this.visible!==_&&(this.visible=_)},T}(L.default);S.default=I},17916:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Controller=void 0;var y=d(49242),L=function(){function I(O){this.visible=!0,this.components=[],this.view=O}return I.prototype.clear=function(){y.each(this.components,function(O){O.component.destroy()}),this.components=[]},I.prototype.destroy=function(){this.clear()},I.prototype.getComponents=function(){return this.components},I.prototype.changeVisible=function(O){this.visible!==O&&(this.components.forEach(function(T){O?T.component.show():T.component.hide()}),this.visible=O)},I}();S.Controller=L},45687:function(gt,S,d){"use strict";var y;y={value:!0};var L=d(60517),I=d(17916),O=250,T=function(w,g){var b=g.x-w.x,m=g.y-w.y;return Math.abs(b)>Math.abs(m)?b>0?"right":"left":m>0?"down":"up"},_=function(w,g){var b=Math.abs(g.x-w.x),m=Math.abs(g.y-w.y);return Math.sqrt(b*b+m*m)},C=function(w,g){var b=(w.x+g.x)/2,m=(w.y+g.y)/2;return{x:b,y:m}},E=function(w,g){if(!!w){for(var b=[],m=w.length,M=0;M<m;M++){var P=w[M],k=P.clientX,N=P.clientY,V=g.getPointByClient(k,N);b.push(V)}return b}},p=function(w){L.__extends(g,w);function g(b){var m=w.call(this,b)||this;return m.processEvent={},m.touchStart=function(M){var P=E(M.originalEvent.touches,m.canvas);!P||(M.points=P,m.reset(),m.startTime=Date.now(),m.startPoints=P,P.length>1?(m.startDistance=_(P[0],P[1]),m.center=C(P[0],P[1])):m.pressTimeout=setTimeout(function(){var k="press";M.direction="none",m.emitStart(k,M),m.emitEvent(k,M),m.eventType=k},O))},m.touchMove=function(M){var P=E(M.originalEvent.touches,m.canvas);if(!!P){m.clearPressTimeout(),M.points=P;var k=m.startPoints;if(!!k)if(P.length>1){var N=m.startDistance,V=_(P[0],P[1]);M.zoom=V/N,M.center=m.center,m.emitStart("pinch",M),m.emitEvent("pinch",M)}else{var $=P[0].x-k[0].x,Z=P[0].y-k[0].y,J=m.direction||T(k[0],P[0]);m.direction=J;var lt=m.getEventType(P);M.direction=J,M.deltaX=$,M.deltaY=Z,m.emitStart(lt,M),m.emitEvent(lt,M);var rt=m.lastMoveTime,bt=Date.now();bt-rt>0&&(m.prevMoveTime=rt,m.prevMovePoints=m.lastMovePoints,m.lastMoveTime=bt,m.lastMovePoints=P)}}},m.touchEnd=function(M){m.emitEnd(M);var P=m.lastMoveTime,k=Date.now();if(k-P<100){var N=m.prevMoveTime||m.startTime,V=P-N;if(V>0){var $=m.prevMovePoints||m.startPoints,Z=m.lastMovePoints,J=_($[0],Z[0])/V;J>.3&&(M.velocity=J,M.direction=T($[0],Z[0]),m.emitEvent("swipe",M))}}m.reset();var lt=M.touches;lt&&lt.length>0&&m.touchStart(M)},m.canvas=b.getCanvas(),m.delegateEvent(),m.processEvent={},m}return Object.defineProperty(g.prototype,"name",{get:function(){return"gesture"},enumerable:!1,configurable:!0}),g.prototype.init=function(){},g.prototype.render=function(){},g.prototype.layout=function(){},g.prototype.update=function(){},g.prototype.destroy=function(){this.reset(),this.offEvent(),this.processEvent=null},g.prototype.delegateEvent=function(){this.canvas.on("touchstart",this.touchStart),this.canvas.on("touchmove",this.touchMove),this.canvas.on("touchend",this.touchEnd)},g.prototype.offEvent=function(){this.canvas.off("touchstart",this.touchStart),this.canvas.off("touchmove",this.touchMove),this.canvas.off("touchend",this.touchEnd)},g.prototype.emitEvent=function(b,m){var M=this.view;M.emit(b,m)},g.prototype.emitStart=function(b,m){this.isProcess(b)||(this.enable(b),this.emitEvent(b+"start",m))},g.prototype.emitEnd=function(b){var m=this,M=this.processEvent;Object.keys(M).forEach(function(P){m.emitEvent(P+"end",b),delete M[P]})},g.prototype.enable=function(b){this.processEvent[b]=!0},g.prototype.isProcess=function(b){return this.processEvent[b]},g.prototype.reset=function(){this.clearPressTimeout(),this.startTime=0,this.startPoints=null,this.startDistance=0,this.direction=null,this.eventType=null,this.prevMoveTime=0,this.prevMovePoints=null,this.lastMoveTime=0,this.lastMovePoints=null},g.prototype.clearPressTimeout=function(){this.pressTimeout&&(clearTimeout(this.pressTimeout),this.pressTimeout=0)},g.prototype.getEventType=function(b){var m=this,M=m.eventType,P=m.view,k=m.startTime,N=m.startPoints;if(M)return M;var V,$=P.getEvents().pan;if(!$||!$.length)V="press";else{var Z=Date.now();Z-k>O&&_(N[0],b[0])<10?V="press":V="pan"}return this.eventType=V,V},g}(I.Controller);S.Z=p},64815:function(gt,S,d){"use strict";var y;y={value:!0};var L=d(60517),I=d(49242),O=d(57029),T=d(22514),_=d(42770),C=d(99677),E=d(17916);function p(g){for(var b=[],m=function(P){var k=g[P],N=I.find(b,function(V){return V.color===k.color&&V.name===k.name&&V.value===k.value&&V.title===k.title});N||b.push(k)},M=0;M<g.length;M++)m(M);return b}var w=function(g){L.__extends(b,g);function b(){var m=g!==null&&g.apply(this,arguments)||this;return m.isLocked=!1,m}return Object.defineProperty(b.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),b.prototype.init=function(){},b.prototype.isVisible=function(){var m=this.view.getOptions().tooltip;return m!==!1},b.prototype.render=function(){},b.prototype.showTooltip=function(m){if(this.point=m,!!this.isVisible()){var M=this.view,P=this.getTooltipItems(m);if(!P.length){this.hideTooltip();return}var k=this.getTitle(P),N={x:P[0].x,y:P[0].y};M.emit("tooltip:show",L.__assign({items:P,title:k},m));var V=this.getTooltipCfg(),$=V.follow,Z=V.showMarkers,J=V.showCrosshairs,lt=V.showContent,rt=V.marker,bt=this.items,Ot=this.title;if(!I.isEqual(Ot,k)||!I.isEqual(bt,P)?(M.emit("tooltip:change",L.__assign({items:P,title:k},m)),lt&&(this.tooltip||this.renderTooltip(),this.tooltip.update(I.mix({},V,{items:P,title:k},$?m:{})),this.tooltip.show()),Z&&this.renderTooltipMarkers(P,rt)):(this.tooltip&&$&&(this.tooltip.update(m),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()),this.items=P,this.title=k,J){var Bt=I.get(V,["crosshairs","follow"],!1);this.renderCrosshairs(Bt?m:N,V)}}},b.prototype.hideTooltip=function(){var m=this.getTooltipCfg().follow;if(!m){this.point=null;return}var M=this.tooltipMarkersGroup;M&&M.hide();var P=this.xCrosshair,k=this.yCrosshair;P&&P.hide(),k&&k.hide();var N=this.tooltip;N&&N.hide(),this.view.emit("tooltip:hide",{}),this.point=null},b.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},b.prototype.unlockTooltip=function(){this.isLocked=!1;var m=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(m.capture)},b.prototype.isTooltipLocked=function(){return this.isLocked},b.prototype.clear=function(){var m=this,M=m.tooltip,P=m.xCrosshair,k=m.yCrosshair,N=m.tooltipMarkersGroup;M&&(M.hide(),M.clear()),P&&P.clear(),k&&k.clear(),N&&N.clear()},b.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},b.prototype.changeVisible=function(m){if(this.visible!==m){var M=this,P=M.tooltip,k=M.tooltipMarkersGroup,N=M.xCrosshair,V=M.yCrosshair;m?(P&&P.show(),k&&k.show(),N&&N.show(),V&&V.show()):(P&&P.hide(),k&&k.hide(),N&&N.hide(),V&&V.hide()),this.visible=m}},b.prototype.getTooltipItems=function(m){var M=this.findItemsFromView(this.view,m);if(M.length){M=I.flatten(M);for(var P=0,k=M;P<k.length;P++)for(var N=k[P],V=0,$=N;V<$.length;V++){var Z=$[V],J=Z.mappingData,lt=J.x,rt=J.y;Z.x=I.isArray(lt)?lt[lt.length-1]:lt,Z.y=I.isArray(rt)?rt[rt.length-1]:rt}var bt=this.getTooltipCfg().shared;if(bt===!1&&M.length>1){for(var Ot=M[0],Bt=Math.abs(m.y-Ot[0].y),Et=0,Dt=M;Et<Dt.length;Et++){var It=Dt[Et],_t=Math.abs(m.y-It[0].y);_t<=Bt&&(Ot=It,Bt=_t)}M=[Ot]}return p(I.flatten(M))}return[]},b.prototype.layout=function(){},b.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var m=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:m.get("width"),y:m.get("height")}})}},b.prototype.getTooltipCfg=function(){var m=this.view,M=m.getOptions().tooltip,P=m.getTheme(),k=I.get(P,["components","tooltip"],{}),N=I.isUndefined(I.get(M,"enterable"))?k.enterable:I.get(M,"enterable");return I.deepMix({},k,M,{capture:!!(N||this.isLocked)})},b.prototype.getTitle=function(m){var M=m[0].title||m[0].name;return this.title=M,M},b.prototype.renderTooltip=function(){var m=this.view.getCanvas(),M={start:{x:0,y:0},end:{x:m.get("width"),y:m.get("height")}},P=this.getTooltipCfg(),k=new O.HtmlTooltip(L.__assign(L.__assign({parent:m.get("el").parentNode,region:M},P),{visible:!1,crosshairs:null}));k.init(),this.tooltip=k},b.prototype.renderTooltipMarkers=function(m,M){for(var P=this.getTooltipMarkersGroup(),k=0,N=m;k<N.length;k++){var V=N[k],$=V.x,Z=V.y,J=L.__assign(L.__assign({fill:V.color,symbol:"circle",shadowColor:V.color},M),{x:$,y:Z});P.addShape("marker",{attrs:J})}},b.prototype.renderCrosshairs=function(m,M){var P=I.get(M,["crosshairs","type"],"x");P==="x"?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(m,M)):P==="y"?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(m,M)):P==="xy"&&(this.renderXCrosshairs(m,M),this.renderYCrosshairs(m,M))},b.prototype.renderXCrosshairs=function(m,M){var P=this.getViewWithGeometry(this.view).getCoordinate();if(!!T.isPointInCoordinate(P,m)){var k,N;if(P.isRect)P.isTransposed?(k={x:P.start.x,y:m.y},N={x:P.end.x,y:m.y}):(k={x:m.x,y:P.end.y},N={x:m.x,y:P.start.y});else{var V=T.getAngleByPoint(P,m),$=P.getCenter(),Z=P.getRadius();N=_.polarToCartesian($.x,$.y,Z,V),k=$}var J=I.deepMix({start:k,end:N,container:this.getTooltipCrosshairsGroup()},I.get(M,"crosshairs",{}),this.getCrosshairsText("x",m,M));delete J.type;var lt=this.xCrosshair;lt?lt.update(J):(lt=new O.Crosshair.Line(J),lt.init()),lt.render(),lt.show(),this.xCrosshair=lt}},b.prototype.renderYCrosshairs=function(m,M){var P=this.getViewWithGeometry(this.view).getCoordinate();if(!!T.isPointInCoordinate(P,m)){var k,N;if(P.isRect){var V=void 0,$=void 0;P.isTransposed?(V={x:m.x,y:P.end.y},$={x:m.x,y:P.start.y}):(V={x:P.start.x,y:m.y},$={x:P.end.x,y:m.y}),k={start:V,end:$},N="Line"}else k={center:P.getCenter(),radius:T.getDistanceToCenter(P,m),startAngle:P.startAngle,endAngle:P.endAngle},N="Circle";k=I.deepMix({container:this.getTooltipCrosshairsGroup()},k,I.get(M,"crosshairs",{}),this.getCrosshairsText("y",m,M)),delete k.type;var Z=this.yCrosshair;Z?P.isRect&&Z.get("type")==="circle"||!P.isRect&&Z.get("type")==="line"?(Z=new O.Crosshair[N](k),Z.init()):Z.update(k):(Z=new O.Crosshair[N](k),Z.init()),Z.render(),Z.show(),this.yCrosshair=Z}},b.prototype.getCrosshairsText=function(m,M,P){var k=I.get(P,["crosshairs","text"]),N=I.get(P,["crosshairs","follow"]),V=this.items;if(k){var $=this.getViewWithGeometry(this.view),Z=V[0],J=$.getXScale(),lt=$.getYScales()[0],rt=void 0,bt=void 0;if(N){var Ot=this.view.getCoordinate().invert(M);rt=J.invert(Ot.x),bt=lt.invert(Ot.y)}else rt=Z.data[J.field],bt=Z.data[lt.field];var Bt=m==="x"?rt:bt;return I.isFunction(k)?k=k(m,Bt,V,M):k.content=Bt,{text:k}}},b.prototype.getGuideGroup=function(){if(!this.guideGroup){var m=this.view.foregroundGroup;this.guideGroup=m.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},b.prototype.getTooltipMarkersGroup=function(){var m=this.tooltipMarkersGroup;return m&&!m.destroyed?(m.clear(),m.show()):(m=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"}),m.toFront(),this.tooltipMarkersGroup=m),m},b.prototype.getTooltipCrosshairsGroup=function(){var m=this.tooltipCrosshairsGroup;return m||(m=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1}),m.toBack(),this.tooltipCrosshairsGroup=m),m},b.prototype.getTooltipItemsByHitShape=function(m,M,P){var k=[],N=m.container,V=N.getShape(M.x,M.y);if(V&&V.get("visible")&&V.get("origin")){var $=V.get("origin").mappingData,Z=C.getTooltipItems($,m,P);Z.length&&k.push(Z)}return k},b.prototype.getTooltipItemsByFindData=function(m,M,P){var k=[],N=m.dataArray;m.sort(N);for(var V=0,$=N;V<$.length;V++){var Z=$[V],J=C.findDataByPoint(M,Z,m);if(J){var lt=m.getElementId(J),rt=m.elementsMap[lt];if(m.type==="heatmap"||rt.visible){var bt=C.getTooltipItems(J,m,P);bt.length&&k.push(bt)}}}return k},b.prototype.findItemsFromView=function(m,M){if(m.getOptions().tooltip===!1)return[];for(var P=[],k=m.geometries,N=this.getTooltipCfg(),V=N.shared,$=N.title,Z=0,J=k;Z<J.length;Z++){var lt=J[Z];if(lt.visible&&lt.tooltipOption!==!1){var rt=lt.type,bt=void 0;["point","edge","polygon"].includes(rt)?bt=this.getTooltipItemsByHitShape(lt,M,$):["area","line","path","heatmap"].includes(rt)?bt=this.getTooltipItemsByFindData(lt,M,$):V!==!1?bt=this.getTooltipItemsByFindData(lt,M,$):bt=this.getTooltipItemsByHitShape(lt,M,$),bt.length&&P.push(bt)}}for(var Ot=0,Bt=m.views;Ot<Bt.length;Ot++){var Et=Bt[Ot];P=P.concat(this.findItemsFromView(Et,M))}return P},b.prototype.getViewWithGeometry=function(m){var M=this;return m.geometries.length?m:I.find(m.views,function(P){return M.getViewWithGeometry(P)})},b}(E.Controller);S.Z=w},29583:function(gt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.COMPONENT_MAX_VIEW_PERCENTAGE=S.MIN_CHART_HEIGHT=S.MIN_CHART_WIDTH=S.FIELD_ORIGIN=S.GROUP_ATTRS=S.ELEMENT_STATE=S.PLOT_EVENTS=S.VIEW_LIFE_CIRCLE=S.GROUP_Z_INDEX=S.COMPONENT_TYPE=S.DIRECTION=S.LAYER=void 0;var d;(function(_){_.FORE="fore",_.MID="mid",_.BG="bg"})(d=S.LAYER||(S.LAYER={}));var y;(function(_){_.TOP="top",_.TOP_LEFT="top-left",_.TOP_RIGHT="top-right",_.RIGHT="right",_.RIGHT_TOP="right-top",_.RIGHT_BOTTOM="right-bottom",_.LEFT="left",_.LEFT_TOP="left-top",_.LEFT_BOTTOM="left-bottom",_.BOTTOM="bottom",_.BOTTOM_LEFT="bottom-left",_.BOTTOM_RIGHT="bottom-right",_.RADIUS="radius",_.CIRCLE="circle",_.NONE="none"})(y=S.DIRECTION||(S.DIRECTION={}));var L;(function(_){_.AXIS="axis",_.GRID="grid",_.LEGEND="legend",_.TOOLTIP="tooltip",_.ANNOTATION="annotation",_.OTHER="other"})(L=S.COMPONENT_TYPE||(S.COMPONENT_TYPE={})),S.GROUP_Z_INDEX={FORE:3,MID:2,BG:1};var I;(function(_){_.BEFORE_RENDER="beforerender",_.AFTER_RENDER="afterrender",_.BEFORE_PAINT="beforepaint",_.AFTER_PAINT="afterpaint",_.BEFORE_CHANGE_DATA="beforechangedata",_.AFTER_CHANGE_DATA="afterchangedata",_.BEFORE_CLEAR="beforeclear",_.AFTER_CLEAR="afterclear",_.BEFORE_DESTROY="beforedestroy"})(I=S.VIEW_LIFE_CIRCLE||(S.VIEW_LIFE_CIRCLE={}));var O;(function(_){_.MOUSE_ENTER="plot:mouseenter",_.MOUSE_DOWN="plot:mousedown",_.MOUSE_MOVE="plot:mousemove",_.MOUSE_UP="plot:mouseup",_.MOUSE_LEAVE="plot:mouseleave",_.TOUCH_START="plot:touchstart",_.TOUCH_MOVE="plot:touchmove",_.TOUCH_END="plot:touchend",_.TOUCH_CANCEL="plot:touchcancel",_.CLICK="plot:click",_.DBLCLICK="plot:dblclick",_.CONTEXTMENU="plot:contextmenu",_.LEAVE="plot:leave",_.ENTER="plot:enter"})(O=S.PLOT_EVENTS||(S.PLOT_EVENTS={}));var T;(function(_){_.ACTIVE="active",_.INACTIVE="inactive",_.SELECTED="selected",_.DEFAULT="default"})(T=S.ELEMENT_STATE||(S.ELEMENT_STATE={})),S.GROUP_ATTRS=["color","shape","size"],S.FIELD_ORIGIN="_origin",S.MIN_CHART_WIDTH=1,S.MIN_CHART_HEIGHT=1,S.COMPONENT_MAX_VIEW_PERCENTAGE=.25},57029:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Slider=S.HtmlTooltip=S.ContinuousLegend=S.CategoryLegend=S.CircleGrid=S.LineGrid=S.CircleAxis=S.LineAxis=S.Annotation=S.Crosshair=S.Component=S.GroupComponent=S.HtmlComponent=void 0;var y=d(39014);Object.defineProperty(S,"Event",{enumerable:!0,get:function(){return y.Event}}),Object.defineProperty(S,"AbstractGroup",{enumerable:!0,get:function(){return y.AbstractGroup}}),Object.defineProperty(S,"AbstractShape",{enumerable:!0,get:function(){return y.AbstractShape}});var L=d(28014);Object.defineProperty(S,"registerAdjust",{enumerable:!0,get:function(){return L.registerAdjust}}),Object.defineProperty(S,"getAdjust",{enumerable:!0,get:function(){return L.getAdjust}}),Object.defineProperty(S,"Adjust",{enumerable:!0,get:function(){return L.Adjust}});var I=d(24796);Object.defineProperty(S,"getAttribute",{enumerable:!0,get:function(){return I.getAttribute}}),Object.defineProperty(S,"Attribute",{enumerable:!0,get:function(){return I.Attribute}});var O=d(21392);Object.defineProperty(S,"Color",{enumerable:!0,get:function(){return O.Color}});var T=d(50782);Object.defineProperty(S,"getCoordinate",{enumerable:!0,get:function(){return T.getCoordinate}}),Object.defineProperty(S,"registerCoordinate",{enumerable:!0,get:function(){return T.registerCoordinate}}),Object.defineProperty(S,"Coordinate",{enumerable:!0,get:function(){return T.Coordinate}});var _=d(2443);Object.defineProperty(S,"getScale",{enumerable:!0,get:function(){return _.getScale}}),Object.defineProperty(S,"registerScale",{enumerable:!0,get:function(){return _.registerScale}}),Object.defineProperty(S,"Scale",{enumerable:!0,get:function(){return _.Scale}});var C=d(51441);Object.defineProperty(S,"Annotation",{enumerable:!0,get:function(){return C.Annotation}}),Object.defineProperty(S,"Component",{enumerable:!0,get:function(){return C.Component}}),Object.defineProperty(S,"Crosshair",{enumerable:!0,get:function(){return C.Crosshair}}),Object.defineProperty(S,"GroupComponent",{enumerable:!0,get:function(){return C.GroupComponent}}),Object.defineProperty(S,"HtmlComponent",{enumerable:!0,get:function(){return C.HtmlComponent}}),Object.defineProperty(S,"Slider",{enumerable:!0,get:function(){return C.Slider}});var E=C.Axis.Line,p=C.Axis.Circle;S.LineAxis=E,S.CircleAxis=p;var w=C.Grid.Line,g=C.Grid.Circle;S.LineGrid=w,S.CircleGrid=g;var b=C.Legend.Category,m=C.Legend.Continuous;S.CategoryLegend=b,S.ContinuousLegend=m;var M=C.Tooltip.Html;S.HtmlTooltip=M},38700:function(gt,S,d){"use strict";var y;y={value:!0};var L=d(60517),I=d(49242),O=d(27978),T=L.__importDefault(d(29515)),_=d(42770),C=d(31207),E=function(p){L.__extends(w,p);function w(g){var b=p.call(this,g)||this;b.states=[];var m=g.shapeFactory,M=g.container,P=g.offscreenGroup,k=g.visible,N=k===void 0?!0:k;return b.shapeFactory=m,b.container=M,b.offscreenGroup=P,b.visible=N,b}return w.prototype.draw=function(g,b){b===void 0&&(b=!1),this.model=g,this.data=g.data,this.shapeType=this.getShapeType(g),this.drawShape(g,b),this.visible===!1&&this.changeVisible(!1)},w.prototype.update=function(g){var b=this,m=b.shapeFactory,M=b.shape;if(!!M){this.model=g,this.data=g.data,this.shapeType=this.getShapeType(g),this.setShapeInfo(M,g);var P=this.getOffscreenGroup(),k=m.drawShape(this.shapeType,g,P);k.cfg.data=this.data,k.cfg.origin=g,this.syncShapeStyle(M,k,"",this.getAnimateCfg("update"))}},w.prototype.destroy=function(){var g=this,b=g.shapeFactory,m=g.shape;if(m){var M=this.getAnimateCfg("leave");M?O.doAnimate(m,M,{coordinate:b.coordinate,toAttrs:L.__assign({},m.attr())}):m.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=void 0,this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,p.prototype.destroy.call(this)},w.prototype.changeVisible=function(g){p.prototype.changeVisible.call(this,g),g?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(b){b.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(b){b.hide()}))},w.prototype.setState=function(g,b){var m=this,M=this,P=M.states,k=M.shapeFactory,N=M.model,V=M.shape,$=M.shapeType,Z=P.indexOf(g);if(b){if(Z>-1)return;P.push(g),(g==="active"||g==="selected")&&V.toFront()}else{if(Z===-1)return;P.splice(Z,1),(g==="active"||g==="selected")&&V.toBack()}var J=k.drawShape($,N,this.getOffscreenGroup());P.length?P.forEach(function(rt){m.syncShapeStyle(V,J,rt,null)}):this.syncShapeStyle(V,J,"reset",null),J.remove(!0);var lt={state:g,stateStatus:b,element:this,target:this.container};this.container.emit("statechange",lt),C.propagationDelegate(this.shape,"statechange",lt)},w.prototype.clearStates=function(){var g=this,b=this.states;I.each(b,function(m){g.setState(m,!1)}),this.states=[]},w.prototype.hasState=function(g){return this.states.includes(g)},w.prototype.getStates=function(){return this.states},w.prototype.getData=function(){return this.data},w.prototype.getModel=function(){return this.model},w.prototype.getBBox=function(){var g=this,b=g.shape,m=g.labelShape,M={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return b&&(M=b.getCanvasBBox()),m&&m.forEach(function(P){var k=P.getCanvasBBox();M.x=Math.min(k.x,M.x),M.y=Math.min(k.y,M.y),M.minX=Math.min(k.minX,M.minX),M.minY=Math.min(k.minY,M.minY),M.maxX=Math.max(k.maxX,M.maxX),M.maxY=Math.max(k.maxY,M.maxY)}),M.width=M.maxX-M.minX,M.height=M.maxY-M.minY,M},w.prototype.getStatesStyle=function(){if(!this.statesStyle){var g=this,b=g.shapeType,m=g.geometry,M=g.shapeFactory,P=m.stateOption,k=M.defaultShapeType,N=M.theme[b]||M.theme[k];this.statesStyle=I.deepMix({},N,P)}return this.statesStyle},w.prototype.getStateStyle=function(g,b){var m=this.getStatesStyle(),M=I.get(m,[g,"style"],{}),P=M[b]||M;return I.isFunction(P)?P(this):P},w.prototype.getAnimateCfg=function(g){var b=this.animate;return b?b[g]:null},w.prototype.drawShape=function(g,b){b===void 0&&(b=!1);var m=this,M=m.shapeFactory,P=m.container,k=m.shapeType;if(this.shape=M.drawShape(k,g,P),this.shape){this.setShapeInfo(this.shape,g);var N=this.shape.cfg.name;N?I.isString(N)&&(this.shape.cfg.name=["element",N]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var V=b?"enter":"appear",$=this.getAnimateCfg(V);$&&O.doAnimate(this.shape,$,{coordinate:M.coordinate,toAttrs:L.__assign({},this.shape.attr())})}},w.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var g=this.container.getGroupBase();this.offscreenGroup=new g({})}return this.offscreenGroup},w.prototype.setShapeInfo=function(g,b){var m=this;if(g.cfg.origin=b,g.cfg.element=this,g.isGroup()){var M=g.get("children");M.forEach(function(P){m.setShapeInfo(P,b)})}},w.prototype.syncShapeStyle=function(g,b,m,M,P){if(m===void 0&&(m=""),P===void 0&&(P=0),g.isGroup())for(var k=g.get("children"),N=b.get("children"),V=0;V<k.length;V++)this.syncShapeStyle(k[V],N[V],m,M,P+V);else{if(m&&m!=="reset"){var $=g.get("name");I.isArray($)&&($=$[1]);var Z=this.getStateStyle(m,$||P);b.attr(Z)}var J=_.getReplaceAttrs(g,b);this.animate?M?O.doAnimate(g,M,{coordinate:this.shapeFactory.coordinate,toAttrs:J,shapeModel:this.model}):m?(g.stopAnimate(),g.animate(J,{duration:300})):g.attr(J):g.attr(J)}},w.prototype.getShapeType=function(g){var b=I.get(g,"shape");return I.isArray(b)?b[0]:b},w}(T.default);y=E},75564:function(gt,S,d){"use strict";var y;y={value:!0},S.iV=y=y=void 0;var L=d(60517),I=d(6750),O=d(26485);y=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],y=["cross","tick","plus","hyphen","line"];function T(_,C,E,p,w){var g=O.getStyle(C,w,!w,"r"),b=_.parsePoints(C.points),m=b[0];if(C.isStack)m=b[1];else if(b.length>1){for(var M=E.addGroup(),P=0,k=b;P<k.length;P++){var N=k[P];M.addShape({type:"marker",attrs:L.__assign(L.__assign(L.__assign({},g),{symbol:I.MarkerSymbols[p]||p}),N)})}return M}return E.addShape({type:"marker",attrs:L.__assign(L.__assign(L.__assign({},g),{symbol:I.MarkerSymbols[p]||p}),m)})}S.iV=T},26485:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getStyle=void 0;var y=d(60517),L=d(49242);function I(O,T,_,C){C===void 0&&(C="");var E=O.style,p=E===void 0?{}:E,w=O.defaultStyle,g=O.color,b=O.size,m=y.__assign(y.__assign({},w),p);return g&&(T&&(p.stroke||(m.stroke=g)),_&&(p.fill||(m.fill=g))),C&&L.isNil(p[C])&&!L.isNil(b)&&(m[C]=b),m}S.getStyle=I},36758:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.convertPolarPath=S.convertNormalPath=S.getSplinePath=S.getLinePath=S.catmullRom2bezier=S.smoothBezier=void 0;var y=d(43567),L=d(49242),I=d(22514);function O(m,M){var P=[];if(m.length){P.push(["M",m[0].x,m[0].y]);for(var k=1,N=m.length;k<N;k+=1){var V=m[k];P.push(["L",V.x,V.y])}M&&P.push(["Z"])}return P}function T(m,M){for(var P=[m[0]],k=1,N=m.length;k<N;k=k+2){var V=M.convert({x:m[k],y:m[k+1]});P.push(V.x,V.y)}return P}function _(m,M,P){var k=P.isTransposed,N=P.startAngle,V=P.endAngle,$={x:m[1],y:m[2]},Z={x:M[1],y:M[2]},J=[],lt=k?"y":"x",rt=Math.abs(Z[lt]-$[lt])*(V-N),bt=Z[lt]>=$[lt]?1:0,Ot=rt>Math.PI?1:0,Bt=P.convert(Z),Et=I.getDistanceToCenter(P,Bt);if(Et>=.5)if(rt===Math.PI*2){var Dt={x:(Z.x+$.x)/2,y:(Z.y+$.y)/2},It=P.convert(Dt);J.push(["A",Et,Et,0,Ot,bt,It.x,It.y]),J.push(["A",Et,Et,0,Ot,bt,Bt.x,Bt.y])}else J.push(["A",Et,Et,0,Ot,bt,Bt.x,Bt.y]);return J}function C(m){L.each(m,function(M,P){var k=M;if(k[0].toLowerCase()==="a"){var N=m[P-1],V=m[P+1];V&&V[0].toLowerCase()==="a"?N&&N[0].toLowerCase()==="l"&&(N[0]="M"):N&&N[0].toLowerCase()==="a"&&V&&V[0].toLowerCase()==="l"&&(V[0]="M")}})}S.smoothBezier=function(m,M,P,k){var N=[],V,$,Z=!!k,J,lt;if(Z){J=[Infinity,Infinity],lt=[-Infinity,-Infinity];for(var rt=0,bt=m.length;rt<bt;rt++){var Ot=m[rt];J=y.vec2.min([0,0],J,Ot),lt=y.vec2.max([0,0],lt,Ot)}J=y.vec2.min([0,0],J,k[0]),lt=y.vec2.max([0,0],lt,k[1])}for(var rt=0,Bt=m.length;rt<Bt;rt++){var Ot=m[rt];if(P)V=m[rt?rt-1:Bt-1],$=m[(rt+1)%Bt];else if(rt===0||rt===Bt-1){N.push(Ot);continue}else V=m[rt-1],$=m[rt+1];var Et=[0,0];Et=y.vec2.sub(Et,$,V),Et=y.vec2.scale(Et,Et,M);var Dt=y.vec2.distance(Ot,V),It=y.vec2.distance(Ot,$),_t=Dt+It;_t!==0&&(Dt/=_t,It/=_t);var Xt=y.vec2.scale([0,0],Et,-Dt),z=y.vec2.scale([0,0],Et,It),R=y.vec2.add([0,0],Ot,Xt),F=y.vec2.add([0,0],Ot,z);Z&&(R=y.vec2.max([0,0],R,J),R=y.vec2.min([0,0],R,lt),F=y.vec2.max([0,0],F,J),F=y.vec2.min([0,0],F,lt)),N.push(R),N.push(F)}return P&&N.push(N.shift()),N};function E(m,M,P){for(var k=!!M,N=[],V=0,$=m.length;V<$;V+=2)N.push([m[V],m[V+1]]);for(var Z=S.smoothBezier(N,.4,k,P),J=N.length,lt=[],rt,bt,Ot,V=0;V<J-1;V++)rt=Z[V*2],bt=Z[V*2+1],Ot=N[V+1],lt.push(["C",rt[0],rt[1],bt[0],bt[1],Ot[0],Ot[1]]);return k&&(rt=Z[J],bt=Z[J+1],Ot=N[0],lt.push(["C",rt[0],rt[1],bt[0],bt[1],Ot[0],Ot[1]])),lt}S.catmullRom2bezier=E;function p(m,M){return O(m,M)}S.getLinePath=p;function w(m,M,P){var k=[],N=m[0],V=null;if(m.length<=2)return p(m,M);for(var $=0,Z=m.length;$<Z;$++){var J=m[$];(!V||!(V.x===J.x&&V.y===J.y))&&(k.push(J.x),k.push(J.y),V=J)}var lt=P||[[0,0],[1,1]],rt=E(k,M,lt);return rt.unshift(["M",N.x,N.y]),rt}S.getSplinePath=w;function g(m,M){var P=[];return L.each(M,function(k){var N=k[0];switch(N.toLowerCase()){case"m":case"l":case"c":P.push(T(k,m));break;case"z":default:P.push(k);break}}),P}S.convertNormalPath=g;function b(m,M){var P=[],k,N,V,$;return L.each(M,function(Z,J){var lt=Z[0];switch(lt.toLowerCase()){case"m":case"c":case"q":P.push(T(Z,m));break;case"l":k=M[J-1],N=Z,V=m.isTransposed,$=V?k[k.length-2]===N[1]:k[k.length-1]===N[2],$?P=P.concat(_(k,N,m)):P.push(T(Z,m));break;case"z":default:P.push(Z);break}}),C(P),P}S.convertPolarPath=b},33242:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(49242),L=function(){function I(O,T){this.context=O,this.cfg=T,O.addAction(this)}return I.prototype.applyCfg=function(O){y.assign(this,O)},I.prototype.init=function(){this.applyCfg(this.cfg)},I.prototype.destroy=function(){this.context.removeAction(this),this.context=null},I}();S.default=L},68842:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(60517),L=y.__importDefault(d(33242)),I=function(O){y.__extends(T,O);function T(){return O!==null&&O.apply(this,arguments)||this}return T.prototype.execute=function(){this.callback&&this.callback(this.context)},T.prototype.destroy=function(){O.prototype.destroy.call(this),this.callback=null},T}(L.default);S.default=I},93359:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.createCallbackAction=S.unregisterAction=S.registerAction=S.getActionClass=S.createAction=void 0;var y=d(60517),L=y.__importDefault(d(68842)),I=d(49242),O={};function T(w,g){var b=O[w],m=null;if(b){var M=b.ActionClass,P=b.cfg;m=new M(g,P),m.name=w,m.init()}return m}S.createAction=T;function _(w){var g=O[w];return I.get(g,"ActionClass")}S.getActionClass=_;function C(w,g,b){O[w]={ActionClass:g,cfg:b}}S.registerAction=C;function E(w){delete O[w]}S.unregisterAction=E;function p(w,g){var b=new L.default(g);return b.callback=w,b.name="callback",b}S.createCallbackAction=p},31882:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getScaleByField=S.isInRecords=S.getSiblingPoint=S.getSilbings=S.isInBox=S.getSpline=S.distance=S.getComponents=S.getElementsByPath=S.getIntersectElements=S.intersectRect=S.getElementValue=S.getElementsByState=S.getElementsByField=S.getElements=S.getSiblingMaskElements=S.getMaskedElements=S.isMask=S.isSlider=S.isList=S.isElementChange=S.getDelegationObject=S.getCurrentElement=void 0;var y=d(60517),L=d(49242),I=d(36758),O=d(85800),T=y.__importDefault(d(70146));function _(R,F){var D=R.event,u=D.target,W=u.getCanvasBBox();return W.width>=F||W.height>=F?W:null}function C(R,F){var D=R.event,u=D.target,W=u.getCanvasBBox();return W.width>=F||W.height>=F?u.attr("path"):null}function E(R){var F=R.event,D,u=F.target;return u&&(D=u.get("element")),D}S.getCurrentElement=E;function p(R){var F=R.event,D=F.target,u;return D&&(u=D.get("delegateObject")),u}S.getDelegationObject=p;function w(R){var F=R.event.gEvent;return!(F&&F.fromShape&&F.toShape&&F.fromShape.get("element")===F.toShape.get("element"))}S.isElementChange=w;function g(R){return R&&R.component&&R.component.isList()}S.isList=g;function b(R){return R&&R.component&&R.component.isSlider()}S.isSlider=b;function m(R){var F=R.event,D=F.target;return D&&D.get("name")==="mask"}S.isMask=m;function M(R,F){var D=R.event.target;if(D.get("type")==="path"){var u=C(R,F);return u?rt(R.view,u):void 0}var W=_(R,F);return W?J(R.view,W):null}S.getMaskedElements=M;function P(R,F,D){var u=_(R,D);if(!u)return null;var W=R.view,it=_t(W,F,{x:u.x,y:u.y}),nt=_t(W,F,{x:u.maxX,y:u.maxY}),mt={minX:it.x,minY:it.y,maxX:nt.x,maxY:nt.y};return J(F,mt)}S.getSiblingMaskElements=P;function k(R){var F=R.geometries,D=[];return L.each(F,function(u){var W=u.elements;D=D.concat(W)}),R.views&&R.views.length&&L.each(R.views,function(u){D=D.concat(k(u))}),D}S.getElements=k;function N(R,F,D){var u=k(R);return u.filter(function(W){return $(W,F)===D})}S.getElementsByField=N;function V(R,F){var D=R.geometries,u=[];return L.each(D,function(W){var it=W.getElementsBy(function(nt){return nt.hasState(F)});u=u.concat(it)}),u}S.getElementsByState=V;function $(R,F){var D=R.getModel(),u=D.data,W;return L.isArray(u)?W=u[0][F]:W=u[F],W}S.getElementValue=$;function Z(R,F){return!(F.minX>R.maxX||F.maxX<R.minX||F.minY>R.maxY||F.maxY<R.minY)}S.intersectRect=Z;function J(R,F){var D=k(R),u=[];return L.each(D,function(W){var it=W.shape,nt=it.getCanvasBBox();Z(F,nt)&&u.push(W)}),u}S.getIntersectElements=J;function lt(R){var F=[];return L.each(R,function(D){var u=D[0];if(u!=="A")for(var W=1;W<D.length;W=W+2)F.push([D[W],D[W+1]]);else{var it=D.length;F.push([D[it-2],D[it-1]])}}),F}function rt(R,F){var D=k(R),u=lt(F),W=D.filter(function(it){var nt=it.shape,mt;if(nt.get("type")==="path")mt=lt(nt.attr("path"));else{var et=nt.getCanvasBBox();mt=O.toPoints(et)}return T.default(u,mt)});return W}S.getElementsByPath=rt;function bt(R){return R.getComponents().map(function(F){return F.component})}S.getComponents=bt;function Ot(R,F){var D=F.x-R.x,u=F.y-R.y;return Math.sqrt(D*D+u*u)}S.distance=Ot;function Bt(R,F){if(R.length<=2)return I.getLinePath(R,!1);var D=R[0],u=[];L.each(R,function(it){u.push(it.x),u.push(it.y)});var W=I.catmullRom2bezier(u,F,null);return W.unshift(["M",D.x,D.y]),W}S.getSpline=Bt;function Et(R,F){return R.x<=F.x&&R.maxX>=F.x&&R.y<=F.y&&R.maxY>F.y}S.isInBox=Et;function Dt(R){var F=R.parent,D=null;return F&&(D=F.views.filter(function(u){return u!==R})),D}S.getSilbings=Dt;function It(R,F){var D=R.getCoordinate();return D.invert(F)}function _t(R,F,D){var u=It(R,D);return F.getCoordinate().convert(u)}S.getSiblingPoint=_t;function Xt(R,F,D,u){var W=!1;return L.each(R,function(it){if(it[D]===F[D]&&it[u]===F[u])return W=!0,!1}),W}S.isInRecords=Xt;function z(R,F){var D=R.getScaleByField(F);return!D&&R.views&&L.each(R.views,function(u){if(D=z(u,F),D)return!1}),D}S.getScaleByField=z},43273:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(49242),L=d(31882),I=function(){function O(T){this.actions=[],this.event=null,this.cacheMap={},this.view=T}return O.prototype.cache=function(){for(var T=[],_=0;_<arguments.length;_++)T[_]=arguments[_];if(T.length===1)return this.cacheMap[T[0]];T.length===2&&(this.cacheMap[T[0]]=T[1])},O.prototype.getAction=function(T){return this.actions.find(function(_){return _.name===T})},O.prototype.addAction=function(T){this.actions.push(T)},O.prototype.removeAction=function(T){var _=this.actions,C=this.actions.indexOf(T);C>=0&&_.splice(C,1)},O.prototype.getCurrentPoint=function(){var T=this.event;if(T)if(T.target instanceof HTMLElement){var _=this.view.getCanvas(),C=_.getPointByClient(T.clientX,T.clientY);return C}else return{x:T.x,y:T.y};return null},O.prototype.getCurrentShape=function(){return y.get(this.event,["gEvent","shape"])},O.prototype.isInPlot=function(){var T=this.getCurrentPoint();return T?this.view.isPointInPlot(T):!1},O.prototype.isInShape=function(T){var _=this.getCurrentShape();return _?_.get("name")===T:!1},O.prototype.isInComponent=function(T){var _=L.getComponents(this.view),C=this.getCurrentPoint();return C?!!_.find(function(E){var p=E.getBBox();return T?E.get("name")===T&&L.isInBox(p,C):L.isInBox(p,C)}):!1},O.prototype.destroy=function(){this.view=null,this.event=null,y.each(this.actions.slice(),function(T){T.destroy()}),this.actions=null,this.cacheMap=null},O}();S.default=I},61058:function(gt,S,d){"use strict";var y;y={value:!0};var L=d(60517),I=d(49242),O=d(93359),T=L.__importDefault(d(43273)),_=L.__importDefault(d(91513));function C(g,b){var m=g.split(":"),M=m[0],P=b.getAction(M)||O.createAction(M,b);if(!P)throw new Error("There is no action named "+M);var k=m[1];return{action:P,methodName:k}}function E(g){var b=g.action,m=g.methodName;if(b[m])b[m]();else throw new Error("Action("+b.name+") doesn't have a method called "+m)}var p={START:"start",SHOW_ENABLE:"showEnable",END:"end",ROLLBACK:"rollback",PROCESSING:"processing"},w=function(g){L.__extends(b,g);function b(m,M){var P=g.call(this,m,M)||this;return P.callbackCaches={},P.emitCaches={},P.steps=M,P}return b.prototype.init=function(){this.initContext(),g.prototype.init.call(this)},b.prototype.destroy=function(){g.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},b.prototype.initEvents=function(){var m=this;I.each(this.steps,function(M,P){I.each(M,function(k){var N=m.getActionCallback(P,k);N&&m.bindEvent(k.trigger,N)})})},b.prototype.clearEvents=function(){var m=this;I.each(this.steps,function(M,P){I.each(M,function(k){var N=m.getActionCallback(P,k);N&&m.offEvent(k.trigger,N)})})},b.prototype.initContext=function(){var m=this.view,M=new T.default(m);this.context=M;var P=this.steps;I.each(P,function(k){I.each(k,function(N){if(I.isFunction(N.action))N.actionObject={action:O.createCallbackAction(N.action,M),methodName:"execute"};else if(I.isString(N.action))N.actionObject=C(N.action,M);else if(I.isArray(N.action)){var V=N.action;N.actionObject=[],I.each(V,function($){N.actionObject.push(C($,M))})}})})},b.prototype.isAllowStep=function(m){var M=this.currentStepName,P=this.steps;if(M===m||m===p.SHOW_ENABLE)return!0;if(m===p.PROCESSING)return M===p.START;if(m===p.START)return M!==p.PROCESSING;if(m===p.END)return M===p.PROCESSING||M===p.START;if(m===p.ROLLBACK){if(P[p.END])return M===p.END;if(M===p.START)return!0}return!1},b.prototype.isAllowExcute=function(m,M){if(this.isAllowStep(m)){var P=this.getKey(m,M);return M.once&&this.emitCaches[P]?!1:M.isEnable?M.isEnable(this.context):!0}return!1},b.prototype.enterStep=function(m){this.currentStepName=m,this.emitCaches={}},b.prototype.afterExecute=function(m,M){m!==p.SHOW_ENABLE&&this.currentStepName!==m&&this.enterStep(m);var P=this.getKey(m,M);this.emitCaches[P]=!0},b.prototype.getKey=function(m,M){return m+M.trigger+M.action},b.prototype.getActionCallback=function(m,M){var P=this,k=this.context,N=this.callbackCaches,V=M.actionObject;if(M.action&&V){var $=this.getKey(m,M);if(!N[$]){var Z=function(J){k.event=J,P.isAllowExcute(m,M)?(I.isArray(V)?I.each(V,function(lt){k.event=J,E(lt)}):(k.event=J,E(V)),P.afterExecute(m,M),M.callback&&(k.event=J,M.callback(k))):k.event=null};M.debounce?N[$]=I.debounce(Z,M.debounce.wait,M.debounce.immediate):M.throttle?N[$]=I.throttle(Z,M.throttle.wait,{leading:M.throttle.leading,trailing:M.throttle.trailing}):N[$]=Z}return N[$]}return null},b.prototype.bindEvent=function(m,M){var P=m.split(":");P[0]==="window"?window.addEventListener(P[1],M):P[0]==="document"?document.addEventListener(P[1],M):this.view.on(m,M)},b.prototype.offEvent=function(m,M){var P=m.split(":");P[0]==="window"?window.removeEventListener(P[1],M):P[0]==="document"?document.removeEventListener(P[1],M):this.view.off(m,M)},b}(_.default);y=w},91513:function(gt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(){function y(L,I){this.view=L,this.cfg=I}return y.prototype.init=function(){this.initEvents()},y.prototype.initEvents=function(){},y.prototype.clearEvents=function(){},y.prototype.destroy=function(){this.clearEvents()},y}();S.default=d},85800:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.toPoints=S.getRegionBBox=S.BBox=void 0;var y=d(49242),L=d(29583),I=function(){function T(_,C,E,p){_===void 0&&(_=0),C===void 0&&(C=0),E===void 0&&(E=0),p===void 0&&(p=0),this.x=_,this.y=C,this.height=p,this.width=E}return T.fromRange=function(_,C,E,p){return new T(_,C,E-_,p-C)},Object.defineProperty(T.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),T.prototype.isEqual=function(_){return this.x===_.x&&this.y===_.y&&this.width===_.width&&this.height===_.height},T.prototype.clone=function(){return new T(this.x,this.y,this.width,this.height)},T.prototype.add=function(){for(var _=[],C=0;C<arguments.length;C++)_[C]=arguments[C];var E=this.clone();return y.each(_,function(p){E.x=Math.min(p.x,E.x),E.y=Math.min(p.y,E.y),E.width=Math.max(p.maxX,E.maxX)-E.x,E.height=Math.max(p.maxY,E.maxY)-E.y}),E},T.prototype.merge=function(){for(var _=[],C=0;C<arguments.length;C++)_[C]=arguments[C];var E=this.clone();return y.each(_,function(p){E.x=Math.max(p.x,E.x),E.y=Math.max(p.y,E.y),E.width=Math.min(p.maxX,E.maxX)-E.x,E.height=Math.min(p.maxY,E.maxY)-E.y}),E},T.prototype.cut=function(_,C){var E=_.width,p=_.height;switch(C){case L.DIRECTION.TOP:case L.DIRECTION.TOP_LEFT:case L.DIRECTION.TOP_RIGHT:return T.fromRange(this.minX,this.minY+p,this.maxX,this.maxY);case L.DIRECTION.RIGHT:case L.DIRECTION.RIGHT_TOP:case L.DIRECTION.RIGHT_BOTTOM:return T.fromRange(this.minX,this.minY,this.maxX-E,this.maxY);case L.DIRECTION.BOTTOM:case L.DIRECTION.BOTTOM_LEFT:case L.DIRECTION.BOTTOM_RIGHT:return T.fromRange(this.minX,this.minY,this.maxX,this.maxY-p);case L.DIRECTION.LEFT:case L.DIRECTION.LEFT_TOP:case L.DIRECTION.LEFT_BOTTOM:return T.fromRange(this.minX+E,this.minY,this.maxX,this.maxY);default:return this}},T.prototype.shrink=function(_){var C=_[0],E=_[1],p=_[2],w=_[3];return new T(this.x+w,this.y+C,this.width-w-E,this.height-C-p)},T.prototype.exceed=function(_){return[Math.max(-this.minY+_.minY,0),Math.max(this.maxX-_.maxX,0),Math.max(this.maxY-_.maxY,0),Math.max(-this.minX+_.minX,0)]},T.prototype.size=function(){return this.width*this.height},T}();S.BBox=I,S.getRegionBBox=function(T,_){var C=_.start,E=_.end;return new I(T.x+T.width*C.x,T.y+T.height*C.y,T.width*Math.abs(E.x-C.x),T.height*Math.abs(E.y-C.y))};function O(T){return[[T.minX,T.minY],[T.maxX,T.minY],[T.maxX,T.maxY],[T.minX,T.maxY]]}S.toPoints=O},22514:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getCoordinateClipCfg=S.getAngleByPoint=S.isPointInCoordinate=S.getDistanceToCenter=S.isFullCircle=S.getXDimensionLength=void 0;var y=d(42770),L=d(86630);function I(p){if(p.isPolar&&!p.isTransposed)return(p.endAngle-p.startAngle)*p.getRadius();var w=p.convert({x:0,y:0}),g=p.convert({x:1,y:0});return Math.sqrt(Math.pow(g.x-w.x,2)+Math.pow(g.y-w.y,2))}S.getXDimensionLength=I;function O(p){if(p.isPolar){var w=p.startAngle,g=p.endAngle;return g-w==Math.PI*2}return!1}S.isFullCircle=O;function T(p,w){var g=p.getCenter();return Math.sqrt(Math.pow(w.x-g.x,2)+Math.pow(w.y-g.y,2))}S.getDistanceToCenter=T;function _(p,w){var g=!1;if(p)if(p.type==="theta"){var b=p.start,m=p.end;g=L.isBetween(w.x,b.x,m.x)&&L.isBetween(w.y,b.y,m.y)}else{var M=p.invert(w);g=L.isBetween(M.x,0,1)&&L.isBetween(M.y,0,1)}return g}S.isPointInCoordinate=_;function C(p,w){var g=p.getCenter();return Math.atan2(w.y-g.y,w.x-g.x)}S.getAngleByPoint=C;function E(p,w){w===void 0&&(w=0);var g=p.start,b=p.end,m=p.getWidth(),M=p.getHeight();if(p.isPolar){var P=p.startAngle,k=p.endAngle,N=p.getCenter(),V=p.getRadius();return{type:"path",startState:{path:y.getSectorPath(N.x,N.y,V+w,P,P)},endState:function(Z){var J=(k-P)*Z+P,lt=y.getSectorPath(N.x,N.y,V+w,P,J);return{path:lt}},attrs:{path:y.getSectorPath(N.x,N.y,V+w,P,k)}}}var $;return p.isTransposed?$={height:M+w*2}:$={width:m+w*2},{type:"rect",startState:{x:g.x-w,y:b.y-w,width:p.isTransposed?m+w*2:0,height:p.isTransposed?0:M+w*2},endState:$,attrs:{x:g.x-w,y:b.y-w,width:m+w*2,height:M+w*2}}}S.getCoordinateClipCfg=E},42770:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getReplaceAttrs=S.getPolygonCentroid=S.getAngle=S.getArcPath=S.getSectorPath=S.polarToCartesian=void 0;var y=d(49242);function L(p){if(y.isEmpty(p))return null;var w=p[0].x,g=p[0].x,b=p[0].y,m=p[0].y;return y.each(p,function(M){w=w>M.x?M.x:w,g=g<M.x?M.x:g,b=b>M.y?M.y:b,m=m<M.y?M.y:m}),{minX:w,maxX:g,minY:b,maxY:m,centerX:(w+g)/2,centerY:(b+m)/2}}function I(p,w,g,b){return{x:p+g*Math.cos(b),y:w+g*Math.sin(b)}}S.polarToCartesian=I;function O(p,w,g,b,m,M){M===void 0&&(M=0);var P=I(p,w,g,b),k=I(p,w,g,m),N=I(p,w,M,b),V=I(p,w,M,m);if(m-b==Math.PI*2){var $=I(p,w,g,b+Math.PI),Z=I(p,w,M,b+Math.PI),J=[["M",P.x,P.y],["A",g,g,0,1,1,$.x,$.y],["A",g,g,0,1,1,k.x,k.y],["M",N.x,N.y]];return M&&(J.push(["A",M,M,0,1,0,Z.x,Z.y]),J.push(["A",M,M,0,1,0,V.x,V.y])),J.push(["M",P.x,P.y]),J.push(["Z"]),J}var lt=m-b<=Math.PI?0:1,rt=[["M",P.x,P.y],["A",g,g,0,lt,1,k.x,k.y],["L",V.x,V.y]];return M&&rt.push(["A",M,M,0,lt,0,N.x,N.y]),rt.push(["L",P.x,P.y]),rt.push(["Z"]),rt}S.getSectorPath=O;function T(p,w,g,b,m){var M=I(p,w,g,b),P=I(p,w,g,m);if(y.isNumberEqual(m-b,Math.PI*2)){var k=I(p,w,g,b+Math.PI);return[["M",M.x,M.y],["A",g,g,0,1,1,k.x,k.y],["A",g,g,0,1,1,M.x,M.y],["A",g,g,0,1,0,k.x,k.y],["A",g,g,0,1,0,M.x,M.y],["Z"]]}var N=m-b<=Math.PI?0:1;return[["M",M.x,M.y],["A",g,g,0,N,1,P.x,P.y]]}S.getArcPath=T;function _(p,w){var g=p.points,b=L(g),m,M,P=w.startAngle,k=w.endAngle,N=k-P;return w.isTransposed?(m=b.maxY*N,M=b.minY*N):(m=b.maxX*N,M=b.minX*N),m+=P,M+=P,{startAngle:M,endAngle:m}}S.getAngle=_;function C(p,w){if(y.isNumber(p)&&y.isNumber(w))return[p,w];for(var g=-1,b=0,m=0,M,P=p.length-1,k,N=0;++g<p.length;)M=P,P=g,N+=k=p[M]*w[P]-p[P]*w[M],b+=(p[M]+p[P])*k,m+=(w[M]+w[P])*k;return N*=3,[b/N,m/N]}S.getPolygonCentroid=C;function E(p,w){var g=p.attr(),b=w.attr();return y.each(g,function(m,M){b[M]===void 0&&(b[M]=void 0)}),b}S.getReplaceAttrs=E},86630:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.uniq=S.omit=S.padEnd=S.isBetween=void 0;var y=d(49242);function L(_,C,E){var p=Math.min(C,E),w=Math.max(C,E);return _>=p&&_<=w}S.isBetween=L;function I(_,C,E){if(y.isString(_))return _.padEnd(C,E);if(y.isArray(_)){var p=_.length;if(p<C)for(var w=C-p,g=0;g<w;g++)_.push(E)}return _}S.padEnd=I;function O(_,C){return C.forEach(function(E){delete _[E]}),_}S.omit=O;function T(_,C,E){C===void 0&&(C=[]),E===void 0&&(E={});for(var p=0,w=_;p<w.length;p++){var g=w[p];E[g]||(C.push(g),E[g]=!0)}return C}S.uniq=T},6750:function(gt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.MarkerSymbols=void 0,S.MarkerSymbols={hexagon:function(d,y,L){var I=L/2*Math.sqrt(3);return[["M",d,y-L],["L",d+I,y-L/2],["L",d+I,y+L/2],["L",d,y+L],["L",d-I,y+L/2],["L",d-I,y-L/2],["Z"]]},bowtie:function(d,y,L){var I=L-1.5;return[["M",d-L,y-I],["L",d+L,y+I],["L",d+L,y-I],["L",d-L,y+I],["Z"]]},cross:function(d,y,L){return[["M",d-L,y-L],["L",d+L,y+L],["M",d+L,y-L],["L",d-L,y+L]]},tick:function(d,y,L){return[["M",d-L/2,y-L],["L",d+L/2,y-L],["M",d,y-L],["L",d,y+L],["M",d-L/2,y+L],["L",d+L/2,y+L]]},plus:function(d,y,L){return[["M",d-L,y],["L",d+L,y],["M",d,y-L],["L",d,y+L]]},hyphen:function(d,y,L){return[["M",d-L,y],["L",d+L,y]]},line:function(d,y,L){return[["M",d,y-L],["L",d,y+L]]}}},16854:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getName=S.syncScale=S.createScaleByField=void 0;var y=d(60517),L=d(49242),I=d(57029),O=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function T(p){var w="linear";return O.test(p)?w="time":L.isString(p)&&(w="cat"),w}function _(p,w,g){var b=w||[];if(L.isNumber(p)||L.isNil(L.firstValue(b,p))&&L.isEmpty(g)){var m=I.getScale("identity");return new m({field:p.toString(),values:[p]})}var M=L.valuesOfKey(b,p),P=L.get(g,"type",T(M[0])),k=I.getScale(P);return new k(y.__assign({field:p,values:M},g))}S.createScaleByField=_;function C(p,w){if(p.type!=="identity"&&w.type!=="identity"){var g={};for(var b in w)Object.prototype.hasOwnProperty.call(w,b)&&(g[b]=w[b]);p.change(g)}}S.syncScale=C;function E(p){return p.alias||p.field}S.getName=E},99677:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getTooltipItems=S.findDataByPoint=void 0;var y=d(60517),L=d(49242),I=d(29583),O=d(16854);function T(k,N,V){var $=V.translate(k),Z=V.translate(N);return L.isNumberEqual($,Z)}function _(k,N){var V=N.coordinate,$=N.getXScale(),Z=$.range,J=Z[Z.length-1],lt=Z[0],rt=V.invert(k),bt=rt.x;return V.isPolar&&bt>(1+J)/2&&(bt=lt),$.translate($.invert(bt))}function C(k,N,V){var $=V.coordinate,Z=V.getYScale(),J=Z.field,lt=$.invert(N),rt=Z.invert(lt.y),bt=L.find(k,function(Ot){var Bt=Ot[I.FIELD_ORIGIN];return Bt[J][0]<=rt&&Bt[J][1]>=rt});return bt||k[k.length-1]}var E=L.memoize(function(k){if(k.isCategory)return 1;for(var N=k.values,V=N.length,$=k.translate(N[0]),Z=$,J=0;J<V;J++){var lt=N[J],rt=k.translate(lt);rt<$&&($=rt),rt>Z&&(Z=rt)}return(Z-$)/(V-1)});function p(k,N,V){var $=V;if(!V){var Z=N.getAttribute("position"),J=Z.getFields();$=J[0]}var lt=N.scales;return lt[$]?lt[$].getText(k[$]):L.hasKey(k,$)?k[$]:$}function w(k){var N=L.values(k.attributes);return L.filter(N,function(V){return L.contains(I.GROUP_ATTRS,V.type)})}function g(k){for(var N=w(k),V,$=0,Z=N;$<Z.length;$++){var J=Z[$],lt=J.getScale(J.type);if(lt&&lt.isLinear){V=lt;break}}var rt=k.getXScale(),bt=k.getYScale();return V||bt||rt}function b(k,N){var V=N.field,$=k[V];if(L.isArray($)){var Z=$.map(function(J){return N.getText(J)});return Z.join("-")}return N.getText($)}function m(k,N){var V,$=N.getGroupScales();if($.length&&(V=$[0]),V){var Z=V.field;return V.getText(k[Z])}var J=g(N);return O.getName(J)}function M(k,N,V){if(N.length===0)return null;var $=V.type,Z=V.getXScale(),J=V.getYScale(),lt=Z.field,rt=J.field,bt=null;if($==="heatmap"||$==="point"){for(var Ot=V.coordinate,Bt=Ot.invert(k),Et=Z.invert(Bt.x),Dt=J.invert(Bt.y),It=Infinity,_t=0;_t<N.length;_t++){var Xt=N[_t],z=Xt[I.FIELD_ORIGIN],R=Math.pow(z[lt]-Et,2)+Math.pow(z[rt]-Dt,2);R<It&&(It=R,bt=Xt)}return bt}var F=N[0],D=N[N.length-1],u=_(k,V),W=F[I.FIELD_ORIGIN][lt],it=F[I.FIELD_ORIGIN][rt],nt=D[I.FIELD_ORIGIN][lt],mt=J.isLinear&&L.isArray(it);if(L.isArray(W)){for(var _t=0;_t<N.length;_t++){var et=N[_t],z=et[I.FIELD_ORIGIN];if(Z.translate(z[lt][0])<=u&&Z.translate(z[lt][1])>=u)if(mt)L.isArray(bt)||(bt=[]),bt.push(et);else{bt=et;break}}L.isArray(bt)&&(bt=C(bt,k,V))}else{var ct=void 0;if(!Z.isLinear&&Z.type!=="timeCat"){for(var _t=0;_t<N.length;_t++){var et=N[_t],z=et[I.FIELD_ORIGIN];if(T(z[lt],u,Z))if(mt)L.isArray(bt)||(bt=[]),bt.push(et);else{bt=et;break}else Z.translate(z[lt])<=u&&(D=et,ct=N[_t+1])}L.isArray(bt)&&(bt=C(bt,k,V))}else{if((u>Z.translate(nt)||u<Z.translate(W))&&(u>Z.max||u<Z.min))return null;for(var Pt=0,At=N.length-1,ot=void 0;Pt<=At;){ot=Math.floor((Pt+At)/2);var wt=N[ot][I.FIELD_ORIGIN][lt];if(T(wt,u,Z))return N[ot];Z.translate(wt)<=Z.translate(u)?(Pt=ot+1,D=N[ot],ct=N[ot+1]):(At===0&&(D=N[0]),At=ot-1)}}D&&ct&&Math.abs(Z.translate(D[I.FIELD_ORIGIN][lt])-u)>Math.abs(Z.translate(ct[I.FIELD_ORIGIN][lt])-u)&&(D=ct)}var st=E(V.getXScale());return!bt&&Math.abs(Z.translate(D[I.FIELD_ORIGIN][lt])-u)<=st/2&&(bt=D),bt}S.findDataByPoint=M;function P(k,N,V){V===void 0&&(V="");var $=k[I.FIELD_ORIGIN],Z=p($,N,V),J=N.tooltipOption,lt=N.theme.defaultColor,rt=[],bt,Ot;function Bt(it,nt){if(!L.isNil(nt)&&nt!==""){var mt={title:Z,data:$,mappingData:k,name:it,value:nt,color:k.color||lt,marker:!0};rt.push(mt)}}if(L.isObject(J)){var Et=J.fields,Dt=J.callback;if(Dt){var It=Et.map(function(it){return k[I.FIELD_ORIGIN][it]}),_t=Dt.apply(void 0,It),Xt=y.__assign({data:k[I.FIELD_ORIGIN],mappingData:k,title:Z,color:k.color||lt,marker:!0},_t);rt.push(Xt)}else for(var z=N.scales,R=0,F=Et;R<F.length;R++){var D=F[R];if(!L.isNil($[D])){var u=z[D];bt=O.getName(u),Ot=u.getText($[D]),Bt(bt,Ot)}}}else{var W=g(N);L.isNil($[W.field])||(Ot=b($,W),bt=m($,N),Bt(bt,Ot))}return rt}S.getTooltipItems=P},60517:function(gt,S,d){"use strict";d.r(S),d.d(S,{__extends:function(){return L},__assign:function(){return I},__rest:function(){return O},__decorate:function(){return T},__param:function(){return _},__esDecorate:function(){return C},__runInitializers:function(){return E},__propKey:function(){return p},__setFunctionName:function(){return w},__metadata:function(){return g},__awaiter:function(){return b},__generator:function(){return m},__createBinding:function(){return M},__exportStar:function(){return P},__values:function(){return k},__read:function(){return N},__spread:function(){return V},__spreadArrays:function(){return $},__spreadArray:function(){return Z},__await:function(){return J},__asyncGenerator:function(){return lt},__asyncDelegator:function(){return rt},__asyncValues:function(){return bt},__makeTemplateObject:function(){return Ot},__importStar:function(){return Et},__importDefault:function(){return Dt},__classPrivateFieldGet:function(){return It},__classPrivateFieldSet:function(){return _t},__classPrivateFieldIn:function(){return Xt}});var y=function(z,R){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,D){F.__proto__=D}||function(F,D){for(var u in D)Object.prototype.hasOwnProperty.call(D,u)&&(F[u]=D[u])},y(z,R)};function L(z,R){if(typeof R!="function"&&R!==null)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");y(z,R);function F(){this.constructor=z}z.prototype=R===null?Object.create(R):(F.prototype=R.prototype,new F)}var I=function(){return I=Object.assign||function(R){for(var F,D=1,u=arguments.length;D<u;D++){F=arguments[D];for(var W in F)Object.prototype.hasOwnProperty.call(F,W)&&(R[W]=F[W])}return R},I.apply(this,arguments)};function O(z,R){var F={};for(var D in z)Object.prototype.hasOwnProperty.call(z,D)&&R.indexOf(D)<0&&(F[D]=z[D]);if(z!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,D=Object.getOwnPropertySymbols(z);u<D.length;u++)R.indexOf(D[u])<0&&Object.prototype.propertyIsEnumerable.call(z,D[u])&&(F[D[u]]=z[D[u]]);return F}function T(z,R,F,D){var u=arguments.length,W=u<3?R:D===null?D=Object.getOwnPropertyDescriptor(R,F):D,it;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(z,R,F,D);else for(var nt=z.length-1;nt>=0;nt--)(it=z[nt])&&(W=(u<3?it(W):u>3?it(R,F,W):it(R,F))||W);return u>3&&W&&Object.defineProperty(R,F,W),W}function _(z,R){return function(F,D){R(F,D,z)}}function C(z,R,F,D,u,W){function it(tt){if(tt!==void 0&&typeof tt!="function")throw new TypeError("Function expected");return tt}for(var nt=D.kind,mt=nt==="getter"?"get":nt==="setter"?"set":"value",et=!R&&z?D.static?z:z.prototype:null,ct=R||(et?Object.getOwnPropertyDescriptor(et,D.name):{}),Pt,At=!1,ot=F.length-1;ot>=0;ot--){var wt={};for(var st in D)wt[st]=st==="access"?{}:D[st];for(var st in D.access)wt.access[st]=D.access[st];wt.addInitializer=function(tt){if(At)throw new TypeError("Cannot add initializers after decoration has completed");W.push(it(tt||null))};var K=(0,F[ot])(nt==="accessor"?{get:ct.get,set:ct.set}:ct[mt],wt);if(nt==="accessor"){if(K===void 0)continue;if(K===null||typeof K!="object")throw new TypeError("Object expected");(Pt=it(K.get))&&(ct.get=Pt),(Pt=it(K.set))&&(ct.set=Pt),(Pt=it(K.init))&&u.push(Pt)}else(Pt=it(K))&&(nt==="field"?u.push(Pt):ct[mt]=Pt)}et&&Object.defineProperty(et,D.name,ct),At=!0}function E(z,R,F){for(var D=arguments.length>2,u=0;u<R.length;u++)F=D?R[u].call(z,F):R[u].call(z);return D?F:void 0}function p(z){return typeof z=="symbol"?z:"".concat(z)}function w(z,R,F){return typeof R=="symbol"&&(R=R.description?"[".concat(R.description,"]"):""),Object.defineProperty(z,"name",{configurable:!0,value:F?"".concat(F," ",R):R})}function g(z,R){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(z,R)}function b(z,R,F,D){function u(W){return W instanceof F?W:new F(function(it){it(W)})}return new(F||(F=Promise))(function(W,it){function nt(ct){try{et(D.next(ct))}catch(Pt){it(Pt)}}function mt(ct){try{et(D.throw(ct))}catch(Pt){it(Pt)}}function et(ct){ct.done?W(ct.value):u(ct.value).then(nt,mt)}et((D=D.apply(z,R||[])).next())})}function m(z,R){var F={label:0,sent:function(){if(W[0]&1)throw W[1];return W[1]},trys:[],ops:[]},D,u,W,it;return it={next:nt(0),throw:nt(1),return:nt(2)},typeof Symbol=="function"&&(it[Symbol.iterator]=function(){return this}),it;function nt(et){return function(ct){return mt([et,ct])}}function mt(et){if(D)throw new TypeError("Generator is already executing.");for(;it&&(it=0,et[0]&&(F=0)),F;)try{if(D=1,u&&(W=et[0]&2?u.return:et[0]?u.throw||((W=u.return)&&W.call(u),0):u.next)&&!(W=W.call(u,et[1])).done)return W;switch(u=0,W&&(et=[et[0]&2,W.value]),et[0]){case 0:case 1:W=et;break;case 4:return F.label++,{value:et[1],done:!1};case 5:F.label++,u=et[1],et=[0];continue;case 7:et=F.ops.pop(),F.trys.pop();continue;default:if(W=F.trys,!(W=W.length>0&&W[W.length-1])&&(et[0]===6||et[0]===2)){F=0;continue}if(et[0]===3&&(!W||et[1]>W[0]&&et[1]<W[3])){F.label=et[1];break}if(et[0]===6&&F.label<W[1]){F.label=W[1],W=et;break}if(W&&F.label<W[2]){F.label=W[2],F.ops.push(et);break}W[2]&&F.ops.pop(),F.trys.pop();continue}et=R.call(z,F)}catch(ct){et=[6,ct],u=0}finally{D=W=0}if(et[0]&5)throw et[1];return{value:et[0]?et[1]:void 0,done:!0}}}var M=Object.create?function(z,R,F,D){D===void 0&&(D=F);var u=Object.getOwnPropertyDescriptor(R,F);(!u||("get"in u?!R.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return R[F]}}),Object.defineProperty(z,D,u)}:function(z,R,F,D){D===void 0&&(D=F),z[D]=R[F]};function P(z,R){for(var F in z)F!=="default"&&!Object.prototype.hasOwnProperty.call(R,F)&&M(R,z,F)}function k(z){var R=typeof Symbol=="function"&&Symbol.iterator,F=R&&z[R],D=0;if(F)return F.call(z);if(z&&typeof z.length=="number")return{next:function(){return z&&D>=z.length&&(z=void 0),{value:z&&z[D++],done:!z}}};throw new TypeError(R?"Object is not iterable.":"Symbol.iterator is not defined.")}function N(z,R){var F=typeof Symbol=="function"&&z[Symbol.iterator];if(!F)return z;var D=F.call(z),u,W=[],it;try{for(;(R===void 0||R-- >0)&&!(u=D.next()).done;)W.push(u.value)}catch(nt){it={error:nt}}finally{try{u&&!u.done&&(F=D.return)&&F.call(D)}finally{if(it)throw it.error}}return W}function V(){for(var z=[],R=0;R<arguments.length;R++)z=z.concat(N(arguments[R]));return z}function $(){for(var z=0,R=0,F=arguments.length;R<F;R++)z+=arguments[R].length;for(var D=Array(z),u=0,R=0;R<F;R++)for(var W=arguments[R],it=0,nt=W.length;it<nt;it++,u++)D[u]=W[it];return D}function Z(z,R,F){if(F||arguments.length===2)for(var D=0,u=R.length,W;D<u;D++)(W||!(D in R))&&(W||(W=Array.prototype.slice.call(R,0,D)),W[D]=R[D]);return z.concat(W||Array.prototype.slice.call(R))}function J(z){return this instanceof J?(this.v=z,this):new J(z)}function lt(z,R,F){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var D=F.apply(z,R||[]),u,W=[];return u={},it("next"),it("throw"),it("return"),u[Symbol.asyncIterator]=function(){return this},u;function it(At){D[At]&&(u[At]=function(ot){return new Promise(function(wt,st){W.push([At,ot,wt,st])>1||nt(At,ot)})})}function nt(At,ot){try{mt(D[At](ot))}catch(wt){Pt(W[0][3],wt)}}function mt(At){At.value instanceof J?Promise.resolve(At.value.v).then(et,ct):Pt(W[0][2],At)}function et(At){nt("next",At)}function ct(At){nt("throw",At)}function Pt(At,ot){At(ot),W.shift(),W.length&&nt(W[0][0],W[0][1])}}function rt(z){var R,F;return R={},D("next"),D("throw",function(u){throw u}),D("return"),R[Symbol.iterator]=function(){return this},R;function D(u,W){R[u]=z[u]?function(it){return(F=!F)?{value:J(z[u](it)),done:!1}:W?W(it):it}:W}}function bt(z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var R=z[Symbol.asyncIterator],F;return R?R.call(z):(z=typeof k=="function"?k(z):z[Symbol.iterator](),F={},D("next"),D("throw"),D("return"),F[Symbol.asyncIterator]=function(){return this},F);function D(W){F[W]=z[W]&&function(it){return new Promise(function(nt,mt){it=z[W](it),u(nt,mt,it.done,it.value)})}}function u(W,it,nt,mt){Promise.resolve(mt).then(function(et){W({value:et,done:nt})},it)}}function Ot(z,R){return Object.defineProperty?Object.defineProperty(z,"raw",{value:R}):z.raw=R,z}var Bt=Object.create?function(z,R){Object.defineProperty(z,"default",{enumerable:!0,value:R})}:function(z,R){z.default=R};function Et(z){if(z&&z.__esModule)return z;var R={};if(z!=null)for(var F in z)F!=="default"&&Object.prototype.hasOwnProperty.call(z,F)&&M(R,z,F);return Bt(R,z),R}function Dt(z){return z&&z.__esModule?z:{default:z}}function It(z,R,F,D){if(F==="a"&&!D)throw new TypeError("Private accessor was defined without a getter");if(typeof R=="function"?z!==R||!D:!R.has(z))throw new TypeError("Cannot read private member from an object whose class did not declare it");return F==="m"?D:F==="a"?D.call(z):D?D.value:R.get(z)}function _t(z,R,F,D,u){if(D==="m")throw new TypeError("Private method is not writable");if(D==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof R=="function"?z!==R||!u:!R.has(z))throw new TypeError("Cannot write private member to an object whose class did not declare it");return D==="a"?u.call(z,F):u?u.value=F:R.set(z,F),F}function Xt(z,R){if(R===null||typeof R!="object"&&typeof R!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof z=="function"?R===z:z.has(R)}},95365:function(gt,S,d){"use strict";var y=d(37050),L=d(90494),I=d(30219),O=function(T){(0,y.ZT)(_,T);function _(C){var E=T.call(this)||this;E.destroyed=!1;var p=E.getDefaultCfg();return E.cfg=(0,I.CD)(p,C),E}return _.prototype.getDefaultCfg=function(){return{}},_.prototype.get=function(C){return this.cfg[C]},_.prototype.set=function(C,E){this.cfg[C]=E},_.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},_}(L.default);S.Z=O},57789:function(gt,S,d){"use strict";d.d(S,{Z:function(){return ge}});var y=d(37050),L=d(43631),I=d(29598),O=d(30219),T=d(49242),_=d(35374),C=d(2650);function E(Zt,kt,zt,ne,de){var Ce=Zt*Zt,De=Ce*Zt;return((1-3*Zt+3*Ce-De)*kt+(4-6*Ce+3*De)*zt+(1+3*Zt+3*Ce-3*De)*ne+De*de)/6}function p(Zt){var kt=Zt.length-1;return function(zt){var ne=zt<=0?zt=0:zt>=1?(zt=1,kt-1):Math.floor(zt*kt),de=Zt[ne],Ce=Zt[ne+1],De=ne>0?Zt[ne-1]:2*de-Ce,ze=ne<kt-1?Zt[ne+2]:2*Ce-de;return E((zt-ne/kt)*kt,De,de,Ce,ze)}}function w(Zt){var kt=Zt.length;return function(zt){var ne=Math.floor(((zt%=1)<0?++zt:zt)*kt),de=Zt[(ne+kt-1)%kt],Ce=Zt[ne%kt],De=Zt[(ne+1)%kt],ze=Zt[(ne+2)%kt];return E((zt-ne/kt)*kt,de,Ce,De,ze)}}var g=function(Zt){return function(){return Zt}};function b(Zt,kt){return function(zt){return Zt+zt*kt}}function m(Zt,kt,zt){return Zt=Math.pow(Zt,zt),kt=Math.pow(kt,zt)-Zt,zt=1/zt,function(ne){return Math.pow(Zt+ne*kt,zt)}}function M(Zt,kt){var zt=kt-Zt;return zt?b(Zt,zt>180||zt<-180?zt-360*Math.round(zt/360):zt):constant(isNaN(Zt)?kt:Zt)}function P(Zt){return(Zt=+Zt)==1?k:function(kt,zt){return zt-kt?m(kt,zt,Zt):g(isNaN(kt)?zt:kt)}}function k(Zt,kt){var zt=kt-Zt;return zt?b(Zt,zt):g(isNaN(Zt)?kt:Zt)}var N=function Zt(kt){var zt=P(kt);function ne(de,Ce){var De=zt((de=(0,C.B8)(de)).r,(Ce=(0,C.B8)(Ce)).r),ze=zt(de.g,Ce.g),er=zt(de.b,Ce.b),yr=k(de.opacity,Ce.opacity);return function(tn){return de.r=De(tn),de.g=ze(tn),de.b=er(tn),de.opacity=yr(tn),de+""}}return ne.gamma=Zt,ne}(1);function V(Zt){return function(kt){var zt=kt.length,ne=new Array(zt),de=new Array(zt),Ce=new Array(zt),De,ze;for(De=0;De<zt;++De)ze=(0,C.B8)(kt[De]),ne[De]=ze.r||0,de[De]=ze.g||0,Ce[De]=ze.b||0;return ne=Zt(ne),de=Zt(de),Ce=Zt(Ce),ze.opacity=1,function(er){return ze.r=ne(er),ze.g=de(er),ze.b=Ce(er),ze+""}}}var $=V(p),Z=V(w);function J(Zt,kt){kt||(kt=[]);var zt=Zt?Math.min(kt.length,Zt.length):0,ne=kt.slice(),de;return function(Ce){for(de=0;de<zt;++de)ne[de]=Zt[de]*(1-Ce)+kt[de]*Ce;return ne}}function lt(Zt){return ArrayBuffer.isView(Zt)&&!(Zt instanceof DataView)}function rt(Zt,kt){return(lt(kt)?J:bt)(Zt,kt)}function bt(Zt,kt){var zt=kt?kt.length:0,ne=Zt?Math.min(zt,Zt.length):0,de=new Array(ne),Ce=new Array(zt),De;for(De=0;De<ne;++De)de[De]=R(Zt[De],kt[De]);for(;De<zt;++De)Ce[De]=kt[De];return function(ze){for(De=0;De<ne;++De)Ce[De]=de[De](ze);return Ce}}function Ot(Zt,kt){var zt=new Date;return Zt=+Zt,kt=+kt,function(ne){return zt.setTime(Zt*(1-ne)+kt*ne),zt}}function Bt(Zt,kt){return Zt=+Zt,kt=+kt,function(zt){return Zt*(1-zt)+kt*zt}}function Et(Zt,kt){var zt={},ne={},de;(Zt===null||typeof Zt!="object")&&(Zt={}),(kt===null||typeof kt!="object")&&(kt={});for(de in kt)de in Zt?zt[de]=R(Zt[de],kt[de]):ne[de]=kt[de];return function(Ce){for(de in zt)ne[de]=zt[de](Ce);return ne}}var Dt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,It=new RegExp(Dt.source,"g");function _t(Zt){return function(){return Zt}}function Xt(Zt){return function(kt){return Zt(kt)+""}}function z(Zt,kt){var zt=Dt.lastIndex=It.lastIndex=0,ne,de,Ce,De=-1,ze=[],er=[];for(Zt=Zt+"",kt=kt+"";(ne=Dt.exec(Zt))&&(de=It.exec(kt));)(Ce=de.index)>zt&&(Ce=kt.slice(zt,Ce),ze[De]?ze[De]+=Ce:ze[++De]=Ce),(ne=ne[0])===(de=de[0])?ze[De]?ze[De]+=de:ze[++De]=de:(ze[++De]=null,er.push({i:De,x:Bt(ne,de)})),zt=It.lastIndex;return zt<kt.length&&(Ce=kt.slice(zt),ze[De]?ze[De]+=Ce:ze[++De]=Ce),ze.length<2?er[0]?Xt(er[0].x):_t(kt):(kt=er.length,function(yr){for(var tn=0,nn;tn<kt;++tn)ze[(nn=er[tn]).i]=nn.x(yr);return ze.join("")})}function R(Zt,kt){var zt=typeof kt,ne;return kt==null||zt==="boolean"?g(kt):(zt==="number"?Bt:zt==="string"?(ne=(0,C.ZP)(kt))?(kt=ne,N):z:kt instanceof C.ZP?N:kt instanceof Date?Ot:lt(kt)?J:Array.isArray(kt)?bt:typeof kt.valueOf!="function"&&typeof kt.toString!="function"||isNaN(kt)?Et:Bt)(Zt,kt)}var F=d(51464),D=d(24699),u=function(Zt){return["fill","stroke","fillStyle","strokeStyle"].includes(Zt)},W=function(Zt){return/^[r,R,L,l]{1}[\s]*\(/.test(Zt)},it=[1,0,0,0,1,0,0,0,1];function nt(Zt,kt,zt){var ne={},de=kt.fromAttrs,Ce=kt.toAttrs;if(!Zt.destroyed){var De;for(var ze in Ce)if(!(0,T.isEqual)(de[ze],Ce[ze]))if(ze==="path"){var er=Ce[ze],yr=de[ze];er.length>yr.length?(er=D.parsePathString(Ce[ze]),yr=D.parsePathString(de[ze]),yr=D.fillPathByDiff(yr,er),yr=D.formatPath(yr,er),kt.fromAttrs.path=yr,kt.toAttrs.path=er):kt.pathFormatted||(er=D.parsePathString(Ce[ze]),yr=D.parsePathString(de[ze]),yr=D.formatPath(yr,er),kt.fromAttrs.path=yr,kt.toAttrs.path=er,kt.pathFormatted=!0),ne[ze]=[];for(var tn=0;tn<er.length;tn++){for(var nn=er[tn],gn=yr[tn],yn=[],jt=0;jt<nn.length;jt++)(0,T.isNumber)(nn[jt])&&gn&&(0,T.isNumber)(gn[jt])?(De=R(gn[jt],nn[jt]),yn.push(De(zt))):yn.push(nn[jt]);ne[ze].push(yn)}}else if(ze==="matrix"){var ee=rt(de[ze]||it,Ce[ze]||it),se=ee(zt);ne[ze]=se}else u(ze)&&W(Ce[ze])?ne[ze]=Ce[ze]:(0,T.isFunction)(Ce[ze])||(De=R(de[ze],Ce[ze]),ne[ze]=De(zt));Zt.attr(ne)}}function mt(Zt,kt,zt){var ne=kt.startTime,de=kt.delay;if(zt<ne+de||kt._paused)return!1;var Ce,De=kt.duration,ze=kt.easing,er=(0,F._)(ze);if(zt=zt-ne-kt.delay,kt.repeat)Ce=zt%De/De,Ce=er(Ce);else if(Ce=zt/De,Ce<1)Ce=er(Ce);else return kt.onFrame?Zt.attr(kt.onFrame(1)):Zt.attr(kt.toAttrs),!0;if(kt.onFrame){var yr=kt.onFrame(Ce);Zt.attr(yr)}else nt(Zt,kt,Ce);return!1}var et=function(){function Zt(kt){this.animators=[],this.current=0,this.timer=null,this.canvas=kt}return Zt.prototype.initTimer=function(){var kt=this,zt=!1,ne,de,Ce;this.timer=_.HT(function(De){if(kt.current=De,kt.animators.length>0){for(var ze=kt.animators.length-1;ze>=0;ze--){if(ne=kt.animators[ze],ne.destroyed){kt.removeAnimator(ze);continue}if(!ne.isAnimatePaused()){de=ne.get("animations");for(var er=de.length-1;er>=0;er--)Ce=de[er],zt=mt(ne,Ce,De),zt&&(de.splice(er,1),zt=!1,Ce.callback&&Ce.callback())}de.length===0&&kt.removeAnimator(ze)}var yr=kt.canvas.get("autoDraw");yr||kt.canvas.draw()}})},Zt.prototype.addAnimator=function(kt){this.animators.push(kt)},Zt.prototype.removeAnimator=function(kt){this.animators.splice(kt,1)},Zt.prototype.isAnimating=function(){return!!this.animators.length},Zt.prototype.stop=function(){this.timer&&this.timer.stop()},Zt.prototype.stopAllAnimations=function(kt){kt===void 0&&(kt=!0),this.animators.forEach(function(zt){zt.stopAnimate(kt)}),this.animators=[],this.canvas.draw()},Zt.prototype.getTime=function(){return this.current},Zt}(),ct=et,Pt=d(76615),At=40,ot=0,wt=":",st=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function K(Zt,kt){for(var zt in Zt)if(Zt.hasOwnProperty(zt)&&zt.indexOf(wt+kt)>=0)return!0;return!1}function tt(Zt,kt,zt){zt.name=kt,zt.target=Zt,zt.currentTarget=Zt,zt.delegateTarget=Zt,Zt.emit(kt,zt)}function U(Zt,kt,zt){if(zt.bubbles){var ne=void 0,de=!1;if(kt==="mouseenter"?(ne=zt.fromShape,de=!0):kt==="mouseleave"&&(de=!0,ne=zt.toShape),Zt.isCanvas()&&de)return;if(ne&&(0,O.UY)(Zt,ne)){zt.bubbles=!1;return}zt.name=kt,zt.currentTarget=Zt,zt.delegateTarget=Zt,Zt.emit(kt,zt)}}var j=function(){function Zt(kt){var zt=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(ne){var de=ne.type;zt._triggerEvent(de,ne)},this._onDocumentMove=function(ne){var de=zt.canvas,Ce=de.get("el");if(Ce!==ne.target&&(zt.dragging||zt.currentShape)){var De=zt._getPointInfo(ne);zt.dragging&&zt._emitEvent("drag",ne,De,zt.draggingShape)}},this._onDocumentMouseUp=function(ne){var de=zt.canvas,Ce=de.get("el");if(Ce!==ne.target&&zt.dragging){var De=zt._getPointInfo(ne);zt.draggingShape&&zt._emitEvent("drop",ne,De,null),zt._emitEvent("dragend",ne,De,zt.draggingShape),zt._afterDrag(zt.draggingShape,De,ne)}},this.canvas=kt.canvas}return Zt.prototype.init=function(){this._bindEvents()},Zt.prototype._bindEvents=function(){var kt=this,zt=this.canvas.get("el");(0,O.S6)(st,function(ne){zt.addEventListener(ne,kt._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},Zt.prototype._clearEvents=function(){var kt=this,zt=this.canvas.get("el");(0,O.S6)(st,function(ne){zt.removeEventListener(ne,kt._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},Zt.prototype._getEventObj=function(kt,zt,ne,de,Ce,De){var ze=new Pt.Z(kt,zt);return ze.fromShape=Ce,ze.toShape=De,ze.x=ne.x,ze.y=ne.y,ze.clientX=ne.clientX,ze.clientY=ne.clientY,ze.propagationPath.push(de),ze},Zt.prototype._getShape=function(kt,zt){return this.canvas.getShape(kt.x,kt.y,zt)},Zt.prototype._getPointInfo=function(kt){var zt=this.canvas,ne=zt.getClientByEvent(kt),de=zt.getPointByEvent(kt);return{x:de.x,y:de.y,clientX:ne.x,clientY:ne.y}},Zt.prototype._triggerEvent=function(kt,zt){var ne=this._getPointInfo(zt),de=this._getShape(ne,zt),Ce=this["_on"+kt],De=!1;if(Ce)Ce.call(this,ne,de,zt);else{var ze=this.currentShape;kt==="mouseenter"||kt==="dragenter"||kt==="mouseover"?(this._emitEvent(kt,zt,ne,null,null,de),de&&this._emitEvent(kt,zt,ne,de,null,de),kt==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",zt,ne,null)):kt==="mouseleave"||kt==="dragleave"||kt==="mouseout"?(De=!0,ze&&this._emitEvent(kt,zt,ne,ze,ze,null),this._emitEvent(kt,zt,ne,null,ze,null),kt==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",zt,ne,null)):this._emitEvent(kt,zt,ne,de,null,null)}if(De||(this.currentShape=de),de&&!de.get("destroyed")){var er=this.canvas,yr=er.get("el");yr.style.cursor=de.attr("cursor")||er.get("cursor")}},Zt.prototype._onmousedown=function(kt,zt,ne){ne.button===ot&&(this.mousedownShape=zt,this.mousedownPoint=kt,this.mousedownTimeStamp=ne.timeStamp),this._emitEvent("mousedown",ne,kt,zt,null,null)},Zt.prototype._emitMouseoverEvents=function(kt,zt,ne,de){var Ce=this.canvas.get("el");ne!==de&&(ne&&(this._emitEvent("mouseout",kt,zt,ne,ne,de),this._emitEvent("mouseleave",kt,zt,ne,ne,de),(!de||de.get("destroyed"))&&(Ce.style.cursor=this.canvas.get("cursor"))),de&&(this._emitEvent("mouseover",kt,zt,de,ne,de),this._emitEvent("mouseenter",kt,zt,de,ne,de)))},Zt.prototype._emitDragoverEvents=function(kt,zt,ne,de,Ce){de?(de!==ne&&(ne&&this._emitEvent("dragleave",kt,zt,ne,ne,de),this._emitEvent("dragenter",kt,zt,de,ne,de)),Ce||this._emitEvent("dragover",kt,zt,de)):ne&&this._emitEvent("dragleave",kt,zt,ne,ne,de),Ce&&this._emitEvent("dragover",kt,zt,de)},Zt.prototype._afterDrag=function(kt,zt,ne){kt&&(kt.set("capture",!0),this.draggingShape=null),this.dragging=!1;var de=this._getShape(zt,ne);de!==kt&&this._emitMouseoverEvents(ne,zt,kt,de),this.currentShape=de},Zt.prototype._onmouseup=function(kt,zt,ne){if(ne.button===ot){var de=this.draggingShape;this.dragging?(de&&this._emitEvent("drop",ne,kt,zt),this._emitEvent("dragend",ne,kt,de),this._afterDrag(de,kt,ne)):(this._emitEvent("mouseup",ne,kt,zt),zt===this.mousedownShape&&this._emitEvent("click",ne,kt,zt),this.mousedownShape=null,this.mousedownPoint=null)}},Zt.prototype._ondragover=function(kt,zt,ne){ne.preventDefault();var de=this.currentShape;this._emitDragoverEvents(ne,kt,de,zt,!0)},Zt.prototype._onmousemove=function(kt,zt,ne){var de=this.canvas,Ce=this.currentShape,De=this.draggingShape;if(this.dragging)De&&this._emitDragoverEvents(ne,kt,Ce,zt,!1),this._emitEvent("drag",ne,kt,De);else{var ze=this.mousedownPoint;if(ze){var er=this.mousedownShape,yr=ne.timeStamp,tn=yr-this.mousedownTimeStamp,nn=ze.clientX-kt.clientX,gn=ze.clientY-kt.clientY,yn=nn*nn+gn*gn;tn>120||yn>At?er&&er.get("draggable")?(De=this.mousedownShape,De.set("capture",!1),this.draggingShape=De,this.dragging=!0,this._emitEvent("dragstart",ne,kt,De),this.mousedownShape=null,this.mousedownPoint=null):!er&&de.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",ne,kt,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(ne,kt,Ce,zt),this._emitEvent("mousemove",ne,kt,zt)):(this._emitMouseoverEvents(ne,kt,Ce,zt),this._emitEvent("mousemove",ne,kt,zt))}else this._emitMouseoverEvents(ne,kt,Ce,zt),this._emitEvent("mousemove",ne,kt,zt)}},Zt.prototype._emitEvent=function(kt,zt,ne,de,Ce,De){var ze=this._getEventObj(kt,zt,ne,de,Ce,De);if(de){ze.shape=de,tt(de,kt,ze);for(var er=de.getParent();er;)er.emitDelegation(kt,ze),ze.propagationStopped||U(er,kt,ze),ze.propagationPath.push(er),er=er.getParent()}else{var yr=this.canvas;tt(yr,kt,ze)}},Zt.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},Zt}(),at=j,vt="px",Ft=(0,L.detect)(),Jt=Ft&&Ft.name==="firefox",le=function(Zt){(0,y.ZT)(kt,Zt);function kt(zt){var ne=Zt.call(this,zt)||this;return ne.initContainer(),ne.initDom(),ne.initEvents(),ne.initTimeline(),ne}return kt.prototype.getDefaultCfg=function(){var zt=Zt.prototype.getDefaultCfg.call(this);return zt.cursor="default",zt.supportCSSTransform=!1,zt},kt.prototype.initContainer=function(){var zt=this.get("container");(0,O.HD)(zt)&&(zt=document.getElementById(zt),this.set("container",zt))},kt.prototype.initDom=function(){var zt=this.createDom();this.set("el",zt);var ne=this.get("container");ne.appendChild(zt),this.setDOMSize(this.get("width"),this.get("height"))},kt.prototype.initEvents=function(){var zt=new at({canvas:this});zt.init(),this.set("eventController",zt)},kt.prototype.initTimeline=function(){var zt=new ct(this);this.set("timeline",zt)},kt.prototype.setDOMSize=function(zt,ne){var de=this.get("el");O.jU&&(de.style.width=zt+vt,de.style.height=ne+vt)},kt.prototype.changeSize=function(zt,ne){this.setDOMSize(zt,ne),this.set("width",zt),this.set("height",ne),this.onCanvasChange("changeSize")},kt.prototype.getRenderer=function(){return this.get("renderer")},kt.prototype.getCursor=function(){return this.get("cursor")},kt.prototype.setCursor=function(zt){this.set("cursor",zt);var ne=this.get("el");O.jU&&ne&&(ne.style.cursor=zt)},kt.prototype.getPointByEvent=function(zt){var ne=this.get("supportCSSTransform");if(ne){if(Jt&&!(0,O.kK)(zt.layerX)&&zt.layerX!==zt.offsetX)return{x:zt.layerX,y:zt.layerY};if(!(0,O.kK)(zt.offsetX))return{x:zt.offsetX,y:zt.offsetY}}var de=this.getClientByEvent(zt),Ce=de.x,De=de.y;return this.getPointByClient(Ce,De)},kt.prototype.getClientByEvent=function(zt){var ne=zt;return zt.touches&&(zt.type==="touchend"?ne=zt.changedTouches[0]:ne=zt.touches[0]),{x:ne.clientX,y:ne.clientY}},kt.prototype.getPointByClient=function(zt,ne){var de=this.get("el"),Ce=de.getBoundingClientRect();return{x:zt-Ce.left,y:ne-Ce.top}},kt.prototype.getClientByPoint=function(zt,ne){var de=this.get("el"),Ce=de.getBoundingClientRect();return{x:zt+Ce.left,y:ne+Ce.top}},kt.prototype.draw=function(){},kt.prototype.removeDom=function(){var zt=this.get("el");zt.parentNode.removeChild(zt)},kt.prototype.clearEvents=function(){var zt=this.get("eventController");zt.destroy()},kt.prototype.isCanvas=function(){return!0},kt.prototype.getParent=function(){return null},kt.prototype.destroy=function(){var zt=this.get("timeline");this.get("destroyed")||(this.clear(),zt&&zt.stop(),this.clearEvents(),this.removeDom(),Zt.prototype.destroy.call(this))},kt}(I.Z),ge=le},29598:function(gt,S,d){"use strict";var y=d(37050),L=d(49242),I=d(67229),O=d(30219),T={},_="_INDEX";function C(m,M){if(m.set("canvas",M),m.isGroup()){var P=m.get("children");P.length&&P.forEach(function(k){C(k,M)})}}function E(m,M){if(m.set("timeline",M),m.isGroup()){var P=m.get("children");P.length&&P.forEach(function(k){E(k,M)})}}function p(m,M){var P=m.getChildren();return P.indexOf(M)>=0}function w(m,M,P){P===void 0&&(P=!0),P?M.destroy():(M.set("parent",null),M.set("canvas",null)),(0,O.As)(m.getChildren(),M)}function g(m){return function(M,P){var k=m(M,P);return k===0?M[_]-P[_]:k}}var b=function(m){(0,y.ZT)(M,m);function M(){return m!==null&&m.apply(this,arguments)||this}return M.prototype.isCanvas=function(){return!1},M.prototype.getBBox=function(){var P=Infinity,k=-Infinity,N=Infinity,V=-Infinity,$=[],Z=[],J=this.getChildren().filter(function(rt){return rt.get("visible")&&(!rt.isGroup()||rt.isGroup()&&rt.getChildren().length>0)});J.length>0?((0,O.S6)(J,function(rt){var bt=rt.getBBox();$.push(bt.minX,bt.maxX),Z.push(bt.minY,bt.maxY)}),P=(0,L.min)($),k=(0,L.max)($),N=(0,L.min)(Z),V=(0,L.max)(Z)):(P=0,k=0,N=0,V=0);var lt={x:P,y:N,minX:P,minY:N,maxX:k,maxY:V,width:k-P,height:V-N};return lt},M.prototype.getCanvasBBox=function(){var P=Infinity,k=-Infinity,N=Infinity,V=-Infinity,$=[],Z=[],J=this.getChildren().filter(function(rt){return rt.get("visible")&&(!rt.isGroup()||rt.isGroup()&&rt.getChildren().length>0)});J.length>0?((0,O.S6)(J,function(rt){var bt=rt.getCanvasBBox();$.push(bt.minX,bt.maxX),Z.push(bt.minY,bt.maxY)}),P=(0,L.min)($),k=(0,L.max)($),N=(0,L.min)(Z),V=(0,L.max)(Z)):(P=0,k=0,N=0,V=0);var lt={x:P,y:N,minX:P,minY:N,maxX:k,maxY:V,width:k-P,height:V-N};return lt},M.prototype.getDefaultCfg=function(){var P=m.prototype.getDefaultCfg.call(this);return P.children=[],P},M.prototype.onAttrChange=function(P,k,N){if(m.prototype.onAttrChange.call(this,P,k,N),P==="matrix"){var V=this.getTotalMatrix();this._applyChildrenMarix(V)}},M.prototype.applyMatrix=function(P){var k=this.getTotalMatrix();m.prototype.applyMatrix.call(this,P);var N=this.getTotalMatrix();N!==k&&this._applyChildrenMarix(N)},M.prototype._applyChildrenMarix=function(P){var k=this.getChildren();(0,O.S6)(k,function(N){N.applyMatrix(P)})},M.prototype.addShape=function(){for(var P=[],k=0;k<arguments.length;k++)P[k]=arguments[k];var N=P[0],V=P[1];(0,O.Kn)(N)?V=N:V.type=N;var $=T[V.type];$||($=(0,O.jC)(V.type),T[V.type]=$);var Z=this.getShapeBase(),J=new Z[$](V);return this.add(J),J},M.prototype.addGroup=function(){for(var P=[],k=0;k<arguments.length;k++)P[k]=arguments[k];var N=P[0],V=P[1],$;if((0,O.mf)(N))V?$=new N(V):$=new N({parent:this});else{var Z=N||{},J=this.getGroupBase();$=new J(Z)}return this.add($),$},M.prototype.getCanvas=function(){var P;return this.isCanvas()?P=this:P=this.get("canvas"),P},M.prototype.getShape=function(P,k,N){if(!(0,O.pP)(this))return null;var V=this.getChildren(),$;if(this.isCanvas())$=this._findShape(V,P,k,N);else{var Z=[P,k,1];Z=this.invertFromMatrix(Z),this.isClipped(Z[0],Z[1])||($=this._findShape(V,Z[0],Z[1],N))}return $},M.prototype._findShape=function(P,k,N,V){for(var $=null,Z=P.length-1;Z>=0;Z--){var J=P[Z];if((0,O.pP)(J)&&(J.isGroup()?$=J.getShape(k,N,V):J.isHit(k,N)&&($=J)),$)break}return $},M.prototype.add=function(P){var k=this.getCanvas(),N=this.getChildren(),V=this.get("timeline"),$=P.getParent();$&&w($,P,!1),P.set("parent",this),k&&C(P,k),V&&E(P,V),N.push(P),P.onCanvasChange("add"),this._applyElementMatrix(P)},M.prototype._applyElementMatrix=function(P){var k=this.getTotalMatrix();k&&P.applyMatrix(k)},M.prototype.getChildren=function(){return this.get("children")},M.prototype.sort=function(){var P=this.getChildren();(0,O.S6)(P,function(k,N){return k[_]=N,k}),P.sort(g(function(k,N){return k.get("zIndex")-N.get("zIndex")})),this.onCanvasChange("sort")},M.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var P=this.getChildren(),k=P.length-1;k>=0;k--)P[k].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},M.prototype.destroy=function(){this.get("destroyed")||(this.clear(),m.prototype.destroy.call(this))},M.prototype.getFirst=function(){return this.getChildByIndex(0)},M.prototype.getLast=function(){var P=this.getChildren();return this.getChildByIndex(P.length-1)},M.prototype.getChildByIndex=function(P){var k=this.getChildren();return k[P]},M.prototype.getCount=function(){var P=this.getChildren();return P.length},M.prototype.contain=function(P){var k=this.getChildren();return k.indexOf(P)>-1},M.prototype.removeChild=function(P,k){k===void 0&&(k=!0),this.contain(P)&&P.remove(k)},M.prototype.findAll=function(P){var k=[],N=this.getChildren();return(0,O.S6)(N,function(V){P(V)&&k.push(V),V.isGroup()&&(k=k.concat(V.findAll(P)))}),k},M.prototype.find=function(P){var k=null,N=this.getChildren();return(0,O.S6)(N,function(V){if(P(V)?k=V:V.isGroup()&&(k=V.find(P)),k)return!1}),k},M.prototype.findById=function(P){return this.find(function(k){return k.get("id")===P})},M.prototype.findByClassName=function(P){return this.find(function(k){return k.get("className")===P})},M.prototype.findAllByName=function(P){return this.findAll(function(k){return k.get("name")===P})},M}(I.Z);S.Z=b},67229:function(gt,S,d){"use strict";d.d(S,{Z:function(){return Bt}});var y=d(37050),L=d(49242),I=d(35600);function O(Et,Dt,It){var _t=[0,0,0,0,0,0,0,0,0];return I.fromTranslation(_t,It),I.multiply(Et,_t,Dt)}function T(Et,Dt,It){var _t=[0,0,0,0,0,0,0,0,0];return I.fromRotation(_t,It),I.multiply(Et,_t,Dt)}function _(Et,Dt,It){var _t=[0,0,0,0,0,0,0,0,0];return I.fromScaling(_t,It),I.multiply(Et,_t,Dt)}function C(Et,Dt,It){return I.multiply(Et,It,Dt)}function E(Et,Dt){for(var It=Et?[].concat(Et):[1,0,0,0,1,0,0,0,1],_t=0,Xt=Dt.length;_t<Xt;_t++){var z=Dt[_t];switch(z[0]){case"t":O(It,It,[z[1],z[2]]);break;case"s":_(It,It,[z[1],z[2]]);break;case"r":T(It,It,z[1]);break;case"m":C(It,It,z[1]);break;default:break}}return It}function p(Et,Dt){return Et[0]*Dt[1]-Dt[0]*Et[1]}function w(Et,Dt,It){var _t=vec2.angle(Et,Dt),Xt=p(Et,Dt)>=0;return It?Xt?Math.PI*2-_t:_t:Xt?_t:Math.PI*2-_t}function g(Et,Dt,It){return It?(Et[0]=Dt[1],Et[1]=-1*Dt[0]):(Et[0]=-1*Dt[1],Et[1]=Dt[0]),Et}var b=d(30219),m=d(87109),M=d(95365),P=E,k="matrix",N=["zIndex","capture","visible","type"],V=["repeat"],$=":",Z="*";function J(Et){for(var Dt=[],It=0;It<Et.length;It++)(0,L.isArray)(Et[It])?Dt.push([].concat(Et[It])):Dt.push(Et[It]);return Dt}function lt(Et,Dt){var It={},_t=Dt.attrs;for(var Xt in Et)It[Xt]=_t[Xt];return It}function rt(Et,Dt){var It={},_t=Dt.attr();return(0,L.each)(Et,function(Xt,z){V.indexOf(z)===-1&&!(0,L.isEqual)(_t[z],Xt)&&(It[z]=Xt)}),It}function bt(Et,Dt){if(Dt.onFrame)return Et;var It=Dt.startTime,_t=Dt.delay,Xt=Dt.duration,z=Object.prototype.hasOwnProperty;return(0,L.each)(Et,function(R){It+_t<R.startTime+R.delay+R.duration&&Xt>R.delay&&(0,L.each)(Dt.toAttrs,function(F,D){z.call(R.toAttrs,D)&&(delete R.toAttrs[D],delete R.fromAttrs[D])})}),Et}var Ot=function(Et){(0,y.ZT)(Dt,Et);function Dt(It){var _t=Et.call(this,It)||this;_t.attrs={};var Xt=_t.getDefaultAttrs();return(0,L.mix)(Xt,It.attrs),_t.attrs=Xt,_t.initAttrs(Xt),_t.initAnimate(),_t}return Dt.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},Dt.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},Dt.prototype.onCanvasChange=function(It){},Dt.prototype.initAttrs=function(It){},Dt.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},Dt.prototype.isGroup=function(){return!1},Dt.prototype.getParent=function(){return this.get("parent")},Dt.prototype.getCanvas=function(){return this.get("canvas")},Dt.prototype.attr=function(){for(var It,_t=[],Xt=0;Xt<arguments.length;Xt++)_t[Xt]=arguments[Xt];var z=_t[0],R=_t[1];if(!z)return this.attrs;if((0,L.isObject)(z)){for(var F in z)this.setAttr(F,z[F]);return this.afterAttrsChange(z),this}return _t.length===2?(this.setAttr(z,R),this.afterAttrsChange((It={},It[z]=R,It)),this):this.attrs[z]},Dt.prototype.isClipped=function(It,_t){var Xt=this.getClip();return Xt&&!Xt.isHit(It,_t)},Dt.prototype.setAttr=function(It,_t){var Xt=this.attrs[It];Xt!==_t&&(this.attrs[It]=_t,this.onAttrChange(It,_t,Xt))},Dt.prototype.onAttrChange=function(It,_t,Xt){It==="matrix"&&this.set("totalMatrix",null)},Dt.prototype.afterAttrsChange=function(It){if(this.cfg.isClipShape){var _t=this.cfg.applyTo;_t&&_t.onCanvasChange("clip")}else this.onCanvasChange("attr")},Dt.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},Dt.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},Dt.prototype.setZIndex=function(It){this.set("zIndex",It);var _t=this.getParent();return _t&&_t.sort(),this},Dt.prototype.toFront=function(){var It=this.getParent();if(!!It){var _t=It.getChildren(),Xt=this.get("el"),z=_t.indexOf(this);_t.splice(z,1),_t.push(this),this.onCanvasChange("zIndex")}},Dt.prototype.toBack=function(){var It=this.getParent();if(!!It){var _t=It.getChildren(),Xt=this.get("el"),z=_t.indexOf(this);_t.splice(z,1),_t.unshift(this),this.onCanvasChange("zIndex")}},Dt.prototype.remove=function(It){It===void 0&&(It=!0);var _t=this.getParent();_t?((0,b.As)(_t.getChildren(),this),_t.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),It&&this.destroy()},Dt.prototype.resetMatrix=function(){this.attr(k,this.getDefaultMatrix()),this.onCanvasChange("matrix")},Dt.prototype.getMatrix=function(){return this.attr(k)},Dt.prototype.setMatrix=function(It){this.attr(k,It),this.onCanvasChange("matrix")},Dt.prototype.getTotalMatrix=function(){var It=this.cfg.totalMatrix;if(!It){var _t=this.attr("matrix"),Xt=this.cfg.parentMatrix;Xt&&_t?It=(0,m.xq)(Xt,_t):It=_t||Xt,this.set("totalMatrix",It)}return It},Dt.prototype.applyMatrix=function(It){var _t=this.attr("matrix"),Xt=null;It&&_t?Xt=(0,m.xq)(It,_t):Xt=_t||It,this.set("totalMatrix",Xt),this.set("parentMatrix",It)},Dt.prototype.getDefaultMatrix=function(){return null},Dt.prototype.applyToMatrix=function(It){var _t=this.attr("matrix");return _t?(0,m.rG)(_t,It):It},Dt.prototype.invertFromMatrix=function(It){var _t=this.attr("matrix");if(_t){var Xt=(0,m.U_)(_t);if(Xt)return(0,m.rG)(Xt,It)}return It},Dt.prototype.setClip=function(It){var _t=this.getCanvas(),Xt=null;if(It){var z=this.getShapeBase(),R=(0,L.upperFirst)(It.type),F=z[R];F&&(Xt=new F({type:It.type,isClipShape:!0,applyTo:this,attrs:It.attrs,canvas:_t}))}return this.set("clipShape",Xt),this.onCanvasChange("clip"),Xt},Dt.prototype.getClip=function(){var It=this.cfg.clipShape;return It||null},Dt.prototype.clone=function(){var It=this,_t=this.attrs,Xt={};(0,L.each)(_t,function(F,D){(0,L.isArray)(_t[D])?Xt[D]=J(_t[D]):Xt[D]=_t[D]});var z=this.constructor,R=new z({attrs:Xt});return(0,L.each)(N,function(F){R.set(F,It.get(F))}),R},Dt.prototype.destroy=function(){var It=this.destroyed;It||(this.attrs={},Et.prototype.destroy.call(this))},Dt.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},Dt.prototype.animate=function(){for(var It=[],_t=0;_t<arguments.length;_t++)It[_t]=arguments[_t];if(!(!this.get("timeline")&&!this.get("canvas"))){this.set("animating",!0);var Xt=this.get("timeline");Xt||(Xt=this.get("canvas").get("timeline"),this.set("timeline",Xt));var z=this.get("animations")||[];Xt.timer||Xt.initTimer();var R=It[0],F=It[1],D=It[2],u=D===void 0?"easeLinear":D,W=It[3],it=W===void 0?L.noop:W,nt=It[4],mt=nt===void 0?0:nt,et,ct,Pt,At,ot;(0,L.isFunction)(R)?(et=R,R={}):(0,L.isObject)(R)&&R.onFrame&&(et=R.onFrame,ct=R.repeat),(0,L.isObject)(F)?(ot=F,F=ot.duration,u=ot.easing||"easeLinear",mt=ot.delay||0,ct=ot.repeat||ct||!1,it=ot.callback||L.noop,Pt=ot.pauseCallback||L.noop,At=ot.resumeCallback||L.noop):((0,L.isNumber)(it)&&(mt=it,it=null),(0,L.isFunction)(u)?(it=u,u="easeLinear"):u=u||"easeLinear");var wt=rt(R,this),st={fromAttrs:lt(wt,this),toAttrs:wt,duration:F,easing:u,repeat:ct,callback:it,pauseCallback:Pt,resumeCallback:At,delay:mt,startTime:Xt.getTime(),id:(0,L.uniqueId)(),onFrame:et,pathFormatted:!1};z.length>0?z=bt(z,st):Xt.addAnimator(this),z.push(st),this.set("animations",z),this.set("_pause",{isPaused:!1})}},Dt.prototype.stopAnimate=function(It){var _t=this;It===void 0&&(It=!0);var Xt=this.get("animations");(0,L.each)(Xt,function(z){It&&(z.onFrame?_t.attr(z.onFrame(1)):_t.attr(z.toAttrs)),z.callback&&z.callback()}),this.set("animating",!1),this.set("animations",[])},Dt.prototype.pauseAnimate=function(){var It=this.get("timeline"),_t=this.get("animations"),Xt=It.getTime();return(0,L.each)(_t,function(z){z._paused=!0,z._pauseTime=Xt,z.pauseCallback&&z.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:Xt}),this},Dt.prototype.resumeAnimate=function(){var It=this.get("timeline"),_t=It.getTime(),Xt=this.get("animations"),z=this.get("_pause").pauseTime;return(0,L.each)(Xt,function(R){R.startTime=R.startTime+(_t-z),R._paused=!1,R._pauseTime=null,R.resumeCallback&&R.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",Xt),this},Dt.prototype.emitDelegation=function(It,_t){var Xt=this,z=_t.propagationPath,R=this.getEvents(),F;It==="mouseenter"?F=_t.fromShape:It==="mouseleave"&&(F=_t.toShape);for(var D=function(nt){var mt=z[nt],et=mt.get("name");if(et){if((mt.isGroup()||mt.isCanvas&&mt.isCanvas())&&F&&(0,b.UY)(mt,F))return"break";(0,L.isArray)(et)?(0,L.each)(et,function(ct){Xt.emitDelegateEvent(mt,ct,_t)}):u.emitDelegateEvent(mt,et,_t)}},u=this,W=0;W<z.length;W++){var it=D(W);if(it==="break")break}},Dt.prototype.emitDelegateEvent=function(It,_t,Xt){var z=this.getEvents(),R=_t+$+Xt.type;(z[R]||z[Z])&&(Xt.name=R,Xt.currentTarget=It,Xt.delegateTarget=this,Xt.delegateObject=It.get("delegateObject"),this.emit(R,Xt))},Dt.prototype.translate=function(It,_t){It===void 0&&(It=0),_t===void 0&&(_t=0);var Xt=this.getMatrix(),z=P(Xt,[["t",It,_t]]);return this.setMatrix(z),this},Dt.prototype.move=function(It,_t){var Xt=this.attr("x")||0,z=this.attr("y")||0;return this.translate(It-Xt,_t-z),this},Dt.prototype.moveTo=function(It,_t){return this.move(It,_t)},Dt.prototype.scale=function(It,_t){var Xt=this.getMatrix(),z=P(Xt,[["s",It,_t||It]]);return this.setMatrix(z),this},Dt.prototype.rotate=function(It){var _t=this.getMatrix(),Xt=P(_t,[["r",It]]);return this.setMatrix(Xt),this},Dt.prototype.rotateAtStart=function(It){var _t=this.attr(),Xt=_t.x,z=_t.y,R=this.getMatrix(),F=P(R,[["t",-Xt,-z],["r",It],["t",Xt,z]]);return this.setMatrix(F),this},Dt.prototype.rotateAtPoint=function(It,_t,Xt){var z=this.getMatrix(),R=P(z,[["t",-It,-_t],["r",Xt],["t",It,_t]]);return this.setMatrix(R),this},Dt}(M.Z),Bt=Ot},12352:function(gt,S,d){"use strict";var y=d(37050),L=d(29598),I=function(O){(0,y.ZT)(T,O);function T(){return O!==null&&O.apply(this,arguments)||this}return T.prototype.isGroup=function(){return!0},T.prototype.isEntityGroup=function(){return!1},T.prototype.clone=function(){for(var _=O.prototype.clone.call(this),C=this.getChildren(),E=0;E<C.length;E++){var p=C[E];_.add(p.clone())}return _},T}(L.Z);S.Z=I},86544:function(gt,S,d){"use strict";var y=d(37050),L=d(67229),I=d(87109),O=function(T){(0,y.ZT)(_,T);function _(C){return T.call(this,C)||this}return _.prototype._isInBBox=function(C,E){var p=this.getBBox();return p.minX<=C&&p.maxX>=C&&p.minY<=E&&p.maxY>=E},_.prototype.afterAttrsChange=function(C){T.prototype.afterAttrsChange.call(this,C),this.clearCacheBBox()},_.prototype.getBBox=function(){var C=this.cfg.bbox;return C||(C=this.calculateBBox(),this.set("bbox",C)),C},_.prototype.getCanvasBBox=function(){var C=this.cfg.canvasBBox;return C||(C=this.calculateCanvasBBox(),this.set("canvasBBox",C)),C},_.prototype.applyMatrix=function(C){T.prototype.applyMatrix.call(this,C),this.set("canvasBBox",null)},_.prototype.calculateCanvasBBox=function(){var C=this.getBBox(),E=this.getTotalMatrix(),p=C.minX,w=C.minY,g=C.maxX,b=C.maxY;if(E){var m=(0,I.rG)(E,[C.minX,C.minY]),M=(0,I.rG)(E,[C.maxX,C.minY]),P=(0,I.rG)(E,[C.minX,C.maxY]),k=(0,I.rG)(E,[C.maxX,C.maxY]);p=Math.min(m[0],M[0],P[0],k[0]),g=Math.max(m[0],M[0],P[0],k[0]),w=Math.min(m[1],M[1],P[1],k[1]),b=Math.max(m[1],M[1],P[1],k[1])}var N=this.attrs;if(N.shadowColor){var V=N.shadowBlur,$=V===void 0?0:V,Z=N.shadowOffsetX,J=Z===void 0?0:Z,lt=N.shadowOffsetY,rt=lt===void 0?0:lt,bt=p-$+J,Ot=g+$+J,Bt=w-$+rt,Et=b+$+rt;p=Math.min(p,bt),g=Math.max(g,Ot),w=Math.min(w,Bt),b=Math.max(b,Et)}return{x:p,y:w,minX:p,minY:w,maxX:g,maxY:b,width:g-p,height:b-w}},_.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},_.prototype.isClipShape=function(){return this.get("isClipShape")},_.prototype.isInShape=function(C,E){return!1},_.prototype.isOnlyHitBox=function(){return!1},_.prototype.isHit=function(C,E){var p=this.get("startArrowShape"),w=this.get("endArrowShape"),g=[C,E,1];g=this.invertFromMatrix(g);var b=g[0],m=g[1],M=this._isInBBox(b,m);return this.isOnlyHitBox()?M:!!(M&&!this.isClipped(b,m)&&(this.isInShape(b,m)||p&&p.isHit(b,m)||w&&w.isHit(b,m)))},_}(L.Z);S.Z=O},51464:function(gt,S,d){"use strict";d.d(S,{_:function(){return I},C:function(){return O}});var y=d(13681),L={};function I(T){return L[T.toLowerCase()]||y[T]}function O(T,_){L[T.toLowerCase()]=_}},92146:function(gt,S,d){"use strict";d.d(S,{b:function(){return I},W:function(){return L}});var y=new Map;function L(Z,J){y.set(Z,J)}function I(Z){return y.get(Z)}function O(Z){var J=Z.attr(),lt=J.x,rt=J.y,bt=J.width,Ot=J.height;return{x:lt,y:rt,width:bt,height:Ot}}function T(Z){var J=Z.attr(),lt=J.x,rt=J.y,bt=J.r;return{x:lt-bt,y:rt-bt,width:bt*2,height:bt*2}}var _=d(89838);function C(Z,J){return!Z||!J?Z||J:{minX:Math.min(Z.minX,J.minX),minY:Math.min(Z.minY,J.minY),maxX:Math.max(Z.maxX,J.maxX),maxY:Math.max(Z.maxY,J.maxY)}}function E(Z,J){var lt=Z.get("startArrowShape"),rt=Z.get("endArrowShape"),bt=null,Ot=null;return lt&&(bt=lt.getCanvasBBox(),J=C(J,bt)),rt&&(Ot=rt.getCanvasBBox(),J=C(J,Ot)),J}function p(Z){for(var J=Z.attr(),lt=J.points,rt=[],bt=[],Ot=0;Ot<lt.length;Ot++){var Bt=lt[Ot];rt.push(Bt[0]),bt.push(Bt[1])}var Et=_.Util.getBBoxByArray(rt,bt),Dt=Et.x,It=Et.y,_t=Et.width,Xt=Et.height,z={minX:Dt,minY:It,maxX:Dt+_t,maxY:It+Xt};return z=E(Z,z),{x:z.minX,y:z.minY,width:z.maxX-z.minX,height:z.maxY-z.minY}}function w(Z){for(var J=Z.attr(),lt=J.points,rt=[],bt=[],Ot=0;Ot<lt.length;Ot++){var Bt=lt[Ot];rt.push(Bt[0]),bt.push(Bt[1])}return _.Util.getBBoxByArray(rt,bt)}var g=d(84723);function b(Z){var J=Z.attr(),lt=J.x,rt=J.y,bt=J.text,Ot=J.fontSize,Bt=J.lineHeight,Et=J.font;Et||(Et=(0,g.$O)(J));var Dt=(0,g.mY)(bt,Et),It;if(!Dt)It={x:lt,y:rt,width:0,height:0};else{var _t=J.textAlign,Xt=J.textBaseline,z=(0,g.FE)(bt,Ot,Bt),R={x:lt,y:rt-z};_t&&(_t==="end"||_t==="right"?R.x-=Dt:_t==="center"&&(R.x-=Dt/2)),Xt&&(Xt==="top"?R.y+=z:Xt==="middle"&&(R.y+=z/2)),It={x:R.x,y:R.y,width:Dt,height:z}}return It}var m=d(57350),M=d(49242);function P(Z,J){for(var lt=[],rt=[],bt=[],Ot=0;Ot<Z.length;Ot++){var Bt=Z[Ot],Et=Bt.currentPoint,Dt=Bt.params,It=Bt.prePoint,_t=void 0;switch(Bt.command){case"Q":_t=_.Quad.box(It[0],It[1],Dt[1],Dt[2],Dt[3],Dt[4]);break;case"C":_t=_.Cubic.box(It[0],It[1],Dt[1],Dt[2],Dt[3],Dt[4],Dt[5],Dt[6]);break;case"A":var Xt=Bt.arcParams;_t=_.Arc.box(Xt.cx,Xt.cy,Xt.rx,Xt.ry,Xt.xRotation,Xt.startAngle,Xt.endAngle);break;default:lt.push(Et[0]),rt.push(Et[1]);break}_t&&(Bt.box=_t,lt.push(_t.x,_t.x+_t.width),rt.push(_t.y,_t.y+_t.height)),J&&(Bt.command==="L"||Bt.command==="M")&&Bt.prePoint&&Bt.nextPoint&&bt.push(Bt)}lt=lt.filter(function(W){return!Number.isNaN(W)&&W!==Infinity&&W!==-Infinity}),rt=rt.filter(function(W){return!Number.isNaN(W)&&W!==Infinity&&W!==-Infinity});var z=(0,M.min)(lt),R=(0,M.min)(rt),F=(0,M.max)(lt),D=(0,M.max)(rt);if(bt.length===0)return{x:z,y:R,width:F-z,height:D-R};for(var Ot=0;Ot<bt.length;Ot++){var Bt=bt[Ot],Et=Bt.currentPoint,u=void 0;Et[0]===z?(u=k(Bt,J),z=z-u.xExtra):Et[0]===F&&(u=k(Bt,J),F=F+u.xExtra),Et[1]===R?(u=k(Bt,J),R=R-u.yExtra):Et[1]===D&&(u=k(Bt,J),D=D+u.yExtra)}return{x:z,y:R,width:F-z,height:D-R}}function k(Z,J){var lt=Z.prePoint,rt=Z.currentPoint,bt=Z.nextPoint,Ot=Math.pow(rt[0]-lt[0],2)+Math.pow(rt[1]-lt[1],2),Bt=Math.pow(rt[0]-bt[0],2)+Math.pow(rt[1]-bt[1],2),Et=Math.pow(lt[0]-bt[0],2)+Math.pow(lt[1]-bt[1],2),Dt=Math.acos((Ot+Bt-Et)/(2*Math.sqrt(Ot)*Math.sqrt(Bt)));if(!Dt||Math.sin(Dt)===0||(0,M.isNumberEqual)(Dt,0))return{xExtra:0,yExtra:0};var It=Math.abs(Math.atan2(bt[1]-rt[1],bt[0]-rt[0])),_t=Math.abs(Math.atan2(bt[0]-rt[0],bt[1]-rt[1]));It=It>Math.PI/2?Math.PI-It:It,_t=_t>Math.PI/2?Math.PI-_t:_t;var Xt={xExtra:Math.cos(Dt/2-It)*(J/2*(1/Math.sin(Dt/2)))-J/2||0,yExtra:Math.cos(_t-Dt/2)*(J/2*(1/Math.sin(Dt/2)))-J/2||0};return Xt}function N(Z){var J=Z.attr(),lt=J.path,rt=J.stroke,bt=rt?J.lineWidth:0,Ot=Z.get("segments")||(0,m.path2Segments)(lt),Bt=P(Ot,bt),Et=Bt.x,Dt=Bt.y,It=Bt.width,_t=Bt.height,Xt={minX:Et,minY:Dt,maxX:Et+It,maxY:Dt+_t};return Xt=E(Z,Xt),{x:Xt.minX,y:Xt.minY,width:Xt.maxX-Xt.minX,height:Xt.maxY-Xt.minY}}function V(Z){var J=Z.attr(),lt=J.x1,rt=J.y1,bt=J.x2,Ot=J.y2,Bt=Math.min(lt,bt),Et=Math.max(lt,bt),Dt=Math.min(rt,Ot),It=Math.max(rt,Ot),_t={minX:Bt,maxX:Et,minY:Dt,maxY:It};return _t=E(Z,_t),{x:_t.minX,y:_t.minY,width:_t.maxX-_t.minX,height:_t.maxY-_t.minY}}function $(Z){var J=Z.attr(),lt=J.x,rt=J.y,bt=J.rx,Ot=J.ry;return{x:lt-bt,y:rt-Ot,width:bt*2,height:Ot*2}}L("rect",O),L("image",O),L("circle",T),L("marker",T),L("polyline",p),L("polygon",w),L("text",b),L("path",N),L("line",V),L("ellipse",$)},76615:function(gt,S){"use strict";var d=function(){function y(L,I){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=L,this.name=L,this.originalEvent=I,this.timeStamp=I.timeStamp}return y.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},y.prototype.stopPropagation=function(){this.propagationStopped=!0},y.prototype.toString=function(){var L=this.type;return"[Event (type="+L+")]"},y.prototype.save=function(){},y.prototype.restore=function(){},y}();S.Z=d},96533:function(gt,S,d){"use strict";d.r(S),d.d(S,{Event:function(){return E.Z},Base:function(){return p.Z},AbstractCanvas:function(){return w.Z},AbstractGroup:function(){return g.Z},AbstractShape:function(){return b.Z},PathUtil:function(){return y},getBBoxMethod:function(){return m.b},registerBBox:function(){return m.W},getTextHeight:function(){return M.FE},assembleFont:function(){return M.$O},isAllowCapture:function(){return P.pP},multiplyVec2:function(){return k.rG},invert:function(){return k.U_},getOffScreenContext:function(){return N.L},registerEasing:function(){return V.C},version:function(){return $}});var y=d(24699),L=d(36438),I=d.n(L),O={};for(var T in L)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","registerBBox","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","registerEasing","version"].indexOf(T)<0&&(O[T]=function(Z){return L[Z]}.bind(0,T));d.d(S,O);var _=d(25946),C=d.n(_),O={};for(var T in _)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","registerBBox","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","registerEasing","version"].indexOf(T)<0&&(O[T]=function(J){return _[J]}.bind(0,T));d.d(S,O);var E=d(76615),p=d(95365),w=d(57789),g=d(12352),b=d(86544),m=d(92146),M=d(84723),P=d(30219),k=d(87109),N=d(71319),V=d(51464),$="0.5.11"},25946:function(){},36438:function(){},87109:function(gt,S,d){"use strict";d.d(S,{xq:function(){return y},rG:function(){return L},U_:function(){return I}});function y(O,T){var _=[],C=O[0],E=O[1],p=O[2],w=O[3],g=O[4],b=O[5],m=O[6],M=O[7],P=O[8],k=T[0],N=T[1],V=T[2],$=T[3],Z=T[4],J=T[5],lt=T[6],rt=T[7],bt=T[8];return _[0]=k*C+N*w+V*m,_[1]=k*E+N*g+V*M,_[2]=k*p+N*b+V*P,_[3]=$*C+Z*w+J*m,_[4]=$*E+Z*g+J*M,_[5]=$*p+Z*b+J*P,_[6]=lt*C+rt*w+bt*m,_[7]=lt*E+rt*g+bt*M,_[8]=lt*p+rt*b+bt*P,_}function L(O,T){var _=[],C=T[0],E=T[1];return _[0]=O[0]*C+O[3]*E+O[6],_[1]=O[1]*C+O[4]*E+O[7],_}function I(O){var T=[],_=O[0],C=O[1],E=O[2],p=O[3],w=O[4],g=O[5],b=O[6],m=O[7],M=O[8],P=M*w-g*m,k=-M*p+g*b,N=m*p-w*b,V=_*P+C*k+E*N;return V?(V=1/V,T[0]=P*V,T[1]=(-M*C+E*m)*V,T[2]=(g*C-E*w)*V,T[3]=k*V,T[4]=(M*_-E*b)*V,T[5]=(-g*_+E*p)*V,T[6]=N*V,T[7]=(-m*_+C*b)*V,T[8]=(w*_-C*p)*V,T):null}},71319:function(gt,S,d){"use strict";d.d(S,{L:function(){return L}});var y=null;function L(){if(!y){var I=document.createElement("canvas");I.width=1,I.height=1,y=I.getContext("2d")}return y}},24699:function(gt,S,d){"use strict";d.r(S),d.d(S,{catmullRomToBezier:function(){return _},fillPath:function(){return Xt},fillPathByDiff:function(){return D},formatPath:function(){return it},intersection:function(){return Et},parsePathArray:function(){return M},parsePathString:function(){return T},pathToAbsolute:function(){return E},pathToCurve:function(){return b},rectPath:function(){return Z}});var y=d(49242),L=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,I=new RegExp("([a-z])["+L+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+L+"]*,?["+L+"]*)+)","ig"),O=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+L+"]*,?["+L+"]*","ig"),T=function(nt){if(!nt)return null;if((0,y.isArray)(nt))return nt;var mt={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},et=[];return String(nt).replace(I,function(ct,Pt,At){var ot=[],wt=Pt.toLowerCase();if(At.replace(O,function(st,K){K&&ot.push(+K)}),wt==="m"&&ot.length>2&&(et.push([Pt].concat(ot.splice(0,2))),wt="l",Pt=Pt==="m"?"l":"L"),wt==="o"&&ot.length===1&&et.push([Pt,ot[0]]),wt==="r")et.push([Pt].concat(ot));else for(;ot.length>=mt[wt]&&(et.push([Pt].concat(ot.splice(0,mt[wt]))),!!mt[wt]););return nt}),et},_=function(nt,mt){for(var et=[],ct=0,Pt=nt.length;Pt-2*!mt>ct;ct+=2){var At=[{x:+nt[ct-2],y:+nt[ct-1]},{x:+nt[ct],y:+nt[ct+1]},{x:+nt[ct+2],y:+nt[ct+3]},{x:+nt[ct+4],y:+nt[ct+5]}];mt?ct?Pt-4===ct?At[3]={x:+nt[0],y:+nt[1]}:Pt-2===ct&&(At[2]={x:+nt[0],y:+nt[1]},At[3]={x:+nt[2],y:+nt[3]}):At[0]={x:+nt[Pt-2],y:+nt[Pt-1]}:Pt-4===ct?At[3]=At[2]:ct||(At[0]={x:+nt[ct],y:+nt[ct+1]}),et.push(["C",(-At[0].x+6*At[1].x+At[2].x)/6,(-At[0].y+6*At[1].y+At[2].y)/6,(At[1].x+6*At[2].x-At[3].x)/6,(At[1].y+6*At[2].y-At[3].y)/6,At[2].x,At[2].y])}return et},C=function(nt,mt,et,ct,Pt){var At=[];if(Pt===null&&ct===null&&(ct=et),nt=+nt,mt=+mt,et=+et,ct=+ct,Pt!==null){var ot=Math.PI/180,wt=nt+et*Math.cos(-ct*ot),st=nt+et*Math.cos(-Pt*ot),K=mt+et*Math.sin(-ct*ot),tt=mt+et*Math.sin(-Pt*ot);At=[["M",wt,K],["A",et,et,0,+(Pt-ct>180),0,st,tt]]}else At=[["M",nt,mt],["m",0,-ct],["a",et,ct,0,1,1,0,2*ct],["a",et,ct,0,1,1,0,-2*ct],["z"]];return At},E=function(nt){if(nt=T(nt),!nt||!nt.length)return[["M",0,0]];var mt=[],et=0,ct=0,Pt=0,At=0,ot=0,wt,st;nt[0][0]==="M"&&(et=+nt[0][1],ct=+nt[0][2],Pt=et,At=ct,ot++,mt[0]=["M",et,ct]);for(var K=nt.length===3&&nt[0][0]==="M"&&nt[1][0].toUpperCase()==="R"&&nt[2][0].toUpperCase()==="Z",tt=void 0,U=void 0,j=ot,at=nt.length;j<at;j++){if(mt.push(tt=[]),U=nt[j],wt=U[0],wt!==wt.toUpperCase())switch(tt[0]=wt.toUpperCase(),tt[0]){case"A":tt[1]=U[1],tt[2]=U[2],tt[3]=U[3],tt[4]=U[4],tt[5]=U[5],tt[6]=+U[6]+et,tt[7]=+U[7]+ct;break;case"V":tt[1]=+U[1]+ct;break;case"H":tt[1]=+U[1]+et;break;case"R":st=[et,ct].concat(U.slice(1));for(var vt=2,Ft=st.length;vt<Ft;vt++)st[vt]=+st[vt]+et,st[++vt]=+st[vt]+ct;mt.pop(),mt=mt.concat(_(st,K));break;case"O":mt.pop(),st=C(et,ct,U[1],U[2]),st.push(st[0]),mt=mt.concat(st);break;case"U":mt.pop(),mt=mt.concat(C(et,ct,U[1],U[2],U[3])),tt=["U"].concat(mt[mt.length-1].slice(-2));break;case"M":Pt=+U[1]+et,At=+U[2]+ct;break;default:for(var vt=1,Ft=U.length;vt<Ft;vt++)tt[vt]=+U[vt]+(vt%2?et:ct)}else if(wt==="R")st=[et,ct].concat(U.slice(1)),mt.pop(),mt=mt.concat(_(st,K)),tt=["R"].concat(U.slice(-2));else if(wt==="O")mt.pop(),st=C(et,ct,U[1],U[2]),st.push(st[0]),mt=mt.concat(st);else if(wt==="U")mt.pop(),mt=mt.concat(C(et,ct,U[1],U[2],U[3])),tt=["U"].concat(mt[mt.length-1].slice(-2));else for(var Jt=0,le=U.length;Jt<le;Jt++)tt[Jt]=U[Jt];if(wt=wt.toUpperCase(),wt!=="O")switch(tt[0]){case"Z":et=+Pt,ct=+At;break;case"H":et=tt[1];break;case"V":ct=tt[1];break;case"M":Pt=tt[tt.length-2],At=tt[tt.length-1];break;default:et=tt[tt.length-2],ct=tt[tt.length-1]}}return mt},p=function(nt,mt,et,ct){return[nt,mt,et,ct,et,ct]},w=function(nt,mt,et,ct,Pt,At){var ot=1/3,wt=2/3;return[ot*nt+wt*et,ot*mt+wt*ct,ot*Pt+wt*et,ot*At+wt*ct,Pt,At]},g=function(nt,mt,et,ct,Pt,At,ot,wt,st,K){et===ct&&(et+=1);var tt=Math.PI*120/180,U=Math.PI/180*(+Pt||0),j=[],at,vt,Ft,Jt,le,ge=function(Ge,qe,or){var rr=Ge*Math.cos(or)-qe*Math.sin(or),ur=Ge*Math.sin(or)+qe*Math.cos(or);return{x:rr,y:ur}};if(K)vt=K[0],Ft=K[1],Jt=K[2],le=K[3];else{at=ge(nt,mt,-U),nt=at.x,mt=at.y,at=ge(wt,st,-U),wt=at.x,st=at.y,nt===wt&&mt===st&&(wt+=1,st+=1);var Zt=(nt-wt)/2,kt=(mt-st)/2,zt=Zt*Zt/(et*et)+kt*kt/(ct*ct);zt>1&&(zt=Math.sqrt(zt),et=zt*et,ct=zt*ct);var ne=et*et,de=ct*ct,Ce=(At===ot?-1:1)*Math.sqrt(Math.abs((ne*de-ne*kt*kt-de*Zt*Zt)/(ne*kt*kt+de*Zt*Zt)));Jt=Ce*et*kt/ct+(nt+wt)/2,le=Ce*-ct*Zt/et+(mt+st)/2,vt=Math.asin(((mt-le)/ct).toFixed(9)),Ft=Math.asin(((st-le)/ct).toFixed(9)),vt=nt<Jt?Math.PI-vt:vt,Ft=wt<Jt?Math.PI-Ft:Ft,vt<0&&(vt=Math.PI*2+vt),Ft<0&&(Ft=Math.PI*2+Ft),ot&&vt>Ft&&(vt=vt-Math.PI*2),!ot&&Ft>vt&&(Ft=Ft-Math.PI*2)}var De=Ft-vt;if(Math.abs(De)>tt){var ze=Ft,er=wt,yr=st;Ft=vt+tt*(ot&&Ft>vt?1:-1),wt=Jt+et*Math.cos(Ft),st=le+ct*Math.sin(Ft),j=g(wt,st,et,ct,Pt,0,ot,er,yr,[Ft,ze,Jt,le])}De=Ft-vt;var tn=Math.cos(vt),nn=Math.sin(vt),gn=Math.cos(Ft),yn=Math.sin(Ft),jt=Math.tan(De/4),ee=4/3*et*jt,se=4/3*ct*jt,fe=[nt,mt],we=[nt+ee*nn,mt-se*tn],Ee=[wt+ee*yn,st-se*gn],Oe=[wt,st];if(we[0]=2*fe[0]-we[0],we[1]=2*fe[1]-we[1],K)return[we,Ee,Oe].concat(j);j=[we,Ee,Oe].concat(j).join().split(",");for(var Ie=[],xe=0,Ze=j.length;xe<Ze;xe++)Ie[xe]=xe%2?ge(j[xe-1],j[xe],U).y:ge(j[xe],j[xe+1],U).x;return Ie},b=function(nt,mt){var et=E(nt),ct=mt&&E(mt),Pt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},At={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ot=[],wt=[],st="",K="",tt,U=function(Zt,kt,zt){var ne,de;if(!Zt)return["C",kt.x,kt.y,kt.x,kt.y,kt.x,kt.y];switch(!(Zt[0]in{T:1,Q:1})&&(kt.qx=kt.qy=null),Zt[0]){case"M":kt.X=Zt[1],kt.Y=Zt[2];break;case"A":Zt=["C"].concat(g.apply(0,[kt.x,kt.y].concat(Zt.slice(1))));break;case"S":zt==="C"||zt==="S"?(ne=kt.x*2-kt.bx,de=kt.y*2-kt.by):(ne=kt.x,de=kt.y),Zt=["C",ne,de].concat(Zt.slice(1));break;case"T":zt==="Q"||zt==="T"?(kt.qx=kt.x*2-kt.qx,kt.qy=kt.y*2-kt.qy):(kt.qx=kt.x,kt.qy=kt.y),Zt=["C"].concat(w(kt.x,kt.y,kt.qx,kt.qy,Zt[1],Zt[2]));break;case"Q":kt.qx=Zt[1],kt.qy=Zt[2],Zt=["C"].concat(w(kt.x,kt.y,Zt[1],Zt[2],Zt[3],Zt[4]));break;case"L":Zt=["C"].concat(p(kt.x,kt.y,Zt[1],Zt[2]));break;case"H":Zt=["C"].concat(p(kt.x,kt.y,Zt[1],kt.y));break;case"V":Zt=["C"].concat(p(kt.x,kt.y,kt.x,Zt[1]));break;case"Z":Zt=["C"].concat(p(kt.x,kt.y,kt.X,kt.Y));break;default:break}return Zt},j=function(Zt,kt){if(Zt[kt].length>7){Zt[kt].shift();for(var zt=Zt[kt];zt.length;)ot[kt]="A",ct&&(wt[kt]="A"),Zt.splice(kt++,0,["C"].concat(zt.splice(0,6)));Zt.splice(kt,1),tt=Math.max(et.length,ct&&ct.length||0)}},at=function(Zt,kt,zt,ne,de){Zt&&kt&&Zt[de][0]==="M"&&kt[de][0]!=="M"&&(kt.splice(de,0,["M",ne.x,ne.y]),zt.bx=0,zt.by=0,zt.x=Zt[de][1],zt.y=Zt[de][2],tt=Math.max(et.length,ct&&ct.length||0))};tt=Math.max(et.length,ct&&ct.length||0);for(var vt=0;vt<tt;vt++){et[vt]&&(st=et[vt][0]),st!=="C"&&(ot[vt]=st,vt&&(K=ot[vt-1])),et[vt]=U(et[vt],Pt,K),ot[vt]!=="A"&&st==="C"&&(ot[vt]="C"),j(et,vt),ct&&(ct[vt]&&(st=ct[vt][0]),st!=="C"&&(wt[vt]=st,vt&&(K=wt[vt-1])),ct[vt]=U(ct[vt],At,K),wt[vt]!=="A"&&st==="C"&&(wt[vt]="C"),j(ct,vt)),at(et,ct,Pt,At,vt),at(ct,et,At,Pt,vt);var Ft=et[vt],Jt=ct&&ct[vt],le=Ft.length,ge=ct&&Jt.length;Pt.x=Ft[le-2],Pt.y=Ft[le-1],Pt.bx=parseFloat(Ft[le-4])||Pt.x,Pt.by=parseFloat(Ft[le-3])||Pt.y,At.bx=ct&&(parseFloat(Jt[ge-4])||At.x),At.by=ct&&(parseFloat(Jt[ge-3])||At.y),At.x=ct&&Jt[ge-2],At.y=ct&&Jt[ge-1]}return ct?[et,ct]:et},m=/,?([a-z]),?/gi,M=function(nt){return nt.join(",").replace(m,"$1")},P=function(nt,mt,et,ct,Pt){var At=-3*mt+9*et-9*ct+3*Pt,ot=nt*At+6*mt-12*et+6*ct;return nt*ot-3*mt+3*et},k=function(nt,mt,et,ct,Pt,At,ot,wt,st){st===null&&(st=1),st=st>1?1:st<0?0:st;for(var K=st/2,tt=12,U=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],j=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],at=0,vt=0;vt<tt;vt++){var Ft=K*U[vt]+K,Jt=P(Ft,nt,et,Pt,ot),le=P(Ft,mt,ct,At,wt),ge=Jt*Jt+le*le;at+=j[vt]*Math.sqrt(ge)}return K*at},N=function(nt,mt,et,ct,Pt,At,ot,wt){for(var st=[],K=[[],[]],tt,U,j,at,vt=0;vt<2;++vt){if(vt===0?(U=6*nt-12*et+6*Pt,tt=-3*nt+9*et-9*Pt+3*ot,j=3*et-3*nt):(U=6*mt-12*ct+6*At,tt=-3*mt+9*ct-9*At+3*wt,j=3*ct-3*mt),Math.abs(tt)<1e-12){if(Math.abs(U)<1e-12)continue;at=-j/U,at>0&&at<1&&st.push(at);continue}var Ft=U*U-4*j*tt,Jt=Math.sqrt(Ft);if(!(Ft<0)){var le=(-U+Jt)/(2*tt);le>0&&le<1&&st.push(le);var ge=(-U-Jt)/(2*tt);ge>0&&ge<1&&st.push(ge)}}for(var Zt=st.length,kt=Zt,zt;Zt--;)at=st[Zt],zt=1-at,K[0][Zt]=zt*zt*zt*nt+3*zt*zt*at*et+3*zt*at*at*Pt+at*at*at*ot,K[1][Zt]=zt*zt*zt*mt+3*zt*zt*at*ct+3*zt*at*at*At+at*at*at*wt;return K[0][kt]=nt,K[1][kt]=mt,K[0][kt+1]=ot,K[1][kt+1]=wt,K[0].length=K[1].length=kt+2,{min:{x:Math.min.apply(0,K[0]),y:Math.min.apply(0,K[1])},max:{x:Math.max.apply(0,K[0]),y:Math.max.apply(0,K[1])}}},V=function(nt,mt,et,ct,Pt,At,ot,wt){if(!(Math.max(nt,et)<Math.min(Pt,ot)||Math.min(nt,et)>Math.max(Pt,ot)||Math.max(mt,ct)<Math.min(At,wt)||Math.min(mt,ct)>Math.max(At,wt))){var st=(nt*ct-mt*et)*(Pt-ot)-(nt-et)*(Pt*wt-At*ot),K=(nt*ct-mt*et)*(At-wt)-(mt-ct)*(Pt*wt-At*ot),tt=(nt-et)*(At-wt)-(mt-ct)*(Pt-ot);if(!!tt){var U=st/tt,j=K/tt,at=+U.toFixed(2),vt=+j.toFixed(2);if(!(at<+Math.min(nt,et).toFixed(2)||at>+Math.max(nt,et).toFixed(2)||at<+Math.min(Pt,ot).toFixed(2)||at>+Math.max(Pt,ot).toFixed(2)||vt<+Math.min(mt,ct).toFixed(2)||vt>+Math.max(mt,ct).toFixed(2)||vt<+Math.min(At,wt).toFixed(2)||vt>+Math.max(At,wt).toFixed(2)))return{x:U,y:j}}}},$=function(nt,mt,et){return mt>=nt.x&&mt<=nt.x+nt.width&&et>=nt.y&&et<=nt.y+nt.height},Z=function(nt,mt,et,ct,Pt){if(Pt)return[["M",+nt+ +Pt,mt],["l",et-Pt*2,0],["a",Pt,Pt,0,0,1,Pt,Pt],["l",0,ct-Pt*2],["a",Pt,Pt,0,0,1,-Pt,Pt],["l",Pt*2-et,0],["a",Pt,Pt,0,0,1,-Pt,-Pt],["l",0,Pt*2-ct],["a",Pt,Pt,0,0,1,Pt,-Pt],["z"]];var At=[["M",nt,mt],["l",et,0],["l",0,ct],["l",-et,0],["z"]];return At.parsePathArray=M,At},J=function(nt,mt,et,ct){return nt===null&&(nt=mt=et=ct=0),mt===null&&(mt=nt.y,et=nt.width,ct=nt.height,nt=nt.x),{x:nt,y:mt,width:et,w:et,height:ct,h:ct,x2:nt+et,y2:mt+ct,cx:nt+et/2,cy:mt+ct/2,r1:Math.min(et,ct)/2,r2:Math.max(et,ct)/2,r0:Math.sqrt(et*et+ct*ct)/2,path:Z(nt,mt,et,ct),vb:[nt,mt,et,ct].join(" ")}},lt=function(nt,mt){return nt=J(nt),mt=J(mt),$(mt,nt.x,nt.y)||$(mt,nt.x2,nt.y)||$(mt,nt.x,nt.y2)||$(mt,nt.x2,nt.y2)||$(nt,mt.x,mt.y)||$(nt,mt.x2,mt.y)||$(nt,mt.x,mt.y2)||$(nt,mt.x2,mt.y2)||(nt.x<mt.x2&&nt.x>mt.x||mt.x<nt.x2&&mt.x>nt.x)&&(nt.y<mt.y2&&nt.y>mt.y||mt.y<nt.y2&&mt.y>nt.y)},rt=function(nt,mt,et,ct,Pt,At,ot,wt){(0,y.isArray)(nt)||(nt=[nt,mt,et,ct,Pt,At,ot,wt]);var st=N.apply(null,nt);return J(st.min.x,st.min.y,st.max.x-st.min.x,st.max.y-st.min.y)},bt=function(nt,mt,et,ct,Pt,At,ot,wt,st){var K=1-st,tt=Math.pow(K,3),U=Math.pow(K,2),j=st*st,at=j*st,vt=tt*nt+U*3*st*et+K*3*st*st*Pt+at*ot,Ft=tt*mt+U*3*st*ct+K*3*st*st*At+at*wt,Jt=nt+2*st*(et-nt)+j*(Pt-2*et+nt),le=mt+2*st*(ct-mt)+j*(At-2*ct+mt),ge=et+2*st*(Pt-et)+j*(ot-2*Pt+et),Zt=ct+2*st*(At-ct)+j*(wt-2*At+ct),kt=K*nt+st*et,zt=K*mt+st*ct,ne=K*Pt+st*ot,de=K*At+st*wt,Ce=90-Math.atan2(Jt-ge,le-Zt)*180/Math.PI;return{x:vt,y:Ft,m:{x:Jt,y:le},n:{x:ge,y:Zt},start:{x:kt,y:zt},end:{x:ne,y:de},alpha:Ce}},Ot=function(nt,mt,et){var ct=rt(nt),Pt=rt(mt);if(!lt(ct,Pt))return et?0:[];for(var At=k.apply(0,nt),ot=k.apply(0,mt),wt=~~(At/8),st=~~(ot/8),K=[],tt=[],U={},j=et?0:[],at=0;at<wt+1;at++){var vt=bt.apply(0,nt.concat(at/wt));K.push({x:vt.x,y:vt.y,t:at/wt})}for(var at=0;at<st+1;at++){var vt=bt.apply(0,mt.concat(at/st));tt.push({x:vt.x,y:vt.y,t:at/st})}for(var at=0;at<wt;at++)for(var Ft=0;Ft<st;Ft++){var Jt=K[at],le=K[at+1],ge=tt[Ft],Zt=tt[Ft+1],kt=Math.abs(le.x-Jt.x)<.001?"y":"x",zt=Math.abs(Zt.x-ge.x)<.001?"y":"x",ne=V(Jt.x,Jt.y,le.x,le.y,ge.x,ge.y,Zt.x,Zt.y);if(ne){if(U[ne.x.toFixed(4)]===ne.y.toFixed(4))continue;U[ne.x.toFixed(4)]=ne.y.toFixed(4);var de=Jt.t+Math.abs((ne[kt]-Jt[kt])/(le[kt]-Jt[kt]))*(le.t-Jt.t),Ce=ge.t+Math.abs((ne[zt]-ge[zt])/(Zt[zt]-ge[zt]))*(Zt.t-ge.t);de>=0&&de<=1&&Ce>=0&&Ce<=1&&(et?j+=1:j.push({x:ne.x,y:ne.y,t1:de,t2:Ce}))}}return j},Bt=function(nt,mt,et){nt=b(nt),mt=b(mt);for(var ct,Pt,At,ot,wt,st,K,tt,U,j,at=et?0:[],vt=0,Ft=nt.length;vt<Ft;vt++){var Jt=nt[vt];if(Jt[0]==="M")ct=wt=Jt[1],Pt=st=Jt[2];else{Jt[0]==="C"?(U=[ct,Pt].concat(Jt.slice(1)),ct=U[6],Pt=U[7]):(U=[ct,Pt,ct,Pt,wt,st,wt,st],ct=wt,Pt=st);for(var le=0,ge=mt.length;le<ge;le++){var Zt=mt[le];if(Zt[0]==="M")At=K=Zt[1],ot=tt=Zt[2];else{Zt[0]==="C"?(j=[At,ot].concat(Zt.slice(1)),At=j[6],ot=j[7]):(j=[At,ot,At,ot,K,tt,K,tt],At=K,ot=tt);var kt=Ot(U,j,et);if(et)at+=kt;else{for(var zt=0,ne=kt.length;zt<ne;zt++)kt[zt].segment1=vt,kt[zt].segment2=le,kt[zt].bez1=U,kt[zt].bez2=j;at=at.concat(kt)}}}}}return at},Et=function(nt,mt){return Bt(nt,mt)};function Dt(nt,mt){var et=[],ct=[];function Pt(At,ot){if(At.length===1)et.push(At[0]),ct.push(At[0]);else{for(var wt=[],st=0;st<At.length-1;st++)st===0&&et.push(At[0]),st===At.length-2&&ct.push(At[st+1]),wt[st]=[(1-ot)*At[st][0]+ot*At[st+1][0],(1-ot)*At[st][1]+ot*At[st+1][1]];Pt(wt,ot)}}return nt.length&&Pt(nt,mt),{left:et,right:ct.reverse()}}function It(nt,mt,et){var ct=[[nt[1],nt[2]]];et=et||2;var Pt=[];mt[0]==="A"?(ct.push(mt[6]),ct.push(mt[7])):mt[0]==="C"?(ct.push([mt[1],mt[2]]),ct.push([mt[3],mt[4]]),ct.push([mt[5],mt[6]])):mt[0]==="S"||mt[0]==="Q"?(ct.push([mt[1],mt[2]]),ct.push([mt[3],mt[4]])):ct.push([mt[1],mt[2]]);for(var At=ct,ot=1/et,wt=0;wt<et-1;wt++){var st=ot/(1-ot*wt),K=Dt(At,st);Pt.push(K.left),At=K.right}Pt.push(At);var tt=Pt.map(function(U){var j=[];return U.length===4&&(j.push("C"),j=j.concat(U[2])),U.length>=3&&(U.length===3&&j.push("Q"),j=j.concat(U[1])),U.length===2&&j.push("L"),j=j.concat(U[U.length-1]),j});return tt}var _t=function(nt,mt,et){if(et===1)return[[].concat(nt)];var ct=[];if(mt[0]==="L"||mt[0]==="C"||mt[0]==="Q")ct=ct.concat(It(nt,mt,et));else{var Pt=[].concat(nt);Pt[0]==="M"&&(Pt[0]="L");for(var At=0;At<=et-1;At++)ct.push(Pt)}return ct},Xt=function(nt,mt){if(nt.length===1)return nt;var et=nt.length-1,ct=mt.length-1,Pt=et/ct,At=[];if(nt.length===1&&nt[0][0]==="M"){for(var ot=0;ot<ct-et;ot++)nt.push(nt[0]);return nt}for(var ot=0;ot<ct;ot++){var wt=Math.floor(Pt*ot);At[wt]=(At[wt]||0)+1}var st=At.reduce(function(K,tt,U){return U===et?K.concat(nt[et]):K.concat(_t(nt[U],nt[U+1],tt))},[]);return st.unshift(nt[0]),(mt[ct]==="Z"||mt[ct]==="z")&&st.push("Z"),st},z=function(nt,mt){if(nt.length!==mt.length)return!1;var et=!0;return(0,y.each)(nt,function(ct,Pt){if(ct!==mt[Pt])return et=!1,!1}),et};function R(nt,mt,et){var ct=null,Pt=et;return mt<Pt&&(Pt=mt,ct="add"),nt<Pt&&(Pt=nt,ct="del"),{type:ct,min:Pt}}var F=function(nt,mt){var et=nt.length,ct=mt.length,Pt,At,ot=0;if(et===0||ct===0)return null;for(var wt=[],st=0;st<=et;st++)wt[st]=[],wt[st][0]={min:st};for(var K=0;K<=ct;K++)wt[0][K]={min:K};for(var st=1;st<=et;st++){Pt=nt[st-1];for(var K=1;K<=ct;K++){At=mt[K-1],z(Pt,At)?ot=0:ot=1;var tt=wt[st-1][K].min+1,U=wt[st][K-1].min+1,j=wt[st-1][K-1].min+ot;wt[st][K]=R(tt,U,j)}}return wt},D=function(nt,mt){var et=F(nt,mt),ct=nt.length,Pt=mt.length,At=[],ot=1,wt=1;if(et[ct][Pt].min!==ct){for(var st=1;st<=ct;st++){var K=et[st][st].min;wt=st;for(var tt=ot;tt<=Pt;tt++)et[st][tt].min<K&&(K=et[st][tt].min,wt=tt);ot=wt,et[st][ot].type&&At.push({index:st-1,type:et[st][ot].type})}for(var st=At.length-1;st>=0;st--)ot=At[st].index,At[st].type==="add"?nt.splice(ot,0,[].concat(nt[ot])):nt.splice(ot,1)}ct=nt.length;var U=Pt-ct;if(ct<Pt)for(var st=0;st<U;st++)nt[ct-1][0]==="z"||nt[ct-1][0]==="Z"?nt.splice(ct-2,0,nt[ct-2]):nt.push(nt[ct-1]),ct+=1;return nt};function u(nt,mt,et){for(var ct=[].concat(nt),Pt,At=1/(et+1),ot=W(mt)[0],wt=1;wt<=et;wt++)At*=wt,Pt=Math.floor(nt.length*At),Pt===0?ct.unshift([ot[0]*At+nt[Pt][0]*(1-At),ot[1]*At+nt[Pt][1]*(1-At)]):ct.splice(Pt,0,[ot[0]*At+nt[Pt][0]*(1-At),ot[1]*At+nt[Pt][1]*(1-At)]);return ct}function W(nt){var mt=[];switch(nt[0]){case"M":mt.push([nt[1],nt[2]]);break;case"L":mt.push([nt[1],nt[2]]);break;case"A":mt.push([nt[6],nt[7]]);break;case"Q":mt.push([nt[3],nt[4]]),mt.push([nt[1],nt[2]]);break;case"T":mt.push([nt[1],nt[2]]);break;case"C":mt.push([nt[5],nt[6]]),mt.push([nt[1],nt[2]]),mt.push([nt[3],nt[4]]);break;case"S":mt.push([nt[3],nt[4]]),mt.push([nt[1],nt[2]]);break;case"H":mt.push([nt[1],nt[1]]);break;case"V":mt.push([nt[1],nt[1]]);break;default:}return mt}var it=function(nt,mt){if(nt.length<=1)return nt;for(var et,ct=0;ct<mt.length;ct++)if(nt[ct][0]!==mt[ct][0])switch(et=W(nt[ct]),mt[ct][0]){case"M":nt[ct]=["M"].concat(et[0]);break;case"L":nt[ct]=["L"].concat(et[0]);break;case"A":nt[ct]=[].concat(mt[ct]),nt[ct][6]=et[0][0],nt[ct][7]=et[0][1];break;case"Q":if(et.length<2)if(ct>0)et=u(et,nt[ct-1],1);else{nt[ct]=mt[ct];break}nt[ct]=["Q"].concat(et.reduce(function(Pt,At){return Pt.concat(At)},[]));break;case"T":nt[ct]=["T"].concat(et[0]);break;case"C":if(et.length<3)if(ct>0)et=u(et,nt[ct-1],2);else{nt[ct]=mt[ct];break}nt[ct]=["C"].concat(et.reduce(function(Pt,At){return Pt.concat(At)},[]));break;case"S":if(et.length<2)if(ct>0)et=u(et,nt[ct-1],1);else{nt[ct]=mt[ct];break}nt[ct]=["S"].concat(et.reduce(function(Pt,At){return Pt.concat(At)},[]));break;default:nt[ct]=mt[ct]}return nt}},84723:function(gt,S,d){"use strict";d.d(S,{FE:function(){return I},mY:function(){return T},$O:function(){return _}});var y=d(30219),L=d(71319);function I(C,E,p){var w=1;if((0,y.HD)(C)&&(w=C.split(`
`).length),w>1){var g=O(E,p);return E*w+g*(w-1)}return E}function O(C,E){return E?E-C:C*.14}function T(C,E){var p=(0,L.L)(),w=0;if((0,y.kK)(C)||C==="")return w;if(p.save(),p.font=E,(0,y.HD)(C)&&C.includes(`
`)){var g=C.split(`
`);(0,y.S6)(g,function(b){var m=p.measureText(b).width;w<m&&(w=m)})}else w=p.measureText(C).width;return p.restore(),w}function _(C){var E=C.fontSize,p=C.fontFamily,w=C.fontWeight,g=C.fontStyle,b=C.fontVariant;return[g,b,w,E+"px",p].join(" ").trim()}},30219:function(gt,S,d){"use strict";d.d(S,{As:function(){return L},jU:function(){return I},kK:function(){return y.isNil},mf:function(){return y.isFunction},HD:function(){return y.isString},Kn:function(){return y.isObject},CD:function(){return y.mix},S6:function(){return y.each},jC:function(){return y.upperFirst},UY:function(){return O},pP:function(){return T}});var y=d(49242);function L(_,C){var E=_.indexOf(C);E!==-1&&_.splice(E,1)}var I=typeof window!="undefined"&&typeof window.document!="undefined";function O(_,C){if(_.isCanvas())return!0;for(var E=C.getParent(),p=!1;E;){if(E===_){p=!0;break}E=E.getParent()}return p}function T(_){return _.cfg.visible&&_.cfg.capture}},21885:function(gt,S){"use strict";var d;d={value:!0};var y=function(){function L(I,O){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=I,this.name=I,this.originalEvent=O,this.timeStamp=O.timeStamp}return L.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},L.prototype.stopPropagation=function(){this.propagationStopped=!0},L.prototype.toString=function(){var I=this.type;return"[Event (type="+I+")]"},L.prototype.save=function(){},L.prototype.restore=function(){},L}();S.Z=y},37050:function(gt,S,d){"use strict";d.d(S,{ZT:function(){return L}});var y=function(z,R){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,D){F.__proto__=D}||function(F,D){for(var u in D)Object.prototype.hasOwnProperty.call(D,u)&&(F[u]=D[u])},y(z,R)};function L(z,R){if(typeof R!="function"&&R!==null)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");y(z,R);function F(){this.constructor=z}z.prototype=R===null?Object.create(R):(F.prototype=R.prototype,new F)}var I=function(){return I=Object.assign||function(R){for(var F,D=1,u=arguments.length;D<u;D++){F=arguments[D];for(var W in F)Object.prototype.hasOwnProperty.call(F,W)&&(R[W]=F[W])}return R},I.apply(this,arguments)};function O(z,R){var F={};for(var D in z)Object.prototype.hasOwnProperty.call(z,D)&&R.indexOf(D)<0&&(F[D]=z[D]);if(z!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,D=Object.getOwnPropertySymbols(z);u<D.length;u++)R.indexOf(D[u])<0&&Object.prototype.propertyIsEnumerable.call(z,D[u])&&(F[D[u]]=z[D[u]]);return F}function T(z,R,F,D){var u=arguments.length,W=u<3?R:D===null?D=Object.getOwnPropertyDescriptor(R,F):D,it;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(z,R,F,D);else for(var nt=z.length-1;nt>=0;nt--)(it=z[nt])&&(W=(u<3?it(W):u>3?it(R,F,W):it(R,F))||W);return u>3&&W&&Object.defineProperty(R,F,W),W}function _(z,R){return function(F,D){R(F,D,z)}}function C(z,R,F,D,u,W){function it(tt){if(tt!==void 0&&typeof tt!="function")throw new TypeError("Function expected");return tt}for(var nt=D.kind,mt=nt==="getter"?"get":nt==="setter"?"set":"value",et=!R&&z?D.static?z:z.prototype:null,ct=R||(et?Object.getOwnPropertyDescriptor(et,D.name):{}),Pt,At=!1,ot=F.length-1;ot>=0;ot--){var wt={};for(var st in D)wt[st]=st==="access"?{}:D[st];for(var st in D.access)wt.access[st]=D.access[st];wt.addInitializer=function(tt){if(At)throw new TypeError("Cannot add initializers after decoration has completed");W.push(it(tt||null))};var K=(0,F[ot])(nt==="accessor"?{get:ct.get,set:ct.set}:ct[mt],wt);if(nt==="accessor"){if(K===void 0)continue;if(K===null||typeof K!="object")throw new TypeError("Object expected");(Pt=it(K.get))&&(ct.get=Pt),(Pt=it(K.set))&&(ct.set=Pt),(Pt=it(K.init))&&u.push(Pt)}else(Pt=it(K))&&(nt==="field"?u.push(Pt):ct[mt]=Pt)}et&&Object.defineProperty(et,D.name,ct),At=!0}function E(z,R,F){for(var D=arguments.length>2,u=0;u<R.length;u++)F=D?R[u].call(z,F):R[u].call(z);return D?F:void 0}function p(z){return typeof z=="symbol"?z:"".concat(z)}function w(z,R,F){return typeof R=="symbol"&&(R=R.description?"[".concat(R.description,"]"):""),Object.defineProperty(z,"name",{configurable:!0,value:F?"".concat(F," ",R):R})}function g(z,R){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(z,R)}function b(z,R,F,D){function u(W){return W instanceof F?W:new F(function(it){it(W)})}return new(F||(F=Promise))(function(W,it){function nt(ct){try{et(D.next(ct))}catch(Pt){it(Pt)}}function mt(ct){try{et(D.throw(ct))}catch(Pt){it(Pt)}}function et(ct){ct.done?W(ct.value):u(ct.value).then(nt,mt)}et((D=D.apply(z,R||[])).next())})}function m(z,R){var F={label:0,sent:function(){if(W[0]&1)throw W[1];return W[1]},trys:[],ops:[]},D,u,W,it;return it={next:nt(0),throw:nt(1),return:nt(2)},typeof Symbol=="function"&&(it[Symbol.iterator]=function(){return this}),it;function nt(et){return function(ct){return mt([et,ct])}}function mt(et){if(D)throw new TypeError("Generator is already executing.");for(;it&&(it=0,et[0]&&(F=0)),F;)try{if(D=1,u&&(W=et[0]&2?u.return:et[0]?u.throw||((W=u.return)&&W.call(u),0):u.next)&&!(W=W.call(u,et[1])).done)return W;switch(u=0,W&&(et=[et[0]&2,W.value]),et[0]){case 0:case 1:W=et;break;case 4:return F.label++,{value:et[1],done:!1};case 5:F.label++,u=et[1],et=[0];continue;case 7:et=F.ops.pop(),F.trys.pop();continue;default:if(W=F.trys,!(W=W.length>0&&W[W.length-1])&&(et[0]===6||et[0]===2)){F=0;continue}if(et[0]===3&&(!W||et[1]>W[0]&&et[1]<W[3])){F.label=et[1];break}if(et[0]===6&&F.label<W[1]){F.label=W[1],W=et;break}if(W&&F.label<W[2]){F.label=W[2],F.ops.push(et);break}W[2]&&F.ops.pop(),F.trys.pop();continue}et=R.call(z,F)}catch(ct){et=[6,ct],u=0}finally{D=W=0}if(et[0]&5)throw et[1];return{value:et[0]?et[1]:void 0,done:!0}}}var M=Object.create?function(z,R,F,D){D===void 0&&(D=F);var u=Object.getOwnPropertyDescriptor(R,F);(!u||("get"in u?!R.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return R[F]}}),Object.defineProperty(z,D,u)}:function(z,R,F,D){D===void 0&&(D=F),z[D]=R[F]};function P(z,R){for(var F in z)F!=="default"&&!Object.prototype.hasOwnProperty.call(R,F)&&M(R,z,F)}function k(z){var R=typeof Symbol=="function"&&Symbol.iterator,F=R&&z[R],D=0;if(F)return F.call(z);if(z&&typeof z.length=="number")return{next:function(){return z&&D>=z.length&&(z=void 0),{value:z&&z[D++],done:!z}}};throw new TypeError(R?"Object is not iterable.":"Symbol.iterator is not defined.")}function N(z,R){var F=typeof Symbol=="function"&&z[Symbol.iterator];if(!F)return z;var D=F.call(z),u,W=[],it;try{for(;(R===void 0||R-- >0)&&!(u=D.next()).done;)W.push(u.value)}catch(nt){it={error:nt}}finally{try{u&&!u.done&&(F=D.return)&&F.call(D)}finally{if(it)throw it.error}}return W}function V(){for(var z=[],R=0;R<arguments.length;R++)z=z.concat(N(arguments[R]));return z}function $(){for(var z=0,R=0,F=arguments.length;R<F;R++)z+=arguments[R].length;for(var D=Array(z),u=0,R=0;R<F;R++)for(var W=arguments[R],it=0,nt=W.length;it<nt;it++,u++)D[u]=W[it];return D}function Z(z,R,F){if(F||arguments.length===2)for(var D=0,u=R.length,W;D<u;D++)(W||!(D in R))&&(W||(W=Array.prototype.slice.call(R,0,D)),W[D]=R[D]);return z.concat(W||Array.prototype.slice.call(R))}function J(z){return this instanceof J?(this.v=z,this):new J(z)}function lt(z,R,F){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var D=F.apply(z,R||[]),u,W=[];return u={},it("next"),it("throw"),it("return"),u[Symbol.asyncIterator]=function(){return this},u;function it(At){D[At]&&(u[At]=function(ot){return new Promise(function(wt,st){W.push([At,ot,wt,st])>1||nt(At,ot)})})}function nt(At,ot){try{mt(D[At](ot))}catch(wt){Pt(W[0][3],wt)}}function mt(At){At.value instanceof J?Promise.resolve(At.value.v).then(et,ct):Pt(W[0][2],At)}function et(At){nt("next",At)}function ct(At){nt("throw",At)}function Pt(At,ot){At(ot),W.shift(),W.length&&nt(W[0][0],W[0][1])}}function rt(z){var R,F;return R={},D("next"),D("throw",function(u){throw u}),D("return"),R[Symbol.iterator]=function(){return this},R;function D(u,W){R[u]=z[u]?function(it){return(F=!F)?{value:J(z[u](it)),done:!1}:W?W(it):it}:W}}function bt(z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var R=z[Symbol.asyncIterator],F;return R?R.call(z):(z=typeof k=="function"?k(z):z[Symbol.iterator](),F={},D("next"),D("throw"),D("return"),F[Symbol.asyncIterator]=function(){return this},F);function D(W){F[W]=z[W]&&function(it){return new Promise(function(nt,mt){it=z[W](it),u(nt,mt,it.done,it.value)})}}function u(W,it,nt,mt){Promise.resolve(mt).then(function(et){W({value:et,done:nt})},it)}}function Ot(z,R){return Object.defineProperty?Object.defineProperty(z,"raw",{value:R}):z.raw=R,z}var Bt=Object.create?function(z,R){Object.defineProperty(z,"default",{enumerable:!0,value:R})}:function(z,R){z.default=R};function Et(z){if(z&&z.__esModule)return z;var R={};if(z!=null)for(var F in z)F!=="default"&&Object.prototype.hasOwnProperty.call(z,F)&&M(R,z,F);return Bt(R,z),R}function Dt(z){return z&&z.__esModule?z:{default:z}}function It(z,R,F,D){if(F==="a"&&!D)throw new TypeError("Private accessor was defined without a getter");if(typeof R=="function"?z!==R||!D:!R.has(z))throw new TypeError("Cannot read private member from an object whose class did not declare it");return F==="m"?D:F==="a"?D.call(z):D?D.value:R.get(z)}function _t(z,R,F,D,u){if(D==="m")throw new TypeError("Private method is not writable");if(D==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof R=="function"?z!==R||!u:!R.has(z))throw new TypeError("Cannot write private member to an object whose class did not declare it");return D==="a"?u.call(z,F):u?u.value=F:R.set(z,F),F}function Xt(z,R){if(R===null||typeof R!="object"&&typeof R!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof z=="function"?R===z:z.has(R)}},19083:function(gt,S,d){"use strict";var y;y={value:!0};var L=d(99519),I=d(96533),O=d(24818),T=d(15483),_=d(73074),C=d(94478),E=d(73906),p=function(w){L.__extends(g,w);function g(){return w!==null&&w.apply(this,arguments)||this}return g.prototype.getDefaultCfg=function(){var b=w.prototype.getDefaultCfg.call(this);return b.renderer="canvas",b.autoDraw=!0,b.localRefresh=!0,b.refreshElements=[],b.clipView=!0,b.quickHit=!1,b},g.prototype.onCanvasChange=function(b){(b==="attr"||b==="sort"||b==="changeSize")&&(this.set("refreshElements",[this]),this.draw())},g.prototype.getShapeBase=function(){return T},g.prototype.getGroupBase=function(){return _.default},g.prototype.getPixelRatio=function(){var b=this.get("pixelRatio")||C.getPixelRatio();return b>=1?Math.ceil(b):1},g.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},g.prototype.createDom=function(){var b=document.createElement("canvas"),m=b.getContext("2d");return this.set("context",m),b},g.prototype.setDOMSize=function(b,m){w.prototype.setDOMSize.call(this,b,m);var M=this.get("context"),P=this.get("el"),k=this.getPixelRatio();P.width=k*b,P.height=k*m,k>1&&M.scale(k,k)},g.prototype.clear=function(){w.prototype.clear.call(this),this._clearFrame();var b=this.get("context"),m=this.get("el");b.clearRect(0,0,m.width,m.height)},g.prototype.getShape=function(b,m){var M;return this.get("quickHit")?M=O.getShape(this,b,m):M=w.prototype.getShape.call(this,b,m,null),M},g.prototype._getRefreshRegion=function(){var b=this.get("refreshElements"),m=this.getViewRange(),M;if(b.length&&b[0]===this)M=m;else if(M=E.getMergedRegion(b),M){M.minX=Math.floor(M.minX),M.minY=Math.floor(M.minY),M.maxX=Math.ceil(M.maxX),M.maxY=Math.ceil(M.maxY),M.maxY+=1;var P=this.get("clipView");P&&(M=E.mergeView(M,m))}return M},g.prototype.refreshElement=function(b){var m=this.get("refreshElements");m.push(b)},g.prototype._clearFrame=function(){var b=this.get("drawFrame");b&&(C.clearAnimationFrame(b),this.set("drawFrame",null),this.set("refreshElements",[]))},g.prototype.draw=function(){var b=this.get("drawFrame");this.get("autoDraw")&&b||this._startDraw()},g.prototype._drawAll=function(){var b=this.get("context"),m=this.get("el"),M=this.getChildren();b.clearRect(0,0,m.width,m.height),E.applyAttrsToContext(b,this),E.drawChildren(b,M),this.set("refreshElements",[])},g.prototype._drawRegion=function(){var b=this.get("context"),m=this.get("refreshElements"),M=this.getChildren(),P=this._getRefreshRegion();P?(b.clearRect(P.minX,P.minY,P.maxX-P.minX,P.maxY-P.minY),b.save(),b.beginPath(),b.rect(P.minX,P.minY,P.maxX-P.minX,P.maxY-P.minY),b.clip(),E.applyAttrsToContext(b,this),E.checkRefresh(this,M,P),E.drawChildren(b,M,P),b.restore()):m.length&&E.clearChanged(m),C.each(m,function(k){k.get("hasChanged")&&k.set("hasChanged",!1)}),this.set("refreshElements",[])},g.prototype._startDraw=function(){var b=this,m=this.get("drawFrame");m||(m=C.requestAnimationFrame(function(){b.get("localRefresh")?b._drawRegion():b._drawAll(),b.set("drawFrame",null)}),this.set("drawFrame",m))},g.prototype.skipDraw=function(){},g.prototype.removeDom=function(){var b=this.get("el");b.width=0,b.height=0,b.parentNode.removeChild(b)},g}(I.AbstractCanvas);S.Z=p},73074:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(99519),L=d(96533),I=d(15483),O=d(73906),T=d(49242),_=d(94478),C=function(E){y.__extends(p,E);function p(){return E!==null&&E.apply(this,arguments)||this}return p.prototype.onCanvasChange=function(w){O.refreshElement(this,w)},p.prototype.getShapeBase=function(){return I},p.prototype.getGroupBase=function(){return p},p.prototype._applyClip=function(w,g){g&&(w.save(),O.applyAttrsToContext(w,g),g.createPath(w),w.restore(),w.clip(),g._afterDraw())},p.prototype.cacheCanvasBBox=function(){var w=this.cfg.children,g=[],b=[];T.each(w,function(Z){var J=Z.cfg.cacheCanvasBBox;J&&Z.cfg.isInView&&(g.push(J.minX,J.maxX),b.push(J.minY,J.maxY))});var m=null;if(g.length){var M=T.min(g),P=T.max(g),k=T.min(b),N=T.max(b);m={minX:M,minY:k,x:M,y:k,maxX:P,maxY:N,width:P-M,height:N-k};var V=this.cfg.canvas;if(V){var $=V.getViewRange();this.set("isInView",_.intersectRect(m,$))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",m)},p.prototype.draw=function(w,g){var b=this.cfg.children,m=g?this.cfg.refresh:!0;b.length&&m&&(w.save(),O.applyAttrsToContext(w,this),this._applyClip(w,this.getClip()),O.drawChildren(w,b,g),w.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},p.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},p}(L.AbstractGroup);S.default=C},74460:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(99519),L=d(96533),I=d(94478),O=d(73906),T=d(96533),_=d(15483),C=d(73074),E=function(p){y.__extends(w,p);function w(){return p!==null&&p.apply(this,arguments)||this}return w.prototype.getDefaultAttrs=function(){var g=p.prototype.getDefaultAttrs.call(this);return y.__assign(y.__assign({},g),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},w.prototype.getShapeBase=function(){return _},w.prototype.getGroupBase=function(){return C.default},w.prototype.onCanvasChange=function(g){O.refreshElement(this,g)},w.prototype.calculateBBox=function(){var g=this.get("type"),b=this.getHitLineWidth(),m=T.getBBoxMethod(g),M=m(this),P=b/2,k=M.x-P,N=M.y-P,V=M.x+M.width+P,$=M.y+M.height+P;return{x:k,minX:k,y:N,minY:N,width:M.width+b,height:M.height+b,maxX:V,maxY:$}},w.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},w.prototype.isStroke=function(){return!!this.attrs.stroke},w.prototype._applyClip=function(g,b){b&&(g.save(),O.applyAttrsToContext(g,b),b.createPath(g),g.restore(),g.clip(),b._afterDraw())},w.prototype.draw=function(g,b){var m=this.cfg.clipShape;if(b){if(this.cfg.refresh===!1){this.set("hasChanged",!1);return}var M=this.getCanvasBBox();if(!I.intersectRect(b,M)){this.set("hasChanged",!1),this.cfg.isInView&&this._afterDraw();return}}g.save(),O.applyAttrsToContext(g,this),this._applyClip(g,m),this.drawPath(g),g.restore(),this._afterDraw()},w.prototype.getCanvasViewBox=function(){var g=this.cfg.canvas;return g?g.getViewRange():null},w.prototype.cacheCanvasBBox=function(){var g=this.getCanvasViewBox();if(g){var b=this.getCanvasBBox(),m=I.intersectRect(b,g);this.set("isInView",m),m?this.set("cacheCanvasBBox",b):this.set("cacheCanvasBBox",null)}},w.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},w.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},w.prototype.drawPath=function(g){this.createPath(g),this.strokeAndFill(g),this.afterDrawPath(g)},w.prototype.fill=function(g){g.fill()},w.prototype.stroke=function(g){g.stroke()},w.prototype.strokeAndFill=function(g){var b=this.attrs,m=b.lineWidth,M=b.opacity,P=b.strokeOpacity,k=b.fillOpacity;this.isFill()&&(!I.isNil(k)&&k!==1?(g.globalAlpha=k,this.fill(g),g.globalAlpha=M):this.fill(g)),this.isStroke()&&m>0&&(!I.isNil(P)&&P!==1&&(g.globalAlpha=P),this.stroke(g)),this.afterDrawPath(g)},w.prototype.createPath=function(g){},w.prototype.afterDrawPath=function(g){},w.prototype.isInShape=function(g,b){var m=this.isStroke(),M=this.isFill(),P=this.getHitLineWidth();return this.isInStrokeOrPath(g,b,m,M,P)},w.prototype.isInStrokeOrPath=function(g,b,m,M,P){return!1},w.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var g=this.attrs;return g.lineWidth+g.lineAppendWidth},w}(L.AbstractShape);S.default=E},66778:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(99519),L=d(74460),I=d(94478),O=function(T){y.__extends(_,T);function _(){return T!==null&&T.apply(this,arguments)||this}return _.prototype.getDefaultAttrs=function(){var C=T.prototype.getDefaultAttrs.call(this);return y.__assign(y.__assign({},C),{x:0,y:0,r:0})},_.prototype.isInStrokeOrPath=function(C,E,p,w,g){var b=this.attr(),m=b.x,M=b.y,P=b.r,k=g/2,N=I.distance(m,M,C,E);return w&&p?N<=P+k:w?N<=P:p?N>=P-k&&N<=P+k:!1},_.prototype.createPath=function(C){var E=this.attr(),p=E.x,w=E.y,g=E.r;C.beginPath(),C.arc(p,w,g,0,Math.PI*2,!1),C.closePath()},_}(L.default);S.default=O},21421:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(99519),L=d(74460);function I(T,_,C,E){return T/(C*C)+_/(E*E)}var O=function(T){y.__extends(_,T);function _(){return T!==null&&T.apply(this,arguments)||this}return _.prototype.getDefaultAttrs=function(){var C=T.prototype.getDefaultAttrs.call(this);return y.__assign(y.__assign({},C),{x:0,y:0,rx:0,ry:0})},_.prototype.isInStrokeOrPath=function(C,E,p,w,g){var b=this.attr(),m=g/2,M=b.x,P=b.y,k=b.rx,N=b.ry,V=(C-M)*(C-M),$=(E-P)*(E-P);return w&&p?I(V,$,k+m,N+m)<=1:w?I(V,$,k,N)<=1:p?I(V,$,k-m,N-m)>=1&&I(V,$,k+m,N+m)<=1:!1},_.prototype.createPath=function(C){var E=this.attr(),p=E.x,w=E.y,g=E.rx,b=E.ry;if(C.beginPath(),C.ellipse)C.ellipse(p,w,g,b,0,0,Math.PI*2,!1);else{var m=g>b?g:b,M=g>b?1:g/b,P=g>b?b/g:1;C.save(),C.translate(p,w),C.scale(M,P),C.arc(0,0,m,0,Math.PI*2),C.restore(),C.closePath()}},_}(L.default);S.default=O},89473:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(99519),L=d(74460),I=d(94478);function O(_){return _ instanceof HTMLElement&&I.isString(_.nodeName)&&_.nodeName.toUpperCase()==="CANVAS"}var T=function(_){y.__extends(C,_);function C(){return _!==null&&_.apply(this,arguments)||this}return C.prototype.getDefaultAttrs=function(){var E=_.prototype.getDefaultAttrs.call(this);return y.__assign(y.__assign({},E),{x:0,y:0,width:0,height:0})},C.prototype.initAttrs=function(E){this._setImage(E.img)},C.prototype.isStroke=function(){return!1},C.prototype.isOnlyHitBox=function(){return!0},C.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var E=this.get("canvas");E?E.draw():this.createPath(this.get("context"))}},C.prototype._setImage=function(E){var p=this,w=this.attrs;if(I.isString(E)){var g=new Image;g.onload=function(){if(p.destroyed)return!1;p.attr("img",g),p.set("loading",!1),p._afterLoading();var b=p.get("callback");b&&b.call(p)},g.crossOrigin="Anonymous",g.src=E,this.set("loading",!0)}else E instanceof Image?(w.width||(w.width=E.width),w.height||(w.height=E.height)):O(E)&&(w.width||(w.width=Number(E.getAttribute("width"))),w.height||(w.height,Number(E.getAttribute("height"))))},C.prototype.onAttrChange=function(E,p,w){_.prototype.onAttrChange.call(this,E,p,w),E==="img"&&this._setImage(p)},C.prototype.createPath=function(E){if(this.get("loading")){this.set("toDraw",!0),this.set("context",E);return}var p=this.attr(),w=p.x,g=p.y,b=p.width,m=p.height,M=p.sx,P=p.sy,k=p.swidth,N=p.sheight,V=p.img;(V instanceof Image||O(V))&&(!I.isNil(M)&&!I.isNil(P)&&!I.isNil(k)&&!I.isNil(N)?E.drawImage(V,M,P,k,N,w,g,b,m):E.drawImage(V,w,g,b,m))},C}(L.default);S.default=T},15483:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(74460);Object.defineProperty(S,"Base",{enumerable:!0,get:function(){return y.default}});var L=d(66778);Object.defineProperty(S,"Circle",{enumerable:!0,get:function(){return L.default}});var I=d(21421);Object.defineProperty(S,"Ellipse",{enumerable:!0,get:function(){return I.default}});var O=d(89473);Object.defineProperty(S,"Image",{enumerable:!0,get:function(){return O.default}});var T=d(32766);Object.defineProperty(S,"Line",{enumerable:!0,get:function(){return T.default}});var _=d(50796);Object.defineProperty(S,"Marker",{enumerable:!0,get:function(){return _.default}});var C=d(42489);Object.defineProperty(S,"Path",{enumerable:!0,get:function(){return C.default}});var E=d(51567);Object.defineProperty(S,"Polygon",{enumerable:!0,get:function(){return E.default}});var p=d(54423);Object.defineProperty(S,"Polyline",{enumerable:!0,get:function(){return p.default}});var w=d(83095);Object.defineProperty(S,"Rect",{enumerable:!0,get:function(){return w.default}});var g=d(17860);Object.defineProperty(S,"Text",{enumerable:!0,get:function(){return g.default}})},32766:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(99519),L=d(89838),I=d(74460),O=d(63131),T=d(87200),_=function(C){y.__extends(E,C);function E(){return C!==null&&C.apply(this,arguments)||this}return E.prototype.getDefaultAttrs=function(){var p=C.prototype.getDefaultAttrs.call(this);return y.__assign(y.__assign({},p),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},E.prototype.initAttrs=function(p){this.setArrow()},E.prototype.onAttrChange=function(p,w,g){C.prototype.onAttrChange.call(this,p,w,g),this.setArrow()},E.prototype.setArrow=function(){var p=this.attr(),w=p.x1,g=p.y1,b=p.x2,m=p.y2,M=p.startArrow,P=p.endArrow;M&&T.addStartArrow(this,p,b,m,w,g),P&&T.addEndArrow(this,p,w,g,b,m)},E.prototype.isInStrokeOrPath=function(p,w,g,b,m){if(!g||!m)return!1;var M=this.attr(),P=M.x1,k=M.y1,N=M.x2,V=M.y2;return O.default(P,k,N,V,m,p,w)},E.prototype.createPath=function(p){var w=this.attr(),g=w.x1,b=w.y1,m=w.x2,M=w.y2,P=w.startArrow,k=w.endArrow,N={dx:0,dy:0},V={dx:0,dy:0};P&&P.d&&(N=T.getShortenOffset(g,b,m,M,w.startArrow.d)),k&&k.d&&(V=T.getShortenOffset(g,b,m,M,w.endArrow.d)),p.beginPath(),p.moveTo(g+N.dx,b+N.dy),p.lineTo(m-V.dx,M-V.dy)},E.prototype.afterDrawPath=function(p){var w=this.get("startArrowShape"),g=this.get("endArrowShape");w&&w.draw(p),g&&g.draw(p)},E.prototype.getTotalLength=function(){var p=this.attr(),w=p.x1,g=p.y1,b=p.x2,m=p.y2;return L.Line.length(w,g,b,m)},E.prototype.getPoint=function(p){var w=this.attr(),g=w.x1,b=w.y1,m=w.x2,M=w.y2;return L.Line.pointAt(g,b,m,M,p)},E}(I.default);S.default=_},50796:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(99519),L=d(49242),I=d(57350),O=d(74460),T=d(94478),_=d(73906),C={circle:function(p,w,g){return[["M",p-g,w],["A",g,g,0,1,0,p+g,w],["A",g,g,0,1,0,p-g,w]]},square:function(p,w,g){return[["M",p-g,w-g],["L",p+g,w-g],["L",p+g,w+g],["L",p-g,w+g],["Z"]]},diamond:function(p,w,g){return[["M",p-g,w],["L",p,w-g],["L",p+g,w],["L",p,w+g],["Z"]]},triangle:function(p,w,g){var b=g*Math.sin(1/3*Math.PI);return[["M",p-g,w+b],["L",p,w-b],["L",p+g,w+b],["Z"]]},"triangle-down":function(p,w,g){var b=g*Math.sin(1/3*Math.PI);return[["M",p-g,w-b],["L",p+g,w-b],["L",p,w+b],["Z"]]}},E=function(p){y.__extends(w,p);function w(){return p!==null&&p.apply(this,arguments)||this}return w.prototype.initAttrs=function(g){this._resetParamsCache()},w.prototype._resetParamsCache=function(){this.set("paramsCache",{})},w.prototype.onAttrChange=function(g,b,m){p.prototype.onAttrChange.call(this,g,b,m),["symbol","x","y","r","radius"].indexOf(g)!==-1&&this._resetParamsCache()},w.prototype.isOnlyHitBox=function(){return!0},w.prototype._getR=function(g){return L.isNil(g.r)?g.radius:g.r},w.prototype._getPath=function(){var g=this.attr(),b=g.x,m=g.y,M=g.symbol||"circle",P=this._getR(g),k,N;if(T.isFunction(M))k=M,N=k(b,m,P),N=I.path2Absolute(N);else{if(k=w.Symbols[M],!k)return console.warn(M+" marker is not supported."),null;N=k(b,m,P)}return N},w.prototype.createPath=function(g){var b=this._getPath(),m=this.get("paramsCache");_.drawPath(this,g,{path:b},m)},w.Symbols=C,w}(O.default);S.default=E},42489:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(99519),L=d(89838),I=d(49242),O=d(74460),T=d(57350),_=d(73906),C=d(55978),E=d(4043),p=d(32460),w=d(87200);function g(m,M,P){for(var k=!1,N=0;N<m.length;N++){var V=m[N];if(k=E.default(V,M,P),k)break}return k}var b=function(m){y.__extends(M,m);function M(){return m!==null&&m.apply(this,arguments)||this}return M.prototype.getDefaultAttrs=function(){var P=m.prototype.getDefaultAttrs.call(this);return y.__assign(y.__assign({},P),{startArrow:!1,endArrow:!1})},M.prototype.initAttrs=function(P){this._setPathArr(P.path),this.setArrow()},M.prototype.onAttrChange=function(P,k,N){m.prototype.onAttrChange.call(this,P,k,N),P==="path"&&this._setPathArr(k),this.setArrow()},M.prototype._setPathArr=function(P){this.attrs.path=T.path2Absolute(P);var k=p.default.hasArc(P);this.set("hasArc",k),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},M.prototype.getSegments=function(){var P=this.get("segements");return P||(P=T.path2Segments(this.attr("path")),this.set("segments",P)),P},M.prototype.setArrow=function(){var P=this.attr(),k=P.startArrow,N=P.endArrow;if(k){var V=this.getStartTangent();w.addStartArrow(this,P,V[0][0],V[0][1],V[1][0],V[1][1])}if(N){var V=this.getEndTangent();w.addEndArrow(this,P,V[0][0],V[0][1],V[1][0],V[1][1])}},M.prototype.isInStrokeOrPath=function(P,k,N,V,$){var Z=this.getSegments(),J=this.get("hasArc"),lt=!1;if(N){var rt=this.getTotalLength();lt=p.default.isPointInStroke(Z,$,P,k,rt)}if(!lt&&V)if(J)lt=C.default(this,P,k);else{var bt=this.attr("path"),Ot=p.default.extractPolygons(bt);lt=g(Ot.polygons,P,k)||g(Ot.polylines,P,k)}return lt},M.prototype.createPath=function(P){var k=this.attr(),N=this.get("paramsCache");_.drawPath(this,P,k,N)},M.prototype.afterDrawPath=function(P){var k=this.get("startArrowShape"),N=this.get("endArrowShape");k&&k.draw(P),N&&N.draw(P)},M.prototype.getTotalLength=function(){var P=this.get("totalLength");return I.isNil(P)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):P},M.prototype.getPoint=function(P){var k=this.get("tCache");k||(this._calculateCurve(),this._setTcache(),k=this.get("tCache"));var N,V,$=this.get("curve");if(!k||k.length===0)return $?{x:$[0][1],y:$[0][2]}:null;I.each(k,function(rt,bt){P>=rt[0]&&P<=rt[1]&&(N=(P-rt[0])/(rt[1]-rt[0]),V=bt)});var Z=$[V];if(I.isNil(Z)||I.isNil(V))return null;var J=Z.length,lt=$[V+1];return L.Cubic.pointAt(Z[J-2],Z[J-1],lt[1],lt[2],lt[3],lt[4],lt[5],lt[6],N)},M.prototype._calculateCurve=function(){var P=this.attr().path;this.set("curve",p.default.pathToCurve(P))},M.prototype._setTcache=function(){var P=0,k=0,N=[],V,$,Z,J,lt=this.get("curve");if(!!lt){if(I.each(lt,function(rt,bt){Z=lt[bt+1],J=rt.length,Z&&(P+=L.Cubic.length(rt[J-2],rt[J-1],Z[1],Z[2],Z[3],Z[4],Z[5],Z[6])||0)}),this.set("totalLength",P),P===0){this.set("tCache",[]);return}I.each(lt,function(rt,bt){Z=lt[bt+1],J=rt.length,Z&&(V=[],V[0]=k/P,$=L.Cubic.length(rt[J-2],rt[J-1],Z[1],Z[2],Z[3],Z[4],Z[5],Z[6]),k+=$||0,V[1]=k/P,N.push(V))}),this.set("tCache",N)}},M.prototype.getStartTangent=function(){var P=this.getSegments(),k;if(P.length>1){var N=P[0].currentPoint,V=P[1].currentPoint,$=P[1].startTangent;k=[],$?(k.push([N[0]-$[0],N[1]-$[1]]),k.push([N[0],N[1]])):(k.push([V[0],V[1]]),k.push([N[0],N[1]]))}return k},M.prototype.getEndTangent=function(){var P=this.getSegments(),k=P.length,N;if(k>1){var V=P[k-2].currentPoint,$=P[k-1].currentPoint,Z=P[k-1].endTangent;N=[],Z?(N.push([$[0]-Z[0],$[1]-Z[1]]),N.push([$[0],$[1]])):(N.push([V[0],V[1]]),N.push([$[0],$[1]]))}return N},M}(O.default);S.default=b},51567:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(99519),L=d(74460),I=d(70625),O=d(4043),T=function(_){y.__extends(C,_);function C(){return _!==null&&_.apply(this,arguments)||this}return C.prototype.isInStrokeOrPath=function(E,p,w,g,b){var m=this.attr().points,M=!1;return w&&(M=I.default(m,b,E,p,!0)),!M&&g&&(M=O.default(m,E,p)),M},C.prototype.createPath=function(E){var p=this.attr(),w=p.points;if(!(w.length<2)){E.beginPath();for(var g=0;g<w.length;g++){var b=w[g];g===0?E.moveTo(b[0],b[1]):E.lineTo(b[0],b[1])}E.closePath()}},C}(L.default);S.default=T},54423:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(99519),L=d(89838),I=d(89838),O=d(49242),T=d(74460),_=d(70625),C=d(87200),E=function(p){y.__extends(w,p);function w(){return p!==null&&p.apply(this,arguments)||this}return w.prototype.getDefaultAttrs=function(){var g=p.prototype.getDefaultAttrs.call(this);return y.__assign(y.__assign({},g),{startArrow:!1,endArrow:!1})},w.prototype.initAttrs=function(g){this.setArrow()},w.prototype.onAttrChange=function(g,b,m){p.prototype.onAttrChange.call(this,g,b,m),this.setArrow(),["points"].indexOf(g)!==-1&&this._resetCache()},w.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},w.prototype.setArrow=function(){var g=this.attr(),b=this.attrs,m=b.points,M=b.startArrow,P=b.endArrow,k=m.length,N=m[0][0],V=m[0][1],$=m[k-1][0],Z=m[k-1][1];M&&C.addStartArrow(this,g,m[1][0],m[1][1],N,V),P&&C.addEndArrow(this,g,m[k-2][0],m[k-2][1],$,Z)},w.prototype.isFill=function(){return!1},w.prototype.isInStrokeOrPath=function(g,b,m,M,P){if(!m||!P)return!1;var k=this.attr().points;return _.default(k,P,g,b,!1)},w.prototype.isStroke=function(){return!0},w.prototype.createPath=function(g){var b=this.attr(),m=b.points,M=b.startArrow,P=b.endArrow,k=m.length;if(!(m.length<2)){var N=m[0][0],V=m[0][1],$=m[k-1][0],Z=m[k-1][1];if(M&&M.d){var J=C.getShortenOffset(N,V,m[1][0],m[1][1],M.d);N+=J.dx,V+=J.dy}if(P&&P.d){var J=C.getShortenOffset(m[k-2][0],m[k-2][1],$,Z,P.d);$-=J.dx,Z-=J.dy}g.beginPath(),g.moveTo(N,V);for(var lt=0;lt<k-1;lt++){var rt=m[lt];g.lineTo(rt[0],rt[1])}g.lineTo($,Z)}},w.prototype.afterDrawPath=function(g){var b=this.get("startArrowShape"),m=this.get("endArrowShape");b&&b.draw(g),m&&m.draw(g)},w.prototype.getTotalLength=function(){var g=this.attr().points,b=this.get("totalLength");return O.isNil(b)?(this.set("totalLength",I.Polyline.length(g)),this.get("totalLength")):b},w.prototype.getPoint=function(g){var b=this.attr().points,m=this.get("tCache");m||(this._setTcache(),m=this.get("tCache"));var M,P;return O.each(m,function(k,N){g>=k[0]&&g<=k[1]&&(M=(g-k[0])/(k[1]-k[0]),P=N)}),L.Line.pointAt(b[P][0],b[P][1],b[P+1][0],b[P+1][1],M)},w.prototype._setTcache=function(){var g=this.attr().points;if(!(!g||g.length===0)){var b=this.getTotalLength();if(!(b<=0)){var m=0,M=[],P,k;O.each(g,function(N,V){g[V+1]&&(P=[],P[0]=m/b,k=L.Line.length(N[0],N[1],g[V+1][0],g[V+1][1]),m+=k,P[1]=m/b,M.push(P))}),this.set("tCache",M)}}},w.prototype.getStartTangent=function(){var g=this.attr().points,b=[];return b.push([g[1][0],g[1][1]]),b.push([g[0][0],g[0][1]]),b},w.prototype.getEndTangent=function(){var g=this.attr().points,b=g.length-1,m=[];return m.push([g[b-1][0],g[b-1][1]]),m.push([g[b][0],g[b][1]]),m},w}(T.default);S.default=E},83095:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(99519),L=d(74460),I=d(62948),O=d(94478),T=d(47946),_=d(19626),C=d(55978),E=function(p){y.__extends(w,p);function w(){return p!==null&&p.apply(this,arguments)||this}return w.prototype.getDefaultAttrs=function(){var g=p.prototype.getDefaultAttrs.call(this);return y.__assign(y.__assign({},g),{x:0,y:0,width:0,height:0,radius:0})},w.prototype.isInStrokeOrPath=function(g,b,m,M,P){var k=this.attr(),N=k.x,V=k.y,$=k.width,Z=k.height,J=k.radius;if(J){var rt=!1;return m&&(rt=_.default(N,V,$,Z,J,P,g,b)),!rt&&M&&(rt=C.default(this,g,b)),rt}else{var lt=P/2;if(M&&m)return O.inBox(N-lt,V-lt,$+lt,Z+lt,g,b);if(M)return O.inBox(N,V,$,Z,g,b);if(m)return T.default(N,V,$,Z,P,g,b)}},w.prototype.createPath=function(g){var b=this.attr(),m=b.x,M=b.y,P=b.width,k=b.height,N=b.radius;if(g.beginPath(),N===0)g.rect(m,M,P,k);else{var V=I.parseRadius(N),$=V[0],Z=V[1],J=V[2],lt=V[3];g.moveTo(m+$,M),g.lineTo(m+P-Z,M),Z!==0&&g.arc(m+P-Z,M+Z,Z,-Math.PI/2,0),g.lineTo(m+P,M+k-J),J!==0&&g.arc(m+P-J,M+k-J,J,0,Math.PI/2),g.lineTo(m+lt,M+k),lt!==0&&g.arc(m+lt,M+k-lt,lt,Math.PI/2,Math.PI),g.lineTo(m,M+$),$!==0&&g.arc(m+$,M+$,$,Math.PI,Math.PI*1.5),g.closePath()}},w}(L.default);S.default=E},17860:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(99519),L=d(74460),I=d(94478),O=d(96533),T=function(_){y.__extends(C,_);function C(){return _!==null&&_.apply(this,arguments)||this}return C.prototype.getDefaultAttrs=function(){var E=_.prototype.getDefaultAttrs.call(this);return y.__assign(y.__assign({},E),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},C.prototype.isOnlyHitBox=function(){return!0},C.prototype.initAttrs=function(E){this._assembleFont(),E.text&&this._setText(E.text)},C.prototype._assembleFont=function(){var E=this.attrs;E.font=O.assembleFont(E)},C.prototype._setText=function(E){var p=null;I.isString(E)&&E.indexOf(`
`)!==-1&&(p=E.split(`
`)),this.set("textArr",p)},C.prototype.onAttrChange=function(E,p,w){_.prototype.onAttrChange.call(this,E,p,w),E.startsWith("font")&&this._assembleFont(),E==="text"&&this._setText(p)},C.prototype._getSpaceingY=function(){var E=this.attrs,p=E.lineHeight,w=E.fontSize*1;return p?p-w:w*.14},C.prototype._drawTextArr=function(E,p,w){var g=this.attrs,b=g.textBaseline,m=g.x,M=g.y,P=g.fontSize*1,k=this._getSpaceingY(),N=O.getTextHeight(g.text,g.fontSize,g.lineHeight),V;I.each(p,function($,Z){V=M+Z*(k+P)-N+P,b==="middle"&&(V+=N-P-(N-P)/2),b==="top"&&(V+=N-P),I.isNil($)||(w?E.fillText($,m,V):E.strokeText($,m,V))})},C.prototype._drawText=function(E,p){var w=this.attr(),g=w.x,b=w.y,m=this.get("textArr");if(m)this._drawTextArr(E,m,p);else{var M=w.text;I.isNil(M)||(p?E.fillText(M,g,b):E.strokeText(M,g,b))}},C.prototype.strokeAndFill=function(E){var p=this.attrs,w=p.lineWidth,g=p.opacity,b=p.strokeOpacity,m=p.fillOpacity;this.isStroke()&&w>0&&(!I.isNil(b)&&b!==1&&(E.globalAlpha=g),this.stroke(E)),this.isFill()&&(!I.isNil(m)&&m!==1?(E.globalAlpha=m,this.fill(E),E.globalAlpha=g):this.fill(E)),this.afterDrawPath(E)},C.prototype.fill=function(E){this._drawText(E,!0)},C.prototype.stroke=function(E){this._drawText(E,!1)},C}(L.default);S.default=T},56921:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(94478);function L(_){return Math.sqrt(_[0]*_[0]+_[1]*_[1])}function I(_,C){return L(_)*L(C)?(_[0]*C[0]+_[1]*C[1])/(L(_)*L(C)):1}function O(_,C){return(_[0]*C[1]<_[1]*C[0]?-1:1)*Math.acos(I(_,C))}function T(_,C){var E=C[1],p=C[2],w=y.mod(y.toRadian(C[3]),Math.PI*2),g=C[4],b=C[5],m=_[0],M=_[1],P=C[6],k=C[7],N=Math.cos(w)*(m-P)/2+Math.sin(w)*(M-k)/2,V=-1*Math.sin(w)*(m-P)/2+Math.cos(w)*(M-k)/2,$=N*N/(E*E)+V*V/(p*p);$>1&&(E*=Math.sqrt($),p*=Math.sqrt($));var Z=E*E*(V*V)+p*p*(N*N),J=Z?Math.sqrt((E*E*(p*p)-Z)/Z):1;g===b&&(J*=-1),isNaN(J)&&(J=0);var lt=p?J*E*V/p:0,rt=E?J*-p*N/E:0,bt=(m+P)/2+Math.cos(w)*lt-Math.sin(w)*rt,Ot=(M+k)/2+Math.sin(w)*lt+Math.cos(w)*rt,Bt=[(N-lt)/E,(V-rt)/p],Et=[(-1*N-lt)/E,(-1*V-rt)/p],Dt=O([1,0],Bt),It=O(Bt,Et);return I(Bt,Et)<=-1&&(It=Math.PI),I(Bt,Et)>=1&&(It=0),b===0&&It>0&&(It=It-2*Math.PI),b===1&&It<0&&(It=It+2*Math.PI),{cx:bt,cy:Ot,rx:y.isSamePoint(_,[P,k])?0:E,ry:y.isSamePoint(_,[P,k])?0:p,startAngle:Dt,endAngle:Dt+It,xRotation:w,arcFlag:g,sweepFlag:b}}S.default=T},87200:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.addEndArrow=S.addStartArrow=S.getShortenOffset=void 0;var y=d(99519),L=d(15483),I=Math.sin,O=Math.cos,T=Math.atan2,_=Math.PI;function C(b,m,M,P,k,N,V){var $=m.stroke,Z=m.lineWidth,J=M-k,lt=P-N,rt=T(lt,J),bt=new L.Path({type:"path",canvas:b.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*O(_/6)+","+10*I(_/6)+" L0,0 L"+10*O(_/6)+",-"+10*I(_/6),stroke:$,lineWidth:Z}});bt.translate(k,N),bt.rotateAtPoint(k,N,rt),b.set(V?"startArrowShape":"endArrowShape",bt)}function E(b,m,M,P,k,N,V){var $=m.startArrow,Z=m.endArrow,J=m.stroke,lt=m.lineWidth,rt=V?$:Z,bt=rt.d,Ot=rt.fill,Bt=rt.stroke,Et=rt.lineWidth,Dt=y.__rest(rt,["d","fill","stroke","lineWidth"]),It=M-k,_t=P-N,Xt=T(_t,It);bt&&(k=k-O(Xt)*bt,N=N-I(Xt)*bt);var z=new L.Path({type:"path",canvas:b.get("canvas"),isArrowShape:!0,attrs:y.__assign(y.__assign({},Dt),{stroke:Bt||J,lineWidth:Et||lt,fill:Ot})});z.translate(k,N),z.rotateAtPoint(k,N,Xt),b.set(V?"startArrowShape":"endArrowShape",z)}function p(b,m,M,P,k){var N=T(P-m,M-b);return{dx:O(N)*k,dy:I(N)*k}}S.getShortenOffset=p;function w(b,m,M,P,k,N){typeof m.startArrow=="object"?E(b,m,M,P,k,N,!0):m.startArrow?C(b,m,M,P,k,N,!0):b.set("startArrowShape",null)}S.addStartArrow=w;function g(b,m,M,P,k,N){typeof m.endArrow=="object"?E(b,m,M,P,k,N,!1):m.endArrow?C(b,m,M,P,k,N,!1):b.set("startArrowShape",null)}S.addEndArrow=g},73906:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.mergeView=S.getMergedRegion=S.getRefreshRegion=S.refreshElement=S.drawPath=S.clearChanged=S.checkChildrenRefresh=S.checkRefresh=S.drawChildren=S.applyAttrsToContext=void 0;var y=d(49242),L=d(62948),I=d(56921),O=d(94478),T=d(87200),_={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function C($,Z){var J=Z.attr();for(var lt in J){var rt=J[lt],bt=_[lt]?_[lt]:lt;bt==="matrix"&&rt?$.transform(rt[0],rt[1],rt[3],rt[4],rt[6],rt[7]):bt==="lineDash"&&$.setLineDash?y.isArray(rt)&&$.setLineDash(rt):(bt==="strokeStyle"||bt==="fillStyle"?rt=L.parseStyle($,Z,rt):bt==="globalAlpha"&&(rt=rt*$.globalAlpha),$[bt]=rt)}}S.applyAttrsToContext=C;function E($,Z,J){for(var lt=0;lt<Z.length;lt++){var rt=Z[lt];rt.cfg.visible?rt.draw($,J):rt.skipDraw()}}S.drawChildren=E;function p($,Z,J){var lt=$.get("refreshElements");y.each(lt,function(rt){if(rt!==$)for(var bt=rt.cfg.parent;bt&&bt!==$&&!bt.cfg.refresh;)bt.cfg.refresh=!0,bt=bt.cfg.parent}),lt[0]===$?b(Z,J):w(Z,J)}S.checkRefresh=p;function w($,Z){for(var J=0;J<$.length;J++){var lt=$[J];if(lt.cfg.visible)if(lt.cfg.hasChanged)lt.cfg.refresh=!0,lt.isGroup()&&b(lt.cfg.children,Z);else if(lt.cfg.refresh)lt.isGroup()&&w(lt.cfg.children,Z);else{var rt=m(lt,Z);lt.cfg.refresh=rt,rt&&lt.isGroup()&&w(lt.cfg.children,Z)}}}S.checkChildrenRefresh=w;function g($){for(var Z=0;Z<$.length;Z++){var J=$[Z];J.cfg.hasChanged=!1,J.isGroup()&&!J.destroyed&&g(J.cfg.children)}}S.clearChanged=g;function b($,Z){for(var J=0;J<$.length;J++){var lt=$[J];lt.cfg.refresh=!0,lt.isGroup()&&b(lt.get("children"),Z)}}function m($,Z){var J=$.cfg.cacheCanvasBBox,lt=$.cfg.isInView&&J&&O.intersectRect(J,Z);return lt}function M($,Z,J,lt){var rt=J.path,bt=J.startArrow,Ot=J.endArrow;if(!!rt){var Bt=[0,0],Et=[0,0],Dt={dx:0,dy:0};Z.beginPath();for(var It=0;It<rt.length;It++){var _t=rt[It],Xt=_t[0];if(It===0&&bt&&bt.d){var z=$.getStartTangent();Dt=T.getShortenOffset(z[0][0],z[0][1],z[1][0],z[1][1],bt.d)}else if(It===rt.length-2&&rt[It+1][0]==="Z"&&Ot&&Ot.d){var R=rt[It+1];if(R[0]==="Z"){var z=$.getEndTangent();Dt=T.getShortenOffset(z[0][0],z[0][1],z[1][0],z[1][1],Ot.d)}}else if(It===rt.length-1&&Ot&&Ot.d&&rt[0]!=="Z"){var z=$.getEndTangent();Dt=T.getShortenOffset(z[0][0],z[0][1],z[1][0],z[1][1],Ot.d)}var F=Dt.dx,D=Dt.dy;switch(Xt){case"M":Z.moveTo(_t[1]-F,_t[2]-D),Et=[_t[1],_t[2]];break;case"L":Z.lineTo(_t[1]-F,_t[2]-D);break;case"Q":Z.quadraticCurveTo(_t[1],_t[2],_t[3]-F,_t[4]-D);break;case"C":Z.bezierCurveTo(_t[1],_t[2],_t[3],_t[4],_t[5]-F,_t[6]-D);break;case"A":{var u=void 0;lt?(u=lt[It],u||(u=I.default(Bt,_t),lt[It]=u)):u=I.default(Bt,_t);var W=u.cx,it=u.cy,nt=u.rx,mt=u.ry,et=u.startAngle,ct=u.endAngle,Pt=u.xRotation,At=u.sweepFlag;if(Z.ellipse)Z.ellipse(W,it,nt,mt,Pt,et,ct,1-At);else{var ot=nt>mt?nt:mt,wt=nt>mt?1:nt/mt,st=nt>mt?mt/nt:1;Z.translate(W,it),Z.rotate(Pt),Z.scale(wt,st),Z.arc(0,0,ot,et,ct,1-At),Z.scale(1/wt,1/st),Z.rotate(-Pt),Z.translate(-W,-it)}break}case"Z":Z.closePath();break;default:break}if(Xt==="Z")Bt=Et;else{var K=_t.length;Bt=[_t[K-2],_t[K-1]]}}}}S.drawPath=M;function P($,Z){var J=$.get("canvas");J&&(Z==="remove"&&($._cacheCanvasBBox=$.get("cacheCanvasBBox")),$.get("hasChanged")||($.set("hasChanged",!0),$.cfg.parent&&$.cfg.parent.get("hasChanged")||(J.refreshElement($,Z,J),J.get("autoDraw")&&J.draw())))}S.refreshElement=P;function k($){var Z;if($.destroyed)Z=$._cacheCanvasBBox;else{var J=$.get("cacheCanvasBBox"),lt=J&&!!(J.width&&J.height),rt=$.getCanvasBBox(),bt=rt&&!!(rt.width&&rt.height);lt&&bt?Z=O.mergeRegion(J,rt):lt?Z=J:bt&&(Z=rt)}return Z}S.getRefreshRegion=k;function N($){if(!$.length)return null;var Z=[],J=[],lt=[],rt=[];return y.each($,function(bt){var Ot=k(bt);Ot&&(Z.push(Ot.minX),J.push(Ot.minY),lt.push(Ot.maxX),rt.push(Ot.maxY))}),{minX:y.min(Z),minY:y.min(J),maxX:y.max(lt),maxY:y.max(rt)}}S.getMergedRegion=N;function V($,Z){return!$||!Z||!O.intersectRect($,Z)?null:{minX:Math.max($.minX,Z.minX),minY:Math.max($.minY,Z.minY),maxX:Math.min($.maxX,Z.maxX),maxY:Math.min($.maxY,Z.maxY)}}S.mergeView=V},24818:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getShape=void 0;var y=d(96533);function L(_,C){if(C){var E=y.invert(C);return y.multiplyVec2(E,_)}return _}function I(_,C,E){var p=_.getTotalMatrix();if(p){var w=L([C,E,1],p),g=w[0],b=w[1];return[g,b]}return[C,E]}function O(_,C,E){if(_.isCanvas&&_.isCanvas())return!0;if(!y.isAllowCapture(_)||_.cfg.isInView===!1)return!1;if(_.cfg.clipShape){var p=I(_,C,E),w=p[0],g=p[1];if(_.isClipped(w,g))return!1}var b=_.cfg.cacheCanvasBBox||_.getCanvasBBox();return C>=b.minX&&C<=b.maxX&&E>=b.minY&&E<=b.maxY}function T(_,C,E){if(!O(_,C,E))return null;for(var p=null,w=_.getChildren(),g=w.length,b=g-1;b>=0;b--){var m=w[b];if(m.isGroup())p=T(m,C,E);else if(O(m,C,E)){var M=m,P=I(m,C,E),k=P[0],N=P[1];M.isInShape(k,N)&&(p=m)}if(p)break}return p}S.getShape=T},55978:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(96533);function L(I,O,T){var _=y.getOffScreenContext();return I.createPath(_),_.isPointInPath(O,T)}S.default=L},4043:function(gt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=1e-6;function y(O){return Math.abs(O)<d?0:O<0?-1:1}function L(O,T,_){return(_[0]-O[0])*(T[1]-O[1])==(T[0]-O[0])*(_[1]-O[1])&&Math.min(O[0],T[0])<=_[0]&&_[0]<=Math.max(O[0],T[0])&&Math.min(O[1],T[1])<=_[1]&&_[1]<=Math.max(O[1],T[1])}function I(O,T,_){var C=!1,E=O.length;if(E<=2)return!1;for(var p=0;p<E;p++){var w=O[p],g=O[(p+1)%E];if(L(w,g,[T,_]))return!0;y(w[1]-_)>0!=y(g[1]-_)>0&&y(T-(_-w[1])*(w[0]-g[0])/(w[1]-g[1])-w[0])<0&&(C=!C)}return C}S.default=I},37311:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(94478);function L(I,O,T,_,C,E,p,w){var g=(Math.atan2(w-O,p-I)+Math.PI*2)%(Math.PI*2);if(g<_||g>C)return!1;var b={x:I+T*Math.cos(g),y:O+T*Math.sin(g)};return y.distance(b.x,b.y,p,w)<=E/2}S.default=L},63131:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(89838);function L(I,O,T,_,C,E,p){var w=Math.min(I,T),g=Math.max(I,T),b=Math.min(O,_),m=Math.max(O,_),M=C/2;return E>=w-M&&E<=g+M&&p>=b-M&&p<=m+M?y.Line.pointToLine(I,O,T,_,E,p)<=C/2:!1}S.default=L},70625:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(63131);function L(I,O,T,_,C){var E=I.length;if(E<2)return!1;for(var p=0;p<E-1;p++){var w=I[p][0],g=I[p][1],b=I[p+1][0],m=I[p+1][1];if(y.default(w,g,b,m,O,T,_))return!0}if(C){var M=I[0],P=I[E-1];if(y.default(M[0],M[1],P[0],P[1],O,T,_))return!0}return!1}S.default=L},19626:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(63131),L=d(37311);function I(O,T,_,C,E,p,w,g){var b=p/2;return y.default(O+E,T,O+_-E,T,p,w,g)||y.default(O+_,T+E,O+_,T+C-E,p,w,g)||y.default(O+_-E,T+C,O+E,T+C,p,w,g)||y.default(O,T+C-E,O,T+E,p,w,g)||L.default(O+_-E,T+E,E,1.5*Math.PI,2*Math.PI,p,w,g)||L.default(O+_-E,T+C-E,E,0,.5*Math.PI,p,w,g)||L.default(O+E,T+C-E,E,.5*Math.PI,Math.PI,p,w,g)||L.default(O+E,T+E,E,Math.PI,1.5*Math.PI,p,w,g)}S.default=I},47946:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(94478);function L(I,O,T,_,C,E,p){var w=C/2;return y.inBox(I-w,O-w,T,C,E,p)||y.inBox(I+T-w,O-w,C,_,E,p)||y.inBox(I+w,O+_-w,T,C,E,p)||y.inBox(I-w,O+w,C,_,E,p)}S.default=L},62948:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.parseRadius=S.parseStyle=S.parsePattern=S.parseRadialGradient=S.parseLineGradient=void 0;var y=d(94478),L=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,I=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,O=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,T=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function _(b,m){var M=b.match(T);y.each(M,function(P){var k=P.split(":");m.addColorStop(k[0],k[1])})}function C(b,m,M){var P=L.exec(M),k=parseFloat(P[1])%360*(Math.PI/180),N=P[2],V=m.getBBox(),$,Z;k>=0&&k<1/2*Math.PI?($={x:V.minX,y:V.minY},Z={x:V.maxX,y:V.maxY}):1/2*Math.PI<=k&&k<Math.PI?($={x:V.maxX,y:V.minY},Z={x:V.minX,y:V.maxY}):Math.PI<=k&&k<3/2*Math.PI?($={x:V.maxX,y:V.maxY},Z={x:V.minX,y:V.minY}):($={x:V.minX,y:V.maxY},Z={x:V.maxX,y:V.minY});var J=Math.tan(k),lt=J*J,rt=(Z.x-$.x+J*(Z.y-$.y))/(lt+1)+$.x,bt=J*(Z.x-$.x+J*(Z.y-$.y))/(lt+1)+$.y,Ot=b.createLinearGradient($.x,$.y,rt,bt);return _(N,Ot),Ot}S.parseLineGradient=C;function E(b,m,M){var P=I.exec(M),k=parseFloat(P[1]),N=parseFloat(P[2]),V=parseFloat(P[3]),$=P[4];if(V===0){var Z=$.match(T);return Z[Z.length-1].split(":")[1]}var J=m.getBBox(),lt=J.maxX-J.minX,rt=J.maxY-J.minY,bt=Math.sqrt(lt*lt+rt*rt)/2,Ot=b.createRadialGradient(J.minX+lt*k,J.minY+rt*N,0,J.minX+lt/2,J.minY+rt/2,V*bt);return _($,Ot),Ot}S.parseRadialGradient=E;function p(b,m,M){if(m.get("patternSource")&&m.get("patternSource")===M)return m.get("pattern");var P,k,N=O.exec(M),V=N[1],$=N[2];function Z(){P=b.createPattern(k,V),m.set("pattern",P),m.set("patternSource",M)}switch(V){case"a":V="repeat";break;case"x":V="repeat-x";break;case"y":V="repeat-y";break;case"n":V="no-repeat";break;default:V="no-repeat"}return k=new Image,$.match(/^data:/i)||(k.crossOrigin="Anonymous"),k.src=$,k.complete?Z():(k.onload=Z,k.src=k.src),P}S.parsePattern=p;function w(b,m,M){var P=m.getBBox();if(isNaN(P.x)||isNaN(P.y)||isNaN(P.width)||isNaN(P.height))return M;if(y.isString(M)){if(M[1]==="("||M[2]==="("){if(M[0]==="l")return C(b,m,M);if(M[0]==="r")return E(b,m,M);if(M[0]==="p")return p(b,m,M)}return M}if(M instanceof CanvasPattern)return M}S.parseStyle=w;function g(b){var m=0,M=0,P=0,k=0;return y.isArray(b)?b.length===1?m=M=P=k=b[0]:b.length===2?(m=P=b[0],M=k=b[1]):b.length===3?(m=b[0],M=k=b[1],P=b[2]):(m=b[0],M=b[1],P=b[2],k=b[3]):m=M=P=k=b,[m,M,P,k]}S.parseRadius=g},32460:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(99519),L=d(96533),I=d(89838),O=d(89838),T=d(56379),_=d(77160),C=d(94478),E=d(63131),p=d(37311),w=T.ext.transform;function g(M){for(var P=!1,k=M.length,N=0;N<k;N++){var V=M[N],$=V[0];if($==="C"||$==="A"||$==="Q"){P=!0;break}}return P}function b(M,P,k,N,V){for(var $=!1,Z=P/2,J=0;J<M.length;J++){var lt=M[J],rt=lt.currentPoint,bt=lt.params,Ot=lt.prePoint,Bt=lt.box;if(!(Bt&&!C.inBox(Bt.x-Z,Bt.y-Z,Bt.width+P,Bt.height+P,k,N))){switch(lt.command){case"L":case"Z":$=E.default(Ot[0],Ot[1],rt[0],rt[1],P,k,N);break;case"Q":var Et=I.Quad.pointDistance(Ot[0],Ot[1],bt[1],bt[2],bt[3],bt[4],k,N);$=Et<=P/2;break;case"C":var Dt=O.Cubic.pointDistance(Ot[0],Ot[1],bt[1],bt[2],bt[3],bt[4],bt[5],bt[6],k,N,V);$=Dt<=P/2;break;case"A":var It=lt.arcParams,_t=It.cx,Xt=It.cy,z=It.rx,R=It.ry,F=It.startAngle,D=It.endAngle,u=It.xRotation,W=[k,N,1],it=z>R?z:R,nt=z>R?1:z/R,mt=z>R?R/z:1,et=w(null,[["t",-_t,-Xt],["r",-u],["s",1/nt,1/mt]]);_.transformMat3(W,W,et),$=p.default(0,0,it,F,D,P,W[0],W[1]);break;default:break}if($)break}}return $}function m(M){for(var P=M.length,k=[],N=[],V=[],$=0;$<P;$++){var Z=M[$],J=Z[0];J==="M"?(V.length&&(N.push(V),V=[]),V.push([Z[1],Z[2]])):J==="Z"?V.length&&(k.push(V),V=[]):V.push([Z[1],Z[2]])}return V.length>0&&N.push(V),{polygons:k,polylines:N}}S.default=y.__assign({hasArc:g,extractPolygons:m,isPointInStroke:b},L.PathUtil)},94478:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.isSamePoint=S.mergeRegion=S.intersectRect=S.inBox=S.distance=S.getPixelRatio=void 0;function y(){return window?window.devicePixelRatio:1}S.getPixelRatio=y;function L(E,p,w,g){var b=E-w,m=p-g;return Math.sqrt(b*b+m*m)}S.distance=L;function I(E,p,w,g,b,m){return b>=E&&b<=E+w&&m>=p&&m<=p+g}S.inBox=I;function O(E,p){return!(p.minX>E.maxX||p.maxX<E.minX||p.minY>E.maxY||p.maxY<E.minY)}S.intersectRect=O;function T(E,p){return!E||!p?E||p:{minX:Math.min(E.minX,p.minX),minY:Math.min(E.minY,p.minY),maxX:Math.max(E.maxX,p.maxX),maxY:Math.max(E.maxY,p.maxY)}}S.mergeRegion=T;function _(E,p){return E[0]===p[0]&&E[1]===p[1]}S.isSamePoint=_;var C=d(49242);Object.defineProperty(S,"isNil",{enumerable:!0,get:function(){return C.isNil}}),Object.defineProperty(S,"isString",{enumerable:!0,get:function(){return C.isString}}),Object.defineProperty(S,"isFunction",{enumerable:!0,get:function(){return C.isFunction}}),Object.defineProperty(S,"isArray",{enumerable:!0,get:function(){return C.isArray}}),Object.defineProperty(S,"each",{enumerable:!0,get:function(){return C.each}}),Object.defineProperty(S,"toRadian",{enumerable:!0,get:function(){return C.toRadian}}),Object.defineProperty(S,"mod",{enumerable:!0,get:function(){return C.mod}}),Object.defineProperty(S,"isNumberEqual",{enumerable:!0,get:function(){return C.isNumberEqual}}),Object.defineProperty(S,"requestAnimationFrame",{enumerable:!0,get:function(){return C.requestAnimationFrame}}),Object.defineProperty(S,"clearAnimationFrame",{enumerable:!0,get:function(){return C.clearAnimationFrame}})},56379:function(gt,S,d){"use strict";d.r(S),d.d(S,{ext:function(){return y},mat3:function(){return L},vec2:function(){return I},vec3:function(){return O}});var y={};d.r(y),d.d(y,{angleTo:function(){return g},direction:function(){return w},leftRotate:function(){return _},leftScale:function(){return C},leftTranslate:function(){return T},transform:function(){return p},vertical:function(){return b}});var L=d(35600),I=d(31437),O=d(77160);function T(m,M,P){var k=[0,0,0,0,0,0,0,0,0];return L.fromTranslation(k,P),L.multiply(m,k,M)}function _(m,M,P){var k=[0,0,0,0,0,0,0,0,0];return L.fromRotation(k,P),L.multiply(m,k,M)}function C(m,M,P){var k=[0,0,0,0,0,0,0,0,0];return L.fromScaling(k,P),L.multiply(m,k,M)}function E(m,M,P){return L.multiply(m,P,M)}function p(m,M){for(var P=m?[].concat(m):[1,0,0,0,1,0,0,0,1],k=0,N=M.length;k<N;k++){var V=M[k];switch(V[0]){case"t":T(P,P,[V[1],V[2]]);break;case"s":C(P,P,[V[1],V[2]]);break;case"r":_(P,P,V[1]);break;case"m":E(P,P,V[1]);break;default:break}}return P}function w(m,M){return m[0]*M[1]-M[0]*m[1]}function g(m,M,P){var k=I.angle(m,M),N=w(m,M)>=0;return P?N?Math.PI*2-k:k:N?k:Math.PI*2-k}function b(m,M,P){return P?(m[0]=M[1],m[1]=-1*M[0]):(m[0]=-1*M[1],m[1]=M[0]),m}},99519:function(gt,S,d){"use strict";d.r(S),d.d(S,{__extends:function(){return L},__assign:function(){return I},__rest:function(){return O},__decorate:function(){return T},__param:function(){return _},__esDecorate:function(){return C},__runInitializers:function(){return E},__propKey:function(){return p},__setFunctionName:function(){return w},__metadata:function(){return g},__awaiter:function(){return b},__generator:function(){return m},__createBinding:function(){return M},__exportStar:function(){return P},__values:function(){return k},__read:function(){return N},__spread:function(){return V},__spreadArrays:function(){return $},__spreadArray:function(){return Z},__await:function(){return J},__asyncGenerator:function(){return lt},__asyncDelegator:function(){return rt},__asyncValues:function(){return bt},__makeTemplateObject:function(){return Ot},__importStar:function(){return Et},__importDefault:function(){return Dt},__classPrivateFieldGet:function(){return It},__classPrivateFieldSet:function(){return _t},__classPrivateFieldIn:function(){return Xt}});var y=function(z,R){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,D){F.__proto__=D}||function(F,D){for(var u in D)Object.prototype.hasOwnProperty.call(D,u)&&(F[u]=D[u])},y(z,R)};function L(z,R){if(typeof R!="function"&&R!==null)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");y(z,R);function F(){this.constructor=z}z.prototype=R===null?Object.create(R):(F.prototype=R.prototype,new F)}var I=function(){return I=Object.assign||function(R){for(var F,D=1,u=arguments.length;D<u;D++){F=arguments[D];for(var W in F)Object.prototype.hasOwnProperty.call(F,W)&&(R[W]=F[W])}return R},I.apply(this,arguments)};function O(z,R){var F={};for(var D in z)Object.prototype.hasOwnProperty.call(z,D)&&R.indexOf(D)<0&&(F[D]=z[D]);if(z!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,D=Object.getOwnPropertySymbols(z);u<D.length;u++)R.indexOf(D[u])<0&&Object.prototype.propertyIsEnumerable.call(z,D[u])&&(F[D[u]]=z[D[u]]);return F}function T(z,R,F,D){var u=arguments.length,W=u<3?R:D===null?D=Object.getOwnPropertyDescriptor(R,F):D,it;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(z,R,F,D);else for(var nt=z.length-1;nt>=0;nt--)(it=z[nt])&&(W=(u<3?it(W):u>3?it(R,F,W):it(R,F))||W);return u>3&&W&&Object.defineProperty(R,F,W),W}function _(z,R){return function(F,D){R(F,D,z)}}function C(z,R,F,D,u,W){function it(tt){if(tt!==void 0&&typeof tt!="function")throw new TypeError("Function expected");return tt}for(var nt=D.kind,mt=nt==="getter"?"get":nt==="setter"?"set":"value",et=!R&&z?D.static?z:z.prototype:null,ct=R||(et?Object.getOwnPropertyDescriptor(et,D.name):{}),Pt,At=!1,ot=F.length-1;ot>=0;ot--){var wt={};for(var st in D)wt[st]=st==="access"?{}:D[st];for(var st in D.access)wt.access[st]=D.access[st];wt.addInitializer=function(tt){if(At)throw new TypeError("Cannot add initializers after decoration has completed");W.push(it(tt||null))};var K=(0,F[ot])(nt==="accessor"?{get:ct.get,set:ct.set}:ct[mt],wt);if(nt==="accessor"){if(K===void 0)continue;if(K===null||typeof K!="object")throw new TypeError("Object expected");(Pt=it(K.get))&&(ct.get=Pt),(Pt=it(K.set))&&(ct.set=Pt),(Pt=it(K.init))&&u.push(Pt)}else(Pt=it(K))&&(nt==="field"?u.push(Pt):ct[mt]=Pt)}et&&Object.defineProperty(et,D.name,ct),At=!0}function E(z,R,F){for(var D=arguments.length>2,u=0;u<R.length;u++)F=D?R[u].call(z,F):R[u].call(z);return D?F:void 0}function p(z){return typeof z=="symbol"?z:"".concat(z)}function w(z,R,F){return typeof R=="symbol"&&(R=R.description?"[".concat(R.description,"]"):""),Object.defineProperty(z,"name",{configurable:!0,value:F?"".concat(F," ",R):R})}function g(z,R){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(z,R)}function b(z,R,F,D){function u(W){return W instanceof F?W:new F(function(it){it(W)})}return new(F||(F=Promise))(function(W,it){function nt(ct){try{et(D.next(ct))}catch(Pt){it(Pt)}}function mt(ct){try{et(D.throw(ct))}catch(Pt){it(Pt)}}function et(ct){ct.done?W(ct.value):u(ct.value).then(nt,mt)}et((D=D.apply(z,R||[])).next())})}function m(z,R){var F={label:0,sent:function(){if(W[0]&1)throw W[1];return W[1]},trys:[],ops:[]},D,u,W,it;return it={next:nt(0),throw:nt(1),return:nt(2)},typeof Symbol=="function"&&(it[Symbol.iterator]=function(){return this}),it;function nt(et){return function(ct){return mt([et,ct])}}function mt(et){if(D)throw new TypeError("Generator is already executing.");for(;it&&(it=0,et[0]&&(F=0)),F;)try{if(D=1,u&&(W=et[0]&2?u.return:et[0]?u.throw||((W=u.return)&&W.call(u),0):u.next)&&!(W=W.call(u,et[1])).done)return W;switch(u=0,W&&(et=[et[0]&2,W.value]),et[0]){case 0:case 1:W=et;break;case 4:return F.label++,{value:et[1],done:!1};case 5:F.label++,u=et[1],et=[0];continue;case 7:et=F.ops.pop(),F.trys.pop();continue;default:if(W=F.trys,!(W=W.length>0&&W[W.length-1])&&(et[0]===6||et[0]===2)){F=0;continue}if(et[0]===3&&(!W||et[1]>W[0]&&et[1]<W[3])){F.label=et[1];break}if(et[0]===6&&F.label<W[1]){F.label=W[1],W=et;break}if(W&&F.label<W[2]){F.label=W[2],F.ops.push(et);break}W[2]&&F.ops.pop(),F.trys.pop();continue}et=R.call(z,F)}catch(ct){et=[6,ct],u=0}finally{D=W=0}if(et[0]&5)throw et[1];return{value:et[0]?et[1]:void 0,done:!0}}}var M=Object.create?function(z,R,F,D){D===void 0&&(D=F);var u=Object.getOwnPropertyDescriptor(R,F);(!u||("get"in u?!R.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return R[F]}}),Object.defineProperty(z,D,u)}:function(z,R,F,D){D===void 0&&(D=F),z[D]=R[F]};function P(z,R){for(var F in z)F!=="default"&&!Object.prototype.hasOwnProperty.call(R,F)&&M(R,z,F)}function k(z){var R=typeof Symbol=="function"&&Symbol.iterator,F=R&&z[R],D=0;if(F)return F.call(z);if(z&&typeof z.length=="number")return{next:function(){return z&&D>=z.length&&(z=void 0),{value:z&&z[D++],done:!z}}};throw new TypeError(R?"Object is not iterable.":"Symbol.iterator is not defined.")}function N(z,R){var F=typeof Symbol=="function"&&z[Symbol.iterator];if(!F)return z;var D=F.call(z),u,W=[],it;try{for(;(R===void 0||R-- >0)&&!(u=D.next()).done;)W.push(u.value)}catch(nt){it={error:nt}}finally{try{u&&!u.done&&(F=D.return)&&F.call(D)}finally{if(it)throw it.error}}return W}function V(){for(var z=[],R=0;R<arguments.length;R++)z=z.concat(N(arguments[R]));return z}function $(){for(var z=0,R=0,F=arguments.length;R<F;R++)z+=arguments[R].length;for(var D=Array(z),u=0,R=0;R<F;R++)for(var W=arguments[R],it=0,nt=W.length;it<nt;it++,u++)D[u]=W[it];return D}function Z(z,R,F){if(F||arguments.length===2)for(var D=0,u=R.length,W;D<u;D++)(W||!(D in R))&&(W||(W=Array.prototype.slice.call(R,0,D)),W[D]=R[D]);return z.concat(W||Array.prototype.slice.call(R))}function J(z){return this instanceof J?(this.v=z,this):new J(z)}function lt(z,R,F){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var D=F.apply(z,R||[]),u,W=[];return u={},it("next"),it("throw"),it("return"),u[Symbol.asyncIterator]=function(){return this},u;function it(At){D[At]&&(u[At]=function(ot){return new Promise(function(wt,st){W.push([At,ot,wt,st])>1||nt(At,ot)})})}function nt(At,ot){try{mt(D[At](ot))}catch(wt){Pt(W[0][3],wt)}}function mt(At){At.value instanceof J?Promise.resolve(At.value.v).then(et,ct):Pt(W[0][2],At)}function et(At){nt("next",At)}function ct(At){nt("throw",At)}function Pt(At,ot){At(ot),W.shift(),W.length&&nt(W[0][0],W[0][1])}}function rt(z){var R,F;return R={},D("next"),D("throw",function(u){throw u}),D("return"),R[Symbol.iterator]=function(){return this},R;function D(u,W){R[u]=z[u]?function(it){return(F=!F)?{value:J(z[u](it)),done:!1}:W?W(it):it}:W}}function bt(z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var R=z[Symbol.asyncIterator],F;return R?R.call(z):(z=typeof k=="function"?k(z):z[Symbol.iterator](),F={},D("next"),D("throw"),D("return"),F[Symbol.asyncIterator]=function(){return this},F);function D(W){F[W]=z[W]&&function(it){return new Promise(function(nt,mt){it=z[W](it),u(nt,mt,it.done,it.value)})}}function u(W,it,nt,mt){Promise.resolve(mt).then(function(et){W({value:et,done:nt})},it)}}function Ot(z,R){return Object.defineProperty?Object.defineProperty(z,"raw",{value:R}):z.raw=R,z}var Bt=Object.create?function(z,R){Object.defineProperty(z,"default",{enumerable:!0,value:R})}:function(z,R){z.default=R};function Et(z){if(z&&z.__esModule)return z;var R={};if(z!=null)for(var F in z)F!=="default"&&Object.prototype.hasOwnProperty.call(z,F)&&M(R,z,F);return Bt(R,z),R}function Dt(z){return z&&z.__esModule?z:{default:z}}function It(z,R,F,D){if(F==="a"&&!D)throw new TypeError("Private accessor was defined without a getter");if(typeof R=="function"?z!==R||!D:!R.has(z))throw new TypeError("Cannot read private member from an object whose class did not declare it");return F==="m"?D:F==="a"?D.call(z):D?D.value:R.get(z)}function _t(z,R,F,D,u){if(D==="m")throw new TypeError("Private method is not writable");if(D==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof R=="function"?z!==R||!u:!R.has(z))throw new TypeError("Cannot write private member to an object whose class did not declare it");return D==="a"?u.call(z,F):u?u.value=F:R.set(z,F),F}function Xt(z,R){if(R===null||typeof R!="object"&&typeof R!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof z=="function"?R===z:z.has(R)}},19270:function(gt,S,d){"use strict";var y;y={value:!0};var L=d(76789),I=d(96533),O=d(91995),T=d(49171),_=d(84092),C=d(84745),E=d(8198),p=d(36629),w=d(88330),g=function(b){L.__extends(m,b);function m(M){return b.call(this,L.__assign(L.__assign({},M),{autoDraw:!0,renderer:"svg"}))||this}return m.prototype.getShapeBase=function(){return E},m.prototype.getGroupBase=function(){return p.default},m.prototype.getShape=function(M,P,k){var N=k.target||k.srcElement;if(!O.SHAPE_TO_TAGS[N.tagName]){for(var V=N.parentNode;V&&!O.SHAPE_TO_TAGS[V.tagName];)V=V.parentNode;N=V}return this.find(function($){return $.get("el")===N})},m.prototype.createDom=function(){var M=C.createSVGElement("svg"),P=new w.default(M);return M.setAttribute("width",""+this.get("width")),M.setAttribute("height",""+this.get("height")),this.set("context",P),M},m.prototype.onCanvasChange=function(M){var P=this.get("context"),k=this.get("el");if(M==="sort"){var N=this.get("children");N&&N.length&&C.sortDom(this,function($,Z){return N.indexOf($)-N.indexOf(Z)?1:0})}else if(M==="clear"){if(k){k.innerHTML="";var V=P.el;V.innerHTML="",k.appendChild(V)}}else M==="matrix"?_.setTransform(this):M==="clip"?_.setClip(this,P):M==="changeSize"&&(k.setAttribute("width",""+this.get("width")),k.setAttribute("height",""+this.get("height")))},m.prototype.draw=function(){var M=this.get("context"),P=this.getChildren();_.setClip(this,M),P.length&&T.drawChildren(M,P)},m}(I.AbstractCanvas);S.Z=g},91995:function(gt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.EVENTS=S.SVG_ATTR_MAP=S.SHAPE_TO_TAGS=void 0,S.SHAPE_TO_TAGS={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},S.SVG_ATTR_MAP={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},S.EVENTS=["click","mousedown","mouseup","dblclick","contextmenu","mouseenter","mouseleave","mouseover","mouseout","mousemove","wheel"]},14232:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(49242),L=d(84745),I=function(){function O(T,_){this.cfg={};var C=L.createSVGElement("marker"),E=y.uniqueId("marker_");C.setAttribute("id",E);var p=L.createSVGElement("path");p.setAttribute("stroke",T.stroke||"none"),p.setAttribute("fill",T.fill||"none"),C.appendChild(p),C.setAttribute("overflow","visible"),C.setAttribute("orient","auto-start-reverse"),this.el=C,this.child=p,this.id=E;var w=T[_==="marker-start"?"startArrow":"endArrow"];return this.stroke=T.stroke||"#000",w===!0?this._setDefaultPath(_,p):(this.cfg=w,this._setMarker(T.lineWidth,p)),this}return O.prototype.match=function(){return!1},O.prototype._setDefaultPath=function(T,_){var C=this.el;_.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),C.setAttribute("refX",""+10*Math.cos(Math.PI/6)),C.setAttribute("refY",""+5)},O.prototype._setMarker=function(T,_){var C=this.el,E=this.cfg.path,p=this.cfg.d;y.isArray(E)&&(E=E.map(function(w){return w.join(" ")}).join("")),_.setAttribute("d",E),C.appendChild(_),p&&C.setAttribute("refX",""+p/T)},O.prototype.update=function(T){var _=this.child;_.attr?_.attr("fill",T):_.setAttribute("fill",T)},O}();S.default=I},32439:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(49242),L=d(84745),I=function(){function O(T){this.type="clip",this.cfg={};var _=L.createSVGElement("clipPath");this.el=_,this.id=y.uniqueId("clip_"),_.id=this.id;var C=T.cfg.el;return _.appendChild(C),this.cfg=T,this}return O.prototype.match=function(){return!1},O.prototype.remove=function(){var T=this.el;T.parentNode.removeChild(T)},O}();S.default=I},90362:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(49242),L=d(84745),I=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,O=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,T=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function _(w){var g=w.match(T);if(!g)return"";var b="";return g.sort(function(m,M){return m=m.split(":"),M=M.split(":"),Number(m[0])-Number(M[0])}),y.each(g,function(m){m=m.split(":"),b+='<stop offset="'+m[0]+'" stop-color="'+m[1]+'"></stop>'}),b}function C(w,g){var b=I.exec(w),m=y.mod(y.toRadian(parseFloat(b[1])),Math.PI*2),M=b[2],P,k;m>=0&&m<.5*Math.PI?(P={x:0,y:0},k={x:1,y:1}):.5*Math.PI<=m&&m<Math.PI?(P={x:1,y:0},k={x:0,y:1}):Math.PI<=m&&m<1.5*Math.PI?(P={x:1,y:1},k={x:0,y:0}):(P={x:0,y:1},k={x:1,y:0});var N=Math.tan(m),V=N*N,$=(k.x-P.x+N*(k.y-P.y))/(V+1)+P.x,Z=N*(k.x-P.x+N*(k.y-P.y))/(V+1)+P.y;g.setAttribute("x1",P.x),g.setAttribute("y1",P.y),g.setAttribute("x2",$),g.setAttribute("y2",Z),g.innerHTML=_(M)}function E(w,g){var b=O.exec(w),m=parseFloat(b[1]),M=parseFloat(b[2]),P=parseFloat(b[3]),k=b[4];g.setAttribute("cx",m),g.setAttribute("cy",M),g.setAttribute("r",P),g.innerHTML=_(k)}var p=function(){function w(g){this.cfg={};var b=null,m=y.uniqueId("gradient_");return g.toLowerCase()[0]==="l"?(b=L.createSVGElement("linearGradient"),C(g,b)):(b=L.createSVGElement("radialGradient"),E(g,b)),b.setAttribute("id",m),this.el=b,this.id=m,this.cfg=g,this}return w.prototype.match=function(g,b){return this.cfg===b},w}();S.default=p},88330:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(49242),L=d(90362),I=d(50375),O=d(14232),T=d(32439),_=d(99365),C=d(84745),E=function(){function p(w){var g=C.createSVGElement("defs"),b=y.uniqueId("defs_");g.id=b,w.appendChild(g),this.children=[],this.defaultArrow={},this.el=g,this.canvas=w}return p.prototype.find=function(w,g){for(var b=this.children,m=null,M=0;M<b.length;M++)if(b[M].match(w,g)){m=b[M].id;break}return m},p.prototype.findById=function(w){for(var g=this.children,b=null,m=0;m<g.length;m++)if(g[m].id===w){b=g[m];break}return b},p.prototype.add=function(w){this.children.push(w),w.canvas=this.canvas,w.parent=this},p.prototype.getDefaultArrow=function(w,g){var b=w.stroke||w.strokeStyle;if(this.defaultArrow[b])return this.defaultArrow[b].id;var m=new O.default(w,g);return this.defaultArrow[b]=m,this.el.appendChild(m.el),this.add(m),m.id},p.prototype.addGradient=function(w){var g=new L.default(w);return this.el.appendChild(g.el),this.add(g),g.id},p.prototype.addArrow=function(w,g){var b=new O.default(w,g);return this.el.appendChild(b.el),this.add(b),b.id},p.prototype.addShadow=function(w){var g=new I.default(w);return this.el.appendChild(g.el),this.add(g),g.id},p.prototype.addPattern=function(w){var g=new _.default(w);return this.el.appendChild(g.el),this.add(g),g.id},p.prototype.addClip=function(w){var g=new T.default(w);return this.el.appendChild(g.el),this.add(g),g.id},p}();S.default=E},99365:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(49242),L=d(84745),I=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,O=function(){function T(_){this.cfg={};var C=L.createSVGElement("pattern");C.setAttribute("patternUnits","userSpaceOnUse");var E=L.createSVGElement("image");C.appendChild(E);var p=y.uniqueId("pattern_");C.id=p,this.el=C,this.id=p,this.cfg=_;var w=I.exec(_),g=w[2];E.setAttribute("href",g);var b=new Image;g.match(/^data:/i)||(b.crossOrigin="Anonymous"),b.src=g;function m(){C.setAttribute("width",""+b.width),C.setAttribute("height",""+b.height)}return b.complete?m():(b.onload=m,b.src=b.src),this}return T.prototype.match=function(_,C){return this.cfg===C},T}();S.default=O},50375:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(49242),L=d(84745),I={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},O={x:"-40%",y:"-40%",width:"200%",height:"200%"},T=function(){function _(C){this.type="filter",this.cfg={},this.type="filter";var E=L.createSVGElement("filter");return y.each(O,function(p,w){E.setAttribute(w,p)}),this.el=E,this.id=y.uniqueId("filter_"),this.el.id=this.id,this.cfg=C,this._parseShadow(C,E),this}return _.prototype.match=function(C,E){if(this.type!==C)return!1;var p=!0,w=this.cfg;return y.each(Object.keys(w),function(g){if(w[g]!==E[g])return p=!1,!1}),p},_.prototype.update=function(C,E){var p=this.cfg;return p[I[C]]=E,this._parseShadow(p,this.el),this},_.prototype._parseShadow=function(C,E){var p=`<feDropShadow
      dx="`+(C.dx||0)+`"
      dy="`+(C.dy||0)+`"
      stdDeviation="`+(C.blur?C.blur/10:0)+`"
      flood-color="`+(C.color?C.color:"#000")+`"
      flood-opacity="`+(C.opacity?C.opacity:1)+`"
      />`;E.innerHTML=p},_}();S.default=T},36629:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(76789),L=d(96533),I=d(49242),O=d(8198),T=d(49171),_=d(84092),C=d(91995),E=d(84745),p=function(w){y.__extends(g,w);function g(){return w!==null&&w.apply(this,arguments)||this}return g.prototype.isEntityGroup=function(){return!0},g.prototype.createDom=function(){var b=E.createSVGElement("g");this.set("el",b);var m=this.getParent();if(m){var M=m.get("el");M||(M=m.createDom(),m.set("el",M)),M.appendChild(b)}return b},g.prototype.afterAttrsChange=function(b){w.prototype.afterAttrsChange.call(this,b);var m=this.get("canvas");if(m&&m.get("autoDraw")){var M=m.get("context");this.createPath(M,b)}},g.prototype.onCanvasChange=function(b){T.refreshElement(this,b)},g.prototype.getShapeBase=function(){return O},g.prototype.getGroupBase=function(){return g},g.prototype.draw=function(b){var m=this.getChildren(),M=this.get("el");this.get("destroyed")?M&&M.parentNode.removeChild(M):(M||this.createDom(),_.setClip(this,b),this.createPath(b),m.length&&T.drawChildren(b,m))},g.prototype.createPath=function(b,m){var M=this.attr(),P=this.get("el");I.each(m||M,function(k,N){C.SVG_ATTR_MAP[N]&&P.setAttribute(C.SVG_ATTR_MAP[N],k)}),_.setTransform(this)},g}(L.AbstractGroup);S.default=p},5666:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(76789),L=d(96533),I=d(84092),O=d(84745),T=d(49171),_=d(91995),C=d(8198),E=d(36629),p=d(96533),w=function(g){y.__extends(b,g);function b(){var m=g!==null&&g.apply(this,arguments)||this;return m.type="svg",m.canFill=!1,m.canStroke=!1,m}return b.prototype.getDefaultAttrs=function(){var m=g.prototype.getDefaultAttrs.call(this);return y.__assign(y.__assign({},m),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},b.prototype.afterAttrsChange=function(m){g.prototype.afterAttrsChange.call(this,m);var M=this.get("canvas");if(M&&M.get("autoDraw")){var P=M.get("context");this.draw(P,m)}},b.prototype.getShapeBase=function(){return C},b.prototype.getGroupBase=function(){return E.default},b.prototype.onCanvasChange=function(m){T.refreshElement(this,m)},b.prototype.calculateBBox=function(){var m=this.get("el"),M=null;if(m)M=m.getBBox();else{var P=p.getBBoxMethod(this.get("type"));P&&(M=P(this))}if(M){var k=M.x,N=M.y,V=M.width,$=M.height,Z=this.getHitLineWidth(),J=Z/2,lt=k-J,rt=N-J,bt=k+V+J,Ot=N+$+J;return{x:lt,y:rt,minX:lt,minY:rt,maxX:bt,maxY:Ot,width:V+Z,height:$+Z}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},b.prototype.isFill=function(){var m=this.attr(),M=m.fill,P=m.fillStyle;return(M||P||this.isClipShape())&&this.canFill},b.prototype.isStroke=function(){var m=this.attr(),M=m.stroke,P=m.strokeStyle;return(M||P)&&this.canStroke},b.prototype.draw=function(m,M){var P=this.get("el");this.get("destroyed")?P&&P.parentNode.removeChild(P):(P||O.createDom(this),I.setClip(this,m),this.createPath(m,M),this.shadow(m,M),this.strokeAndFill(m,M),this.transform(M))},b.prototype.createPath=function(m,M){},b.prototype.strokeAndFill=function(m,M){var P=M||this.attr(),k=P.fill,N=P.fillStyle,V=P.stroke,$=P.strokeStyle,Z=P.fillOpacity,J=P.strokeOpacity,lt=P.lineWidth,rt=this.get("el");this.canFill&&(M?"fill"in P?this._setColor(m,"fill",k):"fillStyle"in P&&this._setColor(m,"fill",N):this._setColor(m,"fill",k||N),Z&&rt.setAttribute(_.SVG_ATTR_MAP.fillOpacity,Z)),this.canStroke&&lt>0&&(M?"stroke"in P?this._setColor(m,"stroke",V):"strokeStyle"in P&&this._setColor(m,"stroke",$):this._setColor(m,"stroke",V||$),J&&rt.setAttribute(_.SVG_ATTR_MAP.strokeOpacity,J),lt&&rt.setAttribute(_.SVG_ATTR_MAP.lineWidth,lt))},b.prototype._setColor=function(m,M,P){var k=this.get("el");if(!P){k.setAttribute(_.SVG_ATTR_MAP[M],"none");return}if(P=P.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(P)){var N=m.find("gradient",P);N||(N=m.addGradient(P)),k.setAttribute(_.SVG_ATTR_MAP[M],"url(#"+N+")")}else if(/^[p,P]{1}[\s]*\(/.test(P)){var N=m.find("pattern",P);N||(N=m.addPattern(P)),k.setAttribute(_.SVG_ATTR_MAP[M],"url(#"+N+")")}else k.setAttribute(_.SVG_ATTR_MAP[M],P)},b.prototype.shadow=function(m,M){var P=this.attr(),k=M||P,N=k.shadowOffsetX,V=k.shadowOffsetY,$=k.shadowBlur,Z=k.shadowColor;(N||V||$||Z)&&I.setShadow(this,m)},b.prototype.transform=function(m){var M=this.attr(),P=(m||M).matrix;P&&I.setTransform(this)},b.prototype.isInShape=function(m,M){return this.isPointInPath(m,M)},b.prototype.isPointInPath=function(m,M){var P=this.get("el"),k=this.get("canvas"),N=k.get("el").getBoundingClientRect(),V=m+N.left,$=M+N.top,Z=document.elementFromPoint(V,$);return!!(Z&&Z.isEqualNode(P))},b.prototype.getHitLineWidth=function(){var m=this.attrs,M=m.lineWidth,P=m.lineAppendWidth;return this.isStroke()?M+P:0},b}(L.AbstractShape);S.default=w},41310:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(76789),L=d(49242),I=d(91995),O=d(5666),T=function(_){y.__extends(C,_);function C(){var E=_!==null&&_.apply(this,arguments)||this;return E.type="circle",E.canFill=!0,E.canStroke=!0,E}return C.prototype.getDefaultAttrs=function(){var E=_.prototype.getDefaultAttrs.call(this);return y.__assign(y.__assign({},E),{x:0,y:0,r:0})},C.prototype.createPath=function(E,p){var w=this.attr(),g=this.get("el");L.each(p||w,function(b,m){m==="x"||m==="y"?g.setAttribute("c"+m,b):I.SVG_ATTR_MAP[m]&&g.setAttribute(I.SVG_ATTR_MAP[m],b)})},C}(O.default);S.default=T},88800:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(76789),L=d(49242),I=d(91995),O=d(5666),T=function(_){y.__extends(C,_);function C(){var E=_!==null&&_.apply(this,arguments)||this;return E.type="dom",E.canFill=!1,E.canStroke=!1,E}return C.prototype.createPath=function(E,p){var w=this.attr(),g=this.get("el");if(L.each(p||w,function(P,k){I.SVG_ATTR_MAP[k]&&g.setAttribute(I.SVG_ATTR_MAP[k],P)}),typeof w.html=="function"){var b=w.html.call(this,w);if(b instanceof Element||b instanceof HTMLDocument){for(var m=g.childNodes,M=m.length-1;M>=0;M--)g.removeChild(m[M]);g.appendChild(b)}else g.innerHTML=b}else g.innerHTML=w.html},C}(O.default);S.default=T},62927:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(76789),L=d(49242),I=d(91995),O=d(5666),T=function(_){y.__extends(C,_);function C(){var E=_!==null&&_.apply(this,arguments)||this;return E.type="ellipse",E.canFill=!0,E.canStroke=!0,E}return C.prototype.getDefaultAttrs=function(){var E=_.prototype.getDefaultAttrs.call(this);return y.__assign(y.__assign({},E),{x:0,y:0,rx:0,ry:0})},C.prototype.createPath=function(E,p){var w=this.attr(),g=this.get("el");L.each(p||w,function(b,m){m==="x"||m==="y"?g.setAttribute("c"+m,b):I.SVG_ATTR_MAP[m]&&g.setAttribute(I.SVG_ATTR_MAP[m],b)})},C}(O.default);S.default=T},78076:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(76789),L=d(49242),I=d(91995),O=d(5666),T=function(_){y.__extends(C,_);function C(){var E=_!==null&&_.apply(this,arguments)||this;return E.type="image",E.canFill=!1,E.canStroke=!1,E}return C.prototype.getDefaultAttrs=function(){var E=_.prototype.getDefaultAttrs.call(this);return y.__assign(y.__assign({},E),{x:0,y:0,width:0,height:0})},C.prototype.createPath=function(E,p){var w=this,g=this.attr(),b=this.get("el");L.each(p||g,function(m,M){M==="img"?w._setImage(g.img):I.SVG_ATTR_MAP[M]&&b.setAttribute(I.SVG_ATTR_MAP[M],m)})},C.prototype.setAttr=function(E,p){this.attrs[E]=p,E==="img"&&this._setImage(p)},C.prototype._setImage=function(E){var p=this.attr(),w=this.get("el");if(L.isString(E))w.setAttribute("href",E);else if(E instanceof window.Image)p.width||(w.setAttribute("width",E.width),this.attr("width",E.width)),p.height||(w.setAttribute("height",E.height),this.attr("height",E.height)),w.setAttribute("href",E.src);else if(E instanceof HTMLElement&&L.isString(E.nodeName)&&E.nodeName.toUpperCase()==="CANVAS")w.setAttribute("href",E.toDataURL());else if(E instanceof ImageData){var g=document.createElement("canvas");g.setAttribute("width",""+E.width),g.setAttribute("height",""+E.height),g.getContext("2d").putImageData(E,0,0),p.width||(w.setAttribute("width",""+E.width),this.attr("width",E.width)),p.height||(w.setAttribute("height",""+E.height),this.attr("height",E.height)),w.setAttribute("href",g.toDataURL())}},C}(O.default);S.default=T},8198:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(5666);Object.defineProperty(S,"Base",{enumerable:!0,get:function(){return y.default}});var L=d(41310);Object.defineProperty(S,"Circle",{enumerable:!0,get:function(){return L.default}});var I=d(88800);Object.defineProperty(S,"Dom",{enumerable:!0,get:function(){return I.default}});var O=d(62927);Object.defineProperty(S,"Ellipse",{enumerable:!0,get:function(){return O.default}});var T=d(78076);Object.defineProperty(S,"Image",{enumerable:!0,get:function(){return T.default}});var _=d(22059);Object.defineProperty(S,"Line",{enumerable:!0,get:function(){return _.default}});var C=d(62116);Object.defineProperty(S,"Marker",{enumerable:!0,get:function(){return C.default}});var E=d(49582);Object.defineProperty(S,"Path",{enumerable:!0,get:function(){return E.default}});var p=d(17498);Object.defineProperty(S,"Polygon",{enumerable:!0,get:function(){return p.default}});var w=d(67478);Object.defineProperty(S,"Polyline",{enumerable:!0,get:function(){return w.default}});var g=d(79705);Object.defineProperty(S,"Rect",{enumerable:!0,get:function(){return g.default}});var b=d(61622);Object.defineProperty(S,"Text",{enumerable:!0,get:function(){return b.default}})},22059:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(76789),L=d(89838),I=d(49242),O=d(91995),T=d(5666),_=function(C){y.__extends(E,C);function E(){var p=C!==null&&C.apply(this,arguments)||this;return p.type="line",p.canFill=!1,p.canStroke=!0,p}return E.prototype.getDefaultAttrs=function(){var p=C.prototype.getDefaultAttrs.call(this);return y.__assign(y.__assign({},p),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},E.prototype.createPath=function(p,w){var g=this.attr(),b=this.get("el");I.each(w||g,function(m,M){if(M==="startArrow"||M==="endArrow")if(m){var P=I.isObject(m)?p.addArrow(g,O.SVG_ATTR_MAP[M]):p.getDefaultArrow(g,O.SVG_ATTR_MAP[M]);b.setAttribute(O.SVG_ATTR_MAP[M],"url(#"+P+")")}else b.removeAttribute(O.SVG_ATTR_MAP[M]);else O.SVG_ATTR_MAP[M]&&b.setAttribute(O.SVG_ATTR_MAP[M],m)})},E.prototype.getTotalLength=function(){var p=this.attr(),w=p.x1,g=p.y1,b=p.x2,m=p.y2;return L.Line.length(w,g,b,m)},E.prototype.getPoint=function(p){var w=this.attr(),g=w.x1,b=w.y1,m=w.x2,M=w.y2;return L.Line.pointAt(g,b,m,M,p)},E}(T.default);S.default=_},62116:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(76789),L=d(49242),I=d(5666),O=d(56205),T=function(_){y.__extends(C,_);function C(){var E=_!==null&&_.apply(this,arguments)||this;return E.type="marker",E.canFill=!0,E.canStroke=!0,E}return C.prototype.createPath=function(E){var p=this.get("el");p.setAttribute("d",this._assembleMarker())},C.prototype._assembleMarker=function(){var E=this._getPath();return L.isArray(E)?E.map(function(p){return p.join(" ")}).join(""):E},C.prototype._getPath=function(){var E=this.attr(),p=E.x,w=E.y,g=E.r||E.radius,b=E.symbol||"circle",m;return L.isFunction(b)?m=b:m=O.default.get(b),m?m(p,w,g):(console.warn(m+" symbol is not exist."),null)},C.symbolsFactory=O.default,C}(I.default);S.default=T},56205:function(gt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d={circle:function(y,L,I){return[["M",y,L],["m",-I,0],["a",I,I,0,1,0,I*2,0],["a",I,I,0,1,0,-I*2,0]]},square:function(y,L,I){return[["M",y-I,L-I],["L",y+I,L-I],["L",y+I,L+I],["L",y-I,L+I],["Z"]]},diamond:function(y,L,I){return[["M",y-I,L],["L",y,L-I],["L",y+I,L],["L",y,L+I],["Z"]]},triangle:function(y,L,I){var O=I*Math.sin(1/3*Math.PI);return[["M",y-I,L+O],["L",y,L-O],["L",y+I,L+O],["z"]]},triangleDown:function(y,L,I){var O=I*Math.sin(1/3*Math.PI);return[["M",y-I,L-O],["L",y+I,L-O],["L",y,L+O],["Z"]]}};S.default={get:function(y){return d[y]},register:function(y,L){d[y]=L},remove:function(y){delete d[y]},getAll:function(){return d}}},49582:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(76789),L=d(49242),I=d(91995),O=d(5666),T=function(_){y.__extends(C,_);function C(){var E=_!==null&&_.apply(this,arguments)||this;return E.type="path",E.canFill=!0,E.canStroke=!0,E}return C.prototype.getDefaultAttrs=function(){var E=_.prototype.getDefaultAttrs.call(this);return y.__assign(y.__assign({},E),{startArrow:!1,endArrow:!1})},C.prototype.createPath=function(E,p){var w=this,g=this.attr(),b=this.get("el");L.each(p||g,function(m,M){if(M==="path"&&L.isArray(m))b.setAttribute("d",w._formatPath(m));else if(M==="startArrow"||M==="endArrow")if(m){var P=L.isObject(m)?E.addArrow(g,I.SVG_ATTR_MAP[M]):E.getDefaultArrow(g,I.SVG_ATTR_MAP[M]);b.setAttribute(I.SVG_ATTR_MAP[M],"url(#"+P+")")}else b.removeAttribute(I.SVG_ATTR_MAP[M]);else I.SVG_ATTR_MAP[M]&&b.setAttribute(I.SVG_ATTR_MAP[M],m)})},C.prototype._formatPath=function(E){var p=E.map(function(w){return w.join(" ")}).join("");return~p.indexOf("NaN")?"":p},C.prototype.getTotalLength=function(){var E=this.get("el");return E?E.getTotalLength():null},C.prototype.getPoint=function(E){var p=this.get("el"),w=this.getTotalLength();if(w===0)return null;var g=p?p.getPointAtLength(E*w):null;return g?{x:g.x,y:g.y}:null},C}(O.default);S.default=T},17498:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(76789),L=d(49242),I=d(91995),O=d(5666),T=function(_){y.__extends(C,_);function C(){var E=_!==null&&_.apply(this,arguments)||this;return E.type="polygon",E.canFill=!0,E.canStroke=!0,E}return C.prototype.createPath=function(E,p){var w=this.attr(),g=this.get("el");L.each(p||w,function(b,m){m==="points"&&L.isArray(b)&&b.length>=2?g.setAttribute("points",b.map(function(M){return M[0]+","+M[1]}).join(" ")):I.SVG_ATTR_MAP[m]&&g.setAttribute(I.SVG_ATTR_MAP[m],b)})},C}(O.default);S.default=T},67478:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(76789),L=d(89838),I=d(89838),O=d(49242),T=d(91995),_=d(5666),C=function(E){y.__extends(p,E);function p(){var w=E!==null&&E.apply(this,arguments)||this;return w.type="polyline",w.canFill=!0,w.canStroke=!0,w}return p.prototype.getDefaultAttrs=function(){var w=E.prototype.getDefaultAttrs.call(this);return y.__assign(y.__assign({},w),{startArrow:!1,endArrow:!1})},p.prototype.onAttrChange=function(w,g,b){E.prototype.onAttrChange.call(this,w,g,b),["points"].indexOf(w)!==-1&&this._resetCache()},p.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},p.prototype.createPath=function(w,g){var b=this.attr(),m=this.get("el");O.each(g||b,function(M,P){P==="points"&&O.isArray(M)&&M.length>=2?m.setAttribute("points",M.map(function(k){return k[0]+","+k[1]}).join(" ")):T.SVG_ATTR_MAP[P]&&m.setAttribute(T.SVG_ATTR_MAP[P],M)})},p.prototype.getTotalLength=function(){var w=this.attr().points,g=this.get("totalLength");return O.isNil(g)?(this.set("totalLength",L.Polyline.length(w)),this.get("totalLength")):g},p.prototype.getPoint=function(w){var g=this.attr().points,b=this.get("tCache");b||(this._setTcache(),b=this.get("tCache"));var m,M;return O.each(b,function(P,k){w>=P[0]&&w<=P[1]&&(m=(w-P[0])/(P[1]-P[0]),M=k)}),I.Line.pointAt(g[M][0],g[M][1],g[M+1][0],g[M+1][1],m)},p.prototype._setTcache=function(){var w=this.attr().points;if(!(!w||w.length===0)){var g=this.getTotalLength();if(!(g<=0)){var b=0,m=[],M,P;O.each(w,function(k,N){w[N+1]&&(M=[],M[0]=b/g,P=I.Line.length(k[0],k[1],w[N+1][0],w[N+1][1]),b+=P,M[1]=b/g,m.push(M))}),this.set("tCache",m)}}},p.prototype.getStartTangent=function(){var w=this.attr().points,g=[];return g.push([w[1][0],w[1][1]]),g.push([w[0][0],w[0][1]]),g},p.prototype.getEndTangent=function(){var w=this.attr().points,g=w.length-1,b=[];return b.push([w[g-1][0],w[g-1][1]]),b.push([w[g][0],w[g][1]]),b},p}(_.default);S.default=C},79705:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(76789),L=d(49242),I=d(5666),O=d(91995),T=d(19544),_=function(C){y.__extends(E,C);function E(){var p=C!==null&&C.apply(this,arguments)||this;return p.type="rect",p.canFill=!0,p.canStroke=!0,p}return E.prototype.getDefaultAttrs=function(){var p=C.prototype.getDefaultAttrs.call(this);return y.__assign(y.__assign({},p),{x:0,y:0,width:0,height:0,radius:0})},E.prototype.createPath=function(p,w){var g=this,b=this.attr(),m=this.get("el"),M=!1,P=["x","y","width","height","radius"];L.each(w||b,function(k,N){P.indexOf(N)!==-1&&!M?(m.setAttribute("d",g._assembleRect(b)),M=!0):P.indexOf(N)===-1&&O.SVG_ATTR_MAP[N]&&m.setAttribute(O.SVG_ATTR_MAP[N],k)})},E.prototype._assembleRect=function(p){var w=p.x,g=p.y,b=p.width,m=p.height,M=p.radius;if(!M)return"M "+w+","+g+" l "+b+",0 l 0,"+m+" l"+-b+" 0 z";var P=T.parseRadius(M);L.isArray(M)?M.length===1?P.r1=P.r2=P.r3=P.r4=M[0]:M.length===2?(P.r1=P.r3=M[0],P.r2=P.r4=M[1]):M.length===3?(P.r1=M[0],P.r2=P.r4=M[1],P.r3=M[2]):(P.r1=M[0],P.r2=M[1],P.r3=M[2],P.r4=M[3]):P.r1=P.r2=P.r3=P.r4=M;var k=[["M "+(w+P.r1)+","+g],["l "+(b-P.r1-P.r2)+",0"],["a "+P.r2+","+P.r2+",0,0,1,"+P.r2+","+P.r2],["l 0,"+(m-P.r2-P.r3)],["a "+P.r3+","+P.r3+",0,0,1,"+-P.r3+","+P.r3],["l "+(P.r3+P.r4-b)+",0"],["a "+P.r4+","+P.r4+",0,0,1,"+-P.r4+","+-P.r4],["l 0,"+(P.r4+P.r1-m)],["a "+P.r1+","+P.r1+",0,0,1,"+P.r1+","+-P.r1],["z"]];return k.join(" ")},E}(I.default);S.default=_},61622:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(76789),L=d(49242),I=d(43631),O=d(84092),T=d(91995),_=d(5666),C=.3,E={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},p={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},w={left:"left",start:"left",center:"middle",right:"end",end:"end"},g=function(b){y.__extends(m,b);function m(){var M=b!==null&&b.apply(this,arguments)||this;return M.type="text",M.canFill=!0,M.canStroke=!0,M}return m.prototype.getDefaultAttrs=function(){var M=b.prototype.getDefaultAttrs.call(this);return y.__assign(y.__assign({},M),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},m.prototype.createPath=function(M,P){var k=this,N=this.attr(),V=this.get("el");this._setFont(),L.each(P||N,function($,Z){Z==="text"?k._setText(""+$):Z==="matrix"&&$?O.setTransform(k):T.SVG_ATTR_MAP[Z]&&V.setAttribute(T.SVG_ATTR_MAP[Z],$)}),V.setAttribute("paint-order","stroke"),V.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},m.prototype._setFont=function(){var M=this.get("el"),P=this.attr(),k=P.textBaseline,N=P.textAlign,V=I.detect();V&&V.name==="firefox"?M.setAttribute("dominant-baseline",p[k]||"alphabetic"):M.setAttribute("alignment-baseline",E[k]||"baseline"),M.setAttribute("text-anchor",w[N]||"left")},m.prototype._setText=function(M){var P=this.get("el"),k=this.attr(),N=k.x,V=k.textBaseline,$=V===void 0?"bottom":V;if(!M)P.innerHTML="";else if(~M.indexOf(`
`)){var Z=M.split(`
`),J=Z.length-1,lt="";L.each(Z,function(rt,bt){bt===0?$==="alphabetic"?lt+='<tspan x="'+N+'" dy="'+-J+'em">'+rt+"</tspan>":$==="top"?lt+='<tspan x="'+N+'" dy="0.9em">'+rt+"</tspan>":$==="middle"?lt+='<tspan x="'+N+'" dy="'+-(J-1)/2+'em">'+rt+"</tspan>":$==="bottom"?lt+='<tspan x="'+N+'" dy="-'+(J+C)+'em">'+rt+"</tspan>":$==="hanging"&&(lt+='<tspan x="'+N+'" dy="'+(-(J-1)-C)+'em">'+rt+"</tspan>"):lt+='<tspan x="'+N+'" dy="1em">'+rt+"</tspan>"}),P.innerHTML=lt}else P.innerHTML=M},m}(_.default);S.default=g},84745:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.moveTo=S.sortDom=S.createDom=S.createSVGElement=void 0;var y=d(49242),L=d(91995);function I(C){return document.createElementNS("http://www.w3.org/2000/svg",C)}S.createSVGElement=I;function O(C){var E=L.SHAPE_TO_TAGS[C.type],p=C.getParent();if(!E)throw new Error("the type "+C.type+" is not supported by svg");var w=I(E);if(C.get("id")&&(w.id=C.get("id")),C.set("el",w),C.set("attrs",{}),p){var g=p.get("el");g||(g=p.createDom(),p.set("el",g)),g.appendChild(w)}return w}S.createDom=O;function T(C,E){var p=C.get("el"),w=y.toArray(p.children).sort(E),g=document.createDocumentFragment();w.forEach(function(b){g.appendChild(b)}),p.appendChild(g)}S.sortDom=T;function _(C,E){var p=C.parentNode,w=Array.from(p.childNodes).filter(function(M){return M.nodeType===1&&M.nodeName.toLowerCase()!=="defs"}),g=w[E],b=w.indexOf(C);if(g){if(b>E)p.insertBefore(C,g);else if(b<E){var m=w[E+1];m?p.insertBefore(C,m):p.appendChild(C)}}else p.appendChild(C)}S.moveTo=_},49171:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.refreshElement=S.drawChildren=void 0;var y=d(84092),L=d(84745);function I(T,_){_.forEach(function(C){C.draw(T)})}S.drawChildren=I;function O(T,_){var C=T.get("canvas");if(C&&C.get("autoDraw")){var E=C.get("context"),p=T.getParent(),w=p?p.getChildren():[C],g=T.get("el");if(_==="remove"){var b=T.get("isClipShape");if(b){var m=g&&g.parentNode,M=m&&m.parentNode;m&&M&&M.removeChild(m)}else g&&g.parentNode&&g.parentNode.removeChild(g)}else if(_==="show")g.setAttribute("visibility","visible");else if(_==="hide")g.setAttribute("visibility","hidden");else if(_==="zIndex")L.moveTo(g,w.indexOf(T));else if(_==="sort"){var P=T.get("children");P&&P.length&&L.sortDom(T,function(k,N){return P.indexOf(k)-P.indexOf(N)?1:0})}else _==="clear"?g&&(g.innerHTML=""):_==="matrix"?y.setTransform(T):_==="clip"?y.setClip(T,E):_==="attr"||_==="add"&&T.draw(E)}}S.refreshElement=O},19544:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.parsePath=S.parseRadius=void 0;var y=d(49242),L=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,I=/[^\s,]+/gi;function O(_){var C=0,E=0,p=0,w=0;return y.isArray(_)?_.length===1?C=E=p=w=_[0]:_.length===2?(C=p=_[0],E=w=_[1]):_.length===3?(C=_[0],E=w=_[1],p=_[2]):(C=_[0],E=_[1],p=_[2],w=_[3]):C=E=p=w=_,{r1:C,r2:E,r3:p,r4:w}}S.parseRadius=O;function T(_){if(_=_||[],y.isArray(_))return _;if(y.isString(_))return _=_.match(L),y.each(_,function(C,E){if(C=C.match(I),C[0].length>1){var p=C[0].charAt(0);C.splice(1,0,C[0].substr(1)),C[0]=p}y.each(C,function(w,g){isNaN(w)||(C[g]=+w)}),_[E]=C}),_}S.parsePath=T},84092:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.setClip=S.setTransform=S.setShadow=void 0;var y=d(84745);function L(T,_){var C=T.cfg.el,E=T.attr(),p={dx:E.shadowOffsetX,dy:E.shadowOffsetY,blur:E.shadowBlur,color:E.shadowColor};if(!p.dx&&!p.dy&&!p.blur&&!p.color)C.removeAttribute("filter");else{var w=_.find("filter",p);w||(w=_.addShadow(p)),C.setAttribute("filter","url(#"+w+")")}}S.setShadow=L;function I(T){var _=T.attr().matrix;if(_){for(var C=T.cfg.el,E=[],p=0;p<9;p+=3)E.push(_[p]+","+_[p+1]);E=E.join(","),E.indexOf("NaN")===-1?C.setAttribute("transform","matrix("+E+")"):console.warn("invalid matrix:",_)}}S.setTransform=I;function O(T,_){var C=T.getClip(),E=T.get("el");if(!C)E.removeAttribute("clip-path");else if(C&&!E.hasAttribute("clip-path")){y.createDom(C),C.createPath(_);var p=_.addClip(C);E.setAttribute("clip-path","url(#"+p+")")}}S.setClip=O},76789:function(gt,S,d){"use strict";d.r(S),d.d(S,{__extends:function(){return L},__assign:function(){return I},__rest:function(){return O},__decorate:function(){return T},__param:function(){return _},__esDecorate:function(){return C},__runInitializers:function(){return E},__propKey:function(){return p},__setFunctionName:function(){return w},__metadata:function(){return g},__awaiter:function(){return b},__generator:function(){return m},__createBinding:function(){return M},__exportStar:function(){return P},__values:function(){return k},__read:function(){return N},__spread:function(){return V},__spreadArrays:function(){return $},__spreadArray:function(){return Z},__await:function(){return J},__asyncGenerator:function(){return lt},__asyncDelegator:function(){return rt},__asyncValues:function(){return bt},__makeTemplateObject:function(){return Ot},__importStar:function(){return Et},__importDefault:function(){return Dt},__classPrivateFieldGet:function(){return It},__classPrivateFieldSet:function(){return _t},__classPrivateFieldIn:function(){return Xt}});var y=function(z,R){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,D){F.__proto__=D}||function(F,D){for(var u in D)Object.prototype.hasOwnProperty.call(D,u)&&(F[u]=D[u])},y(z,R)};function L(z,R){if(typeof R!="function"&&R!==null)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");y(z,R);function F(){this.constructor=z}z.prototype=R===null?Object.create(R):(F.prototype=R.prototype,new F)}var I=function(){return I=Object.assign||function(R){for(var F,D=1,u=arguments.length;D<u;D++){F=arguments[D];for(var W in F)Object.prototype.hasOwnProperty.call(F,W)&&(R[W]=F[W])}return R},I.apply(this,arguments)};function O(z,R){var F={};for(var D in z)Object.prototype.hasOwnProperty.call(z,D)&&R.indexOf(D)<0&&(F[D]=z[D]);if(z!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,D=Object.getOwnPropertySymbols(z);u<D.length;u++)R.indexOf(D[u])<0&&Object.prototype.propertyIsEnumerable.call(z,D[u])&&(F[D[u]]=z[D[u]]);return F}function T(z,R,F,D){var u=arguments.length,W=u<3?R:D===null?D=Object.getOwnPropertyDescriptor(R,F):D,it;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(z,R,F,D);else for(var nt=z.length-1;nt>=0;nt--)(it=z[nt])&&(W=(u<3?it(W):u>3?it(R,F,W):it(R,F))||W);return u>3&&W&&Object.defineProperty(R,F,W),W}function _(z,R){return function(F,D){R(F,D,z)}}function C(z,R,F,D,u,W){function it(tt){if(tt!==void 0&&typeof tt!="function")throw new TypeError("Function expected");return tt}for(var nt=D.kind,mt=nt==="getter"?"get":nt==="setter"?"set":"value",et=!R&&z?D.static?z:z.prototype:null,ct=R||(et?Object.getOwnPropertyDescriptor(et,D.name):{}),Pt,At=!1,ot=F.length-1;ot>=0;ot--){var wt={};for(var st in D)wt[st]=st==="access"?{}:D[st];for(var st in D.access)wt.access[st]=D.access[st];wt.addInitializer=function(tt){if(At)throw new TypeError("Cannot add initializers after decoration has completed");W.push(it(tt||null))};var K=(0,F[ot])(nt==="accessor"?{get:ct.get,set:ct.set}:ct[mt],wt);if(nt==="accessor"){if(K===void 0)continue;if(K===null||typeof K!="object")throw new TypeError("Object expected");(Pt=it(K.get))&&(ct.get=Pt),(Pt=it(K.set))&&(ct.set=Pt),(Pt=it(K.init))&&u.push(Pt)}else(Pt=it(K))&&(nt==="field"?u.push(Pt):ct[mt]=Pt)}et&&Object.defineProperty(et,D.name,ct),At=!0}function E(z,R,F){for(var D=arguments.length>2,u=0;u<R.length;u++)F=D?R[u].call(z,F):R[u].call(z);return D?F:void 0}function p(z){return typeof z=="symbol"?z:"".concat(z)}function w(z,R,F){return typeof R=="symbol"&&(R=R.description?"[".concat(R.description,"]"):""),Object.defineProperty(z,"name",{configurable:!0,value:F?"".concat(F," ",R):R})}function g(z,R){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(z,R)}function b(z,R,F,D){function u(W){return W instanceof F?W:new F(function(it){it(W)})}return new(F||(F=Promise))(function(W,it){function nt(ct){try{et(D.next(ct))}catch(Pt){it(Pt)}}function mt(ct){try{et(D.throw(ct))}catch(Pt){it(Pt)}}function et(ct){ct.done?W(ct.value):u(ct.value).then(nt,mt)}et((D=D.apply(z,R||[])).next())})}function m(z,R){var F={label:0,sent:function(){if(W[0]&1)throw W[1];return W[1]},trys:[],ops:[]},D,u,W,it;return it={next:nt(0),throw:nt(1),return:nt(2)},typeof Symbol=="function"&&(it[Symbol.iterator]=function(){return this}),it;function nt(et){return function(ct){return mt([et,ct])}}function mt(et){if(D)throw new TypeError("Generator is already executing.");for(;it&&(it=0,et[0]&&(F=0)),F;)try{if(D=1,u&&(W=et[0]&2?u.return:et[0]?u.throw||((W=u.return)&&W.call(u),0):u.next)&&!(W=W.call(u,et[1])).done)return W;switch(u=0,W&&(et=[et[0]&2,W.value]),et[0]){case 0:case 1:W=et;break;case 4:return F.label++,{value:et[1],done:!1};case 5:F.label++,u=et[1],et=[0];continue;case 7:et=F.ops.pop(),F.trys.pop();continue;default:if(W=F.trys,!(W=W.length>0&&W[W.length-1])&&(et[0]===6||et[0]===2)){F=0;continue}if(et[0]===3&&(!W||et[1]>W[0]&&et[1]<W[3])){F.label=et[1];break}if(et[0]===6&&F.label<W[1]){F.label=W[1],W=et;break}if(W&&F.label<W[2]){F.label=W[2],F.ops.push(et);break}W[2]&&F.ops.pop(),F.trys.pop();continue}et=R.call(z,F)}catch(ct){et=[6,ct],u=0}finally{D=W=0}if(et[0]&5)throw et[1];return{value:et[0]?et[1]:void 0,done:!0}}}var M=Object.create?function(z,R,F,D){D===void 0&&(D=F);var u=Object.getOwnPropertyDescriptor(R,F);(!u||("get"in u?!R.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return R[F]}}),Object.defineProperty(z,D,u)}:function(z,R,F,D){D===void 0&&(D=F),z[D]=R[F]};function P(z,R){for(var F in z)F!=="default"&&!Object.prototype.hasOwnProperty.call(R,F)&&M(R,z,F)}function k(z){var R=typeof Symbol=="function"&&Symbol.iterator,F=R&&z[R],D=0;if(F)return F.call(z);if(z&&typeof z.length=="number")return{next:function(){return z&&D>=z.length&&(z=void 0),{value:z&&z[D++],done:!z}}};throw new TypeError(R?"Object is not iterable.":"Symbol.iterator is not defined.")}function N(z,R){var F=typeof Symbol=="function"&&z[Symbol.iterator];if(!F)return z;var D=F.call(z),u,W=[],it;try{for(;(R===void 0||R-- >0)&&!(u=D.next()).done;)W.push(u.value)}catch(nt){it={error:nt}}finally{try{u&&!u.done&&(F=D.return)&&F.call(D)}finally{if(it)throw it.error}}return W}function V(){for(var z=[],R=0;R<arguments.length;R++)z=z.concat(N(arguments[R]));return z}function $(){for(var z=0,R=0,F=arguments.length;R<F;R++)z+=arguments[R].length;for(var D=Array(z),u=0,R=0;R<F;R++)for(var W=arguments[R],it=0,nt=W.length;it<nt;it++,u++)D[u]=W[it];return D}function Z(z,R,F){if(F||arguments.length===2)for(var D=0,u=R.length,W;D<u;D++)(W||!(D in R))&&(W||(W=Array.prototype.slice.call(R,0,D)),W[D]=R[D]);return z.concat(W||Array.prototype.slice.call(R))}function J(z){return this instanceof J?(this.v=z,this):new J(z)}function lt(z,R,F){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var D=F.apply(z,R||[]),u,W=[];return u={},it("next"),it("throw"),it("return"),u[Symbol.asyncIterator]=function(){return this},u;function it(At){D[At]&&(u[At]=function(ot){return new Promise(function(wt,st){W.push([At,ot,wt,st])>1||nt(At,ot)})})}function nt(At,ot){try{mt(D[At](ot))}catch(wt){Pt(W[0][3],wt)}}function mt(At){At.value instanceof J?Promise.resolve(At.value.v).then(et,ct):Pt(W[0][2],At)}function et(At){nt("next",At)}function ct(At){nt("throw",At)}function Pt(At,ot){At(ot),W.shift(),W.length&&nt(W[0][0],W[0][1])}}function rt(z){var R,F;return R={},D("next"),D("throw",function(u){throw u}),D("return"),R[Symbol.iterator]=function(){return this},R;function D(u,W){R[u]=z[u]?function(it){return(F=!F)?{value:J(z[u](it)),done:!1}:W?W(it):it}:W}}function bt(z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var R=z[Symbol.asyncIterator],F;return R?R.call(z):(z=typeof k=="function"?k(z):z[Symbol.iterator](),F={},D("next"),D("throw"),D("return"),F[Symbol.asyncIterator]=function(){return this},F);function D(W){F[W]=z[W]&&function(it){return new Promise(function(nt,mt){it=z[W](it),u(nt,mt,it.done,it.value)})}}function u(W,it,nt,mt){Promise.resolve(mt).then(function(et){W({value:et,done:nt})},it)}}function Ot(z,R){return Object.defineProperty?Object.defineProperty(z,"raw",{value:R}):z.raw=R,z}var Bt=Object.create?function(z,R){Object.defineProperty(z,"default",{enumerable:!0,value:R})}:function(z,R){z.default=R};function Et(z){if(z&&z.__esModule)return z;var R={};if(z!=null)for(var F in z)F!=="default"&&Object.prototype.hasOwnProperty.call(z,F)&&M(R,z,F);return Bt(R,z),R}function Dt(z){return z&&z.__esModule?z:{default:z}}function It(z,R,F,D){if(F==="a"&&!D)throw new TypeError("Private accessor was defined without a getter");if(typeof R=="function"?z!==R||!D:!R.has(z))throw new TypeError("Cannot read private member from an object whose class did not declare it");return F==="m"?D:F==="a"?D.call(z):D?D.value:R.get(z)}function _t(z,R,F,D,u){if(D==="m")throw new TypeError("Private method is not writable");if(D==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof R=="function"?z!==R||!u:!R.has(z))throw new TypeError("Cannot write private member to an object whose class did not declare it");return D==="a"?u.call(z,F):u?u.value=F:R.set(z,F),F}function Xt(z,R){if(R===null||typeof R!="object"&&typeof R!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof z=="function"?R===z:z.has(R)}},27549:function(gt,S,d){"use strict";var y;y={value:!0};var L=d(7802);S.wO=L.default;var I=d(89193);y=I.default;var O=d(98543);y=O.default;var T=d(34532);S.vs=T.default},7802:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(31502);y.translate=function(L,I,O){var T=new Array(9);return y.fromTranslation(T,O),y.multiply(L,T,I)},y.rotate=function(L,I,O){var T=new Array(9);return y.fromRotation(T,O),y.multiply(L,T,I)},y.scale=function(L,I,O){var T=new Array(9);return y.fromScaling(T,O),y.multiply(L,T,I)},y.transform=function(L,I){for(var O=[].concat(L),T=0,_=I.length;T<_;T++){var C=I[T];switch(C[0]){case"t":y.translate(O,O,[C[1],C[2]]);break;case"s":y.scale(O,O,[C[1],C[2]]);break;case"r":y.rotate(O,O,C[1]);break;default:break}}return O},S.default=y},34532:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(49242),L=d(7802);S.default=function(I,O){var T=I?y.clone(I):[1,0,0,0,1,0,0,0,1];return y.each(O,function(_){switch(_[0]){case"t":L.default.translate(T,T,[_[1],_[2]]);break;case"s":L.default.scale(T,T,[_[1],_[2]]);break;case"r":L.default.rotate(T,T,_[1]);break;case"m":L.default.multiply(T,T,_[1]);break;default:return!1}}),T}},89193:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(76172),L=d(49242);y.angle=function(I,O){var T=y.dot(I,O)/(y.length(I)*y.length(O));return Math.acos(L.clamp(T,-1,1))},y.direction=function(I,O){return I[0]*O[1]-O[0]*I[1]},y.angleTo=function(I,O,T){var _=y.angle(I,O),C=y.direction(I,O)>=0;return T?C?Math.PI*2-_:_:C?_:Math.PI*2-_},y.vertical=function(I,O,T){return T?(I[0]=O[1],I[1]=-1*O[0]):(I[0]=-1*O[1],I[1]=O[0]),I},S.default=y},98543:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(88395);S.default=y},74988:function(gt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.setMatrixArrayType=I,S.toRadian=T,S.equals=_;var d=S.EPSILON=1e-6,y=S.ARRAY_TYPE=typeof Float32Array!="undefined"?Float32Array:Array,L=S.RANDOM=Math.random;function I(C){S.ARRAY_TYPE=y=C}var O=Math.PI/180;function T(C){return C*O}function _(C,E){return Math.abs(C-E)<=d*Math.max(1,Math.abs(C),Math.abs(E))}},31502:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.sub=S.mul=void 0,S.create=O,S.fromMat4=T,S.clone=_,S.copy=C,S.fromValues=E,S.set=p,S.identity=w,S.transpose=g,S.invert=b,S.adjoint=m,S.determinant=M,S.multiply=P,S.translate=k,S.rotate=N,S.scale=V,S.fromTranslation=$,S.fromRotation=Z,S.fromScaling=J,S.fromMat2d=lt,S.fromQuat=rt,S.normalFromMat4=bt,S.projection=Ot,S.str=Bt,S.frob=Et,S.add=Dt,S.subtract=It,S.multiplyScalar=_t,S.multiplyScalarAndAdd=Xt,S.exactEquals=z,S.equals=R;var y=d(74988),L=I(y);function I(u){if(u&&u.__esModule)return u;var W={};if(u!=null)for(var it in u)Object.prototype.hasOwnProperty.call(u,it)&&(W[it]=u[it]);return W.default=u,W}function O(){var u=new L.ARRAY_TYPE(9);return L.ARRAY_TYPE!=Float32Array&&(u[1]=0,u[2]=0,u[3]=0,u[5]=0,u[6]=0,u[7]=0),u[0]=1,u[4]=1,u[8]=1,u}function T(u,W){return u[0]=W[0],u[1]=W[1],u[2]=W[2],u[3]=W[4],u[4]=W[5],u[5]=W[6],u[6]=W[8],u[7]=W[9],u[8]=W[10],u}function _(u){var W=new L.ARRAY_TYPE(9);return W[0]=u[0],W[1]=u[1],W[2]=u[2],W[3]=u[3],W[4]=u[4],W[5]=u[5],W[6]=u[6],W[7]=u[7],W[8]=u[8],W}function C(u,W){return u[0]=W[0],u[1]=W[1],u[2]=W[2],u[3]=W[3],u[4]=W[4],u[5]=W[5],u[6]=W[6],u[7]=W[7],u[8]=W[8],u}function E(u,W,it,nt,mt,et,ct,Pt,At){var ot=new L.ARRAY_TYPE(9);return ot[0]=u,ot[1]=W,ot[2]=it,ot[3]=nt,ot[4]=mt,ot[5]=et,ot[6]=ct,ot[7]=Pt,ot[8]=At,ot}function p(u,W,it,nt,mt,et,ct,Pt,At,ot){return u[0]=W,u[1]=it,u[2]=nt,u[3]=mt,u[4]=et,u[5]=ct,u[6]=Pt,u[7]=At,u[8]=ot,u}function w(u){return u[0]=1,u[1]=0,u[2]=0,u[3]=0,u[4]=1,u[5]=0,u[6]=0,u[7]=0,u[8]=1,u}function g(u,W){if(u===W){var it=W[1],nt=W[2],mt=W[5];u[1]=W[3],u[2]=W[6],u[3]=it,u[5]=W[7],u[6]=nt,u[7]=mt}else u[0]=W[0],u[1]=W[3],u[2]=W[6],u[3]=W[1],u[4]=W[4],u[5]=W[7],u[6]=W[2],u[7]=W[5],u[8]=W[8];return u}function b(u,W){var it=W[0],nt=W[1],mt=W[2],et=W[3],ct=W[4],Pt=W[5],At=W[6],ot=W[7],wt=W[8],st=wt*ct-Pt*ot,K=-wt*et+Pt*At,tt=ot*et-ct*At,U=it*st+nt*K+mt*tt;return U?(U=1/U,u[0]=st*U,u[1]=(-wt*nt+mt*ot)*U,u[2]=(Pt*nt-mt*ct)*U,u[3]=K*U,u[4]=(wt*it-mt*At)*U,u[5]=(-Pt*it+mt*et)*U,u[6]=tt*U,u[7]=(-ot*it+nt*At)*U,u[8]=(ct*it-nt*et)*U,u):null}function m(u,W){var it=W[0],nt=W[1],mt=W[2],et=W[3],ct=W[4],Pt=W[5],At=W[6],ot=W[7],wt=W[8];return u[0]=ct*wt-Pt*ot,u[1]=mt*ot-nt*wt,u[2]=nt*Pt-mt*ct,u[3]=Pt*At-et*wt,u[4]=it*wt-mt*At,u[5]=mt*et-it*Pt,u[6]=et*ot-ct*At,u[7]=nt*At-it*ot,u[8]=it*ct-nt*et,u}function M(u){var W=u[0],it=u[1],nt=u[2],mt=u[3],et=u[4],ct=u[5],Pt=u[6],At=u[7],ot=u[8];return W*(ot*et-ct*At)+it*(-ot*mt+ct*Pt)+nt*(At*mt-et*Pt)}function P(u,W,it){var nt=W[0],mt=W[1],et=W[2],ct=W[3],Pt=W[4],At=W[5],ot=W[6],wt=W[7],st=W[8],K=it[0],tt=it[1],U=it[2],j=it[3],at=it[4],vt=it[5],Ft=it[6],Jt=it[7],le=it[8];return u[0]=K*nt+tt*ct+U*ot,u[1]=K*mt+tt*Pt+U*wt,u[2]=K*et+tt*At+U*st,u[3]=j*nt+at*ct+vt*ot,u[4]=j*mt+at*Pt+vt*wt,u[5]=j*et+at*At+vt*st,u[6]=Ft*nt+Jt*ct+le*ot,u[7]=Ft*mt+Jt*Pt+le*wt,u[8]=Ft*et+Jt*At+le*st,u}function k(u,W,it){var nt=W[0],mt=W[1],et=W[2],ct=W[3],Pt=W[4],At=W[5],ot=W[6],wt=W[7],st=W[8],K=it[0],tt=it[1];return u[0]=nt,u[1]=mt,u[2]=et,u[3]=ct,u[4]=Pt,u[5]=At,u[6]=K*nt+tt*ct+ot,u[7]=K*mt+tt*Pt+wt,u[8]=K*et+tt*At+st,u}function N(u,W,it){var nt=W[0],mt=W[1],et=W[2],ct=W[3],Pt=W[4],At=W[5],ot=W[6],wt=W[7],st=W[8],K=Math.sin(it),tt=Math.cos(it);return u[0]=tt*nt+K*ct,u[1]=tt*mt+K*Pt,u[2]=tt*et+K*At,u[3]=tt*ct-K*nt,u[4]=tt*Pt-K*mt,u[5]=tt*At-K*et,u[6]=ot,u[7]=wt,u[8]=st,u}function V(u,W,it){var nt=it[0],mt=it[1];return u[0]=nt*W[0],u[1]=nt*W[1],u[2]=nt*W[2],u[3]=mt*W[3],u[4]=mt*W[4],u[5]=mt*W[5],u[6]=W[6],u[7]=W[7],u[8]=W[8],u}function $(u,W){return u[0]=1,u[1]=0,u[2]=0,u[3]=0,u[4]=1,u[5]=0,u[6]=W[0],u[7]=W[1],u[8]=1,u}function Z(u,W){var it=Math.sin(W),nt=Math.cos(W);return u[0]=nt,u[1]=it,u[2]=0,u[3]=-it,u[4]=nt,u[5]=0,u[6]=0,u[7]=0,u[8]=1,u}function J(u,W){return u[0]=W[0],u[1]=0,u[2]=0,u[3]=0,u[4]=W[1],u[5]=0,u[6]=0,u[7]=0,u[8]=1,u}function lt(u,W){return u[0]=W[0],u[1]=W[1],u[2]=0,u[3]=W[2],u[4]=W[3],u[5]=0,u[6]=W[4],u[7]=W[5],u[8]=1,u}function rt(u,W){var it=W[0],nt=W[1],mt=W[2],et=W[3],ct=it+it,Pt=nt+nt,At=mt+mt,ot=it*ct,wt=nt*ct,st=nt*Pt,K=mt*ct,tt=mt*Pt,U=mt*At,j=et*ct,at=et*Pt,vt=et*At;return u[0]=1-st-U,u[3]=wt-vt,u[6]=K+at,u[1]=wt+vt,u[4]=1-ot-U,u[7]=tt-j,u[2]=K-at,u[5]=tt+j,u[8]=1-ot-st,u}function bt(u,W){var it=W[0],nt=W[1],mt=W[2],et=W[3],ct=W[4],Pt=W[5],At=W[6],ot=W[7],wt=W[8],st=W[9],K=W[10],tt=W[11],U=W[12],j=W[13],at=W[14],vt=W[15],Ft=it*Pt-nt*ct,Jt=it*At-mt*ct,le=it*ot-et*ct,ge=nt*At-mt*Pt,Zt=nt*ot-et*Pt,kt=mt*ot-et*At,zt=wt*j-st*U,ne=wt*at-K*U,de=wt*vt-tt*U,Ce=st*at-K*j,De=st*vt-tt*j,ze=K*vt-tt*at,er=Ft*ze-Jt*De+le*Ce+ge*de-Zt*ne+kt*zt;return er?(er=1/er,u[0]=(Pt*ze-At*De+ot*Ce)*er,u[1]=(At*de-ct*ze-ot*ne)*er,u[2]=(ct*De-Pt*de+ot*zt)*er,u[3]=(mt*De-nt*ze-et*Ce)*er,u[4]=(it*ze-mt*de+et*ne)*er,u[5]=(nt*de-it*De-et*zt)*er,u[6]=(j*kt-at*Zt+vt*ge)*er,u[7]=(at*le-U*kt-vt*Jt)*er,u[8]=(U*Zt-j*le+vt*Ft)*er,u):null}function Ot(u,W,it){return u[0]=2/W,u[1]=0,u[2]=0,u[3]=0,u[4]=-2/it,u[5]=0,u[6]=-1,u[7]=1,u[8]=1,u}function Bt(u){return"mat3("+u[0]+", "+u[1]+", "+u[2]+", "+u[3]+", "+u[4]+", "+u[5]+", "+u[6]+", "+u[7]+", "+u[8]+")"}function Et(u){return Math.sqrt(Math.pow(u[0],2)+Math.pow(u[1],2)+Math.pow(u[2],2)+Math.pow(u[3],2)+Math.pow(u[4],2)+Math.pow(u[5],2)+Math.pow(u[6],2)+Math.pow(u[7],2)+Math.pow(u[8],2))}function Dt(u,W,it){return u[0]=W[0]+it[0],u[1]=W[1]+it[1],u[2]=W[2]+it[2],u[3]=W[3]+it[3],u[4]=W[4]+it[4],u[5]=W[5]+it[5],u[6]=W[6]+it[6],u[7]=W[7]+it[7],u[8]=W[8]+it[8],u}function It(u,W,it){return u[0]=W[0]-it[0],u[1]=W[1]-it[1],u[2]=W[2]-it[2],u[3]=W[3]-it[3],u[4]=W[4]-it[4],u[5]=W[5]-it[5],u[6]=W[6]-it[6],u[7]=W[7]-it[7],u[8]=W[8]-it[8],u}function _t(u,W,it){return u[0]=W[0]*it,u[1]=W[1]*it,u[2]=W[2]*it,u[3]=W[3]*it,u[4]=W[4]*it,u[5]=W[5]*it,u[6]=W[6]*it,u[7]=W[7]*it,u[8]=W[8]*it,u}function Xt(u,W,it,nt){return u[0]=W[0]+it[0]*nt,u[1]=W[1]+it[1]*nt,u[2]=W[2]+it[2]*nt,u[3]=W[3]+it[3]*nt,u[4]=W[4]+it[4]*nt,u[5]=W[5]+it[5]*nt,u[6]=W[6]+it[6]*nt,u[7]=W[7]+it[7]*nt,u[8]=W[8]+it[8]*nt,u}function z(u,W){return u[0]===W[0]&&u[1]===W[1]&&u[2]===W[2]&&u[3]===W[3]&&u[4]===W[4]&&u[5]===W[5]&&u[6]===W[6]&&u[7]===W[7]&&u[8]===W[8]}function R(u,W){var it=u[0],nt=u[1],mt=u[2],et=u[3],ct=u[4],Pt=u[5],At=u[6],ot=u[7],wt=u[8],st=W[0],K=W[1],tt=W[2],U=W[3],j=W[4],at=W[5],vt=W[6],Ft=W[7],Jt=W[8];return Math.abs(it-st)<=L.EPSILON*Math.max(1,Math.abs(it),Math.abs(st))&&Math.abs(nt-K)<=L.EPSILON*Math.max(1,Math.abs(nt),Math.abs(K))&&Math.abs(mt-tt)<=L.EPSILON*Math.max(1,Math.abs(mt),Math.abs(tt))&&Math.abs(et-U)<=L.EPSILON*Math.max(1,Math.abs(et),Math.abs(U))&&Math.abs(ct-j)<=L.EPSILON*Math.max(1,Math.abs(ct),Math.abs(j))&&Math.abs(Pt-at)<=L.EPSILON*Math.max(1,Math.abs(Pt),Math.abs(at))&&Math.abs(At-vt)<=L.EPSILON*Math.max(1,Math.abs(At),Math.abs(vt))&&Math.abs(ot-Ft)<=L.EPSILON*Math.max(1,Math.abs(ot),Math.abs(Ft))&&Math.abs(wt-Jt)<=L.EPSILON*Math.max(1,Math.abs(wt),Math.abs(Jt))}var F=S.mul=P,D=S.sub=It},76172:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.forEach=S.sqrLen=S.sqrDist=S.dist=S.div=S.mul=S.sub=S.len=void 0,S.create=O,S.clone=T,S.fromValues=_,S.copy=C,S.set=E,S.add=p,S.subtract=w,S.multiply=g,S.divide=b,S.ceil=m,S.floor=M,S.min=P,S.max=k,S.round=N,S.scale=V,S.scaleAndAdd=$,S.distance=Z,S.squaredDistance=J,S.length=lt,S.squaredLength=rt,S.negate=bt,S.inverse=Ot,S.normalize=Bt,S.dot=Et,S.cross=Dt,S.lerp=It,S.random=_t,S.transformMat2=Xt,S.transformMat2d=z,S.transformMat3=R,S.transformMat4=F,S.rotate=D,S.angle=u,S.str=W,S.exactEquals=it,S.equals=nt;var y=d(74988),L=I(y);function I(K){if(K&&K.__esModule)return K;var tt={};if(K!=null)for(var U in K)Object.prototype.hasOwnProperty.call(K,U)&&(tt[U]=K[U]);return tt.default=K,tt}function O(){var K=new L.ARRAY_TYPE(2);return L.ARRAY_TYPE!=Float32Array&&(K[0]=0,K[1]=0),K}function T(K){var tt=new L.ARRAY_TYPE(2);return tt[0]=K[0],tt[1]=K[1],tt}function _(K,tt){var U=new L.ARRAY_TYPE(2);return U[0]=K,U[1]=tt,U}function C(K,tt){return K[0]=tt[0],K[1]=tt[1],K}function E(K,tt,U){return K[0]=tt,K[1]=U,K}function p(K,tt,U){return K[0]=tt[0]+U[0],K[1]=tt[1]+U[1],K}function w(K,tt,U){return K[0]=tt[0]-U[0],K[1]=tt[1]-U[1],K}function g(K,tt,U){return K[0]=tt[0]*U[0],K[1]=tt[1]*U[1],K}function b(K,tt,U){return K[0]=tt[0]/U[0],K[1]=tt[1]/U[1],K}function m(K,tt){return K[0]=Math.ceil(tt[0]),K[1]=Math.ceil(tt[1]),K}function M(K,tt){return K[0]=Math.floor(tt[0]),K[1]=Math.floor(tt[1]),K}function P(K,tt,U){return K[0]=Math.min(tt[0],U[0]),K[1]=Math.min(tt[1],U[1]),K}function k(K,tt,U){return K[0]=Math.max(tt[0],U[0]),K[1]=Math.max(tt[1],U[1]),K}function N(K,tt){return K[0]=Math.round(tt[0]),K[1]=Math.round(tt[1]),K}function V(K,tt,U){return K[0]=tt[0]*U,K[1]=tt[1]*U,K}function $(K,tt,U,j){return K[0]=tt[0]+U[0]*j,K[1]=tt[1]+U[1]*j,K}function Z(K,tt){var U=tt[0]-K[0],j=tt[1]-K[1];return Math.sqrt(U*U+j*j)}function J(K,tt){var U=tt[0]-K[0],j=tt[1]-K[1];return U*U+j*j}function lt(K){var tt=K[0],U=K[1];return Math.sqrt(tt*tt+U*U)}function rt(K){var tt=K[0],U=K[1];return tt*tt+U*U}function bt(K,tt){return K[0]=-tt[0],K[1]=-tt[1],K}function Ot(K,tt){return K[0]=1/tt[0],K[1]=1/tt[1],K}function Bt(K,tt){var U=tt[0],j=tt[1],at=U*U+j*j;return at>0&&(at=1/Math.sqrt(at),K[0]=tt[0]*at,K[1]=tt[1]*at),K}function Et(K,tt){return K[0]*tt[0]+K[1]*tt[1]}function Dt(K,tt,U){var j=tt[0]*U[1]-tt[1]*U[0];return K[0]=K[1]=0,K[2]=j,K}function It(K,tt,U,j){var at=tt[0],vt=tt[1];return K[0]=at+j*(U[0]-at),K[1]=vt+j*(U[1]-vt),K}function _t(K,tt){tt=tt||1;var U=L.RANDOM()*2*Math.PI;return K[0]=Math.cos(U)*tt,K[1]=Math.sin(U)*tt,K}function Xt(K,tt,U){var j=tt[0],at=tt[1];return K[0]=U[0]*j+U[2]*at,K[1]=U[1]*j+U[3]*at,K}function z(K,tt,U){var j=tt[0],at=tt[1];return K[0]=U[0]*j+U[2]*at+U[4],K[1]=U[1]*j+U[3]*at+U[5],K}function R(K,tt,U){var j=tt[0],at=tt[1];return K[0]=U[0]*j+U[3]*at+U[6],K[1]=U[1]*j+U[4]*at+U[7],K}function F(K,tt,U){var j=tt[0],at=tt[1];return K[0]=U[0]*j+U[4]*at+U[12],K[1]=U[1]*j+U[5]*at+U[13],K}function D(K,tt,U,j){var at=tt[0]-U[0],vt=tt[1]-U[1],Ft=Math.sin(j),Jt=Math.cos(j);return K[0]=at*Jt-vt*Ft+U[0],K[1]=at*Ft+vt*Jt+U[1],K}function u(K,tt){var U=K[0],j=K[1],at=tt[0],vt=tt[1],Ft=U*U+j*j;Ft>0&&(Ft=1/Math.sqrt(Ft));var Jt=at*at+vt*vt;Jt>0&&(Jt=1/Math.sqrt(Jt));var le=(U*at+j*vt)*Ft*Jt;return le>1?0:le<-1?Math.PI:Math.acos(le)}function W(K){return"vec2("+K[0]+", "+K[1]+")"}function it(K,tt){return K[0]===tt[0]&&K[1]===tt[1]}function nt(K,tt){var U=K[0],j=K[1],at=tt[0],vt=tt[1];return Math.abs(U-at)<=L.EPSILON*Math.max(1,Math.abs(U),Math.abs(at))&&Math.abs(j-vt)<=L.EPSILON*Math.max(1,Math.abs(j),Math.abs(vt))}var mt=S.len=lt,et=S.sub=w,ct=S.mul=g,Pt=S.div=b,At=S.dist=Z,ot=S.sqrDist=J,wt=S.sqrLen=rt,st=S.forEach=function(){var K=O();return function(tt,U,j,at,vt,Ft){var Jt=void 0,le=void 0;for(U||(U=2),j||(j=0),at?le=Math.min(at*U+j,tt.length):le=tt.length,Jt=j;Jt<le;Jt+=U)K[0]=tt[Jt],K[1]=tt[Jt+1],vt(K,K,Ft),tt[Jt]=K[0],tt[Jt+1]=K[1];return tt}}()},88395:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.forEach=S.sqrLen=S.len=S.sqrDist=S.dist=S.div=S.mul=S.sub=void 0,S.create=O,S.clone=T,S.length=_,S.fromValues=C,S.copy=E,S.set=p,S.add=w,S.subtract=g,S.multiply=b,S.divide=m,S.ceil=M,S.floor=P,S.min=k,S.max=N,S.round=V,S.scale=$,S.scaleAndAdd=Z,S.distance=J,S.squaredDistance=lt,S.squaredLength=rt,S.negate=bt,S.inverse=Ot,S.normalize=Bt,S.dot=Et,S.cross=Dt,S.lerp=It,S.hermite=_t,S.bezier=Xt,S.random=z,S.transformMat4=R,S.transformMat3=F,S.transformQuat=D,S.rotateX=u,S.rotateY=W,S.rotateZ=it,S.angle=nt,S.str=mt,S.exactEquals=et,S.equals=ct;var y=d(74988),L=I(y);function I(j){if(j&&j.__esModule)return j;var at={};if(j!=null)for(var vt in j)Object.prototype.hasOwnProperty.call(j,vt)&&(at[vt]=j[vt]);return at.default=j,at}function O(){var j=new L.ARRAY_TYPE(3);return L.ARRAY_TYPE!=Float32Array&&(j[0]=0,j[1]=0,j[2]=0),j}function T(j){var at=new L.ARRAY_TYPE(3);return at[0]=j[0],at[1]=j[1],at[2]=j[2],at}function _(j){var at=j[0],vt=j[1],Ft=j[2];return Math.sqrt(at*at+vt*vt+Ft*Ft)}function C(j,at,vt){var Ft=new L.ARRAY_TYPE(3);return Ft[0]=j,Ft[1]=at,Ft[2]=vt,Ft}function E(j,at){return j[0]=at[0],j[1]=at[1],j[2]=at[2],j}function p(j,at,vt,Ft){return j[0]=at,j[1]=vt,j[2]=Ft,j}function w(j,at,vt){return j[0]=at[0]+vt[0],j[1]=at[1]+vt[1],j[2]=at[2]+vt[2],j}function g(j,at,vt){return j[0]=at[0]-vt[0],j[1]=at[1]-vt[1],j[2]=at[2]-vt[2],j}function b(j,at,vt){return j[0]=at[0]*vt[0],j[1]=at[1]*vt[1],j[2]=at[2]*vt[2],j}function m(j,at,vt){return j[0]=at[0]/vt[0],j[1]=at[1]/vt[1],j[2]=at[2]/vt[2],j}function M(j,at){return j[0]=Math.ceil(at[0]),j[1]=Math.ceil(at[1]),j[2]=Math.ceil(at[2]),j}function P(j,at){return j[0]=Math.floor(at[0]),j[1]=Math.floor(at[1]),j[2]=Math.floor(at[2]),j}function k(j,at,vt){return j[0]=Math.min(at[0],vt[0]),j[1]=Math.min(at[1],vt[1]),j[2]=Math.min(at[2],vt[2]),j}function N(j,at,vt){return j[0]=Math.max(at[0],vt[0]),j[1]=Math.max(at[1],vt[1]),j[2]=Math.max(at[2],vt[2]),j}function V(j,at){return j[0]=Math.round(at[0]),j[1]=Math.round(at[1]),j[2]=Math.round(at[2]),j}function $(j,at,vt){return j[0]=at[0]*vt,j[1]=at[1]*vt,j[2]=at[2]*vt,j}function Z(j,at,vt,Ft){return j[0]=at[0]+vt[0]*Ft,j[1]=at[1]+vt[1]*Ft,j[2]=at[2]+vt[2]*Ft,j}function J(j,at){var vt=at[0]-j[0],Ft=at[1]-j[1],Jt=at[2]-j[2];return Math.sqrt(vt*vt+Ft*Ft+Jt*Jt)}function lt(j,at){var vt=at[0]-j[0],Ft=at[1]-j[1],Jt=at[2]-j[2];return vt*vt+Ft*Ft+Jt*Jt}function rt(j){var at=j[0],vt=j[1],Ft=j[2];return at*at+vt*vt+Ft*Ft}function bt(j,at){return j[0]=-at[0],j[1]=-at[1],j[2]=-at[2],j}function Ot(j,at){return j[0]=1/at[0],j[1]=1/at[1],j[2]=1/at[2],j}function Bt(j,at){var vt=at[0],Ft=at[1],Jt=at[2],le=vt*vt+Ft*Ft+Jt*Jt;return le>0&&(le=1/Math.sqrt(le),j[0]=at[0]*le,j[1]=at[1]*le,j[2]=at[2]*le),j}function Et(j,at){return j[0]*at[0]+j[1]*at[1]+j[2]*at[2]}function Dt(j,at,vt){var Ft=at[0],Jt=at[1],le=at[2],ge=vt[0],Zt=vt[1],kt=vt[2];return j[0]=Jt*kt-le*Zt,j[1]=le*ge-Ft*kt,j[2]=Ft*Zt-Jt*ge,j}function It(j,at,vt,Ft){var Jt=at[0],le=at[1],ge=at[2];return j[0]=Jt+Ft*(vt[0]-Jt),j[1]=le+Ft*(vt[1]-le),j[2]=ge+Ft*(vt[2]-ge),j}function _t(j,at,vt,Ft,Jt,le){var ge=le*le,Zt=ge*(2*le-3)+1,kt=ge*(le-2)+le,zt=ge*(le-1),ne=ge*(3-2*le);return j[0]=at[0]*Zt+vt[0]*kt+Ft[0]*zt+Jt[0]*ne,j[1]=at[1]*Zt+vt[1]*kt+Ft[1]*zt+Jt[1]*ne,j[2]=at[2]*Zt+vt[2]*kt+Ft[2]*zt+Jt[2]*ne,j}function Xt(j,at,vt,Ft,Jt,le){var ge=1-le,Zt=ge*ge,kt=le*le,zt=Zt*ge,ne=3*le*Zt,de=3*kt*ge,Ce=kt*le;return j[0]=at[0]*zt+vt[0]*ne+Ft[0]*de+Jt[0]*Ce,j[1]=at[1]*zt+vt[1]*ne+Ft[1]*de+Jt[1]*Ce,j[2]=at[2]*zt+vt[2]*ne+Ft[2]*de+Jt[2]*Ce,j}function z(j,at){at=at||1;var vt=L.RANDOM()*2*Math.PI,Ft=L.RANDOM()*2-1,Jt=Math.sqrt(1-Ft*Ft)*at;return j[0]=Math.cos(vt)*Jt,j[1]=Math.sin(vt)*Jt,j[2]=Ft*at,j}function R(j,at,vt){var Ft=at[0],Jt=at[1],le=at[2],ge=vt[3]*Ft+vt[7]*Jt+vt[11]*le+vt[15];return ge=ge||1,j[0]=(vt[0]*Ft+vt[4]*Jt+vt[8]*le+vt[12])/ge,j[1]=(vt[1]*Ft+vt[5]*Jt+vt[9]*le+vt[13])/ge,j[2]=(vt[2]*Ft+vt[6]*Jt+vt[10]*le+vt[14])/ge,j}function F(j,at,vt){var Ft=at[0],Jt=at[1],le=at[2];return j[0]=Ft*vt[0]+Jt*vt[3]+le*vt[6],j[1]=Ft*vt[1]+Jt*vt[4]+le*vt[7],j[2]=Ft*vt[2]+Jt*vt[5]+le*vt[8],j}function D(j,at,vt){var Ft=vt[0],Jt=vt[1],le=vt[2],ge=vt[3],Zt=at[0],kt=at[1],zt=at[2],ne=Jt*zt-le*kt,de=le*Zt-Ft*zt,Ce=Ft*kt-Jt*Zt,De=Jt*Ce-le*de,ze=le*ne-Ft*Ce,er=Ft*de-Jt*ne,yr=ge*2;return ne*=yr,de*=yr,Ce*=yr,De*=2,ze*=2,er*=2,j[0]=Zt+ne+De,j[1]=kt+de+ze,j[2]=zt+Ce+er,j}function u(j,at,vt,Ft){var Jt=[],le=[];return Jt[0]=at[0]-vt[0],Jt[1]=at[1]-vt[1],Jt[2]=at[2]-vt[2],le[0]=Jt[0],le[1]=Jt[1]*Math.cos(Ft)-Jt[2]*Math.sin(Ft),le[2]=Jt[1]*Math.sin(Ft)+Jt[2]*Math.cos(Ft),j[0]=le[0]+vt[0],j[1]=le[1]+vt[1],j[2]=le[2]+vt[2],j}function W(j,at,vt,Ft){var Jt=[],le=[];return Jt[0]=at[0]-vt[0],Jt[1]=at[1]-vt[1],Jt[2]=at[2]-vt[2],le[0]=Jt[2]*Math.sin(Ft)+Jt[0]*Math.cos(Ft),le[1]=Jt[1],le[2]=Jt[2]*Math.cos(Ft)-Jt[0]*Math.sin(Ft),j[0]=le[0]+vt[0],j[1]=le[1]+vt[1],j[2]=le[2]+vt[2],j}function it(j,at,vt,Ft){var Jt=[],le=[];return Jt[0]=at[0]-vt[0],Jt[1]=at[1]-vt[1],Jt[2]=at[2]-vt[2],le[0]=Jt[0]*Math.cos(Ft)-Jt[1]*Math.sin(Ft),le[1]=Jt[0]*Math.sin(Ft)+Jt[1]*Math.cos(Ft),le[2]=Jt[2],j[0]=le[0]+vt[0],j[1]=le[1]+vt[1],j[2]=le[2]+vt[2],j}function nt(j,at){var vt=C(j[0],j[1],j[2]),Ft=C(at[0],at[1],at[2]);Bt(vt,vt),Bt(Ft,Ft);var Jt=Et(vt,Ft);return Jt>1?0:Jt<-1?Math.PI:Math.acos(Jt)}function mt(j){return"vec3("+j[0]+", "+j[1]+", "+j[2]+")"}function et(j,at){return j[0]===at[0]&&j[1]===at[1]&&j[2]===at[2]}function ct(j,at){var vt=j[0],Ft=j[1],Jt=j[2],le=at[0],ge=at[1],Zt=at[2];return Math.abs(vt-le)<=L.EPSILON*Math.max(1,Math.abs(vt),Math.abs(le))&&Math.abs(Ft-ge)<=L.EPSILON*Math.max(1,Math.abs(Ft),Math.abs(ge))&&Math.abs(Jt-Zt)<=L.EPSILON*Math.max(1,Math.abs(Jt),Math.abs(Zt))}var Pt=S.sub=g,At=S.mul=b,ot=S.div=m,wt=S.dist=J,st=S.sqrDist=lt,K=S.len=_,tt=S.sqrLen=rt,U=S.forEach=function(){var j=O();return function(at,vt,Ft,Jt,le,ge){var Zt=void 0,kt=void 0;for(vt||(vt=3),Ft||(Ft=0),Jt?kt=Math.min(Jt*vt+Ft,at.length):kt=at.length,Zt=Ft;Zt<kt;Zt+=vt)j[0]=at[Zt],j[1]=at[Zt+1],j[2]=at[Zt+2],le(j,j,ge),at[Zt]=j[0],at[Zt+1]=j[1],at[Zt+2]=j[2];return at}}()},92640:function(gt,S,d){function y(w,g){w.prototype=Object.create(g.prototype),w.prototype.constructor=w,L(w,g)}function L(w,g){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(m,M){return m.__proto__=M,m},L(w,g)}var I=d(4905),O=d(90390),T=d(30130),_=d(22965),C=function(w){y(g,w);function g(){return w.apply(this,arguments)||this}var b=g.prototype;return b.execute=function(){var M=this;return T(M.rootNode,M.options,O)},g}(I),E={};function p(w,g){return g=_.assign({},E,g),new C(w,g).execute()}gt.exports=p},34542:function(gt,S,d){function y(w,g){w.prototype=Object.create(g.prototype),w.prototype.constructor=w,L(w,g)}function L(w,g){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(m,M){return m.__proto__=M,m},L(w,g)}var I=d(4905),O=d(37133),T=d(30130),_=d(22965),C=function(w){y(g,w);function g(){return w.apply(this,arguments)||this}var b=g.prototype;return b.execute=function(){var M=this;return M.rootNode.width=0,T(M.rootNode,M.options,O)},g}(I),E={};function p(w,g){return g=_.assign({},E,g),new C(w,g).execute()}gt.exports=p},57088:function(gt,S,d){function y(b,m){b.prototype=Object.create(m.prototype),b.prototype.constructor=b,L(b,m)}function L(b,m){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(P,k){return P.__proto__=k,P},L(b,m)}var I=d(4905),O=d(10568),T=d(59286),_=d(22965),C=["LR","RL","H"],E=C[0],p=function(b){y(m,b);function m(){return b.apply(this,arguments)||this}var M=m.prototype;return M.execute=function(){var k=this,N=k.options,V=k.rootNode;N.isHorizontal=!0;var $=N.indent,Z=$===void 0?20:$,J=N.dropCap,lt=J===void 0?!0:J,rt=N.direction,bt=rt===void 0?E:rt,Ot=N.align;if(bt&&C.indexOf(bt)===-1)throw new TypeError("Invalid direction: "+bt);if(bt===C[0])O(V,Z,lt,Ot);else if(bt===C[1])O(V,Z,lt,Ot),V.right2left();else if(bt===C[2]){var Bt=T(V,N),Et=Bt.left,Dt=Bt.right;O(Et,Z,lt,Ot),Et.right2left(),O(Dt,Z,lt,Ot);var It=Et.getBoundingBox();Dt.translate(It.width,0),V.x=Dt.x-V.width/2}return V},m}(I),w={};function g(b,m){return m=_.assign({},w,m),new p(b,m).execute()}gt.exports=g},77201:function(gt,S,d){var y={compactBox:d(92640),dendrogram:d(34542),indented:d(57088),mindmap:d(1355)};gt.exports=y},4905:function(gt,S,d){var y=d(27249),L=function(){function I(T,_){_===void 0&&(_={});var C=this;C.options=_,C.rootNode=y(T,_)}var O=I.prototype;return O.execute=function(){throw new Error("please override this method")},I}();gt.exports=L},37133:function(gt,S,d){var y=d(22965);function L(T,_){T===void 0&&(T=0),_===void 0&&(_=[]);var C=this;C.x=C.y=0,C.leftChild=C.rightChild=null,C.height=0,C.children=_}var I={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function O(T,_,C){C?(_.x=T.x,_.y=T.y):(_.x=T.y,_.y=T.x),T.children.forEach(function(E,p){O(E,_.children[p],C)})}gt.exports=function(T,_){_===void 0&&(_={}),_=y.assign({},I,_);var C=0;function E(m){if(!m)return null;m.width=0,m.depth&&m.depth>C&&(C=m.depth);var M=m.children,P=M.length,k=new L(m.height,[]);return M.forEach(function(N,V){var $=E(N);k.children.push($),V===0&&(k.leftChild=$),V===P-1&&(k.rightChild=$)}),k.originNode=m,k.isLeaf=m.isLeaf(),k}function p(m){if(m.isLeaf||m.children.length===0)m.drawingDepth=C;else{var M=m.children.map(function(k){return p(k)}),P=Math.min.apply(null,M);m.drawingDepth=P-1}return m.drawingDepth}var w;function g(m){m.x=m.drawingDepth*_.rankSep,m.isLeaf?(m.y=0,w&&(m.y=w.y+w.height+_.nodeSep,m.originNode.parent!==w.originNode.parent&&(m.y+=_.subTreeSep)),w=m):(m.children.forEach(function(M){g(M)}),m.y=(m.leftChild.y+m.rightChild.y)/2)}var b=E(T);return p(b),g(b),O(b,T,_.isHorizontal),T}},30130:function(gt,S,d){var y=d(59286),L=["LR","RL","TB","BT","H","V"],I=["LR","RL","H"],O=function(C){return I.indexOf(C)>-1},T=L[0];gt.exports=function(_,C,E){var p=C.direction||T;if(C.isHorizontal=O(p),p&&L.indexOf(p)===-1)throw new TypeError("Invalid direction: "+p);if(p===L[0])E(_,C);else if(p===L[1])E(_,C),_.right2left();else if(p===L[2])E(_,C);else if(p===L[3])E(_,C),_.bottom2top();else if(p===L[4]||p===L[5]){var w=y(_,C),g=w.left,b=w.right;E(g,C),E(b,C),C.isHorizontal?g.right2left():g.bottom2top(),b.translate(g.x-b.x,g.y-b.y),_.x=g.x,_.y=b.y;var m=_.getBoundingBox();C.isHorizontal?m.top<0&&_.translate(0,-m.top):m.left<0&&_.translate(-m.left,0)}var M=C.fixedRoot;return M===void 0&&(M=!0),M&&_.translate(-(_.x+_.width/2+_.hgap),-(_.y+_.height/2+_.vgap)),_}},27249:function(gt,S,d){var y=d(22965),L=18,I=L*2,O=L,T={getId:function(p){return p.id||p.name},getPreH:function(p){return p.preH||0},getPreV:function(p){return p.preV||0},getHGap:function(p){return p.hgap||O},getVGap:function(p){return p.vgap||O},getChildren:function(p){return p.children},getHeight:function(p){return p.height||I},getWidth:function(p){var w=p.label||" ";return p.width||w.split("").length*L}};function _(E,p){var w=this;if(w.vgap=w.hgap=0,E instanceof _)return E;w.data=E;var g=p.getHGap(E),b=p.getVGap(E);return w.preH=p.getPreH(E),w.preV=p.getPreV(E),w.width=p.getWidth(E),w.height=p.getHeight(E),w.width+=w.preH,w.height+=w.preV,w.id=p.getId(E),w.x=w.y=0,w.depth=0,w.children||(w.children=[]),w.addGap(g,b),w}y.assign(_.prototype,{isRoot:function(){return this.depth===0},isLeaf:function(){return this.children.length===0},addGap:function(p,w){var g=this;g.hgap+=p,g.vgap+=w,g.width+=2*p,g.height+=2*w},eachNode:function(p){for(var w=this,g=[w],b;b=g.shift();)p(b),g=b.children.concat(g)},DFTraverse:function(p){this.eachNode(p)},BFTraverse:function(p){for(var w=this,g=[w],b;b=g.shift();)p(b),g=g.concat(b.children)},getBoundingBox:function(){var p={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(w){p.left=Math.min(p.left,w.x),p.top=Math.min(p.top,w.y),p.width=Math.max(p.width,w.x+w.width),p.height=Math.max(p.height,w.y+w.height)}),p},translate:function(p,w){p===void 0&&(p=0),w===void 0&&(w=0),this.eachNode(function(g){g.x+=p,g.y+=w,g.x+=g.preH,g.y+=g.preV})},right2left:function(){var p=this,w=p.getBoundingBox();p.eachNode(function(g){g.x=g.x-(g.x-w.left)*2-g.width}),p.translate(w.width,0)},bottom2top:function(){var p=this,w=p.getBoundingBox();p.eachNode(function(g){g.y=g.y-(g.y-w.top)*2-g.height}),p.translate(0,w.height)}});function C(E,p,w){p===void 0&&(p={}),p=y.assign({},T,p);var g=new _(E,p),b=[g],m;if(!w&&!E.collapsed){for(;m=b.shift();)if(!m.data.collapsed){var M=p.getChildren(m.data),P=M?M.length:0;if(m.children=new Array(P),M&&P)for(var k=0;k<P;k++){var N=new _(M[k],p);m.children[k]=N,b.push(N),N.parent=m,N.depth=m.depth+1}}}return g}gt.exports=C},10568:function(gt,S,d){var y=d(22965);function L(I,O,T,_,C){var E=typeof T=="function"?T(I):T*I.depth;if(!_)try{if(I.id===I.parent.children[0].id){I.x+=E,I.y=O?O.y:0;return}}catch(g){}if(I.x+=E,O){if(I.y=O.y+y.getHeight(O,I,C),O.parent&&I.parent.id!==O.parent.id){var p=O.parent,w=p.y+y.getHeight(p,I,C);I.y=w>I.y?w:I.y}}else I.y=0}gt.exports=function(I,O,T,_){var C=null;I.eachNode(function(E){L(E,C,O,T,_),C=E})}},24461:function(gt,S,d){var y=d(22965);function L(T,_){var C=0;return T.children.length?T.children.forEach(function(E){C+=L(E,_)}):C=T.height,T._subTreeSep=_.getSubTreeSep(T.data),T.totalHeight=Math.max(T.height,C)+2*T._subTreeSep,T.totalHeight}function I(T){var _=T.children,C=_.length;if(C){_.forEach(function(m){I(m)});var E=_[0],p=_[C-1],w=p.y-E.y+p.height,g=0;if(_.forEach(function(m){g+=m.totalHeight}),w>T.height)T.y=E.y+w/2-T.height/2;else if(_.length!==1||T.height>g){var b=T.y+(T.height-w)/2-E.y;_.forEach(function(m){m.translate(0,b)})}else T.y=(E.y+E.height/2+p.y+p.height/2)/2-T.height/2}}var O={getSubTreeSep:function(){return 0}};gt.exports=function(T,_){_===void 0&&(_={}),_=y.assign({},O,_),T.parent={x:0,width:0,height:0,y:0},T.BFTraverse(function(C){C.x=C.parent.x+C.parent.width}),T.parent=null,L(T,_),T.startY=0,T.y=T.totalHeight/2-T.height/2,T.eachNode(function(C){var E=C.children,p=E.length;if(p){var w=E[0];if(w.startY=C.startY+C._subTreeSep,p===1)w.y=C.y+C.height/2-w.height/2;else{w.y=w.startY+w.totalHeight/2-w.height/2;for(var g=1;g<p;g++){var b=E[g];b.startY=E[g-1].startY+E[g-1].totalHeight,b.y=b.startY+b.totalHeight/2-b.height/2}}}}),I(T)}},90390:function(gt){function S(T,_,C,E){E===void 0&&(E=[]);var p=this;p.w=T||0,p.h=_||0,p.y=C||0,p.x=0,p.c=E||[],p.cs=E.length,p.prelim=0,p.mod=0,p.shift=0,p.change=0,p.tl=null,p.tr=null,p.el=null,p.er=null,p.msel=0,p.mser=0}S.fromNode=function(T,_){if(!T)return null;var C=[];return T.children.forEach(function(E){C.push(S.fromNode(E,_))}),_?new S(T.height,T.width,T.x,C):new S(T.width,T.height,T.y,C)};function d(T,_,C){C?T.y+=_:T.x+=_,T.children.forEach(function(E){d(E,_,C)})}function y(T,_){var C=_?T.y:T.x;return T.children.forEach(function(E){C=Math.min(y(E,_),C)}),C}function L(T,_){var C=y(T,_);d(T,-C,_)}function I(T,_,C){C?_.y=T.x:_.x=T.x,T.c.forEach(function(E,p){I(E,_.children[p],C)})}function O(T,_,C){C===void 0&&(C=0),_?(T.x=C,C+=T.width):(T.y=C,C+=T.height),T.children.forEach(function(E){O(E,_,C)})}gt.exports=function(T,_){_===void 0&&(_={});var C=_.isHorizontal;function E(rt){if(rt.cs===0){p(rt);return}E(rt.c[0]);for(var bt=J(M(rt.c[0].el),0,null),Ot=1;Ot<rt.cs;++Ot){E(rt.c[Ot]);var Bt=M(rt.c[Ot].er);w(rt,Ot,bt),bt=J(Bt,Ot,bt)}N(rt),p(rt)}function p(rt){rt.cs===0?(rt.el=rt,rt.er=rt,rt.msel=rt.mser=0):(rt.el=rt.c[0].el,rt.msel=rt.c[0].msel,rt.er=rt.c[rt.cs-1].er,rt.mser=rt.c[rt.cs-1].mser)}function w(rt,bt,Ot){for(var Bt=rt.c[bt-1],Et=Bt.mod,Dt=rt.c[bt],It=Dt.mod;Bt!==null&&Dt!==null;){M(Bt)>Ot.low&&(Ot=Ot.nxt);var _t=Et+Bt.prelim+Bt.w-(It+Dt.prelim);_t>0&&(It+=_t,g(rt,bt,Ot.index,_t));var Xt=M(Bt),z=M(Dt);Xt<=z&&(Bt=m(Bt),Bt!==null&&(Et+=Bt.mod)),Xt>=z&&(Dt=b(Dt),Dt!==null&&(It+=Dt.mod))}!Bt&&!!Dt?P(rt,bt,Dt,It):!!Bt&&!Dt&&k(rt,bt,Bt,Et)}function g(rt,bt,Ot,Bt){rt.c[bt].mod+=Bt,rt.c[bt].msel+=Bt,rt.c[bt].mser+=Bt,$(rt,bt,Ot,Bt)}function b(rt){return rt.cs===0?rt.tl:rt.c[0]}function m(rt){return rt.cs===0?rt.tr:rt.c[rt.cs-1]}function M(rt){return rt.y+rt.h}function P(rt,bt,Ot,Bt){var Et=rt.c[0].el;Et.tl=Ot;var Dt=Bt-Ot.mod-rt.c[0].msel;Et.mod+=Dt,Et.prelim-=Dt,rt.c[0].el=rt.c[bt].el,rt.c[0].msel=rt.c[bt].msel}function k(rt,bt,Ot,Bt){var Et=rt.c[bt].er;Et.tr=Ot;var Dt=Bt-Ot.mod-rt.c[bt].mser;Et.mod+=Dt,Et.prelim-=Dt,rt.c[bt].er=rt.c[bt-1].er,rt.c[bt].mser=rt.c[bt-1].mser}function N(rt){rt.prelim=(rt.c[0].prelim+rt.c[0].mod+rt.c[rt.cs-1].mod+rt.c[rt.cs-1].prelim+rt.c[rt.cs-1].w)/2-rt.w/2}function V(rt,bt){bt+=rt.mod,rt.x=rt.prelim+bt,Z(rt);for(var Ot=0;Ot<rt.cs;Ot++)V(rt.c[Ot],bt)}function $(rt,bt,Ot,Bt){if(Ot!==bt-1){var Et=bt-Ot;rt.c[Ot+1].shift+=Bt/Et,rt.c[bt].shift-=Bt/Et,rt.c[bt].change-=Bt-Bt/Et}}function Z(rt){for(var bt=0,Ot=0,Bt=0;Bt<rt.cs;Bt++)bt+=rt.c[Bt].shift,Ot+=bt+rt.c[Bt].change,rt.c[Bt].mod+=Ot}function J(rt,bt,Ot){for(;Ot!==null&&rt>=Ot.low;)Ot=Ot.nxt;return{low:rt,index:bt,nxt:Ot}}O(T,C);var lt=S.fromNode(T,C);return E(lt),V(lt,0),I(lt,T,C),L(T,C),T}},59286:function(gt,S,d){var y=d(27249);gt.exports=function(L,I){for(var O=y(L.data,I,!0),T=y(L.data,I,!0),_=L.children.length,C=Math.round(_/2),E=I.getSide||function(b,m){return m<C?"right":"left"},p=0;p<_;p++){var w=L.children[p],g=E(w,p);g==="right"?T.children.push(w):O.children.push(w)}return O.eachNode(function(b){b.isRoot()||(b.side="left")}),T.eachNode(function(b){b.isRoot()||(b.side="right")}),{left:O,right:T}}},1355:function(gt,S,d){function y(w,g){w.prototype=Object.create(g.prototype),w.prototype.constructor=w,L(w,g)}function L(w,g){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(m,M){return m.__proto__=M,m},L(w,g)}var I=d(4905),O=d(24461),T=d(30130),_=d(22965),C=function(w){y(g,w);function g(){return w.apply(this,arguments)||this}var b=g.prototype;return b.execute=function(){var M=this;return T(M.rootNode,M.options,O)},g}(I),E={};function p(w,g){return g=_.assign({},E,g),new C(w,g).execute()}gt.exports=p},22965:function(gt,S,d){var y=d(49242),L=y.mix;function I(O,T,_,C){return C===void 0&&(C="height"),_==="center"?(O[C]+T[C])/2:O.height}gt.exports={assign:L,getHeight:I}},31506:function(gt,S,d){"use strict";d.r(S),d.d(S,{leftTranslate:function(){return I},leftRotate:function(){return O},leftScale:function(){return T},transform:function(){return C},direction:function(){return E},angleTo:function(){return p},vertical:function(){return w}});var y=d(35600),L=d(31437);function I(g,b,m){var M=[0,0,0,0,0,0,0,0,0];return y.fromTranslation(M,m),y.multiply(g,M,b)}function O(g,b,m){var M=[0,0,0,0,0,0,0,0,0];return y.fromRotation(M,m),y.multiply(g,M,b)}function T(g,b,m){var M=[0,0,0,0,0,0,0,0,0];return y.fromScaling(M,m),y.multiply(g,M,b)}function _(g,b,m){return y.multiply(g,m,b)}function C(g,b){for(var m=g?[].concat(g):[1,0,0,0,1,0,0,0,1],M=0,P=b.length;M<P;M++){var k=b[M];switch(k[0]){case"t":I(m,m,[k[1],k[2]]);break;case"s":T(m,m,[k[1],k[2]]);break;case"r":O(m,m,k[1]);break;case"m":_(m,m,k[1]);break;default:break}}return m}function E(g,b){return g[0]*b[1]-b[0]*g[1]}function p(g,b,m){var M=L.angle(g,b),P=E(g,b)>=0;return m?P?Math.PI*2-M:M:P?M:Math.PI*2-M}function w(g,b,m){return m?(g[0]=b[1],g[1]=-1*b[0]):(g[0]=-1*b[1],g[1]=b[0]),g}},43567:function(gt,S,d){"use strict";d.r(S),d.d(S,{mat3:function(){return y},vec2:function(){return L},vec3:function(){return I},ext:function(){return O}});var y=d(35600),L=d(31437),I=d(77160),O=d(31506)},57350:function(gt,S,d){"use strict";d.r(S),d.d(S,{catmullRom2Bezier:function(){return p},fillPath:function(){return m},fillPathByDiff:function(){return k},formatPath:function(){return $},getArcParams:function(){return Zt},getLineIntersect:function(){return de},isPointInPolygon:function(){return er},isPolygonsIntersect:function(){return yn},parsePath:function(){return T},parsePathArray:function(){return vt},parsePathString:function(){return bt},path2Absolute:function(){return Et},path2Curve:function(){return it},path2Segments:function(){return zt},pathIntersection:function(){return j},reactPath:function(){return Z}});var y=d(49242),L=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,I=/[^\s\,]+/ig;function O(jt){var ee=jt||[];if((0,y.isArray)(ee))return ee;if((0,y.isString)(ee))return ee=ee.match(L),(0,y.each)(ee,function(se,fe){if(se=se.match(I),se[0].length>1){var we=se[0].charAt(0);se.splice(1,0,se[0].substr(1)),se[0]=we}(0,y.each)(se,function(Ee,Oe){isNaN(Ee)||(se[Oe]=+Ee)}),ee[fe]=se}),ee}var T=O,_=d(31437);function C(jt,ee,se,fe){var we=[],Ee=!!fe,Oe,Ie,xe,Ze,Ge,qe,or;if(Ee){xe=fe[0],Ze=fe[1];for(var rr=0,ur=jt.length;rr<ur;rr+=1){var ar=jt[rr];xe=_.min([0,0],xe,ar),Ze=_.max([0,0],Ze,ar)}}for(var rr=0,pr=jt.length;rr<pr;rr+=1){var ar=jt[rr];if(rr===0&&!se)or=ar;else if(rr===pr-1&&!se)qe=ar,we.push(or),we.push(qe);else{var tr=[rr?rr-1:pr-1,rr-1][se?0:1];Oe=jt[tr],Ie=jt[se?(rr+1)%pr:rr+1];var mr=[0,0];mr=_.sub(mr,Ie,Oe),mr=_.scale(mr,mr,ee);var kr=_.distance(ar,Oe),xr=_.distance(ar,Ie),Ir=kr+xr;Ir!==0&&(kr/=Ir,xr/=Ir);var Hr=_.scale([0,0],mr,-kr),Fr=_.scale([0,0],mr,xr);qe=_.add([0,0],ar,Hr),Ge=_.add([0,0],ar,Fr),Ge=_.min([0,0],Ge,_.max([0,0],Ie,ar)),Ge=_.max([0,0],Ge,_.min([0,0],Ie,ar)),Hr=_.sub([0,0],Ge,ar),Hr=_.scale([0,0],Hr,-kr/xr),qe=_.add([0,0],ar,Hr),qe=_.min([0,0],qe,_.max([0,0],Oe,ar)),qe=_.max([0,0],qe,_.min([0,0],Oe,ar)),Fr=_.sub([0,0],ar,qe),Fr=_.scale([0,0],Fr,xr/kr),Ge=_.add([0,0],ar,Fr),Ee&&(qe=_.max([0,0],qe,xe),qe=_.min([0,0],qe,Ze),Ge=_.max([0,0],Ge,xe),Ge=_.min([0,0],Ge,Ze)),we.push(or),we.push(qe),or=Ge}}return se&&we.push(we.shift()),we}function E(jt,ee,se){ee===void 0&&(ee=!1),se===void 0&&(se=[[0,0],[1,1]]);for(var fe=!!ee,we=[],Ee=0,Oe=jt.length;Ee<Oe;Ee+=2)we.push([jt[Ee],jt[Ee+1]]);for(var Ie=C(we,.4,fe,se),xe=we.length,Ze=[],Ge,qe,or,Ee=0;Ee<xe-1;Ee+=1)Ge=Ie[Ee*2],qe=Ie[Ee*2+1],or=we[Ee+1],Ze.push(["C",Ge[0],Ge[1],qe[0],qe[1],or[0],or[1]]);return fe&&(Ge=Ie[xe],qe=Ie[xe+1],or=we[0],Ze.push(["C",Ge[0],Ge[1],qe[0],qe[1],or[0],or[1]])),Ze}var p=E;function w(jt,ee){var se=[],fe=[];function we(Ee,Oe){if(Ee.length===1)se.push(Ee[0]),fe.push(Ee[0]);else{for(var Ie=[],xe=0;xe<Ee.length-1;xe++)xe===0&&se.push(Ee[0]),xe===Ee.length-2&&fe.push(Ee[xe+1]),Ie[xe]=[(1-Oe)*Ee[xe][0]+Oe*Ee[xe+1][0],(1-Oe)*Ee[xe][1]+Oe*Ee[xe+1][1]];we(Ie,Oe)}}return jt.length&&we(jt,ee),{left:se,right:fe.reverse()}}function g(jt,ee,se){var fe=[[jt[1],jt[2]]];se=se||2;var we=[];ee[0]==="A"?(fe.push(ee[6]),fe.push(ee[7])):ee[0]==="C"?(fe.push([ee[1],ee[2]]),fe.push([ee[3],ee[4]]),fe.push([ee[5],ee[6]])):ee[0]==="S"||ee[0]==="Q"?(fe.push([ee[1],ee[2]]),fe.push([ee[3],ee[4]])):fe.push([ee[1],ee[2]]);for(var Ee=fe,Oe=1/se,Ie=0;Ie<se-1;Ie++){var xe=Oe/(1-Oe*Ie),Ze=w(Ee,xe);we.push(Ze.left),Ee=Ze.right}we.push(Ee);var Ge=we.map(function(qe){var or=[];return qe.length===4&&(or.push("C"),or=or.concat(qe[2])),qe.length>=3&&(qe.length===3&&or.push("Q"),or=or.concat(qe[1])),qe.length===2&&or.push("L"),or=or.concat(qe[qe.length-1]),or});return Ge}function b(jt,ee,se){if(se===1)return[[].concat(jt)];var fe=[];if(ee[0]==="L"||ee[0]==="C"||ee[0]==="Q")fe=fe.concat(g(jt,ee,se));else{var we=[].concat(jt);we[0]==="M"&&(we[0]="L");for(var Ee=0;Ee<=se-1;Ee++)fe.push(we)}return fe}function m(jt,ee){if(jt.length===1)return jt;var se=jt.length-1,fe=ee.length-1,we=se/fe,Ee=[];if(jt.length===1&&jt[0][0]==="M"){for(var Oe=0;Oe<fe-se;Oe++)jt.push(jt[0]);return jt}for(var Oe=0;Oe<fe;Oe++){var Ie=Math.floor(we*Oe);Ee[Ie]=(Ee[Ie]||0)+1}var xe=Ee.reduce(function(Ze,Ge,qe){return qe===se?Ze.concat(jt[se]):Ze.concat(b(jt[qe],jt[qe+1],Ge))},[]);return xe.unshift(jt[0]),(ee[fe]==="Z"||ee[fe]==="z")&&xe.push("Z"),xe}function M(jt,ee,se){var fe=null,we=se;return ee<we&&(we=ee,fe="add"),jt<we&&(we=jt,fe="del"),{type:fe,min:we}}var P=function(jt,ee){var se=jt.length,fe=ee.length,we,Ee,Oe=0;if(se===0||fe===0)return null;for(var Ie=[],xe=0;xe<=se;xe++)Ie[xe]=[],Ie[xe][0]={min:xe};for(var Ze=0;Ze<=fe;Ze++)Ie[0][Ze]={min:Ze};for(var xe=1;xe<=se;xe++){we=jt[xe-1];for(var Ze=1;Ze<=fe;Ze++){Ee=ee[Ze-1],(0,y.isEqual)(we,Ee)?Oe=0:Oe=1;var Ge=Ie[xe-1][Ze].min+1,qe=Ie[xe][Ze-1].min+1,or=Ie[xe-1][Ze-1].min+Oe;Ie[xe][Ze]=M(Ge,qe,or)}}return Ie};function k(jt,ee){var se=P(jt,ee),fe=jt.length,we=ee.length,Ee=[],Oe=1,Ie=1;if(se[fe][we]!==fe){for(var xe=1;xe<=fe;xe++){var Ze=se[xe][xe].min;Ie=xe;for(var Ge=Oe;Ge<=we;Ge++)se[xe][Ge].min<Ze&&(Ze=se[xe][Ge].min,Ie=Ge);Oe=Ie,se[xe][Oe].type&&Ee.push({index:xe-1,type:se[xe][Oe].type})}for(var xe=Ee.length-1;xe>=0;xe--)Oe=Ee[xe].index,Ee[xe].type==="add"?jt.splice(Oe,0,[].concat(jt[Oe])):jt.splice(Oe,1)}if(fe=jt.length,fe<we)for(var xe=0;xe<we-fe;xe++)jt[fe-1][0]==="z"||jt[fe-1][0]==="Z"?jt.splice(fe-2,0,jt[fe-2]):jt.push(jt[fe-1]);return jt}function N(jt){var ee=[];switch(jt[0]){case"M":ee.push([jt[1],jt[2]]);break;case"L":ee.push([jt[1],jt[2]]);break;case"A":ee.push([jt[6],jt[7]]);break;case"Q":ee.push([jt[3],jt[4]]),ee.push([jt[1],jt[2]]);break;case"T":ee.push([jt[1],jt[2]]);break;case"C":ee.push([jt[5],jt[6]]),ee.push([jt[1],jt[2]]),ee.push([jt[3],jt[4]]);break;case"S":ee.push([jt[3],jt[4]]),ee.push([jt[1],jt[2]]);break;case"H":ee.push([jt[1],jt[1]]);break;case"V":ee.push([jt[1],jt[1]]);break;default:}return ee}function V(jt,ee,se){for(var fe=[].concat(jt),we,Ee=1/(se+1),Oe=N(ee)[0],Ie=1;Ie<=se;Ie++)Ee*=Ie,we=Math.floor(jt.length*Ee),we===0?fe.unshift([Oe[0]*Ee+jt[we][0]*(1-Ee),Oe[1]*Ee+jt[we][1]*(1-Ee)]):fe.splice(we,0,[Oe[0]*Ee+jt[we][0]*(1-Ee),Oe[1]*Ee+jt[we][1]*(1-Ee)]);return fe}function $(jt,ee){if(jt.length<=1)return jt;for(var se,fe=0;fe<ee.length;fe++)if(jt[fe][0]!==ee[fe][0])switch(se=N(jt[fe]),ee[fe][0]){case"M":jt[fe]=["M"].concat(se[0]);break;case"L":jt[fe]=["L"].concat(se[0]);break;case"A":jt[fe]=[].concat(ee[fe]),jt[fe][6]=se[0][0],jt[fe][7]=se[0][1];break;case"Q":if(se.length<2)if(fe>0)se=V(se,jt[fe-1],1);else{jt[fe]=ee[fe];break}jt[fe]=["Q"].concat(se.reduce(function(we,Ee){return we.concat(Ee)},[]));break;case"T":jt[fe]=["T"].concat(se[0]);break;case"C":if(se.length<3)if(fe>0)se=V(se,jt[fe-1],2);else{jt[fe]=ee[fe];break}jt[fe]=["C"].concat(se.reduce(function(we,Ee){return we.concat(Ee)},[]));break;case"S":if(se.length<2)if(fe>0)se=V(se,jt[fe-1],1);else{jt[fe]=ee[fe];break}jt[fe]=["S"].concat(se.reduce(function(we,Ee){return we.concat(Ee)},[]));break;default:jt[fe]=ee[fe]}return jt}function Z(jt,ee,se,fe,we){return we?[["M",+jt+ +we,ee],["l",se-we*2,0],["a",we,we,0,0,1,we,we],["l",0,fe-we*2],["a",we,we,0,0,1,-we,we],["l",we*2-se,0],["a",we,we,0,0,1,-we,-we],["l",0,we*2-fe],["a",we,we,0,0,1,we,-we],["z"]]:[["M",jt,ee],["l",se,0],["l",0,fe],["l",-se,0],["z"]]}var J=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,lt=new RegExp("([a-z])["+J+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+J+"]*,?["+J+"]*)+)","ig"),rt=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+J+"]*,?["+J+"]*","ig");function bt(jt){if(!jt)return null;if((0,y.isArray)(jt))return jt;var ee={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},se=[];return String(jt).replace(lt,function(fe,we,Ee){var Oe=[],Ie=we.toLowerCase();if(Ee.replace(rt,function(xe,Ze){Ze&&Oe.push(+Ze)}),Ie==="m"&&Oe.length>2&&(se.push([we].concat(Oe.splice(0,2))),Ie="l",we=we==="m"?"l":"L"),Ie==="o"&&Oe.length===1&&se.push([we,Oe[0]]),Ie==="r")se.push([we].concat(Oe));else for(;Oe.length>=ee[Ie]&&(se.push([we].concat(Oe.splice(0,ee[Ie]))),!!ee[Ie]););return""}),se}var Ot=/[a-z]/;function Bt(jt,ee){return[ee[0]+(ee[0]-jt[0]),ee[1]+(ee[1]-jt[1])]}function Et(jt){var ee=bt(jt);if(!ee||!ee.length)return[["M",0,0]];for(var se=!1,fe=0;fe<ee.length;fe++){var we=ee[fe][0];if(Ot.test(we)||["V","H","T","S"].indexOf(we)>=0){se=!0;break}}if(!se)return ee;var Ee=[],Oe=0,Ie=0,xe=0,Ze=0,Ge=0,qe,or,rr=ee[0];(rr[0]==="M"||rr[0]==="m")&&(Oe=+rr[1],Ie=+rr[2],xe=Oe,Ze=Ie,Ge++,Ee[0]=["M",Oe,Ie]);for(var fe=Ge,ur=ee.length;fe<ur;fe++){var ar=ee[fe],pr=Ee[fe-1],tr=[],we=ar[0],mr=we.toUpperCase();if(we!==mr)switch(tr[0]=mr,mr){case"A":tr[1]=ar[1],tr[2]=ar[2],tr[3]=ar[3],tr[4]=ar[4],tr[5]=ar[5],tr[6]=+ar[6]+Oe,tr[7]=+ar[7]+Ie;break;case"V":tr[1]=+ar[1]+Ie;break;case"H":tr[1]=+ar[1]+Oe;break;case"M":xe=+ar[1]+Oe,Ze=+ar[2]+Ie,tr[1]=xe,tr[2]=Ze;break;default:for(var kr=1,xr=ar.length;kr<xr;kr++)tr[kr]=+ar[kr]+(kr%2?Oe:Ie)}else tr=ee[fe];switch(mr){case"Z":Oe=+xe,Ie=+Ze;break;case"H":Oe=tr[1],tr=["L",Oe,Ie];break;case"V":Ie=tr[1],tr=["L",Oe,Ie];break;case"T":Oe=tr[1],Ie=tr[2];var Ir=Bt([pr[1],pr[2]],[pr[3],pr[4]]);tr=["Q",Ir[0],Ir[1],Oe,Ie];break;case"S":Oe=tr[tr.length-2],Ie=tr[tr.length-1];var Hr=pr.length,Fr=Bt([pr[Hr-4],pr[Hr-3]],[pr[Hr-2],pr[Hr-1]]);tr=["C",Fr[0],Fr[1],tr[1],tr[2],Oe,Ie];break;case"M":xe=tr[tr.length-2],Ze=tr[tr.length-1];break;default:Oe=tr[tr.length-2],Ie=tr[tr.length-1]}Ee.push(tr)}return Ee}var Dt=Math.PI*2,It=function(jt,ee,se,fe,we,Ee,Oe){var Ie=jt.x,xe=jt.y;Ie*=ee,xe*=se;var Ze=fe*Ie-we*xe,Ge=we*Ie+fe*xe;return{x:Ze+Ee,y:Ge+Oe}},_t=function(jt,ee){var se=ee===1.5707963267948966?.551915024494:ee===-1.5707963267948966?-.551915024494:4/3*Math.tan(ee/4),fe=Math.cos(jt),we=Math.sin(jt),Ee=Math.cos(jt+ee),Oe=Math.sin(jt+ee);return[{x:fe-we*se,y:we+fe*se},{x:Ee+Oe*se,y:Oe-Ee*se},{x:Ee,y:Oe}]},Xt=function(jt,ee,se,fe){var we=jt*fe-ee*se<0?-1:1,Ee=jt*se+ee*fe;return Ee>1&&(Ee=1),Ee<-1&&(Ee=-1),we*Math.acos(Ee)},z=function(jt,ee,se,fe,we,Ee,Oe,Ie,xe,Ze,Ge,qe){var or=Math.pow(we,2),rr=Math.pow(Ee,2),ur=Math.pow(Ge,2),ar=Math.pow(qe,2),pr=or*rr-or*ar-rr*ur;pr<0&&(pr=0),pr/=or*ar+rr*ur,pr=Math.sqrt(pr)*(Oe===Ie?-1:1);var tr=pr*we/Ee*qe,mr=pr*-Ee/we*Ge,kr=Ze*tr-xe*mr+(jt+se)/2,xr=xe*tr+Ze*mr+(ee+fe)/2,Ir=(Ge-tr)/we,Hr=(qe-mr)/Ee,Fr=(-Ge-tr)/we,In=(-qe-mr)/Ee,qr=Xt(1,0,Ir,Hr),Yn=Xt(Ir,Hr,Fr,In);return Ie===0&&Yn>0&&(Yn-=Dt),Ie===1&&Yn<0&&(Yn+=Dt),[kr,xr,qr,Yn]},R=function(jt){var ee=jt.px,se=jt.py,fe=jt.cx,we=jt.cy,Ee=jt.rx,Oe=jt.ry,Ie=jt.xAxisRotation,xe=Ie===void 0?0:Ie,Ze=jt.largeArcFlag,Ge=Ze===void 0?0:Ze,qe=jt.sweepFlag,or=qe===void 0?0:qe,rr=[];if(Ee===0||Oe===0)return[{x1:0,y1:0,x2:0,y2:0,x:fe,y:we}];var ur=Math.sin(xe*Dt/360),ar=Math.cos(xe*Dt/360),pr=ar*(ee-fe)/2+ur*(se-we)/2,tr=-ur*(ee-fe)/2+ar*(se-we)/2;if(pr===0&&tr===0)return[{x1:0,y1:0,x2:0,y2:0,x:fe,y:we}];Ee=Math.abs(Ee),Oe=Math.abs(Oe);var mr=Math.pow(pr,2)/Math.pow(Ee,2)+Math.pow(tr,2)/Math.pow(Oe,2);mr>1&&(Ee*=Math.sqrt(mr),Oe*=Math.sqrt(mr));var kr=z(ee,se,fe,we,Ee,Oe,Ge,or,ur,ar,pr,tr),xr=kr[0],Ir=kr[1],Hr=kr[2],Fr=kr[3],In=Math.abs(Fr)/(Dt/4);Math.abs(1-In)<1e-7&&(In=1);var qr=Math.max(Math.ceil(In),1);Fr/=qr;for(var Yn=0;Yn<qr;Yn++)rr.push(_t(Hr,Fr)),Hr+=Fr;return rr.map(function(hi){var Zn=It(hi[0],Ee,Oe,ar,ur,xr,Ir),Ii=Zn.x,Gi=Zn.y,_r=It(hi[1],Ee,Oe,ar,ur,xr,Ir),ci=_r.x,Si=_r.y,ei=It(hi[2],Ee,Oe,ar,ur,xr,Ir),mn=ei.x,Jn=ei.y;return{x1:Ii,y1:Gi,x2:ci,y2:Si,x:mn,y:Jn}})};function F(jt,ee,se,fe,we,Ee,Oe,Ie,xe){var Ze=R({px:jt,py:ee,cx:Ie,cy:xe,rx:se,ry:fe,xAxisRotation:we,largeArcFlag:Ee,sweepFlag:Oe});return Ze.reduce(function(Ge,qe){var or=qe.x1,rr=qe.y1,ur=qe.x2,ar=qe.y2,pr=qe.x,tr=qe.y;return Ge.push(or,rr,ur,ar,pr,tr),Ge},[])}function D(jt,ee,se,fe,we,Ee){var Oe=1/3,Ie=2/3;return[Oe*jt+Ie*se,Oe*ee+Ie*fe,Oe*we+Ie*se,Oe*Ee+Ie*fe,we,Ee]}function u(jt,ee,se,fe){return[jt,ee,se,fe,se,fe]}function W(jt,ee){"TQ".indexOf(jt[0])<0&&(ee.qx=null,ee.qy=null);var se=jt.slice(1),fe=se[0],we=se[1];switch(jt[0]){case"M":return ee.x=fe,ee.y=we,jt;case"A":return["C"].concat(F.apply(0,[ee.x1,ee.y1].concat(jt.slice(1))));case"Q":return ee.qx=fe,ee.qy=we,["C"].concat(D.apply(0,[ee.x1,ee.y1].concat(jt.slice(1))));case"L":return["C"].concat(u(ee.x1,ee.y1,jt[1],jt[2]));case"H":return["C"].concat(u(ee.x1,ee.y1,jt[1],ee.y1));case"V":return["C"].concat(u(ee.x1,ee.y1,ee.x1,jt[1]));case"Z":return["C"].concat(u(ee.x1,ee.y1,ee.x,ee.y));default:}return jt}function it(jt,ee){ee===void 0&&(ee=!1);for(var se=Et(jt),fe={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null},we=[],Ee="",Oe=se.length,Ie,xe,Ze=[],Ge=0;Ge<Oe;Ge+=1)se[Ge]&&(Ee=se[Ge][0]),we[Ge]=Ee,se[Ge]=W(se[Ge],fe),nt(se,we,Ge),Oe=se.length,Ee==="Z"&&Ze.push(Ge),Ie=se[Ge],xe=Ie.length,fe.x1=+Ie[xe-2],fe.y1=+Ie[xe-1],fe.x2=+Ie[xe-4]||fe.x1,fe.y2=+Ie[xe-3]||fe.y1;return ee?[se,Ze]:se}function nt(jt,ee,se){if(jt[se].length>7){jt[se].shift();for(var fe=jt[se],we=se;fe.length;)ee[se]="A",jt.splice(we+=1,0,["C"].concat(fe.splice(0,6)));jt.splice(se,1)}}var mt=function(jt,ee,se,fe,we){var Ee=-3*ee+9*se-9*fe+3*we,Oe=jt*Ee+6*ee-12*se+6*fe;return jt*Oe-3*ee+3*se},et=function(jt,ee,se,fe,we,Ee,Oe,Ie,xe){xe===null&&(xe=1),xe=xe>1?1:xe<0?0:xe;for(var Ze=xe/2,Ge=12,qe=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],or=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],rr=0,ur=0;ur<Ge;ur++){var ar=Ze*qe[ur]+Ze,pr=mt(ar,jt,se,we,Oe),tr=mt(ar,ee,fe,Ee,Ie),mr=pr*pr+tr*tr;rr+=or[ur]*Math.sqrt(mr)}return Ze*rr},ct=function(jt,ee,se,fe,we,Ee,Oe,Ie){for(var xe=[],Ze=[[],[]],Ge,qe,or,rr,ur=0;ur<2;++ur){if(ur===0?(qe=6*jt-12*se+6*we,Ge=-3*jt+9*se-9*we+3*Oe,or=3*se-3*jt):(qe=6*ee-12*fe+6*Ee,Ge=-3*ee+9*fe-9*Ee+3*Ie,or=3*fe-3*ee),Math.abs(Ge)<1e-12){if(Math.abs(qe)<1e-12)continue;rr=-or/qe,rr>0&&rr<1&&xe.push(rr);continue}var ar=qe*qe-4*or*Ge,pr=Math.sqrt(ar);if(!(ar<0)){var tr=(-qe+pr)/(2*Ge);tr>0&&tr<1&&xe.push(tr);var mr=(-qe-pr)/(2*Ge);mr>0&&mr<1&&xe.push(mr)}}for(var kr=xe.length,xr=kr,Ir;kr--;)rr=xe[kr],Ir=1-rr,Ze[0][kr]=Ir*Ir*Ir*jt+3*Ir*Ir*rr*se+3*Ir*rr*rr*we+rr*rr*rr*Oe,Ze[1][kr]=Ir*Ir*Ir*ee+3*Ir*Ir*rr*fe+3*Ir*rr*rr*Ee+rr*rr*rr*Ie;return Ze[0][xr]=jt,Ze[1][xr]=ee,Ze[0][xr+1]=Oe,Ze[1][xr+1]=Ie,Ze[0].length=Ze[1].length=xr+2,{min:{x:Math.min.apply(0,Ze[0]),y:Math.min.apply(0,Ze[1])},max:{x:Math.max.apply(0,Ze[0]),y:Math.max.apply(0,Ze[1])}}},Pt=function(jt,ee,se,fe,we,Ee,Oe,Ie){if(!(Math.max(jt,se)<Math.min(we,Oe)||Math.min(jt,se)>Math.max(we,Oe)||Math.max(ee,fe)<Math.min(Ee,Ie)||Math.min(ee,fe)>Math.max(Ee,Ie))){var xe=(jt*fe-ee*se)*(we-Oe)-(jt-se)*(we*Ie-Ee*Oe),Ze=(jt*fe-ee*se)*(Ee-Ie)-(ee-fe)*(we*Ie-Ee*Oe),Ge=(jt-se)*(Ee-Ie)-(ee-fe)*(we-Oe);if(!!Ge){var qe=xe/Ge,or=Ze/Ge,rr=+qe.toFixed(2),ur=+or.toFixed(2);if(!(rr<+Math.min(jt,se).toFixed(2)||rr>+Math.max(jt,se).toFixed(2)||rr<+Math.min(we,Oe).toFixed(2)||rr>+Math.max(we,Oe).toFixed(2)||ur<+Math.min(ee,fe).toFixed(2)||ur>+Math.max(ee,fe).toFixed(2)||ur<+Math.min(Ee,Ie).toFixed(2)||ur>+Math.max(Ee,Ie).toFixed(2)))return{x:qe,y:or}}}},At=function(jt,ee,se){return ee>=jt.x&&ee<=jt.x+jt.width&&se>=jt.y&&se<=jt.y+jt.height},ot=function(jt,ee,se,fe){return jt===null&&(jt=ee=se=fe=0),ee===null&&(ee=jt.y,se=jt.width,fe=jt.height,jt=jt.x),{x:jt,y:ee,width:se,w:se,height:fe,h:fe,x2:jt+se,y2:ee+fe,cx:jt+se/2,cy:ee+fe/2,r1:Math.min(se,fe)/2,r2:Math.max(se,fe)/2,r0:Math.sqrt(se*se+fe*fe)/2,path:Z(jt,ee,se,fe),vb:[jt,ee,se,fe].join(" ")}},wt=function(jt,ee){return jt=ot(jt),ee=ot(ee),At(ee,jt.x,jt.y)||At(ee,jt.x2,jt.y)||At(ee,jt.x,jt.y2)||At(ee,jt.x2,jt.y2)||At(jt,ee.x,ee.y)||At(jt,ee.x2,ee.y)||At(jt,ee.x,ee.y2)||At(jt,ee.x2,ee.y2)||(jt.x<ee.x2&&jt.x>ee.x||ee.x<jt.x2&&ee.x>jt.x)&&(jt.y<ee.y2&&jt.y>ee.y||ee.y<jt.y2&&ee.y>jt.y)},st=function(jt,ee,se,fe,we,Ee,Oe,Ie){(0,y.isArray)(jt)||(jt=[jt,ee,se,fe,we,Ee,Oe,Ie]);var xe=ct.apply(null,jt);return ot(xe.min.x,xe.min.y,xe.max.x-xe.min.x,xe.max.y-xe.min.y)},K=function(jt,ee,se,fe,we,Ee,Oe,Ie,xe){var Ze=1-xe,Ge=Math.pow(Ze,3),qe=Math.pow(Ze,2),or=xe*xe,rr=or*xe,ur=Ge*jt+qe*3*xe*se+Ze*3*xe*xe*we+rr*Oe,ar=Ge*ee+qe*3*xe*fe+Ze*3*xe*xe*Ee+rr*Ie,pr=jt+2*xe*(se-jt)+or*(we-2*se+jt),tr=ee+2*xe*(fe-ee)+or*(Ee-2*fe+ee),mr=se+2*xe*(we-se)+or*(Oe-2*we+se),kr=fe+2*xe*(Ee-fe)+or*(Ie-2*Ee+fe),xr=Ze*jt+xe*se,Ir=Ze*ee+xe*fe,Hr=Ze*we+xe*Oe,Fr=Ze*Ee+xe*Ie,In=90-Math.atan2(pr-mr,tr-kr)*180/Math.PI;return{x:ur,y:ar,m:{x:pr,y:tr},n:{x:mr,y:kr},start:{x:xr,y:Ir},end:{x:Hr,y:Fr},alpha:In}},tt=function(jt,ee,se){var fe=st(jt),we=st(ee);if(!wt(fe,we))return se?0:[];for(var Ee=et.apply(0,jt),Oe=et.apply(0,ee),Ie=~~(Ee/8),xe=~~(Oe/8),Ze=[],Ge=[],qe={},or=se?0:[],rr=0;rr<Ie+1;rr++){var ur=K.apply(0,jt.concat(rr/Ie));Ze.push({x:ur.x,y:ur.y,t:rr/Ie})}for(var rr=0;rr<xe+1;rr++){var ur=K.apply(0,ee.concat(rr/xe));Ge.push({x:ur.x,y:ur.y,t:rr/xe})}for(var rr=0;rr<Ie;rr++)for(var ar=0;ar<xe;ar++){var pr=Ze[rr],tr=Ze[rr+1],mr=Ge[ar],kr=Ge[ar+1],xr=Math.abs(tr.x-pr.x)<.001?"y":"x",Ir=Math.abs(kr.x-mr.x)<.001?"y":"x",Hr=Pt(pr.x,pr.y,tr.x,tr.y,mr.x,mr.y,kr.x,kr.y);if(Hr){if(qe[Hr.x.toFixed(4)]===Hr.y.toFixed(4))continue;qe[Hr.x.toFixed(4)]=Hr.y.toFixed(4);var Fr=pr.t+Math.abs((Hr[xr]-pr[xr])/(tr[xr]-pr[xr]))*(tr.t-pr.t),In=mr.t+Math.abs((Hr[Ir]-mr[Ir])/(kr[Ir]-mr[Ir]))*(kr.t-mr.t);Fr>=0&&Fr<=1&&In>=0&&In<=1&&(se?or++:or.push({x:Hr.x,y:Hr.y,t1:Fr,t2:In}))}}return or},U=function(jt,ee,se){jt=it(jt),ee=it(ee);for(var fe,we,Ee,Oe,Ie,xe,Ze,Ge,qe,or,rr=se?0:[],ur=0,ar=jt.length;ur<ar;ur++){var pr=jt[ur];if(pr[0]==="M")fe=Ie=pr[1],we=xe=pr[2];else{pr[0]==="C"?(qe=[fe,we].concat(pr.slice(1)),fe=qe[6],we=qe[7]):(qe=[fe,we,fe,we,Ie,xe,Ie,xe],fe=Ie,we=xe);for(var tr=0,mr=ee.length;tr<mr;tr++){var kr=ee[tr];if(kr[0]==="M")Ee=Ze=kr[1],Oe=Ge=kr[2];else{kr[0]==="C"?(or=[Ee,Oe].concat(kr.slice(1)),Ee=or[6],Oe=or[7]):(or=[Ee,Oe,Ee,Oe,Ze,Ge,Ze,Ge],Ee=Ze,Oe=Ge);var xr=tt(qe,or,se);if(se)rr+=xr;else{for(var Ir=0,Hr=xr.length;Ir<Hr;Ir++)xr[Ir].segment1=ur,xr[Ir].segment2=tr,xr[Ir].bez1=qe,xr[Ir].bez2=or;rr=rr.concat(xr)}}}}}return rr};function j(jt,ee){return U(jt,ee)}var at=/,?([a-z]),?/gi;function vt(jt){return jt.join(",").replace(at,"$1")}function Ft(jt){return Math.sqrt(jt[0]*jt[0]+jt[1]*jt[1])}function Jt(jt,ee){return Ft(jt)*Ft(ee)?(jt[0]*ee[0]+jt[1]*ee[1])/(Ft(jt)*Ft(ee)):1}function le(jt,ee){return(jt[0]*ee[1]<jt[1]*ee[0]?-1:1)*Math.acos(Jt(jt,ee))}function ge(jt,ee){return jt[0]===ee[0]&&jt[1]===ee[1]}function Zt(jt,ee){var se=ee[1],fe=ee[2],we=(0,y.mod)((0,y.toRadian)(ee[3]),Math.PI*2),Ee=ee[4],Oe=ee[5],Ie=jt[0],xe=jt[1],Ze=ee[6],Ge=ee[7],qe=Math.cos(we)*(Ie-Ze)/2+Math.sin(we)*(xe-Ge)/2,or=-1*Math.sin(we)*(Ie-Ze)/2+Math.cos(we)*(xe-Ge)/2,rr=qe*qe/(se*se)+or*or/(fe*fe);rr>1&&(se*=Math.sqrt(rr),fe*=Math.sqrt(rr));var ur=se*se*(or*or)+fe*fe*(qe*qe),ar=ur?Math.sqrt((se*se*(fe*fe)-ur)/ur):1;Ee===Oe&&(ar*=-1),isNaN(ar)&&(ar=0);var pr=fe?ar*se*or/fe:0,tr=se?ar*-fe*qe/se:0,mr=(Ie+Ze)/2+Math.cos(we)*pr-Math.sin(we)*tr,kr=(xe+Ge)/2+Math.sin(we)*pr+Math.cos(we)*tr,xr=[(qe-pr)/se,(or-tr)/fe],Ir=[(-1*qe-pr)/se,(-1*or-tr)/fe],Hr=le([1,0],xr),Fr=le(xr,Ir);return Jt(xr,Ir)<=-1&&(Fr=Math.PI),Jt(xr,Ir)>=1&&(Fr=0),Oe===0&&Fr>0&&(Fr=Fr-2*Math.PI),Oe===1&&Fr<0&&(Fr=Fr+2*Math.PI),{cx:mr,cy:kr,rx:ge(jt,[Ze,Ge])?0:se,ry:ge(jt,[Ze,Ge])?0:fe,startAngle:Hr,endAngle:Hr+Fr,xRotation:we,arcFlag:Ee,sweepFlag:Oe}}function kt(jt,ee){return[ee[0]+(ee[0]-jt[0]),ee[1]+(ee[1]-jt[1])]}function zt(jt){jt=T(jt);for(var ee=[],se=null,fe=null,we=null,Ee=0,Oe=jt.length,Ie=0;Ie<Oe;Ie++){var xe=jt[Ie];fe=jt[Ie+1];var Ze=xe[0],Ge={command:Ze,prePoint:se,params:xe,startTangent:null,endTangent:null};switch(Ze){case"M":we=[xe[1],xe[2]],Ee=Ie;break;case"A":var qe=Zt(se,xe);Ge.arcParams=qe;break;default:break}if(Ze==="Z")se=we,fe=jt[Ee+1];else{var or=xe.length;se=[xe[or-2],xe[or-1]]}fe&&fe[0]==="Z"&&(fe=jt[Ee],ee[Ee]&&(ee[Ee].prePoint=se)),Ge.currentPoint=se,ee[Ee]&&ge(se,ee[Ee].currentPoint)&&(ee[Ee].prePoint=Ge.prePoint);var rr=fe?[fe[fe.length-2],fe[fe.length-1]]:null;Ge.nextPoint=rr;var ur=Ge.prePoint;if(["L","H","V"].includes(Ze))Ge.startTangent=[ur[0]-se[0],ur[1]-se[1]],Ge.endTangent=[se[0]-ur[0],se[1]-ur[1]];else if(Ze==="Q"){var ar=[xe[1],xe[2]];Ge.startTangent=[ur[0]-ar[0],ur[1]-ar[1]],Ge.endTangent=[se[0]-ar[0],se[1]-ar[1]]}else if(Ze==="T"){var pr=ee[Ie-1],ar=kt(pr.currentPoint,ur);pr.command==="Q"?(Ge.command="Q",Ge.startTangent=[ur[0]-ar[0],ur[1]-ar[1]],Ge.endTangent=[se[0]-ar[0],se[1]-ar[1]]):(Ge.command="TL",Ge.startTangent=[ur[0]-se[0],ur[1]-se[1]],Ge.endTangent=[se[0]-ur[0],se[1]-ur[1]])}else if(Ze==="C"){var tr=[xe[1],xe[2]],mr=[xe[3],xe[4]];Ge.startTangent=[ur[0]-tr[0],ur[1]-tr[1]],Ge.endTangent=[se[0]-mr[0],se[1]-mr[1]],Ge.startTangent[0]===0&&Ge.startTangent[1]===0&&(Ge.startTangent=[tr[0]-mr[0],tr[1]-mr[1]]),Ge.endTangent[0]===0&&Ge.endTangent[1]===0&&(Ge.endTangent=[mr[0]-tr[0],mr[1]-tr[1]])}else if(Ze==="S"){var pr=ee[Ie-1],tr=kt(pr.currentPoint,ur),mr=[xe[1],xe[2]];pr.command==="C"?(Ge.command="C",Ge.startTangent=[ur[0]-tr[0],ur[1]-tr[1]],Ge.endTangent=[se[0]-mr[0],se[1]-mr[1]]):(Ge.command="SQ",Ge.startTangent=[ur[0]-mr[0],ur[1]-mr[1]],Ge.endTangent=[se[0]-mr[0],se[1]-mr[1]])}else if(Ze==="A"){var kr=.001,xr=Ge.arcParams||{},Ir=xr.cx,Hr=Ir===void 0?0:Ir,Fr=xr.cy,In=Fr===void 0?0:Fr,qr=xr.rx,Yn=qr===void 0?0:qr,hi=xr.ry,Zn=hi===void 0?0:hi,Ii=xr.sweepFlag,Gi=Ii===void 0?0:Ii,_r=xr.startAngle,ci=_r===void 0?0:_r,Si=xr.endAngle,ei=Si===void 0?0:Si;Gi===0&&(kr*=-1);var mn=Yn*Math.cos(ci-kr)+Hr,Jn=Zn*Math.sin(ci-kr)+In;Ge.startTangent=[mn-we[0],Jn-we[1]];var ji=Yn*Math.cos(ci+ei+kr)+Hr,ki=Zn*Math.sin(ci+ei-kr)+In;Ge.endTangent=[ur[0]-ji,ur[1]-ki]}ee.push(Ge)}return ee}var ne=function(jt,ee,se){return jt>=ee&&jt<=se};function de(jt,ee,se,fe){var we=.001,Ee={x:se.x-jt.x,y:se.y-jt.y},Oe={x:ee.x-jt.x,y:ee.y-jt.y},Ie={x:fe.x-se.x,y:fe.y-se.y},xe=Oe.x*Ie.y-Oe.y*Ie.x,Ze=xe*xe,Ge=Oe.x*Oe.x+Oe.y*Oe.y,qe=Ie.x*Ie.x+Ie.y*Ie.y,or=null;if(Ze>we*Ge*qe){var rr=(Ee.x*Ie.y-Ee.y*Ie.x)/xe,ur=(Ee.x*Oe.y-Ee.y*Oe.x)/xe;ne(rr,0,1)&&ne(ur,0,1)&&(or={x:jt.x+rr*Oe.x,y:jt.y+rr*Oe.y})}return or}var Ce=1e-6;function De(jt){return Math.abs(jt)<Ce?0:jt<0?-1:1}function ze(jt,ee,se){return(se[0]-jt[0])*(ee[1]-jt[1])==(ee[0]-jt[0])*(se[1]-jt[1])&&Math.min(jt[0],ee[0])<=se[0]&&se[0]<=Math.max(jt[0],ee[0])&&Math.min(jt[1],ee[1])<=se[1]&&se[1]<=Math.max(jt[1],ee[1])}function er(jt,ee,se){var fe=!1,we=jt.length;if(we<=2)return!1;for(var Ee=0;Ee<we;Ee++){var Oe=jt[Ee],Ie=jt[(Ee+1)%we];if(ze(Oe,Ie,[ee,se]))return!0;De(Oe[1]-se)>0!=De(Ie[1]-se)>0&&De(ee-(se-Oe[1])*(Oe[0]-Ie[0])/(Oe[1]-Ie[1])-Oe[0])<0&&(fe=!fe)}return fe}function yr(jt){for(var ee=[],se=jt.length,fe=0;fe<se-1;fe++){var we=jt[fe],Ee=jt[fe+1];ee.push({from:{x:we[0],y:we[1]},to:{x:Ee[0],y:Ee[1]}})}if(ee.length>1){var Oe=jt[0],Ie=jt[se-1];ee.push({from:{x:Ie[0],y:Ie[1]},to:{x:Oe[0],y:Oe[1]}})}return ee}function tn(jt,ee){var se=!1;return(0,y.each)(jt,function(fe){if(de(fe.from,fe.to,ee.from,ee.to))return se=!0,!1}),se}function nn(jt){var ee=jt.map(function(fe){return fe[0]}),se=jt.map(function(fe){return fe[1]});return{minX:Math.min.apply(null,ee),maxX:Math.max.apply(null,ee),minY:Math.min.apply(null,se),maxY:Math.max.apply(null,se)}}function gn(jt,ee){return!(ee.minX>jt.maxX||ee.maxX<jt.minX||ee.minY>jt.maxY||ee.maxY<jt.minY)}function yn(jt,ee){if(jt.length<2||ee.length<2)return!1;var se=nn(jt),fe=nn(ee);if(!gn(se,fe))return!1;var we=!1;if((0,y.each)(ee,function(xe){if(er(jt,xe[0],xe[1]))return we=!0,!1}),we||((0,y.each)(jt,function(xe){if(er(ee,xe[0],xe[1]))return we=!0,!1}),we))return!0;var Ee=yr(jt),Oe=yr(ee),Ie=!1;return(0,y.each)(Oe,function(xe){if(tn(Ee,xe))return Ie=!0,!1}),Ie}},84023:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.isSamePoint=void 0;var y=d(49242);function L(C){return Math.sqrt(C[0]*C[0]+C[1]*C[1])}function I(C,E){return L(C)*L(E)?(C[0]*E[0]+C[1]*E[1])/(L(C)*L(E)):1}function O(C,E){return(C[0]*E[1]<C[1]*E[0]?-1:1)*Math.acos(I(C,E))}function T(C,E){return C[0]===E[0]&&C[1]===E[1]}S.isSamePoint=T;function _(C,E){var p=E[1],w=E[2],g=(0,y.mod)((0,y.toRadian)(E[3]),Math.PI*2),b=E[4],m=E[5],M=C[0],P=C[1],k=E[6],N=E[7],V=Math.cos(g)*(M-k)/2+Math.sin(g)*(P-N)/2,$=-1*Math.sin(g)*(M-k)/2+Math.cos(g)*(P-N)/2,Z=V*V/(p*p)+$*$/(w*w);Z>1&&(p*=Math.sqrt(Z),w*=Math.sqrt(Z));var J=p*p*($*$)+w*w*(V*V),lt=J?Math.sqrt((p*p*(w*w)-J)/J):1;b===m&&(lt*=-1),isNaN(lt)&&(lt=0);var rt=w?lt*p*$/w:0,bt=p?lt*-w*V/p:0,Ot=(M+k)/2+Math.cos(g)*rt-Math.sin(g)*bt,Bt=(P+N)/2+Math.sin(g)*rt+Math.cos(g)*bt,Et=[(V-rt)/p,($-bt)/w],Dt=[(-1*V-rt)/p,(-1*$-bt)/w],It=O([1,0],Et),_t=O(Et,Dt);return I(Et,Dt)<=-1&&(_t=Math.PI),I(Et,Dt)>=1&&(_t=0),m===0&&_t>0&&(_t=_t-2*Math.PI),m===1&&_t<0&&(_t=_t+2*Math.PI),{cx:Ot,cy:Bt,rx:T(C,[k,N])?0:p,ry:T(C,[k,N])?0:w,startAngle:It,endAngle:It+_t,xRotation:g,arcFlag:b,sweepFlag:m}}S.default=_},21528:function(gt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(L,I,O){return L>=I&&L<=O};function y(L,I,O,T){var _=.001,C={x:O.x-L.x,y:O.y-L.y},E={x:I.x-L.x,y:I.y-L.y},p={x:T.x-O.x,y:T.y-O.y},w=E.x*p.y-E.y*p.x,g=w*w,b=E.x*E.x+E.y*E.y,m=p.x*p.x+p.y*p.y,M=null;if(g>_*b*m){var P=(C.x*p.y-C.y*p.x)/w,k=(C.x*E.y-C.y*E.x)/w;d(P,0,1)&&d(k,0,1)&&(M={x:L.x+P*E.x,y:L.y+P*E.y})}return M}S.default=y},70146:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(66957),L=d(21528),I=d(49242);function O(p){for(var w=[],g=p.length,b=0;b<g-1;b++){var m=p[b],M=p[b+1];w.push({from:{x:m[0],y:m[1]},to:{x:M[0],y:M[1]}})}if(w.length>1){var P=p[0],k=p[g-1];w.push({from:{x:k[0],y:k[1]},to:{x:P[0],y:P[1]}})}return w}function T(p,w){var g=!1;return(0,I.each)(p,function(b){if((0,L.default)(b.from,b.to,w.from,w.to))return g=!0,!1}),g}function _(p){var w=p.map(function(b){return b[0]}),g=p.map(function(b){return b[1]});return{minX:Math.min.apply(null,w),maxX:Math.max.apply(null,w),minY:Math.min.apply(null,g),maxY:Math.max.apply(null,g)}}function C(p,w){return!(w.minX>p.maxX||w.maxX<p.minX||w.minY>p.maxY||w.maxY<p.minY)}function E(p,w){if(p.length<2||w.length<2)return!1;var g=_(p),b=_(w);if(!C(g,b))return!1;var m=!1;if((0,I.each)(w,function(N){if((0,y.default)(p,N[0],N[1]))return m=!0,!1}),m||((0,I.each)(p,function(N){if((0,y.default)(w,N[0],N[1]))return m=!0,!1}),m))return!0;var M=O(p),P=O(w),k=!1;return(0,I.each)(P,function(N){if(T(M,N))return k=!0,!1}),k}S.default=E},28498:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(49242),L=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,I=new RegExp("([a-z])["+L+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+L+"]*,?["+L+"]*)+)","ig"),O=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+L+"]*,?["+L+"]*","ig");function T(_){if(!_)return null;if((0,y.isArray)(_))return _;var C={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},E=[];return String(_).replace(I,function(p,w,g){var b=[],m=w.toLowerCase();if(g.replace(O,function(M,P){P&&b.push(+P)}),m==="m"&&b.length>2&&(E.push([w].concat(b.splice(0,2))),m="l",w=w==="m"?"l":"L"),m==="o"&&b.length===1&&E.push([w,b[0]]),m==="r")E.push([w].concat(b));else for(;b.length>=C[m]&&(E.push([w].concat(b.splice(0,C[m]))),!!C[m]););return""}),E}S.default=T},80315:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(49242),L=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,I=/[^\s\,]+/ig;function O(T){var _=T||[];if((0,y.isArray)(_))return _;if((0,y.isString)(_))return _=_.match(L),(0,y.each)(_,function(C,E){if(C=C.match(I),C[0].length>1){var p=C[0].charAt(0);C.splice(1,0,C[0].substr(1)),C[0]=p}(0,y.each)(C,function(w,g){isNaN(w)||(C[g]=+w)}),_[E]=C}),_}S.default=O},74479:function(gt,S,d){"use strict";var y;y={value:!0};var L=d(28498),I=/[a-z]/;function O(_,C){return[C[0]+(C[0]-_[0]),C[1]+(C[1]-_[1])]}function T(_){var C=(0,L.default)(_);if(!C||!C.length)return[["M",0,0]];for(var E=!1,p=0;p<C.length;p++){var w=C[p][0];if(I.test(w)||["V","H","T","S"].indexOf(w)>=0){E=!0;break}}if(!E)return C;var g=[],b=0,m=0,M=0,P=0,k=0,N,V,$=C[0];($[0]==="M"||$[0]==="m")&&(b=+$[1],m=+$[2],M=b,P=m,k++,g[0]=["M",b,m]);for(var p=k,Z=C.length;p<Z;p++){var J=C[p],lt=g[p-1],rt=[],w=J[0],bt=w.toUpperCase();if(w!==bt)switch(rt[0]=bt,bt){case"A":rt[1]=J[1],rt[2]=J[2],rt[3]=J[3],rt[4]=J[4],rt[5]=J[5],rt[6]=+J[6]+b,rt[7]=+J[7]+m;break;case"V":rt[1]=+J[1]+m;break;case"H":rt[1]=+J[1]+b;break;case"M":M=+J[1]+b,P=+J[2]+m,rt[1]=M,rt[2]=P;break;default:for(var Ot=1,Bt=J.length;Ot<Bt;Ot++)rt[Ot]=+J[Ot]+(Ot%2?b:m)}else rt=C[p];switch(bt){case"Z":b=+M,m=+P;break;case"H":b=rt[1],rt=["L",b,m];break;case"V":m=rt[1],rt=["L",b,m];break;case"T":b=rt[1],m=rt[2];var Et=O([lt[1],lt[2]],[lt[3],lt[4]]);rt=["Q",Et[0],Et[1],b,m];break;case"S":b=rt[rt.length-2],m=rt[rt.length-1];var Dt=lt.length,It=O([lt[Dt-4],lt[Dt-3]],[lt[Dt-2],lt[Dt-1]]);rt=["C",It[0],It[1],rt[1],rt[2],b,m];break;case"M":M=rt[rt.length-2],P=rt[rt.length-1];break;default:b=rt[rt.length-2],m=rt[rt.length-1]}g.push(rt)}return g}S.Z=T},49274:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(84023),L=d(84023),I=d(80315);function O(_,C){return[C[0]+(C[0]-_[0]),C[1]+(C[1]-_[1])]}function T(_){_=(0,I.default)(_);for(var C=[],E=null,p=null,w=null,g=0,b=_.length,m=0;m<b;m++){var M=_[m];p=_[m+1];var P=M[0],k={command:P,prePoint:E,params:M,startTangent:null,endTangent:null};switch(P){case"M":w=[M[1],M[2]],g=m;break;case"A":var N=(0,y.default)(E,M);k.arcParams=N;break;default:break}if(P==="Z")E=w,p=_[g+1];else{var V=M.length;E=[M[V-2],M[V-1]]}p&&p[0]==="Z"&&(p=_[g],C[g]&&(C[g].prePoint=E)),k.currentPoint=E,C[g]&&(0,L.isSamePoint)(E,C[g].currentPoint)&&(C[g].prePoint=k.prePoint);var $=p?[p[p.length-2],p[p.length-1]]:null;k.nextPoint=$;var Z=k.prePoint;if(["L","H","V"].includes(P))k.startTangent=[Z[0]-E[0],Z[1]-E[1]],k.endTangent=[E[0]-Z[0],E[1]-Z[1]];else if(P==="Q"){var J=[M[1],M[2]];k.startTangent=[Z[0]-J[0],Z[1]-J[1]],k.endTangent=[E[0]-J[0],E[1]-J[1]]}else if(P==="T"){var lt=C[m-1],J=O(lt.currentPoint,Z);lt.command==="Q"?(k.command="Q",k.startTangent=[Z[0]-J[0],Z[1]-J[1]],k.endTangent=[E[0]-J[0],E[1]-J[1]]):(k.command="TL",k.startTangent=[Z[0]-E[0],Z[1]-E[1]],k.endTangent=[E[0]-Z[0],E[1]-Z[1]])}else if(P==="C"){var rt=[M[1],M[2]],bt=[M[3],M[4]];k.startTangent=[Z[0]-rt[0],Z[1]-rt[1]],k.endTangent=[E[0]-bt[0],E[1]-bt[1]],k.startTangent[0]===0&&k.startTangent[1]===0&&(k.startTangent=[rt[0]-bt[0],rt[1]-bt[1]]),k.endTangent[0]===0&&k.endTangent[1]===0&&(k.endTangent=[bt[0]-rt[0],bt[1]-rt[1]])}else if(P==="S"){var lt=C[m-1],rt=O(lt.currentPoint,Z),bt=[M[1],M[2]];lt.command==="C"?(k.command="C",k.startTangent=[Z[0]-rt[0],Z[1]-rt[1]],k.endTangent=[E[0]-bt[0],E[1]-bt[1]]):(k.command="SQ",k.startTangent=[Z[0]-bt[0],Z[1]-bt[1]],k.endTangent=[E[0]-bt[0],E[1]-bt[1]])}else if(P==="A"){var Ot=.001,Bt=k.arcParams||{},Et=Bt.cx,Dt=Et===void 0?0:Et,It=Bt.cy,_t=It===void 0?0:It,Xt=Bt.rx,z=Xt===void 0?0:Xt,R=Bt.ry,F=R===void 0?0:R,D=Bt.sweepFlag,u=D===void 0?0:D,W=Bt.startAngle,it=W===void 0?0:W,nt=Bt.endAngle,mt=nt===void 0?0:nt;u===0&&(Ot*=-1);var et=z*Math.cos(it-Ot)+Dt,ct=F*Math.sin(it-Ot)+_t;k.startTangent=[et-w[0],ct-w[1]];var Pt=z*Math.cos(it+mt+Ot)+Dt,At=F*Math.sin(it+mt-Ot)+_t;k.endTangent=[Z[0]-Pt,Z[1]-At]}C.push(k)}return C}S.default=T},66957:function(gt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=1e-6;function y(O){return Math.abs(O)<d?0:O<0?-1:1}function L(O,T,_){return(_[0]-O[0])*(T[1]-O[1])==(T[0]-O[0])*(_[1]-O[1])&&Math.min(O[0],T[0])<=_[0]&&_[0]<=Math.max(O[0],T[0])&&Math.min(O[1],T[1])<=_[1]&&_[1]<=Math.max(O[1],T[1])}function I(O,T,_){var C=!1,E=O.length;if(E<=2)return!1;for(var p=0;p<E;p++){var w=O[p],g=O[(p+1)%E];if(L(w,g,[T,_]))return!0;y(w[1]-_)>0!=y(g[1]-_)>0&&y(T-(_-w[1])*(w[0]-g[0])/(w[1]-g[1])-w[0])<0&&(C=!C)}return C}S.default=I},2443:function(gt,S,d){"use strict";d.r(S),d.d(S,{Category:function(){return nt},Identity:function(){return Oe},Linear:function(){return Zt},Log:function(){return ze},Pow:function(){return yr},Quantile:function(){return ee},Quantize:function(){return yn},Scale:function(){return _},Time:function(){return nn},TimeCat:function(){return Ft},getScale:function(){return fe},getTickMethod:function(){return I},registerScale:function(){return we},registerTickMethod:function(){return O}});var y=d(49242),L={};function I(Ct){return L[Ct]}function O(Ct,Tt){L[Ct]=Tt}var T=function(){function Ct(Tt){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=Tt,this.initCfg(),this.init()}return Ct.prototype.translate=function(Tt){return Tt},Ct.prototype.change=function(Tt){(0,y.assign)(this.__cfg__,Tt),this.init()},Ct.prototype.clone=function(){return this.constructor(this.__cfg__)},Ct.prototype.getTicks=function(){var Tt=this;return(0,y.map)(this.ticks,function(Lt,Ht){return(0,y.isObject)(Lt)?Lt:{text:Tt.getText(Lt,Ht),tickValue:Lt,value:Tt.scale(Lt)}})},Ct.prototype.getText=function(Tt,Lt){var Ht=this.formatter,qt=Ht?Ht(Tt,Lt):Tt;return(0,y.isNil)(qt)||!(0,y.isFunction)(qt.toString)?"":qt.toString()},Ct.prototype.getConfig=function(Tt){return this.__cfg__[Tt]},Ct.prototype.init=function(){(0,y.assign)(this,this.__cfg__),this.setDomain(),(0,y.isEmpty)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},Ct.prototype.initCfg=function(){},Ct.prototype.setDomain=function(){},Ct.prototype.calculateTicks=function(){var Tt=this.tickMethod,Lt=[];if((0,y.isString)(Tt)){var Ht=I(Tt);if(!Ht)throw new Error("There is no method to to calculate ticks!");Lt=Ht(this)}else(0,y.isFunction)(Tt)&&(Lt=Tt(this));return Lt},Ct.prototype.rangeMin=function(){return this.range[0]},Ct.prototype.rangeMax=function(){return this.range[1]},Ct.prototype.calcPercent=function(Tt,Lt,Ht){return(0,y.isNumber)(Tt)?(Tt-Lt)/(Ht-Lt):NaN},Ct.prototype.calcValue=function(Tt,Lt,Ht){return Lt+Tt*(Ht-Lt)},Ct}(),_=T,C=function(Ct,Tt){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Lt,Ht){Lt.__proto__=Ht}||function(Lt,Ht){for(var qt in Ht)Object.prototype.hasOwnProperty.call(Ht,qt)&&(Lt[qt]=Ht[qt])},C(Ct,Tt)};function E(Ct,Tt){if(typeof Tt!="function"&&Tt!==null)throw new TypeError("Class extends value "+String(Tt)+" is not a constructor or null");C(Ct,Tt);function Lt(){this.constructor=Ct}Ct.prototype=Tt===null?Object.create(Tt):(Lt.prototype=Tt.prototype,new Lt)}var p=function(){return p=Object.assign||function(Tt){for(var Lt,Ht=1,qt=arguments.length;Ht<qt;Ht++){Lt=arguments[Ht];for(var Ut in Lt)Object.prototype.hasOwnProperty.call(Lt,Ut)&&(Tt[Ut]=Lt[Ut])}return Tt},p.apply(this,arguments)};function w(Ct,Tt){var Lt={};for(var Ht in Ct)Object.prototype.hasOwnProperty.call(Ct,Ht)&&Tt.indexOf(Ht)<0&&(Lt[Ht]=Ct[Ht]);if(Ct!=null&&typeof Object.getOwnPropertySymbols=="function")for(var qt=0,Ht=Object.getOwnPropertySymbols(Ct);qt<Ht.length;qt++)Tt.indexOf(Ht[qt])<0&&Object.prototype.propertyIsEnumerable.call(Ct,Ht[qt])&&(Lt[Ht[qt]]=Ct[Ht[qt]]);return Lt}function g(Ct,Tt,Lt,Ht){var qt=arguments.length,Ut=qt<3?Tt:Ht===null?Ht=Object.getOwnPropertyDescriptor(Tt,Lt):Ht,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ut=Reflect.decorate(Ct,Tt,Lt,Ht);else for(var _e=Ct.length-1;_e>=0;_e--)(be=Ct[_e])&&(Ut=(qt<3?be(Ut):qt>3?be(Tt,Lt,Ut):be(Tt,Lt))||Ut);return qt>3&&Ut&&Object.defineProperty(Tt,Lt,Ut),Ut}function b(Ct,Tt){return function(Lt,Ht){Tt(Lt,Ht,Ct)}}function m(Ct,Tt,Lt,Ht,qt,Ut){function be(jn){if(jn!==void 0&&typeof jn!="function")throw new TypeError("Function expected");return jn}for(var _e=Ht.kind,je=_e==="getter"?"get":_e==="setter"?"set":"value",Te=!Tt&&Ct?Ht.static?Ct:Ct.prototype:null,Le=Tt||(Te?Object.getOwnPropertyDescriptor(Te,Ht.name):{}),Fe,ir=!1,Or=Lt.length-1;Or>=0;Or--){var Tr={};for(var jr in Ht)Tr[jr]=jr==="access"?{}:Ht[jr];for(var jr in Ht.access)Tr.access[jr]=Ht.access[jr];Tr.addInitializer=function(jn){if(ir)throw new TypeError("Cannot add initializers after decoration has completed");Ut.push(be(jn||null))};var fn=(0,Lt[Or])(_e==="accessor"?{get:Le.get,set:Le.set}:Le[je],Tr);if(_e==="accessor"){if(fn===void 0)continue;if(fn===null||typeof fn!="object")throw new TypeError("Object expected");(Fe=be(fn.get))&&(Le.get=Fe),(Fe=be(fn.set))&&(Le.set=Fe),(Fe=be(fn.init))&&qt.push(Fe)}else(Fe=be(fn))&&(_e==="field"?qt.push(Fe):Le[je]=Fe)}Te&&Object.defineProperty(Te,Ht.name,Le),ir=!0}function M(Ct,Tt,Lt){for(var Ht=arguments.length>2,qt=0;qt<Tt.length;qt++)Lt=Ht?Tt[qt].call(Ct,Lt):Tt[qt].call(Ct);return Ht?Lt:void 0}function P(Ct){return typeof Ct=="symbol"?Ct:"".concat(Ct)}function k(Ct,Tt,Lt){return typeof Tt=="symbol"&&(Tt=Tt.description?"[".concat(Tt.description,"]"):""),Object.defineProperty(Ct,"name",{configurable:!0,value:Lt?"".concat(Lt," ",Tt):Tt})}function N(Ct,Tt){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(Ct,Tt)}function V(Ct,Tt,Lt,Ht){function qt(Ut){return Ut instanceof Lt?Ut:new Lt(function(be){be(Ut)})}return new(Lt||(Lt=Promise))(function(Ut,be){function _e(Le){try{Te(Ht.next(Le))}catch(Fe){be(Fe)}}function je(Le){try{Te(Ht.throw(Le))}catch(Fe){be(Fe)}}function Te(Le){Le.done?Ut(Le.value):qt(Le.value).then(_e,je)}Te((Ht=Ht.apply(Ct,Tt||[])).next())})}function $(Ct,Tt){var Lt={label:0,sent:function(){if(Ut[0]&1)throw Ut[1];return Ut[1]},trys:[],ops:[]},Ht,qt,Ut,be;return be={next:_e(0),throw:_e(1),return:_e(2)},typeof Symbol=="function"&&(be[Symbol.iterator]=function(){return this}),be;function _e(Te){return function(Le){return je([Te,Le])}}function je(Te){if(Ht)throw new TypeError("Generator is already executing.");for(;be&&(be=0,Te[0]&&(Lt=0)),Lt;)try{if(Ht=1,qt&&(Ut=Te[0]&2?qt.return:Te[0]?qt.throw||((Ut=qt.return)&&Ut.call(qt),0):qt.next)&&!(Ut=Ut.call(qt,Te[1])).done)return Ut;switch(qt=0,Ut&&(Te=[Te[0]&2,Ut.value]),Te[0]){case 0:case 1:Ut=Te;break;case 4:return Lt.label++,{value:Te[1],done:!1};case 5:Lt.label++,qt=Te[1],Te=[0];continue;case 7:Te=Lt.ops.pop(),Lt.trys.pop();continue;default:if(Ut=Lt.trys,!(Ut=Ut.length>0&&Ut[Ut.length-1])&&(Te[0]===6||Te[0]===2)){Lt=0;continue}if(Te[0]===3&&(!Ut||Te[1]>Ut[0]&&Te[1]<Ut[3])){Lt.label=Te[1];break}if(Te[0]===6&&Lt.label<Ut[1]){Lt.label=Ut[1],Ut=Te;break}if(Ut&&Lt.label<Ut[2]){Lt.label=Ut[2],Lt.ops.push(Te);break}Ut[2]&&Lt.ops.pop(),Lt.trys.pop();continue}Te=Tt.call(Ct,Lt)}catch(Le){Te=[6,Le],qt=0}finally{Ht=Ut=0}if(Te[0]&5)throw Te[1];return{value:Te[0]?Te[1]:void 0,done:!0}}}var Z=Object.create?function(Ct,Tt,Lt,Ht){Ht===void 0&&(Ht=Lt);var qt=Object.getOwnPropertyDescriptor(Tt,Lt);(!qt||("get"in qt?!Tt.__esModule:qt.writable||qt.configurable))&&(qt={enumerable:!0,get:function(){return Tt[Lt]}}),Object.defineProperty(Ct,Ht,qt)}:function(Ct,Tt,Lt,Ht){Ht===void 0&&(Ht=Lt),Ct[Ht]=Tt[Lt]};function J(Ct,Tt){for(var Lt in Ct)Lt!=="default"&&!Object.prototype.hasOwnProperty.call(Tt,Lt)&&Z(Tt,Ct,Lt)}function lt(Ct){var Tt=typeof Symbol=="function"&&Symbol.iterator,Lt=Tt&&Ct[Tt],Ht=0;if(Lt)return Lt.call(Ct);if(Ct&&typeof Ct.length=="number")return{next:function(){return Ct&&Ht>=Ct.length&&(Ct=void 0),{value:Ct&&Ct[Ht++],done:!Ct}}};throw new TypeError(Tt?"Object is not iterable.":"Symbol.iterator is not defined.")}function rt(Ct,Tt){var Lt=typeof Symbol=="function"&&Ct[Symbol.iterator];if(!Lt)return Ct;var Ht=Lt.call(Ct),qt,Ut=[],be;try{for(;(Tt===void 0||Tt-- >0)&&!(qt=Ht.next()).done;)Ut.push(qt.value)}catch(_e){be={error:_e}}finally{try{qt&&!qt.done&&(Lt=Ht.return)&&Lt.call(Ht)}finally{if(be)throw be.error}}return Ut}function bt(){for(var Ct=[],Tt=0;Tt<arguments.length;Tt++)Ct=Ct.concat(rt(arguments[Tt]));return Ct}function Ot(){for(var Ct=0,Tt=0,Lt=arguments.length;Tt<Lt;Tt++)Ct+=arguments[Tt].length;for(var Ht=Array(Ct),qt=0,Tt=0;Tt<Lt;Tt++)for(var Ut=arguments[Tt],be=0,_e=Ut.length;be<_e;be++,qt++)Ht[qt]=Ut[be];return Ht}function Bt(Ct,Tt,Lt){if(Lt||arguments.length===2)for(var Ht=0,qt=Tt.length,Ut;Ht<qt;Ht++)(Ut||!(Ht in Tt))&&(Ut||(Ut=Array.prototype.slice.call(Tt,0,Ht)),Ut[Ht]=Tt[Ht]);return Ct.concat(Ut||Array.prototype.slice.call(Tt))}function Et(Ct){return this instanceof Et?(this.v=Ct,this):new Et(Ct)}function Dt(Ct,Tt,Lt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ht=Lt.apply(Ct,Tt||[]),qt,Ut=[];return qt={},be("next"),be("throw"),be("return"),qt[Symbol.asyncIterator]=function(){return this},qt;function be(ir){Ht[ir]&&(qt[ir]=function(Or){return new Promise(function(Tr,jr){Ut.push([ir,Or,Tr,jr])>1||_e(ir,Or)})})}function _e(ir,Or){try{je(Ht[ir](Or))}catch(Tr){Fe(Ut[0][3],Tr)}}function je(ir){ir.value instanceof Et?Promise.resolve(ir.value.v).then(Te,Le):Fe(Ut[0][2],ir)}function Te(ir){_e("next",ir)}function Le(ir){_e("throw",ir)}function Fe(ir,Or){ir(Or),Ut.shift(),Ut.length&&_e(Ut[0][0],Ut[0][1])}}function It(Ct){var Tt,Lt;return Tt={},Ht("next"),Ht("throw",function(qt){throw qt}),Ht("return"),Tt[Symbol.iterator]=function(){return this},Tt;function Ht(qt,Ut){Tt[qt]=Ct[qt]?function(be){return(Lt=!Lt)?{value:Et(Ct[qt](be)),done:!1}:Ut?Ut(be):be}:Ut}}function _t(Ct){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Tt=Ct[Symbol.asyncIterator],Lt;return Tt?Tt.call(Ct):(Ct=typeof lt=="function"?lt(Ct):Ct[Symbol.iterator](),Lt={},Ht("next"),Ht("throw"),Ht("return"),Lt[Symbol.asyncIterator]=function(){return this},Lt);function Ht(Ut){Lt[Ut]=Ct[Ut]&&function(be){return new Promise(function(_e,je){be=Ct[Ut](be),qt(_e,je,be.done,be.value)})}}function qt(Ut,be,_e,je){Promise.resolve(je).then(function(Te){Ut({value:Te,done:_e})},be)}}function Xt(Ct,Tt){return Object.defineProperty?Object.defineProperty(Ct,"raw",{value:Tt}):Ct.raw=Tt,Ct}var z=Object.create?function(Ct,Tt){Object.defineProperty(Ct,"default",{enumerable:!0,value:Tt})}:function(Ct,Tt){Ct.default=Tt};function R(Ct){if(Ct&&Ct.__esModule)return Ct;var Tt={};if(Ct!=null)for(var Lt in Ct)Lt!=="default"&&Object.prototype.hasOwnProperty.call(Ct,Lt)&&Z(Tt,Ct,Lt);return z(Tt,Ct),Tt}function F(Ct){return Ct&&Ct.__esModule?Ct:{default:Ct}}function D(Ct,Tt,Lt,Ht){if(Lt==="a"&&!Ht)throw new TypeError("Private accessor was defined without a getter");if(typeof Tt=="function"?Ct!==Tt||!Ht:!Tt.has(Ct))throw new TypeError("Cannot read private member from an object whose class did not declare it");return Lt==="m"?Ht:Lt==="a"?Ht.call(Ct):Ht?Ht.value:Tt.get(Ct)}function u(Ct,Tt,Lt,Ht,qt){if(Ht==="m")throw new TypeError("Private method is not writable");if(Ht==="a"&&!qt)throw new TypeError("Private accessor was defined without a setter");if(typeof Tt=="function"?Ct!==Tt||!qt:!Tt.has(Ct))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Ht==="a"?qt.call(Ct,Lt):qt?qt.value=Lt:Tt.set(Ct,Lt),Lt}function W(Ct,Tt){if(Tt===null||typeof Tt!="object"&&typeof Tt!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof Ct=="function"?Tt===Ct:Ct.has(Tt)}var it=function(Ct){E(Tt,Ct);function Tt(){var Lt=Ct!==null&&Ct.apply(this,arguments)||this;return Lt.type="cat",Lt.isCategory=!0,Lt}return Tt.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var Lt=0;Lt<this.values.length;Lt++)this.translateIndexMap.set(this.values[Lt],Lt)}},Tt.prototype.translate=function(Lt){this.buildIndexMap();var Ht=this.translateIndexMap.get(Lt);return Ht===void 0&&(Ht=(0,y.isNumber)(Lt)?Lt:NaN),Ht},Tt.prototype.scale=function(Lt){var Ht=this.translate(Lt),qt=this.calcPercent(Ht,this.min,this.max);return this.calcValue(qt,this.rangeMin(),this.rangeMax())},Tt.prototype.invert=function(Lt){var Ht=this.max-this.min,qt=this.calcPercent(Lt,this.rangeMin(),this.rangeMax()),Ut=Math.round(Ht*qt)+this.min;return Ut<this.min||Ut>this.max?NaN:this.values[Ut]},Tt.prototype.getText=function(Lt){for(var Ht=[],qt=1;qt<arguments.length;qt++)Ht[qt-1]=arguments[qt];var Ut=Lt;return(0,y.isNumber)(Lt)&&!this.values.includes(Lt)&&(Ut=this.values[Ut]),Ct.prototype.getText.apply(this,Ot([Ut],Ht))},Tt.prototype.initCfg=function(){this.tickMethod="cat"},Tt.prototype.setDomain=function(){if((0,y.isNil)(this.getConfig("min"))&&(this.min=0),(0,y.isNil)(this.getConfig("max"))){var Lt=this.values.length;this.max=Lt>1?Lt-1:Lt}this.translateIndexMap&&(this.translateIndexMap=void 0)},Tt}(_),nt=it,mt=d(19432);function et(Ct){return function(Tt,Lt,Ht,qt){for(var Ut=(0,y.isNil)(Ht)?0:Ht,be=(0,y.isNil)(qt)?Tt.length:qt;Ut<be;){var _e=Ut+be>>>1;Ct(Tt[_e])>Lt?be=_e:Ut=_e+1}return Ut}}var ct="format";function Pt(Ct,Tt){var Lt=mt[ct]||mt.default[ct];return Lt(Ct,Tt)}function At(Ct){return(0,y.isString)(Ct)&&(Ct.indexOf("T")>0?Ct=new Date(Ct).getTime():Ct=new Date(Ct.replace(/-/gi,"/")).getTime()),(0,y.isDate)(Ct)&&(Ct=Ct.getTime()),Ct}var ot=1e3,wt=60*ot,st=60*wt,K=24*st,tt=K*31,U=K*365,j=[["HH:mm:ss",ot],["HH:mm:ss",ot*10],["HH:mm:ss",ot*30],["HH:mm",wt],["HH:mm",wt*10],["HH:mm",wt*30],["HH",st],["HH",st*6],["HH",st*12],["YYYY-MM-DD",K],["YYYY-MM-DD",K*4],["YYYY-WW",K*7],["YYYY-MM",tt],["YYYY-MM",tt*4],["YYYY-MM",tt*6],["YYYY",K*380]];function at(Ct,Tt,Lt){var Ht=(Tt-Ct)/Lt,qt=et(function(be){return be[1]})(j,Ht)-1,Ut=j[qt];return qt<0?Ut=j[0]:qt>=j.length&&(Ut=(0,y.last)(j)),Ut}var vt=function(Ct){E(Tt,Ct);function Tt(){var Lt=Ct!==null&&Ct.apply(this,arguments)||this;return Lt.type="timeCat",Lt}return Tt.prototype.translate=function(Lt){Lt=At(Lt);var Ht=this.values.indexOf(Lt);return Ht===-1&&((0,y.isNumber)(Lt)&&Lt<this.values.length?Ht=Lt:Ht=NaN),Ht},Tt.prototype.getText=function(Lt,Ht){var qt=this.translate(Lt);if(qt>-1){var Ut=this.values[qt],be=this.formatter;return Ut=be?be(Ut,Ht):Pt(Ut,this.mask),Ut}return Lt},Tt.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},Tt.prototype.setDomain=function(){var Lt=this.values;(0,y.each)(Lt,function(Ht,qt){Lt[qt]=At(Ht)}),Lt.sort(function(Ht,qt){return Ht-qt}),Ct.prototype.setDomain.call(this)},Tt}(nt),Ft=vt,Jt=function(Ct){E(Tt,Ct);function Tt(){var Lt=Ct!==null&&Ct.apply(this,arguments)||this;return Lt.isContinuous=!0,Lt}return Tt.prototype.scale=function(Lt){if((0,y.isNil)(Lt))return NaN;var Ht=this.rangeMin(),qt=this.rangeMax(),Ut=this.max,be=this.min;if(Ut===be)return Ht;var _e=this.getScalePercent(Lt);return Ht+_e*(qt-Ht)},Tt.prototype.init=function(){Ct.prototype.init.call(this);var Lt=this.ticks,Ht=(0,y.head)(Lt),qt=(0,y.last)(Lt);Ht<this.min&&(this.min=Ht),qt>this.max&&(this.max=qt),(0,y.isNil)(this.minLimit)||(this.min=Ht),(0,y.isNil)(this.maxLimit)||(this.max=qt)},Tt.prototype.setDomain=function(){var Lt=(0,y.getRange)(this.values),Ht=Lt.min,qt=Lt.max;(0,y.isNil)(this.min)&&(this.min=Ht),(0,y.isNil)(this.max)&&(this.max=qt),this.min>this.max&&(this.min=Ht,this.max=qt)},Tt.prototype.calculateTicks=function(){var Lt=this,Ht=Ct.prototype.calculateTicks.call(this);return this.nice||(Ht=(0,y.filter)(Ht,function(qt){return qt>=Lt.min&&qt<=Lt.max})),Ht},Tt.prototype.getScalePercent=function(Lt){var Ht=this.max,qt=this.min;return(Lt-qt)/(Ht-qt)},Tt.prototype.getInvertPercent=function(Lt){return(Lt-this.rangeMin())/(this.rangeMax()-this.rangeMin())},Tt}(_),le=Jt,ge=function(Ct){E(Tt,Ct);function Tt(){var Lt=Ct!==null&&Ct.apply(this,arguments)||this;return Lt.type="linear",Lt.isLinear=!0,Lt}return Tt.prototype.invert=function(Lt){var Ht=this.getInvertPercent(Lt);return this.min+Ht*(this.max-this.min)},Tt.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},Tt}(le),Zt=ge;function kt(Ct,Tt){var Lt=Math.E,Ht;return Tt>=0?Ht=Math.pow(Lt,Math.log(Tt)/Ct):Ht=Math.pow(Lt,Math.log(-Tt)/Ct)*-1,Ht}function zt(Ct,Tt){return Ct===1?1:Math.log(Tt)/Math.log(Ct)}function ne(Ct,Tt,Lt){(0,y.isNil)(Lt)&&(Lt=Math.max.apply(null,Ct));var Ht=Lt;return(0,y.each)(Ct,function(qt){qt>0&&qt<Ht&&(Ht=qt)}),Ht===Lt&&(Ht=Lt/Tt),Ht>1&&(Ht=1),Ht}function de(Ct){var Tt=Ct.toString().split(/[eE]/),Lt=(Tt[0].split(".")[1]||"").length-+(Tt[1]||0);return Lt>0?Lt:0}function Ce(Ct,Tt){var Lt=de(Ct),Ht=de(Tt),qt=Math.pow(10,Math.max(Lt,Ht));return(Ct*qt+Tt*qt)/qt}var De=function(Ct){E(Tt,Ct);function Tt(){var Lt=Ct!==null&&Ct.apply(this,arguments)||this;return Lt.type="log",Lt}return Tt.prototype.invert=function(Lt){var Ht=this.base,qt=zt(Ht,this.max),Ut=this.rangeMin(),be=this.rangeMax()-Ut,_e,je=this.positiveMin;if(je){if(Lt===0)return 0;_e=zt(Ht,je/Ht);var Te=1/(qt-_e)*be;if(Lt<Te)return Lt/Te*je}else _e=zt(Ht,this.min);var Le=(Lt-Ut)/be,Fe=Le*(qt-_e)+_e;return Math.pow(Ht,Fe)},Tt.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},Tt.prototype.setDomain=function(){Ct.prototype.setDomain.call(this);var Lt=this.min;if(Lt<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");Lt===0&&(this.positiveMin=ne(this.values,this.base,this.max))},Tt.prototype.getScalePercent=function(Lt){var Ht=this.max,qt=this.min;if(Ht===qt||Lt<=0)return 0;var Ut=this.base,be=this.positiveMin;be&&(qt=be*1/Ut);var _e;return Lt<be?_e=Lt/be/(zt(Ut,Ht)-zt(Ut,qt)):_e=(zt(Ut,Lt)-zt(Ut,qt))/(zt(Ut,Ht)-zt(Ut,qt)),_e},Tt}(le),ze=De,er=function(Ct){E(Tt,Ct);function Tt(){var Lt=Ct!==null&&Ct.apply(this,arguments)||this;return Lt.type="pow",Lt}return Tt.prototype.invert=function(Lt){var Ht=this.getInvertPercent(Lt),qt=this.exponent,Ut=kt(qt,this.max),be=kt(qt,this.min),_e=Ht*(Ut-be)+be,je=_e>=0?1:-1;return Math.pow(_e,qt)*je},Tt.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},Tt.prototype.getScalePercent=function(Lt){var Ht=this.max,qt=this.min;if(Ht===qt)return 0;var Ut=this.exponent,be=(kt(Ut,Lt)-kt(Ut,qt))/(kt(Ut,Ht)-kt(Ut,qt));return be},Tt}(le),yr=er,tn=function(Ct){E(Tt,Ct);function Tt(){var Lt=Ct!==null&&Ct.apply(this,arguments)||this;return Lt.type="time",Lt}return Tt.prototype.getText=function(Lt,Ht){var qt=this.translate(Lt),Ut=this.formatter;return Ut?Ut(qt,Ht):Pt(qt,this.mask)},Tt.prototype.scale=function(Lt){var Ht=Lt;return((0,y.isString)(Ht)||(0,y.isDate)(Ht))&&(Ht=this.translate(Ht)),Ct.prototype.scale.call(this,Ht)},Tt.prototype.translate=function(Lt){return At(Lt)},Tt.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},Tt.prototype.setDomain=function(){var Lt=this.values,Ht=this.getConfig("min"),qt=this.getConfig("max");if((!(0,y.isNil)(Ht)||!(0,y.isNumber)(Ht))&&(this.min=this.translate(this.min)),(!(0,y.isNil)(qt)||!(0,y.isNumber)(qt))&&(this.max=this.translate(this.max)),Lt&&Lt.length){var Ut=[],be=Infinity,_e=be,je=0;(0,y.each)(Lt,function(Te){var Le=At(Te);if(isNaN(Le))throw new TypeError("Invalid Time: "+Te+" in time scale!");be>Le?(_e=be,be=Le):_e>Le&&(_e=Le),je<Le&&(je=Le),Ut.push(Le)}),Lt.length>1&&(this.minTickInterval=_e-be),(0,y.isNil)(Ht)&&(this.min=be),(0,y.isNil)(qt)&&(this.max=je)}},Tt}(Zt),nn=tn,gn=function(Ct){E(Tt,Ct);function Tt(){var Lt=Ct!==null&&Ct.apply(this,arguments)||this;return Lt.type="quantize",Lt}return Tt.prototype.invert=function(Lt){var Ht=this.ticks,qt=Ht.length,Ut=this.getInvertPercent(Lt),be=Math.floor(Ut*(qt-1));if(be>=qt-1)return(0,y.last)(Ht);if(be<0)return(0,y.head)(Ht);var _e=Ht[be],je=Ht[be+1],Te=be/(qt-1),Le=(be+1)/(qt-1);return _e+(Ut-Te)/(Le-Te)*(je-_e)},Tt.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},Tt.prototype.calculateTicks=function(){var Lt=Ct.prototype.calculateTicks.call(this);return this.nice||((0,y.last)(Lt)!==this.max&&Lt.push(this.max),(0,y.head)(Lt)!==this.min&&Lt.unshift(this.min)),Lt},Tt.prototype.getScalePercent=function(Lt){var Ht=this.ticks;if(Lt<(0,y.head)(Ht))return 0;if(Lt>(0,y.last)(Ht))return 1;var qt=0;return(0,y.each)(Ht,function(Ut,be){if(Lt>=Ut)qt=be;else return!1}),qt/(Ht.length-1)},Tt}(le),yn=gn,jt=function(Ct){E(Tt,Ct);function Tt(){var Lt=Ct!==null&&Ct.apply(this,arguments)||this;return Lt.type="quantile",Lt}return Tt.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},Tt}(yn),ee=jt,se={};function fe(Ct){return se[Ct]}function we(Ct,Tt){if(fe(Ct))throw new Error("type '"+Ct+"' existed.");se[Ct]=Tt}var Ee=function(Ct){E(Tt,Ct);function Tt(){var Lt=Ct!==null&&Ct.apply(this,arguments)||this;return Lt.type="identity",Lt.isIdentity=!0,Lt}return Tt.prototype.calculateTicks=function(){return this.values},Tt.prototype.scale=function(Lt){return this.values[0]!==Lt&&(0,y.isNumber)(Lt)?Lt:this.range[0]},Tt.prototype.invert=function(Lt){var Ht=this.range;return Lt<Ht[0]||Lt>Ht[1]?NaN:this.values[0]},Tt}(_),Oe=Ee;function Ie(Ct){var Tt=Ct.values,Lt=Ct.tickInterval,Ht=Ct.tickCount,qt=Ct.showLast;if((0,y.isNumber)(Lt)){var Ut=(0,y.filter)(Tt,function(Tr,jr){return jr%Lt==0}),be=(0,y.last)(Tt);return qt&&(0,y.last)(Ut)!==be&&Ut.push(be),Ut}var _e=Tt.length,je=Ct.min,Te=Ct.max;if((0,y.isNil)(je)&&(je=0),(0,y.isNil)(Te)&&(Te=Tt.length-1),!(0,y.isNumber)(Ht)||Ht>=_e)return Tt.slice(je,Te+1);if(Ht<=0||Te<=0)return[];for(var Le=Ht===1?_e:Math.floor(_e/(Ht-1)),Fe=[],ir=je,Or=0;Or<Ht&&!(ir>=Te);Or++)ir=Math.min(je+Or*Le,Te),Or===Ht-1&&qt?Fe.push(Tt[Te]):Fe.push(Tt[ir]);return Fe}function xe(Ct){var Tt=Ct.min,Lt=Ct.max,Ht=Ct.nice,qt=Ct.tickCount,Ut=new rr;return Ut.domain([Tt,Lt]),Ht&&Ut.nice(qt),Ut.ticks(qt)}var Ze=5,Ge=Math.sqrt(50),qe=Math.sqrt(10),or=Math.sqrt(2),rr=function(){function Ct(){this._domain=[0,1]}return Ct.prototype.domain=function(Tt){return Tt?(this._domain=Array.from(Tt,Number),this):this._domain.slice()},Ct.prototype.nice=function(Tt){var Lt,Ht;Tt===void 0&&(Tt=Ze);var qt=this._domain.slice(),Ut=0,be=this._domain.length-1,_e=this._domain[Ut],je=this._domain[be],Te;return je<_e&&(Lt=[je,_e],_e=Lt[0],je=Lt[1],Ht=[be,Ut],Ut=Ht[0],be=Ht[1]),Te=ar(_e,je,Tt),Te>0?(_e=Math.floor(_e/Te)*Te,je=Math.ceil(je/Te)*Te,Te=ar(_e,je,Tt)):Te<0&&(_e=Math.ceil(_e*Te)/Te,je=Math.floor(je*Te)/Te,Te=ar(_e,je,Tt)),Te>0?(qt[Ut]=Math.floor(_e/Te)*Te,qt[be]=Math.ceil(je/Te)*Te,this.domain(qt)):Te<0&&(qt[Ut]=Math.ceil(_e*Te)/Te,qt[be]=Math.floor(je*Te)/Te,this.domain(qt)),this},Ct.prototype.ticks=function(Tt){return Tt===void 0&&(Tt=Ze),ur(this._domain[0],this._domain[this._domain.length-1],Tt||Ze)},Ct}();function ur(Ct,Tt,Lt){var Ht,qt=-1,Ut,be,_e;if(Tt=+Tt,Ct=+Ct,Lt=+Lt,Ct===Tt&&Lt>0)return[Ct];if((Ht=Tt<Ct)&&(Ut=Ct,Ct=Tt,Tt=Ut),(_e=ar(Ct,Tt,Lt))===0||!isFinite(_e))return[];if(_e>0)for(Ct=Math.ceil(Ct/_e),Tt=Math.floor(Tt/_e),be=new Array(Ut=Math.ceil(Tt-Ct+1));++qt<Ut;)be[qt]=(Ct+qt)*_e;else for(Ct=Math.floor(Ct*_e),Tt=Math.ceil(Tt*_e),be=new Array(Ut=Math.ceil(Ct-Tt+1));++qt<Ut;)be[qt]=(Ct-qt)/_e;return Ht&&be.reverse(),be}function ar(Ct,Tt,Lt){var Ht=(Tt-Ct)/Math.max(0,Lt),qt=Math.floor(Math.log(Ht)/Math.LN10),Ut=Ht/Math.pow(10,qt);return qt>=0?(Ut>=Ge?10:Ut>=qe?5:Ut>=or?2:1)*Math.pow(10,qt):-Math.pow(10,-qt)/(Ut>=Ge?10:Ut>=qe?5:Ut>=or?2:1)}function pr(Ct,Tt,Lt){var Ht;return Lt==="ceil"?Ht=Math.ceil(Ct/Tt):Lt==="floor"?Ht=Math.floor(Ct/Tt):Ht=Math.round(Ct/Tt),Ht*Tt}function tr(Ct,Tt,Lt){var Ht=pr(Ct,Lt,"floor"),qt=pr(Tt,Lt,"ceil");Ht=(0,y.fixedBase)(Ht,Lt),qt=(0,y.fixedBase)(qt,Lt);for(var Ut=[],be=Math.max((qt-Ht)/(Math.pow(2,12)-1),Lt),_e=Ht;_e<=qt;_e=_e+be){var je=(0,y.fixedBase)(_e,be);Ut.push(je)}return{min:Ht,max:qt,ticks:Ut}}function mr(Ct,Tt,Lt){var Ht,qt=Ct.minLimit,Ut=Ct.maxLimit,be=Ct.min,_e=Ct.max,je=Ct.tickCount,Te=je===void 0?5:je,Le=(0,y.isNil)(qt)?(0,y.isNil)(Tt)?be:Tt:qt,Fe=(0,y.isNil)(Ut)?(0,y.isNil)(Lt)?_e:Lt:Ut;if(Le>Fe&&(Ht=[Le,Fe],Fe=Ht[0],Le=Ht[1]),Te<=2)return[Le,Fe];for(var ir=(Fe-Le)/(Te-1),Or=[],Tr=0;Tr<Te;Tr++)Or.push(Le+ir*Tr);return Or}function kr(Ct){var Tt=Ct.min,Lt=Ct.max,Ht=Ct.tickInterval,qt=Ct.minLimit,Ut=Ct.maxLimit,be=xe(Ct);return!(0,y.isNil)(qt)||!(0,y.isNil)(Ut)?mr(Ct,(0,y.head)(be),(0,y.last)(be)):Ht?tr(Tt,Lt,Ht).ticks:be}function xr(Ct){return Math.abs(Ct)<1e-15?Ct:parseFloat(Ct.toFixed(15))}var Ir=[1,5,2,2.5,4,3],Hr=null,Fr=Number.EPSILON*100;function In(Ct,Tt){return(Ct%Tt+Tt)%Tt}function qr(Ct){return Math.round(Ct*1e12)/1e12}function Yn(Ct,Tt,Lt,Ht,qt,Ut){var be=(0,y.size)(Tt),_e=(0,y.indexOf)(Tt,Ct),je=0,Te=In(Ht,Ut);return(Te<Fr||Ut-Te<Fr)&&Ht<=0&&qt>=0&&(je=1),1-_e/(be-1)-Lt+je}function hi(Ct,Tt,Lt){var Ht=(0,y.size)(Tt),qt=(0,y.indexOf)(Tt,Ct),Ut=1;return 1-qt/(Ht-1)-Lt+Ut}function Zn(Ct,Tt,Lt,Ht,qt,Ut){var be=(Ct-1)/(Ut-qt),_e=(Tt-1)/(Math.max(Ut,Ht)-Math.min(Lt,qt));return 2-Math.max(be/_e,_e/be)}function Ii(Ct,Tt){return Ct>=Tt?2-(Ct-1)/(Tt-1):1}function Gi(Ct,Tt,Lt,Ht){var qt=Tt-Ct;return 1-.5*(Math.pow(Tt-Ht,2)+Math.pow(Ct-Lt,2))/Math.pow(.1*qt,2)}function _r(Ct,Tt,Lt){var Ht=Tt-Ct;if(Lt>Ht){var qt=(Lt-Ht)/2;return 1-Math.pow(qt,2)/Math.pow(.1*Ht,2)}return 1}function ci(){return 1}function Si(Ct,Tt,Lt,Ht,qt,Ut){Lt===void 0&&(Lt=5),Ht===void 0&&(Ht=!0),qt===void 0&&(qt=Ir),Ut===void 0&&(Ut=[.25,.2,.5,.05]);var be=Lt<0?0:Math.round(Lt);if(Number.isNaN(Ct)||Number.isNaN(Tt)||typeof Ct!="number"||typeof Tt!="number"||!be)return{min:0,max:0,ticks:[]};if(Tt-Ct<1e-15||be===1)return{min:Ct,max:Tt,ticks:[Ct]};if(Tt-Ct>1e148){var _e=Lt||5,je=(Tt-Ct)/_e;return{min:Ct,max:Tt,ticks:Array(_e).fill(null).map(function(qi,Ea){return xr(Ct+je*Ea)})}}for(var Te={score:-2,lmin:0,lmax:0,lstep:0},Le=1;Le<Infinity;){for(var Fe=0;Fe<qt.length;Fe+=1){var ir=qt[Fe],Or=hi(ir,qt,Le);if(Ut[0]*Or+Ut[1]+Ut[2]+Ut[3]<Te.score){Le=Infinity;break}for(var Tr=2;Tr<Infinity;){var jr=Ii(Tr,be);if(Ut[0]*Or+Ut[1]+Ut[2]*jr+Ut[3]<Te.score)break;for(var fn=(Tt-Ct)/(Tr+1)/Le/ir,jn=Math.ceil(Math.log10(fn));jn<Infinity;){var Rn=Le*ir*Math.pow(10,jn),Ui=_r(Ct,Tt,Rn*(Tr-1));if(Ut[0]*Or+Ut[1]*Ui+Ut[2]*jr+Ut[3]<Te.score)break;var vi=Math.floor(Tt/Rn)*Le-(Tr-1)*Le,Ci=Math.ceil(Ct/Rn)*Le;if(vi<=Ci)for(var _e=Ci-vi,Di=0;Di<=_e;Di+=1){var an=vi+Di,ri=an*(Rn/Le),ni=ri+Rn*(Tr-1),Hn=Rn,na=Yn(ir,qt,Le,ri,ni,Hn),ii=Gi(Ct,Tt,ri,ni),va=Zn(Tr,be,Ct,Tt,ri,ni),Ma=ci(),ia=Ut[0]*na+Ut[1]*ii+Ut[2]*va+Ut[3]*Ma;ia>Te.score&&(!Ht||ri<=Ct&&ni>=Tt)&&(Te.lmin=ri,Te.lmax=ni,Te.lstep=Hn,Te.score=ia)}jn+=1}Tr+=1}}Le+=1}var di=xr(Te.lmax),aa=xr(Te.lmin),Mi=xr(Te.lstep),Kn=Math.floor(qr((di-aa)/Mi))+1,Ei=new Array(Kn);Ei[0]=xr(aa);for(var Fe=1;Fe<Kn;Fe++)Ei[Fe]=xr(Ei[Fe-1]+Mi);return{min:Math.min(Ct,(0,y.head)(Ei)),max:Math.max(Tt,(0,y.last)(Ei)),ticks:Ei}}function ei(Ct){var Tt=Ct.min,Lt=Ct.max,Ht=Ct.tickCount,qt=Ct.nice,Ut=Ct.tickInterval,be=Ct.minLimit,_e=Ct.maxLimit,je=Si(Tt,Lt,Ht,qt).ticks;return!(0,y.isNil)(be)||!(0,y.isNil)(_e)?mr(Ct,(0,y.head)(je),(0,y.last)(je)):Ut?tr(Tt,Lt,Ut).ticks:je}function mn(Ct){var Tt=Ct.base,Lt=Ct.tickCount,Ht=Ct.min,qt=Ct.max,Ut=Ct.values,be,_e=zt(Tt,qt);if(Ht>0)be=Math.floor(zt(Tt,Ht));else{var je=ne(Ut,Tt,qt);be=Math.floor(zt(Tt,je))}for(var Te=_e-be,Le=Math.ceil(Te/Lt),Fe=[],ir=be;ir<_e+Le;ir=ir+Le)Fe.push(Math.pow(Tt,ir));return Ht<=0&&Fe.unshift(0),Fe}function Jn(Ct,Tt,Lt){if(Lt===void 0&&(Lt=5),Ct===Tt)return{max:Tt,min:Ct,ticks:[Ct]};var Ht=Lt<0?0:Math.round(Lt);if(Ht===0)return{max:Tt,min:Ct,ticks:[]};var qt=1.5,Ut=.5+1.5*qt,be=Tt-Ct,_e=be/Ht,je=Math.pow(10,Math.floor(Math.log10(_e))),Te=je;2*je-_e<qt*(_e-Te)&&(Te=2*je,5*je-_e<Ut*(_e-Te)&&(Te=5*je,10*je-_e<qt*(_e-Te)&&(Te=10*je)));for(var Le=Math.ceil(Tt/Te),Fe=Math.floor(Ct/Te),ir=Math.max(Le*Te,Tt),Or=Math.min(Fe*Te,Ct),Tr=Math.floor((ir-Or)/Te)+1,jr=new Array(Tr),fn=0;fn<Tr;fn++)jr[fn]=xr(Or+fn*Te);return{min:Or,max:ir,ticks:jr}}function ji(Ct){var Tt=Ct.exponent,Lt=Ct.tickCount,Ht=Math.ceil(kt(Tt,Ct.max)),qt=Math.floor(kt(Tt,Ct.min)),Ut=Jn(qt,Ht,Lt).ticks;return Ut.map(function(be){var _e=be>=0?1:-1;return Math.pow(be,Tt)*_e})}function ki(Ct,Tt){var Lt=Ct.length*Tt;return Tt===1?Ct[Ct.length-1]:Tt===0?Ct[0]:Lt%1!=0?Ct[Math.ceil(Lt)-1]:Ct.length%2==0?(Ct[Lt-1]+Ct[Lt])/2:Ct[Lt]}function Bi(Ct){var Tt=Ct.tickCount,Lt=Ct.values;if(!Lt||!Lt.length)return[];for(var Ht=Lt.slice().sort(function(_e,je){return _e-je}),qt=[],Ut=0;Ut<Tt;Ut++){var be=Ut/(Tt-1);qt.push(ki(Ht,be))}return qt}function Vn(Ct){var Tt=Ct.min,Lt=Ct.max,Ht=Ct.tickCount,qt=Ct.tickInterval,Ut=Ct.minLimit,be=Ct.maxLimit,_e=Jn(Tt,Lt,Ht).ticks;return!(0,y.isNil)(Ut)||!(0,y.isNil)(be)?mr(Ct,(0,y.head)(_e),(0,y.last)(_e)):qt?tr(Tt,Lt,qt).ticks:_e}function Ji(Ct){var Tt=Ct.min,Lt=Ct.max,Ht=Ct.minTickInterval,qt=Ct.tickInterval,Ut=Ct.tickCount;if(qt)Ut=Math.ceil((Lt-Tt)/qt);else{qt=at(Tt,Lt,Ut)[1];var be=(Lt-Tt)/qt,_e=be/Ut;_e>1&&(qt=qt*Math.ceil(_e)),Ht&&qt<Ht&&(qt=Ht)}qt=Math.max(Math.floor((Lt-Tt)/(Math.pow(2,12)-1)),qt);for(var je=[],Te=Tt;Te<Lt+qt;Te+=qt)je.push(Te);return je}function ca(Ct){var Tt=Ie(p({showLast:!0},Ct));return Tt}function Nt(Ct){return new Date(Ct).getFullYear()}function Mt(Ct){return new Date(Ct,0,1).getTime()}function dt(Ct){return new Date(Ct).getMonth()}function yt(Ct,Tt){var Lt=Nt(Ct),Ht=Nt(Tt),qt=dt(Ct),Ut=dt(Tt);return(Ht-Lt)*12+(Ut-qt)%12}function Vt(Ct,Tt){return new Date(Ct,Tt,1).getTime()}function re(Ct,Tt){return Math.ceil((Tt-Ct)/K)}function ve(Ct,Tt){return Math.ceil((Tt-Ct)/st)}function ye(Ct,Tt){return Math.ceil((Tt-Ct)/(60*1e3))}function me(Ct){var Tt=Ct.min,Lt=Ct.max,Ht=Ct.minTickInterval,qt=Ct.tickCount,Ut=Ct.tickInterval,be=[];Ut||(Ut=(Lt-Tt)/qt,Ht&&Ut<Ht&&(Ut=Ht)),Ut=Math.max(Math.floor((Lt-Tt)/(Math.pow(2,12)-1)),Ut);var _e=Nt(Tt);if(Ut>U)for(var je=Nt(Lt),Te=Math.ceil(Ut/U),Le=_e;Le<=je+Te;Le=Le+Te)be.push(Mt(Le));else if(Ut>tt)for(var Fe=Math.ceil(Ut/tt),ir=dt(Tt),Or=yt(Tt,Lt),Le=0;Le<=Or+Fe;Le=Le+Fe)be.push(Vt(_e,Le+ir));else if(Ut>K)for(var Tr=new Date(Tt),jr=Tr.getFullYear(),fn=Tr.getMonth(),jn=Tr.getDate(),Rn=Math.ceil(Ut/K),Ui=re(Tt,Lt),Le=0;Le<Ui+Rn;Le=Le+Rn)be.push(new Date(jr,fn,jn+Le).getTime());else if(Ut>st)for(var Tr=new Date(Tt),jr=Tr.getFullYear(),fn=Tr.getMonth(),Rn=Tr.getDate(),vi=Tr.getHours(),Ci=Math.ceil(Ut/st),Di=ve(Tt,Lt),Le=0;Le<=Di+Ci;Le=Le+Ci)be.push(new Date(jr,fn,Rn,vi+Le).getTime());else if(Ut>wt)for(var an=ye(Tt,Lt),ri=Math.ceil(Ut/wt),Le=0;Le<=an+ri;Le=Le+ri)be.push(Tt+Le*wt);else{var ni=Ut;ni<ot&&(ni=ot);for(var Hn=Math.floor(Tt/ot)*ot,na=Math.ceil((Lt-Tt)/ot),ii=Math.ceil(ni/ot),Le=0;Le<na+ii;Le=Le+ii)be.push(Hn+Le*ot)}return be.length>=512&&console.warn("Notice: current ticks length("+be.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+Ut+") is too small, increase the value to solve the problem!"),be}O("cat",Ie),O("time-cat",ca),O("wilkinson-extended",ei),O("r-pretty",Vn),O("time",Ji),O("time-pretty",me),O("log",mn),O("pow",ji),O("quantile",Bi),O("d3-linear",kr),we("cat",nt),we("category",nt),we("identity",Oe),we("linear",Zt),we("log",ze),we("pow",yr),we("time",nn),we("timeCat",Ft),we("quantize",yn),we("quantile",ee)},49242:function(gt,S,d){"use strict";d.r(S),d.d(S,{Cache:function(){return Kr},assign:function(){return Mi},augment:function(){return Ei},clamp:function(){return rr},clearAnimationFrame:function(){return di},clone:function(){return Ea},contains:function(){return O},debounce:function(){return os},deepMix:function(){return $a},difference:function(){return E},each:function(){return V},endsWith:function(){return ze},every:function(){return yr},extend:function(){return ss},filter:function(){return _},find:function(){return Dt},findIndex:function(){return _t},firstValue:function(){return z},fixedBase:function(){return ar},flatten:function(){return F},flattenDeep:function(){return u},forIn:function(){return Nt},get:function(){return Y},getEllipsisText:function(){return Zr},getRange:function(){return mt},getType:function(){return Le},getWrapBehavior:function(){return we},group:function(){return se},groupBy:function(){return jt},groupToMap:function(){return ee},has:function(){return Mt},hasKey:function(){return dt},hasValue:function(){return re},head:function(){return zt},identity:function(){return Ye},includes:function(){return O},indexOf:function(){return ko},isArguments:function(){return ir},isArray:function(){return P},isArrayLike:function(){return L},isBoolean:function(){return Tr},isDate:function(){return fn},isDecimal:function(){return kr},isElement:function(){return Ma},isEmpty:function(){return us},isEqual:function(){return bn},isEqualWith:function(){return Bo},isError:function(){return Rn},isEven:function(){return Ir},isFinite:function(){return Ui},isFunction:function(){return b},isInteger:function(){return Fr},isMatch:function(){return lt},isNegative:function(){return qr},isNil:function(){return M},isNull:function(){return Ci},isNumber:function(){return tr},isNumberEqual:function(){return hi},isObject:function(){return k},isObjectLike:function(){return bt},isOdd:function(){return Ii},isPlainObject:function(){return Bt},isPositive:function(){return _r},isPrototype:function(){return ri},isRegExp:function(){return Hn},isString:function(){return vt},isType:function(){return g},isUndefined:function(){return ii},keys:function(){return Z},last:function(){return ne},lowerCase:function(){return me},lowerFirst:function(){return Tt},map:function(){return Na},mapValues:function(){return pt},max:function(){return W},maxBy:function(){return ci},measureTextWidth:function(){return wr},memoize:function(){return Lo},min:function(){return it},minBy:function(){return Si},mix:function(){return Mi},mod:function(){return mn},noop:function(){return Ae},number2color:function(){return Ze},omit:function(){return Gt},parseRadius:function(){return qe},pick:function(){return St},pull:function(){return ot},pullAt:function(){return K},reduce:function(){return U},remove:function(){return at},requestAnimationFrame:function(){return ia},set:function(){return Q},size:function(){return Ue},some:function(){return nn},sortBy:function(){return Jt},startsWith:function(){return Ce},substitute:function(){return Ht},throttle:function(){return $t},toArray:function(){return oe},toDegree:function(){return ki},toInteger:function(){return Bi},toRadian:function(){return ca},toString:function(){return ve},union:function(){return Zt},uniq:function(){return le},uniqueId:function(){return Se},upperCase:function(){return Ut},upperFirst:function(){return _e},values:function(){return Vt},valuesOfKey:function(){return kt},wrapBehavior:function(){return Oe}});var y=function(Rt){return Rt!==null&&typeof Rt!="function"&&isFinite(Rt.length)},L=y,I=function(Rt,ie){return L(Rt)?Rt.indexOf(ie)>-1:!1},O=I,T=function(Rt,ie){if(!L(Rt))return Rt;for(var pe=[],Me=0;Me<Rt.length;Me++){var Ne=Rt[Me];ie(Ne,Me)&&pe.push(Ne)}return pe},_=T,C=function(Rt,ie){return ie===void 0&&(ie=[]),_(Rt,function(pe){return!O(ie,pe)})},E=C,p={}.toString,w=function(Rt,ie){return p.call(Rt)==="[object "+ie+"]"},g=w,b=function(Rt){return g(Rt,"Function")},m=function(Rt){return Rt==null},M=m,P=function(Rt){return Array.isArray?Array.isArray(Rt):g(Rt,"Array")},k=function(Rt){var ie=typeof Rt;return Rt!==null&&ie==="object"||ie==="function"};function N(Rt,ie){if(!!Rt){var pe;if(P(Rt))for(var Me=0,Ne=Rt.length;Me<Ne&&(pe=ie(Rt[Me],Me),pe!==!1);Me++);else if(k(Rt)){for(var nr in Rt)if(Rt.hasOwnProperty(nr)&&(pe=ie(Rt[nr],nr),pe===!1))break}}}var V=N,$=Object.keys?function(Rt){return Object.keys(Rt)}:function(Rt){var ie=[];return V(Rt,function(pe,Me){b(Rt)&&Me==="prototype"||ie.push(Me)}),ie},Z=$;function J(Rt,ie){var pe=Z(ie),Me=pe.length;if(M(Rt))return!Me;for(var Ne=0;Ne<Me;Ne+=1){var nr=pe[Ne];if(ie[nr]!==Rt[nr]||!(nr in Rt))return!1}return!0}var lt=J,rt=function(Rt){return typeof Rt=="object"&&Rt!==null},bt=rt,Ot=function(Rt){if(!bt(Rt)||!g(Rt,"Object"))return!1;if(Object.getPrototypeOf(Rt)===null)return!0;for(var ie=Rt;Object.getPrototypeOf(ie)!==null;)ie=Object.getPrototypeOf(ie);return Object.getPrototypeOf(Rt)===ie},Bt=Ot;function Et(Rt,ie){if(!P(Rt))return null;var pe;if(b(ie)&&(pe=ie),Bt(ie)&&(pe=function(Ne){return lt(Ne,ie)}),pe){for(var Me=0;Me<Rt.length;Me+=1)if(pe(Rt[Me]))return Rt[Me]}return null}var Dt=Et;function It(Rt,ie,pe){pe===void 0&&(pe=0);for(var Me=pe;Me<Rt.length;Me++)if(ie(Rt[Me],Me))return Me;return-1}var _t=It,Xt=function(Rt,ie){for(var pe=null,Me=0;Me<Rt.length;Me++){var Ne=Rt[Me],nr=Ne[ie];if(!M(nr)){P(nr)?pe=nr[0]:pe=nr;break}}return pe},z=Xt,R=function(Rt){if(!P(Rt))return[];for(var ie=[],pe=0;pe<Rt.length;pe++)ie=ie.concat(Rt[pe]);return ie},F=R,D=function(Rt,ie){if(ie===void 0&&(ie=[]),!P(Rt))ie.push(Rt);else for(var pe=0;pe<Rt.length;pe+=1)D(Rt[pe],ie);return ie},u=D,W=function(Rt){if(!!P(Rt))return Rt.reduce(function(ie,pe){return Math.max(ie,pe)},Rt[0])},it=function(Rt){if(!!P(Rt))return Rt.reduce(function(ie,pe){return Math.min(ie,pe)},Rt[0])},nt=function(Rt){var ie=Rt.filter(function(Lr){return!isNaN(Lr)});if(!ie.length)return{min:0,max:0};if(P(Rt[0])){for(var pe=[],Me=0;Me<Rt.length;Me++)pe=pe.concat(Rt[Me]);ie=pe}var Ne=W(ie),nr=it(ie);return{min:nr,max:Ne}},mt=nt,et=Array.prototype,ct=et.splice,Pt=et.indexOf,At=function(Rt){for(var ie=[],pe=1;pe<arguments.length;pe++)ie[pe-1]=arguments[pe];for(var Me=0;Me<ie.length;Me++)for(var Ne=ie[Me],nr=-1;(nr=Pt.call(Rt,Ne))>-1;)ct.call(Rt,nr,1);return Rt},ot=At,wt=Array.prototype.splice,st=function(ie,pe){if(!L(ie))return[];for(var Me=ie?pe.length:0,Ne=Me-1;Me--;){var nr=void 0,Lr=pe[Me];(Me===Ne||Lr!==nr)&&(nr=Lr,wt.call(ie,Lr,1))}return ie},K=st,tt=function(Rt,ie,pe){if(!P(Rt)&&!Bt(Rt))return Rt;var Me=pe;return V(Rt,function(Ne,nr){Me=ie(Me,Ne,nr)}),Me},U=tt,j=function(Rt,ie){var pe=[];if(!L(Rt))return pe;for(var Me=-1,Ne=[],nr=Rt.length;++Me<nr;){var Lr=Rt[Me];ie(Lr,Me,Rt)&&(pe.push(Lr),Ne.push(Me))}return K(Rt,Ne),pe},at=j,vt=function(Rt){return g(Rt,"String")};function Ft(Rt,ie){var pe;if(b(ie))pe=function(Ne,nr){return ie(Ne)-ie(nr)};else{var Me=[];vt(ie)?Me.push(ie):P(ie)&&(Me=ie),pe=function(Ne,nr){for(var Lr=0;Lr<Me.length;Lr+=1){var hn=Me[Lr];if(Ne[hn]>nr[hn])return 1;if(Ne[hn]<nr[hn])return-1}return 0}}return Rt.sort(pe),Rt}var Jt=Ft;function le(Rt,ie){ie===void 0&&(ie=new Map);var pe=[];if(Array.isArray(Rt))for(var Me=0,Ne=Rt.length;Me<Ne;Me++){var nr=Rt[Me];ie.has(nr)||(pe.push(nr),ie.set(nr,!0))}return pe}var ge=function(){for(var Rt=[],ie=0;ie<arguments.length;ie++)Rt[ie]=arguments[ie];return le([].concat.apply([],Rt))},Zt=ge,kt=function(Rt,ie){for(var pe=[],Me={},Ne=0;Ne<Rt.length;Ne++){var nr=Rt[Ne],Lr=nr[ie];if(!M(Lr)){P(Lr)||(Lr=[Lr]);for(var hn=0;hn<Lr.length;hn++){var ai=Lr[hn];Me[ai]||(pe.push(ai),Me[ai]=!0)}}}return pe};function zt(Rt){if(L(Rt))return Rt[0]}function ne(Rt){if(L(Rt)){var ie=Rt;return ie[ie.length-1]}}function de(Rt,ie){return P(Rt)||vt(Rt)?Rt[0]===ie:!1}var Ce=de;function De(Rt,ie){return P(Rt)||vt(Rt)?Rt[Rt.length-1]===ie:!1}var ze=De,er=function(Rt,ie){for(var pe=0;pe<Rt.length;pe++)if(!ie(Rt[pe],pe))return!1;return!0},yr=er,tn=function(Rt,ie){for(var pe=0;pe<Rt.length;pe++)if(ie(Rt[pe],pe))return!0;return!1},nn=tn,gn=Object.prototype.hasOwnProperty;function yn(Rt,ie){if(!ie||!P(Rt))return{};for(var pe={},Me=b(ie)?ie:function(hn){return hn[ie]},Ne,nr=0;nr<Rt.length;nr++){var Lr=Rt[nr];Ne=Me(Lr),gn.call(pe,Ne)?pe[Ne].push(Lr):pe[Ne]=[Lr]}return pe}var jt=yn;function ee(Rt,ie){if(!ie)return{0:Rt};if(!b(ie)){var pe=P(ie)?ie:ie.replace(/\s+/g,"").split("*");ie=function(Me){for(var Ne="_",nr=0,Lr=pe.length;nr<Lr;nr++)Ne+=Me[pe[nr]]&&Me[pe[nr]].toString();return Ne}}return jt(Rt,ie)}var se=function(Rt,ie){if(!ie)return[Rt];var pe=ee(Rt,ie),Me=[];for(var Ne in pe)Me.push(pe[Ne]);return Me};function fe(Rt,ie){return Rt["_wrap_"+ie]}var we=fe;function Ee(Rt,ie){if(Rt["_wrap_"+ie])return Rt["_wrap_"+ie];var pe=function(Me){Rt[ie](Me)};return Rt["_wrap_"+ie]=pe,pe}var Oe=Ee,Ie={};function xe(Rt){var ie=Ie[Rt];if(!ie){for(var pe=Rt.toString(16),Me=pe.length;Me<6;Me++)pe="0"+pe;ie="#"+pe,Ie[Rt]=ie}return ie}var Ze=xe;function Ge(Rt){var ie=0,pe=0,Me=0,Ne=0;return P(Rt)?Rt.length===1?ie=pe=Me=Ne=Rt[0]:Rt.length===2?(ie=Me=Rt[0],pe=Ne=Rt[1]):Rt.length===3?(ie=Rt[0],pe=Ne=Rt[1],Me=Rt[2]):(ie=Rt[0],pe=Rt[1],Me=Rt[2],Ne=Rt[3]):ie=pe=Me=Ne=Rt,{r1:ie,r2:pe,r3:Me,r4:Ne}}var qe=Ge,or=function(Rt,ie,pe){return Rt<ie?ie:Rt>pe?pe:Rt},rr=or,ur=function(Rt,ie){var pe=ie.toString(),Me=pe.indexOf(".");if(Me===-1)return Math.round(Rt);var Ne=pe.substr(Me+1).length;return Ne>20&&(Ne=20),parseFloat(Rt.toFixed(Ne))},ar=ur,pr=function(Rt){return g(Rt,"Number")},tr=pr,mr=function(Rt){return tr(Rt)&&Rt%1!=0},kr=mr,xr=function(Rt){return tr(Rt)&&Rt%2==0},Ir=xr,Hr=Number.isInteger?Number.isInteger:function(Rt){return tr(Rt)&&Rt%1==0},Fr=Hr,In=function(Rt){return tr(Rt)&&Rt<0},qr=In,Yn=1e-5;function hi(Rt,ie,pe){return pe===void 0&&(pe=Yn),Math.abs(Rt-ie)<pe}var Zn=function(Rt){return tr(Rt)&&Rt%2!=0},Ii=Zn,Gi=function(Rt){return tr(Rt)&&Rt>0},_r=Gi,ci=function(Rt,ie){if(!!P(Rt)){for(var pe,Me=-Infinity,Ne=0;Ne<Rt.length;Ne++){var nr=Rt[Ne],Lr=b(ie)?ie(nr):nr[ie];Lr>Me&&(pe=nr,Me=Lr)}return pe}},Si=function(Rt,ie){if(!!P(Rt)){for(var pe,Me=Infinity,Ne=0;Ne<Rt.length;Ne++){var nr=Rt[Ne],Lr=b(ie)?ie(nr):nr[ie];Lr<Me&&(pe=nr,Me=Lr)}return pe}},ei=function(Rt,ie){return(Rt%ie+ie)%ie},mn=ei,Jn=180/Math.PI,ji=function(Rt){return Jn*Rt},ki=ji,Bi=parseInt,Vn=Math.PI/180,Ji=function(Rt){return Vn*Rt},ca=Ji,Nt=V,Mt=function(Rt,ie){return Rt.hasOwnProperty(ie)},dt=Mt,yt=Object.values?function(Rt){return Object.values(Rt)}:function(Rt){var ie=[];return V(Rt,function(pe,Me){b(Rt)&&Me==="prototype"||ie.push(pe)}),ie},Vt=yt,re=function(Rt,ie){return O(Vt(Rt),ie)},ve=function(Rt){return M(Rt)?"":Rt.toString()},ye=function(Rt){return ve(Rt).toLowerCase()},me=ye,Ct=function(Rt){var ie=ve(Rt);return ie.charAt(0).toLowerCase()+ie.substring(1)},Tt=Ct;function Lt(Rt,ie){return!Rt||!ie?Rt:Rt.replace(/\\?\{([^{}]+)\}/g,function(pe,Me){return pe.charAt(0)==="\\"?pe.slice(1):ie[Me]===void 0?"":ie[Me]})}var Ht=Lt,qt=function(Rt){return ve(Rt).toUpperCase()},Ut=qt,be=function(Rt){var ie=ve(Rt);return ie.charAt(0).toUpperCase()+ie.substring(1)},_e=be,je={}.toString,Te=function(Rt){return je.call(Rt).replace(/^\[object /,"").replace(/]$/,"")},Le=Te,Fe=function(Rt){return g(Rt,"Arguments")},ir=Fe,Or=function(Rt){return g(Rt,"Boolean")},Tr=Or,jr=function(Rt){return g(Rt,"Date")},fn=jr,jn=function(Rt){return g(Rt,"Error")},Rn=jn;function Ui(Rt){return tr(Rt)&&isFinite(Rt)}var vi=function(Rt){return Rt===null},Ci=vi,Di=Object.prototype,an=function(Rt){var ie=Rt&&Rt.constructor,pe=typeof ie=="function"&&ie.prototype||Di;return Rt===pe},ri=an,ni=function(Rt){return g(Rt,"RegExp")},Hn=ni,na=function(Rt){return Rt===void 0},ii=na,va=function(Rt){return Rt instanceof Element||Rt instanceof HTMLDocument},Ma=va;function ia(Rt){var ie=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(pe){return setTimeout(pe,16)};return ie(Rt)}function di(Rt){var ie=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;ie(Rt)}function aa(Rt,ie){for(var pe in ie)ie.hasOwnProperty(pe)&&pe!=="constructor"&&ie[pe]!==void 0&&(Rt[pe]=ie[pe])}function Mi(Rt,ie,pe,Me){return ie&&aa(Rt,ie),pe&&aa(Rt,pe),Me&&aa(Rt,Me),Rt}var Kn=function(){for(var Rt=[],ie=0;ie<arguments.length;ie++)Rt[ie]=arguments[ie];for(var pe=Rt[0],Me=1;Me<Rt.length;Me++){var Ne=Rt[Me];b(Ne)&&(Ne=Ne.prototype),Mi(pe.prototype,Ne)}},Ei=Kn,qi=function(Rt){if(typeof Rt!="object"||Rt===null)return Rt;var ie;if(P(Rt)){ie=[];for(var pe=0,Me=Rt.length;pe<Me;pe++)typeof Rt[pe]=="object"&&Rt[pe]!=null?ie[pe]=qi(Rt[pe]):ie[pe]=Rt[pe]}else{ie={};for(var Ne in Rt)typeof Rt[Ne]=="object"&&Rt[Ne]!=null?ie[Ne]=qi(Rt[Ne]):ie[Ne]=Rt[Ne]}return ie},Ea=qi;function _a(Rt,ie,pe){var Me;return function(){var Ne=this,nr=arguments,Lr=function(){Me=null,pe||Rt.apply(Ne,nr)},hn=pe&&!Me;clearTimeout(Me),Me=setTimeout(Lr,ie),hn&&Rt.apply(Ne,nr)}}var os=_a,Lo=function(Rt,ie){if(!b(Rt))throw new TypeError("Expected a function");var pe=function(){for(var Me=[],Ne=0;Ne<arguments.length;Ne++)Me[Ne]=arguments[Ne];var nr=ie?ie.apply(this,Me):Me[0],Lr=pe.cache;if(Lr.has(nr))return Lr.get(nr);var hn=Rt.apply(this,Me);return Lr.set(nr,hn),hn};return pe.cache=new Map,pe},Hs=5;function ho(Rt,ie,pe,Me){pe=pe||0,Me=Me||Hs;for(var Ne in ie)if(ie.hasOwnProperty(Ne)){var nr=ie[Ne];nr!==null&&Bt(nr)?(Bt(Rt[Ne])||(Rt[Ne]={}),pe<Me?ho(Rt[Ne],nr,pe+1,Me):Rt[Ne]=ie[Ne]):P(nr)?(Rt[Ne]=[],Rt[Ne]=Rt[Ne].concat(nr)):nr!==void 0&&(Rt[Ne]=nr)}}var Io=function(Rt){for(var ie=[],pe=1;pe<arguments.length;pe++)ie[pe-1]=arguments[pe];for(var Me=0;Me<ie.length;Me+=1)ho(Rt,ie[Me]);return Rt},$a=Io,_i=function(Rt,ie,pe,Me){b(ie)||(pe=ie,ie=Rt,Rt=function(){});var Ne=Object.create?function(Lr,hn){return Object.create(Lr,{constructor:{value:hn}})}:function(Lr,hn){function ai(){}ai.prototype=Lr;var Zi=new ai;return Zi.constructor=hn,Zi},nr=Ne(ie.prototype,Rt);return Rt.prototype=Mi(nr,Rt.prototype),Rt.superclass=Ne(ie.prototype,ie),Mi(nr,pe),Mi(Rt,Me),Rt},ss=_i,ls=function(Rt,ie){if(!L(Rt))return-1;var pe=Array.prototype.indexOf;if(pe)return pe.call(Rt,ie);for(var Me=-1,Ne=0;Ne<Rt.length;Ne++)if(Rt[Ne]===ie){Me=Ne;break}return Me},ko=ls,co=Object.prototype.hasOwnProperty;function wn(Rt){if(M(Rt))return!0;if(L(Rt))return!Rt.length;var ie=Le(Rt);if(ie==="Map"||ie==="Set")return!Rt.size;if(ri(Rt))return!Object.keys(Rt).length;for(var pe in Rt)if(co.call(Rt,pe))return!1;return!0}var us=wn,pi=function(Rt,ie){if(Rt===ie)return!0;if(!Rt||!ie||vt(Rt)||vt(ie))return!1;if(L(Rt)||L(ie)){if(Rt.length!==ie.length)return!1;for(var pe=!0,Me=0;Me<Rt.length&&(pe=pi(Rt[Me],ie[Me]),!!pe);Me++);return pe}if(bt(Rt)||bt(ie)){var Ne=Object.keys(Rt),nr=Object.keys(ie);if(Ne.length!==nr.length)return!1;for(var pe=!0,Me=0;Me<Ne.length&&(pe=pi(Rt[Ne[Me]],ie[Ne[Me]]),!!pe);Me++);return pe}return!1},bn=pi,Bo=function(Rt,ie,pe){return b(pe)?!!pe(Rt,ie):bn(Rt,ie)},vn=function(Rt,ie){if(!L(Rt))return Rt;for(var pe=[],Me=0;Me<Rt.length;Me++){var Ne=Rt[Me];pe.push(ie(Ne,Me))}return pe},Na=vn,Qt=function(Rt){return Rt},pt=function(Rt,ie){ie===void 0&&(ie=Qt);var pe={};return k(Rt)&&!M(Rt)&&Object.keys(Rt).forEach(function(Me){pe[Me]=ie(Rt[Me],Me)}),pe},Y=function(Rt,ie,pe){for(var Me=0,Ne=vt(ie)?ie.split("."):ie;Rt&&Me<Ne.length;)Rt=Rt[Ne[Me++]];return Rt===void 0||Me<Ne.length?pe:Rt},Q=function(Rt,ie,pe){var Me=Rt,Ne=vt(ie)?ie.split("."):ie;return Ne.forEach(function(nr,Lr){Lr<Ne.length-1?(k(Me[nr])||(Me[nr]=tr(Ne[Lr+1])?[]:{}),Me=Me[nr]):Me[nr]=pe}),Rt},ht=Object.prototype.hasOwnProperty,St=function(Rt,ie){if(Rt===null||!Bt(Rt))return{};var pe={};return V(ie,function(Me){ht.call(Rt,Me)&&(pe[Me]=Rt[Me])}),pe},Gt=function(Rt,ie){return U(Rt,function(pe,Me,Ne){return ie.includes(Ne)||(pe[Ne]=Me),pe},{})},$t=function(Rt,ie,pe){var Me,Ne,nr,Lr,hn=0;pe||(pe={});var ai=function(){hn=pe.leading===!1?0:Date.now(),Me=null,Lr=Rt.apply(Ne,nr),Me||(Ne=nr=null)},Zi=function(){var ta=Date.now();!hn&&pe.leading===!1&&(hn=ta);var fs=ie-(ta-hn);return Ne=this,nr=arguments,fs<=0||fs>ie?(Me&&(clearTimeout(Me),Me=null),hn=ta,Lr=Rt.apply(Ne,nr),Me||(Ne=nr=null)):!Me&&pe.trailing!==!1&&(Me=setTimeout(ai,fs)),Lr};return Zi.cancel=function(){clearTimeout(Me),hn=0,Me=Ne=nr=null},Zi},oe=function(Rt){return L(Rt)?Array.prototype.slice.call(Rt):[]},ue={},Se=function(Rt){return Rt=Rt||"g",ue[Rt]?ue[Rt]+=1:ue[Rt]=1,Rt+ue[Rt]},Ae=function(){},Ye=function(Rt){return Rt};function Ue(Rt){return M(Rt)?0:L(Rt)?Rt.length:Object.keys(Rt).length}var fr=d(37067),Ar,wr=Lo(function(Rt,ie){ie===void 0&&(ie={});var pe=ie.fontSize,Me=ie.fontFamily,Ne=ie.fontWeight,nr=ie.fontStyle,Lr=ie.fontVariant;return Ar||(Ar=document.createElement("canvas").getContext("2d")),Ar.font=[nr,Lr,Ne,pe+"px",Me].join(" "),Ar.measureText(vt(Rt)?Rt:"").width},function(Rt,ie){return ie===void 0&&(ie={}),(0,fr.__spreadArrays)([Rt],Vt(ie)).join("")}),Zr=function(Rt,ie,pe,Me){Me===void 0&&(Me="...");var Ne=16,nr=wr(Me,pe),Lr=vt(Rt)?Rt:ve(Rt),hn=ie,ai=[],Zi,ta;if(wr(Rt,pe)<=ie)return Rt;for(;Zi=Lr.substr(0,Ne),ta=wr(Zi,pe),!(ta+nr>hn&&ta>hn);)if(ai.push(Zi),hn-=ta,Lr=Lr.substr(Ne),!Lr)return ai.join("");for(;Zi=Lr.substr(0,1),ta=wr(Zi,pe),!(ta+nr>hn);)if(ai.push(Zi),hn-=ta,Lr=Lr.substr(1),!Lr)return ai.join("");return""+ai.join("")+Me},$r=function(){function Rt(){this.map={}}return Rt.prototype.has=function(ie){return this.map[ie]!==void 0},Rt.prototype.get=function(ie,pe){var Me=this.map[ie];return Me===void 0?pe:Me},Rt.prototype.set=function(ie,pe){this.map[ie]=pe},Rt.prototype.clear=function(){this.map={}},Rt.prototype.delete=function(ie){delete this.map[ie]},Rt.prototype.size=function(){return Object.keys(this.map).length},Rt}(),Kr=$r},99581:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(66974),L=d(46812),I=function(){for(var O=[],T=0;T<arguments.length;T++)O[T]=arguments[T];for(var _=O[0],C=1;C<O.length;C++){var E=O[C];L.default(E)&&(E=E.prototype),y.default(_.prototype,E)}};S.default=I},68039:function(gt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(){function y(){this.map={}}return y.prototype.has=function(L){return this.map[L]!==void 0},y.prototype.get=function(L,I){var O=this.map[L];return O===void 0?I:O},y.prototype.set=function(L,I){this.map[L]=I},y.prototype.clear=function(){this.map={}},y.prototype.delete=function(L){delete this.map[L]},y.prototype.size=function(){return Object.keys(this.map).length},y}();S.default=d},37339:function(gt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(y,L,I){return y<L?L:y>I?I:y};S.default=d},35755:function(gt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(y){var L=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;L(y)}S.default=d},8289:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(66631),L=function(I){if(typeof I!="object"||I===null)return I;var O;if(y.default(I)){O=[];for(var T=0,_=I.length;T<_;T++)typeof I[T]=="object"&&I[T]!=null?O[T]=L(I[T]):O[T]=I[T]}else{O={};for(var C in I)typeof I[C]=="object"&&I[C]!=null?O[C]=L(I[C]):O[C]=I[C]}return O};S.default=L},75349:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(48102),L=function(I,O){return y.default(I)?I.indexOf(O)>-1:!1};S.default=L},79663:function(gt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(y,L,I){var O;return function(){var T=this,_=arguments,C=function(){O=null,I||y.apply(T,_)},E=I&&!O;clearTimeout(O),O=setTimeout(C,L),E&&y.apply(T,_)}}S.default=d},90497:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(66631),L=d(15907),I=5;function O(_,C,E,p){E=E||0,p=p||I;for(var w in C)if(C.hasOwnProperty(w)){var g=C[w];g!==null&&L.default(g)?(L.default(_[w])||(_[w]={}),E<p?O(_[w],g,E+1,p):_[w]=C[w]):y.default(g)?(_[w]=[],_[w]=_[w].concat(g)):g!==void 0&&(_[w]=g)}}var T=function(_){for(var C=[],E=1;E<arguments.length;E++)C[E-1]=arguments[E];for(var p=0;p<C.length;p+=1)O(_,C[p]);return _};S.default=T},25430:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(40007),L=d(75349),I=function(O,T){return T===void 0&&(T=[]),y.default(O,function(_){return!L.default(T,_)})};S.default=I},27154:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(66631),L=d(33643);function I(O,T){if(!!O){var _;if(y.default(O))for(var C=0,E=O.length;C<E&&(_=T(O[C],C),_!==!1);C++);else if(L.default(O)){for(var p in O)if(O.hasOwnProperty(p)&&(_=T(O[p],p),_===!1))break}}}S.default=I},61846:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(66631),L=d(21830);function I(O,T){return y.default(O)||L.default(O)?O[O.length-1]===T:!1}S.default=I},8153:function(gt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(y,L){for(var I=0;I<y.length;I++)if(!L(y[I],I))return!1;return!0};S.default=d},13829:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(66974),L=d(46812),I=function(O,T,_,C){L.default(T)||(_=T,T=O,O=function(){});var E=Object.create?function(w,g){return Object.create(w,{constructor:{value:g}})}:function(w,g){function b(){}b.prototype=w;var m=new b;return m.constructor=g,m},p=E(T.prototype,O);return O.prototype=y.default(p,O.prototype),O.superclass=E(T.prototype,T),y.default(p,_),y.default(O,C),O};S.default=I},40007:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(48102),L=function(I,O){if(!y.default(I))return I;for(var T=[],_=0;_<I.length;_++){var C=I[_];O(C,_)&&T.push(C)}return T};S.default=L},90871:function(gt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(y,L,I){I===void 0&&(I=0);for(var O=I;O<y.length;O++)if(L(y[O],O))return O;return-1}S.default=d},32114:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(46812),L=d(20253),I=d(66631),O=d(15907);function T(_,C){if(!I.default(_))return null;var E;if(y.default(C)&&(E=C),O.default(C)&&(E=function(w){return L.default(w,C)}),E){for(var p=0;p<_.length;p+=1)if(E(_[p]))return _[p]}return null}S.default=T},84521:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(73890),L=d(66631),I=function(O,T){for(var _=null,C=0;C<O.length;C++){var E=O[C],p=E[T];if(!y.default(p)){L.default(p)?_=p[0]:_=p;break}}return _};S.default=I},14266:function(gt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(y,L){var I=L.toString(),O=I.indexOf(".");if(O===-1)return Math.round(y);var T=I.substr(O+1).length;return T>20&&(T=20),parseFloat(y.toFixed(T))};S.default=d},61917:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(66631),L=function(I,O){if(O===void 0&&(O=[]),!y.default(I))O.push(I);else for(var T=0;T<I.length;T+=1)L(I[T],O);return O};S.default=L},30267:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(66631),L=function(I){if(!y.default(I))return[];for(var O=[],T=0;T<I.length;T++)O=O.concat(I[T]);return O};S.default=L},8361:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(27154);S.default=y.default},65616:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(21830),L=d(78127),I=d(13754);S.default=function(O,T,_,C){C===void 0&&(C="...");var E=16,p=I.default(C,_),w=y.default(O)?O:L.default(O),g=T,b=[],m,M;if(I.default(O,_)<=T)return O;for(;m=w.substr(0,E),M=I.default(m,_),!(M+p>g&&M>g);)if(b.push(m),g-=M,w=w.substr(E),!w)return b.join("");for(;m=w.substr(0,1),M=I.default(m,_),!(M+p>g);)if(b.push(m),g-=M,w=w.substr(1),!w)return b.join("");return""+b.join("")+C}},83236:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(66631),L=d(14705),I=d(45356),O=function(T){var _=T.filter(function(g){return!isNaN(g)});if(!_.length)return{min:0,max:0};if(y.default(T[0])){for(var C=[],E=0;E<T.length;E++)C=C.concat(T[E]);_=C}var p=L.default(_),w=I.default(_);return{min:w,max:p}};S.default=O},89175:function(gt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d={}.toString,y=function(L){return d.call(L).replace(/^\[object /,"").replace(/]$/,"")};S.default=y},71668:function(gt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(y,L){return y["_wrap_"+L]}S.default=d},58070:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(21830);S.default=function(L,I,O){for(var T=0,_=y.default(I)?I.split("."):I;L&&T<_.length;)L=L[_[T++]];return L===void 0||T<_.length?O:L}},54544:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(66631),L=d(46812),I=Object.prototype.hasOwnProperty;function O(T,_){if(!_||!y.default(T))return{};for(var C={},E=L.default(_)?_:function(b){return b[_]},p,w=0;w<T.length;w++){var g=T[w];p=E(g),I.call(C,p)?C[p].push(g):C[p]=[g]}return C}S.default=O},64725:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(66631),L=d(46812),I=d(54544);function O(T,_){if(!_)return{0:T};if(!L.default(_)){var C=y.default(_)?_:_.replace(/\s+/g,"").split("*");_=function(E){for(var p="_",w=0,g=C.length;w<g;w++)p+=E[C[w]]&&E[C[w]].toString();return p}}return I.default(T,_)}S.default=O},93597:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(64725);S.default=function(L,I){if(!I)return[L];var O=y.default(L,I),T=[];for(var _ in O)T.push(O[_]);return T}},53138:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(57921);S.default=y.default},99969:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(75349),L=d(91161);S.default=function(I,O){return y.default(L.default(I),O)}},57921:function(gt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(d,y){return d.hasOwnProperty(y)}},41169:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(48102);function L(I){if(y.default(I))return I[0]}S.default=L},80870:function(gt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(d){return d}},40035:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(48102),L=function(I,O){if(!y.default(I))return-1;var T=Array.prototype.indexOf;if(T)return T.call(I,O);for(var _=-1,C=0;C<I.length;C++)if(I[C]===O){_=C;break}return _};S.default=L},50229:function(gt,S,d){"use strict";var y;y={value:!0};var L=d(75349);y={enumerable:!0,get:function(){return L.default}},y={enumerable:!0,get:function(){return L.default}};var I=d(25430);y={enumerable:!0,get:function(){return I.default}};var O=d(32114);y={enumerable:!0,get:function(){return O.default}};var T=d(90871);y={enumerable:!0,get:function(){return T.default}};var _=d(84521);y={enumerable:!0,get:function(){return _.default}};var C=d(30267);y={enumerable:!0,get:function(){return C.default}};var E=d(61917);y={enumerable:!0,get:function(){return E.default}};var p=d(83236);y={enumerable:!0,get:function(){return p.default}};var w=d(5220);y={enumerable:!0,get:function(){return w.default}};var g=d(50779);y={enumerable:!0,get:function(){return g.default}};var b=d(13847);y={enumerable:!0,get:function(){return b.default}};var m=d(89757);y={enumerable:!0,get:function(){return m.default}};var M=d(27599);y={enumerable:!0,get:function(){return M.default}};var P=d(58632);y={enumerable:!0,get:function(){return P.default}};var k=d(12619);y={enumerable:!0,get:function(){return k.default}};var N=d(29208);y={enumerable:!0,get:function(){return N.default}};var V=d(41169);y={enumerable:!0,get:function(){return V.default}};var $=d(95145);y={enumerable:!0,get:function(){return $.default}};var Z=d(680);y={enumerable:!0,get:function(){return Z.default}};var J=d(61846);y={enumerable:!0,get:function(){return J.default}};var lt=d(40007);y={enumerable:!0,get:function(){return lt.default}};var rt=d(8153);y={enumerable:!0,get:function(){return rt.default}};var bt=d(58175);y={enumerable:!0,get:function(){return bt.default}};var Ot=d(93597);y={enumerable:!0,get:function(){return Ot.default}};var Bt=d(54544);y={enumerable:!0,get:function(){return Bt.default}};var Et=d(64725);y={enumerable:!0,get:function(){return Et.default}};var Dt=d(71668);y={enumerable:!0,get:function(){return Dt.default}};var It=d(61262);Object.defineProperty(S,"Ko",{enumerable:!0,get:function(){return It.default}});var _t=d(45145);y={enumerable:!0,get:function(){return _t.default}};var Xt=d(85418);y={enumerable:!0,get:function(){return Xt.default}};var z=d(37339);y={enumerable:!0,get:function(){return z.default}};var R=d(14266);y={enumerable:!0,get:function(){return R.default}};var F=d(51008);y={enumerable:!0,get:function(){return F.default}};var D=d(45420);y={enumerable:!0,get:function(){return D.default}};var u=d(68221);y={enumerable:!0,get:function(){return u.default}};var W=d(58706);y={enumerable:!0,get:function(){return W.default}};var it=d(39984);y={enumerable:!0,get:function(){return it.default}};var nt=d(32705);y={enumerable:!0,get:function(){return nt.default}};var mt=d(75732);y={enumerable:!0,get:function(){return mt.default}};var et=d(14705);y={enumerable:!0,get:function(){return et.default}};var ct=d(38935);y={enumerable:!0,get:function(){return ct.default}};var Pt=d(45356);y={enumerable:!0,get:function(){return Pt.default}};var At=d(89857);y={enumerable:!0,get:function(){return At.default}};var ot=d(5253);y={enumerable:!0,get:function(){return ot.default}};var wt=d(2119);y={enumerable:!0,get:function(){return wt.default}};var st=d(23196);y={enumerable:!0,get:function(){return st.default}};var K=d(9217);y={enumerable:!0,get:function(){return K.default}};var tt=d(8361);y={enumerable:!0,get:function(){return tt.default}};var U=d(57921);y={enumerable:!0,get:function(){return U.default}};var j=d(53138);y={enumerable:!0,get:function(){return j.default}};var at=d(99969);y={enumerable:!0,get:function(){return at.default}};var vt=d(85050);y={enumerable:!0,get:function(){return vt.default}};var Ft=d(20253);y={enumerable:!0,get:function(){return Ft.default}};var Jt=d(91161);y={enumerable:!0,get:function(){return Jt.default}};var le=d(88362);y={enumerable:!0,get:function(){return le.default}};var ge=d(56095);y={enumerable:!0,get:function(){return ge.default}};var Zt=d(35541);y={enumerable:!0,get:function(){return Zt.default}};var kt=d(72660);y={enumerable:!0,get:function(){return kt.default}};var zt=d(85260);y={enumerable:!0,get:function(){return zt.default}};var ne=d(89175);y={enumerable:!0,get:function(){return ne.default}};var de=d(55039);y={enumerable:!0,get:function(){return de.default}};var Ce=d(66631);y={enumerable:!0,get:function(){return Ce.default}};var De=d(48102);y={enumerable:!0,get:function(){return De.default}};var ze=d(25873);y={enumerable:!0,get:function(){return ze.default}};var er=d(79396);y={enumerable:!0,get:function(){return er.default}};var yr=d(56418);y={enumerable:!0,get:function(){return yr.default}};var tn=d(46812);y={enumerable:!0,get:function(){return tn.default}};var nn=d(73420);y={enumerable:!0,get:function(){return nn.default}};var gn=d(73890);y={enumerable:!0,get:function(){return gn.default}};var yn=d(85497);y={enumerable:!0,get:function(){return yn.default}};var jt=d(16185);y={enumerable:!0,get:function(){return jt.default}};var ee=d(33643);y={enumerable:!0,get:function(){return ee.default}};var se=d(70441);y={enumerable:!0,get:function(){return se.default}};var fe=d(15907);y={enumerable:!0,get:function(){return fe.default}};var we=d(26296);y={enumerable:!0,get:function(){return we.default}};var Ee=d(7877);y={enumerable:!0,get:function(){return Ee.default}};var Oe=d(21830);Object.defineProperty(S,"HD",{enumerable:!0,get:function(){return Oe.default}});var Ie=d(44235);y={enumerable:!0,get:function(){return Ie.default}};var xe=d(25523);y={enumerable:!0,get:function(){return xe.default}};var Ze=d(58417);y={enumerable:!0,get:function(){return Ze.default}};var Ge=d(98229);y={enumerable:!0,get:function(){return Ge.default}};var qe=d(35755);y={enumerable:!0,get:function(){return qe.default}};var or=d(99581);y={enumerable:!0,get:function(){return or.default}};var rr=d(8289);Object.defineProperty(S,"d9",{enumerable:!0,get:function(){return rr.default}});var ur=d(79663);y={enumerable:!0,get:function(){return ur.default}};var ar=d(99834);y={enumerable:!0,get:function(){return ar.default}};var pr=d(90497);Object.defineProperty(S,"b$",{enumerable:!0,get:function(){return pr.default}});var tr=d(27154);Object.defineProperty(S,"S6",{enumerable:!0,get:function(){return tr.default}});var mr=d(13829);y={enumerable:!0,get:function(){return mr.default}};var kr=d(40035);y={enumerable:!0,get:function(){return kr.default}};var xr=d(64029);y={enumerable:!0,get:function(){return xr.default}};var Ir=d(212);y={enumerable:!0,get:function(){return Ir.default}};var Hr=d(18112);y={enumerable:!0,get:function(){return Hr.default}};var Fr=d(92693);y={enumerable:!0,get:function(){return Fr.default}};var In=d(53497);y={enumerable:!0,get:function(){return In.default}};var qr=d(66974);y={enumerable:!0,get:function(){return qr.default}},y={enumerable:!0,get:function(){return qr.default}};var Yn=d(58070);y={enumerable:!0,get:function(){return Yn.default}};var hi=d(64119);y={enumerable:!0,get:function(){return hi.default}};var Zn=d(24263);y={enumerable:!0,get:function(){return Zn.default}};var Ii=d(14179);y={enumerable:!0,get:function(){return Ii.default}};var Gi=d(60979);y={enumerable:!0,get:function(){return Gi.default}};var _r=d(66668);y={enumerable:!0,get:function(){return _r.default}};var ci=d(78127);y={enumerable:!0,get:function(){return ci.default}};var Si=d(67250);y={enumerable:!0,get:function(){return Si.default}};var ei=d(26851);y={enumerable:!0,get:function(){return ei.default}};var mn=d(80870);y={enumerable:!0,get:function(){return mn.default}};var Jn=d(30597);y={enumerable:!0,get:function(){return Jn.default}};var ji=d(13754);y={enumerable:!0,get:function(){return ji.default}};var ki=d(65616);y={enumerable:!0,get:function(){return ki.default}};var Bi=d(68039);y={enumerable:!0,get:function(){return Bi.default}}},55039:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(44235),L=function(I){return y.default(I,"Arguments")};S.default=L},48102:function(gt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(y){return y!==null&&typeof y!="function"&&isFinite(y.length)};S.default=d},66631:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(44235);S.default=function(L){return Array.isArray?Array.isArray(L):y.default(L,"Array")}},25873:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(44235),L=function(I){return y.default(I,"Boolean")};S.default=L},79396:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(44235),L=function(I){return y.default(I,"Date")};S.default=L},51008:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(16185),L=function(I){return y.default(I)&&I%1!=0};S.default=L},58417:function(gt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(y){return y instanceof Element||y instanceof HTMLDocument};S.default=d},64029:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(73890),L=d(48102),I=d(89175),O=d(26296),T=Object.prototype.hasOwnProperty;function _(C){if(y.default(C))return!0;if(L.default(C))return!C.length;var E=I.default(C);if(E==="Map"||E==="Set")return!C.size;if(O.default(C))return!Object.keys(C).length;for(var p in C)if(T.call(C,p))return!1;return!0}S.default=_},18112:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(46812),L=d(212);S.default=function(I,O,T){return y.default(T)?!!T(I,O):L.default(I,O)}},212:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(70441),L=d(48102),I=d(21830),O=function(T,_){if(T===_)return!0;if(!T||!_||I.default(T)||I.default(_))return!1;if(L.default(T)||L.default(_)){if(T.length!==_.length)return!1;for(var C=!0,E=0;E<T.length&&(C=O(T[E],_[E]),!!C);E++);return C}if(y.default(T)||y.default(_)){var p=Object.keys(T),w=Object.keys(_);if(p.length!==w.length)return!1;for(var C=!0,E=0;E<p.length&&(C=O(T[p[E]],_[p[E]]),!!C);E++);return C}return!1};S.default=O},56418:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(44235),L=function(I){return y.default(I,"Error")};S.default=L},45420:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(16185),L=function(I){return y.default(I)&&I%2==0};S.default=L},73420:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(16185);function L(I){return y.default(I)&&isFinite(I)}S.default=L},46812:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(44235);S.default=function(L){return y.default(L,"Function")}},68221:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(16185),L=Number.isInteger?Number.isInteger:function(I){return y.default(I)&&I%1==0};S.default=L},20253:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(73890),L=d(85050);function I(O,T){var _=L.default(T),C=_.length;if(y.default(O))return!C;for(var E=0;E<C;E+=1){var p=_[E];if(T[p]!==O[p]||!(p in O))return!1}return!0}S.default=I},58706:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(16185),L=function(I){return y.default(I)&&I<0};S.default=L},73890:function(gt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(y){return y==null};S.default=d},85497:function(gt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(y){return y===null};S.default=d},39984:function(gt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=1e-5;function y(L,I,O){return O===void 0&&(O=d),Math.abs(L-I)<O}S.default=y},16185:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(44235),L=function(I){return y.default(I,"Number")};S.default=L},70441:function(gt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(y){return typeof y=="object"&&y!==null};S.default=d},33643:function(gt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(d){var y=typeof d;return d!==null&&y==="object"||y==="function"}},32705:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(16185),L=function(I){return y.default(I)&&I%2!=0};S.default=L},15907:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(70441),L=d(44235),I=function(O){if(!y.default(O)||!L.default(O,"Object"))return!1;if(Object.getPrototypeOf(O)===null)return!0;for(var T=O;Object.getPrototypeOf(T)!==null;)T=Object.getPrototypeOf(T);return Object.getPrototypeOf(O)===T};S.default=I},75732:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(16185),L=function(I){return y.default(I)&&I>0};S.default=L},26296:function(gt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=Object.prototype,y=function(L){var I=L&&L.constructor,O=typeof I=="function"&&I.prototype||d;return L===O};S.default=y},7877:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(44235),L=function(I){return y.default(I,"RegExp")};S.default=L},21830:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(44235);S.default=function(L){return y.default(L,"String")}},44235:function(gt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d={}.toString,y=function(L,I){return d.call(L)==="[object "+I+"]"};S.default=y},25523:function(gt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(y){return y===void 0};S.default=d},85050:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(27154),L=d(46812),I=Object.keys?function(O){return Object.keys(O)}:function(O){var T=[];return y.default(O,function(_,C){L.default(O)&&C==="prototype"||T.push(C)}),T};S.default=I},95145:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(48102);function L(I){if(y.default(I)){var O=I;return O[O.length-1]}}S.default=L},88362:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(78127),L=function(I){return y.default(I).toLowerCase()};S.default=L},56095:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(78127),L=function(I){var O=y.default(I);return O.charAt(0).toLowerCase()+O.substring(1)};S.default=L},53497:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(73890),L=d(33643),I=function(O){return O};S.default=function(O,T){T===void 0&&(T=I);var _={};return L.default(O)&&!y.default(O)&&Object.keys(O).forEach(function(C){_[C]=T(O[C],C)}),_}},92693:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(48102),L=function(I,O){if(!y.default(I))return I;for(var T=[],_=0;_<I.length;_++){var C=I[_];T.push(O(C,_))}return T};S.default=L},38935:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(66631),L=d(46812);S.default=function(I,O){if(!!y.default(I)){for(var T,_=-Infinity,C=0;C<I.length;C++){var E=I[C],p=L.default(O)?O(E):E[O];p>_&&(T=E,_=p)}return T}}},14705:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(66631);S.default=function(L){if(!!y.default(L))return L.reduce(function(I,O){return Math.max(I,O)},L[0])}},13754:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(37067),L=d(91161),I=d(99834),O=d(21830),T;S.default=I.default(function(_,C){C===void 0&&(C={});var E=C.fontSize,p=C.fontFamily,w=C.fontWeight,g=C.fontStyle,b=C.fontVariant;return T||(T=document.createElement("canvas").getContext("2d")),T.font=[g,b,w,E+"px",p].join(" "),T.measureText(O.default(_)?_:"").width},function(_,C){return C===void 0&&(C={}),y.__spreadArrays([_],L.default(C)).join("")})},99834:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(46812);S.default=function(L,I){if(!y.default(L))throw new TypeError("Expected a function");var O=function(){for(var T=[],_=0;_<arguments.length;_++)T[_]=arguments[_];var C=I?I.apply(this,T):T[0],E=O.cache;if(E.has(C))return E.get(C);var p=L.apply(this,T);return E.set(C,p),p};return O.cache=new Map,O}},89857:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(66631),L=d(46812);S.default=function(I,O){if(!!y.default(I)){for(var T,_=Infinity,C=0;C<I.length;C++){var E=I[C],p=L.default(O)?O(E):E[O];p<_&&(T=E,_=p)}return T}}},45356:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(66631);S.default=function(L){if(!!y.default(L))return L.reduce(function(I,O){return Math.min(I,O)},L[0])}},66974:function(gt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(L,I){for(var O in I)I.hasOwnProperty(O)&&O!=="constructor"&&I[O]!==void 0&&(L[O]=I[O])}function y(L,I,O,T){return I&&d(L,I),O&&d(L,O),T&&d(L,T),L}S.default=y},5253:function(gt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(y,L){return(y%L+L)%L};S.default=d},26851:function(gt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(){}},45145:function(gt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d={};function y(L){var I=d[L];if(!I){for(var O=L.toString(16),T=O.length;T<6;T++)O="0"+O;I="#"+O,d[L]=I}return I}S.default=y},14179:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(13847);S.default=function(L,I){return y.default(L,function(O,T,_){return I.includes(_)||(O[_]=T),O},{})}},85418:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(66631);function L(I){var O=0,T=0,_=0,C=0;return y.default(I)?I.length===1?O=T=_=C=I[0]:I.length===2?(O=_=I[0],T=C=I[1]):I.length===3?(O=I[0],T=C=I[1],_=I[2]):(O=I[0],T=I[1],_=I[2],C=I[3]):O=T=_=C=I,{r1:O,r2:T,r3:_,r4:C}}S.default=L},24263:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(27154),L=d(15907),I=Object.prototype.hasOwnProperty;S.default=function(O,T){if(O===null||!L.default(O))return{};var _={};return y.default(T,function(C){I.call(O,C)&&(_[C]=O[C])}),_}},50779:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(48102),L=Array.prototype.splice,I=function(T,_){if(!y.default(T))return[];for(var C=T?_.length:0,E=C-1;C--;){var p=void 0,w=_[C];(C===E||w!==p)&&(p=w,L.call(T,w,1))}return T};S.default=I},5220:function(gt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=Array.prototype,y=d.splice,L=d.indexOf,I=function(O){for(var T=[],_=1;_<arguments.length;_++)T[_-1]=arguments[_];for(var C=0;C<T.length;C++)for(var E=T[C],p=-1;(p=L.call(O,E))>-1;)y.call(O,p,1);return O};S.default=I},13847:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(27154),L=d(66631),I=d(15907),O=function(T,_,C){if(!L.default(T)&&!I.default(T))return T;var E=C;return y.default(T,function(p,w){E=_(E,p,w)}),E};S.default=O},89757:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(48102),L=d(50779),I=function(O,T){var _=[];if(!y.default(O))return _;for(var C=-1,E=[],p=O.length;++C<p;){var w=O[C];T(w,C,O)&&(_.push(w),E.push(C))}return L.default(O,E),_};S.default=I},98229:function(gt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(y){var L=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(I){return setTimeout(I,16)};return L(y)}S.default=d},64119:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(33643),L=d(21830),I=d(16185);S.default=function(O,T,_){var C=O,E=L.default(T)?T.split("."):T;return E.forEach(function(p,w){w<E.length-1?(y.default(C[p])||(C[p]=I.default(E[w+1])?[]:{}),C=C[p]):C[p]=_}),O}},30597:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(73890),L=d(48102);function I(O){return y.default(O)?0:L.default(O)?O.length:Object.keys(O).length}S.default=I},58175:function(gt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(y,L){for(var I=0;I<y.length;I++)if(L(y[I],I))return!0;return!1};S.default=d},27599:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(66631),L=d(21830),I=d(46812);function O(T,_){var C;if(I.default(_))C=function(p,w){return _(p)-_(w)};else{var E=[];L.default(_)?E.push(_):y.default(_)&&(E=_),C=function(p,w){for(var g=0;g<E.length;g+=1){var b=E[g];if(p[b]>w[b])return 1;if(p[b]<w[b])return-1}return 0}}return T.sort(C),T}S.default=O},680:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(66631),L=d(21830);function I(O,T){return y.default(O)||L.default(O)?O[0]===T:!1}S.default=I},35541:function(gt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(y,L){return!y||!L?y:y.replace(/\\?\{([^{}]+)\}/g,function(I,O){return I.charAt(0)==="\\"?I.slice(1):L[O]===void 0?"":L[O]})}S.default=d},60979:function(gt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(d,y,L){var I,O,T,_,C=0;L||(L={});var E=function(){C=L.leading===!1?0:Date.now(),I=null,_=d.apply(O,T),I||(O=T=null)},p=function(){var w=Date.now();!C&&L.leading===!1&&(C=w);var g=y-(w-C);return O=this,T=arguments,g<=0||g>y?(I&&(clearTimeout(I),I=null),C=w,_=d.apply(O,T),I||(O=T=null)):!I&&L.trailing!==!1&&(I=setTimeout(E,g)),_};return p.cancel=function(){clearTimeout(I),C=0,I=O=T=null},p}},66668:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(48102);S.default=function(L){return y.default(L)?Array.prototype.slice.call(L):[]}},2119:function(gt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=180/Math.PI,y=function(L){return d*L};S.default=y},23196:function(gt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=parseInt},9217:function(gt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=Math.PI/180,y=function(L){return d*L};S.default=y},78127:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(73890);S.default=function(L){return y.default(L)?"":L.toString()}},58632:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(12619),L=function(){for(var I=[],O=0;O<arguments.length;O++)I[O]=arguments[O];return y.default([].concat.apply([],I))};S.default=L},12619:function(gt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(y,L){L===void 0&&(L=new Map);var I=[];if(Array.isArray(y))for(var O=0,T=y.length;O<T;O++){var _=y[O];L.has(_)||(I.push(_),L.set(_,!0))}return I}S.default=d},67250:function(gt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d={};S.default=function(y){return y=y||"g",d[y]?d[y]+=1:d[y]=1,y+d[y]}},72660:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(78127),L=function(I){return y.default(I).toUpperCase()};S.default=L},85260:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(78127),L=function(I){var O=y.default(I);return O.charAt(0).toUpperCase()+O.substring(1)};S.default=L},29208:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(66631),L=d(73890);S.default=function(I,O){for(var T=[],_={},C=0;C<I.length;C++){var E=I[C],p=E[O];if(!L.default(p)){y.default(p)||(p=[p]);for(var w=0;w<p.length;w++){var g=p[w];_[g]||(T.push(g),_[g]=!0)}}}return T}},91161:function(gt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var y=d(27154),L=d(46812),I=Object.values?function(O){return Object.values(O)}:function(O){var T=[];return y.default(O,function(_,C){L.default(O)&&C==="prototype"||T.push(_)}),T};S.default=I},61262:function(gt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(y,L){if(y["_wrap_"+L])return y["_wrap_"+L];var I=function(O){y[L](O)};return y["_wrap_"+L]=I,I}S.default=d},37067:function(gt,S,d){"use strict";d.r(S),d.d(S,{__extends:function(){return L},__assign:function(){return I},__rest:function(){return O},__decorate:function(){return T},__param:function(){return _},__esDecorate:function(){return C},__runInitializers:function(){return E},__propKey:function(){return p},__setFunctionName:function(){return w},__metadata:function(){return g},__awaiter:function(){return b},__generator:function(){return m},__createBinding:function(){return M},__exportStar:function(){return P},__values:function(){return k},__read:function(){return N},__spread:function(){return V},__spreadArrays:function(){return $},__spreadArray:function(){return Z},__await:function(){return J},__asyncGenerator:function(){return lt},__asyncDelegator:function(){return rt},__asyncValues:function(){return bt},__makeTemplateObject:function(){return Ot},__importStar:function(){return Et},__importDefault:function(){return Dt},__classPrivateFieldGet:function(){return It},__classPrivateFieldSet:function(){return _t},__classPrivateFieldIn:function(){return Xt}});var y=function(z,R){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,D){F.__proto__=D}||function(F,D){for(var u in D)Object.prototype.hasOwnProperty.call(D,u)&&(F[u]=D[u])},y(z,R)};function L(z,R){if(typeof R!="function"&&R!==null)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");y(z,R);function F(){this.constructor=z}z.prototype=R===null?Object.create(R):(F.prototype=R.prototype,new F)}var I=function(){return I=Object.assign||function(R){for(var F,D=1,u=arguments.length;D<u;D++){F=arguments[D];for(var W in F)Object.prototype.hasOwnProperty.call(F,W)&&(R[W]=F[W])}return R},I.apply(this,arguments)};function O(z,R){var F={};for(var D in z)Object.prototype.hasOwnProperty.call(z,D)&&R.indexOf(D)<0&&(F[D]=z[D]);if(z!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,D=Object.getOwnPropertySymbols(z);u<D.length;u++)R.indexOf(D[u])<0&&Object.prototype.propertyIsEnumerable.call(z,D[u])&&(F[D[u]]=z[D[u]]);return F}function T(z,R,F,D){var u=arguments.length,W=u<3?R:D===null?D=Object.getOwnPropertyDescriptor(R,F):D,it;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(z,R,F,D);else for(var nt=z.length-1;nt>=0;nt--)(it=z[nt])&&(W=(u<3?it(W):u>3?it(R,F,W):it(R,F))||W);return u>3&&W&&Object.defineProperty(R,F,W),W}function _(z,R){return function(F,D){R(F,D,z)}}function C(z,R,F,D,u,W){function it(tt){if(tt!==void 0&&typeof tt!="function")throw new TypeError("Function expected");return tt}for(var nt=D.kind,mt=nt==="getter"?"get":nt==="setter"?"set":"value",et=!R&&z?D.static?z:z.prototype:null,ct=R||(et?Object.getOwnPropertyDescriptor(et,D.name):{}),Pt,At=!1,ot=F.length-1;ot>=0;ot--){var wt={};for(var st in D)wt[st]=st==="access"?{}:D[st];for(var st in D.access)wt.access[st]=D.access[st];wt.addInitializer=function(tt){if(At)throw new TypeError("Cannot add initializers after decoration has completed");W.push(it(tt||null))};var K=(0,F[ot])(nt==="accessor"?{get:ct.get,set:ct.set}:ct[mt],wt);if(nt==="accessor"){if(K===void 0)continue;if(K===null||typeof K!="object")throw new TypeError("Object expected");(Pt=it(K.get))&&(ct.get=Pt),(Pt=it(K.set))&&(ct.set=Pt),(Pt=it(K.init))&&u.push(Pt)}else(Pt=it(K))&&(nt==="field"?u.push(Pt):ct[mt]=Pt)}et&&Object.defineProperty(et,D.name,ct),At=!0}function E(z,R,F){for(var D=arguments.length>2,u=0;u<R.length;u++)F=D?R[u].call(z,F):R[u].call(z);return D?F:void 0}function p(z){return typeof z=="symbol"?z:"".concat(z)}function w(z,R,F){return typeof R=="symbol"&&(R=R.description?"[".concat(R.description,"]"):""),Object.defineProperty(z,"name",{configurable:!0,value:F?"".concat(F," ",R):R})}function g(z,R){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(z,R)}function b(z,R,F,D){function u(W){return W instanceof F?W:new F(function(it){it(W)})}return new(F||(F=Promise))(function(W,it){function nt(ct){try{et(D.next(ct))}catch(Pt){it(Pt)}}function mt(ct){try{et(D.throw(ct))}catch(Pt){it(Pt)}}function et(ct){ct.done?W(ct.value):u(ct.value).then(nt,mt)}et((D=D.apply(z,R||[])).next())})}function m(z,R){var F={label:0,sent:function(){if(W[0]&1)throw W[1];return W[1]},trys:[],ops:[]},D,u,W,it;return it={next:nt(0),throw:nt(1),return:nt(2)},typeof Symbol=="function"&&(it[Symbol.iterator]=function(){return this}),it;function nt(et){return function(ct){return mt([et,ct])}}function mt(et){if(D)throw new TypeError("Generator is already executing.");for(;it&&(it=0,et[0]&&(F=0)),F;)try{if(D=1,u&&(W=et[0]&2?u.return:et[0]?u.throw||((W=u.return)&&W.call(u),0):u.next)&&!(W=W.call(u,et[1])).done)return W;switch(u=0,W&&(et=[et[0]&2,W.value]),et[0]){case 0:case 1:W=et;break;case 4:return F.label++,{value:et[1],done:!1};case 5:F.label++,u=et[1],et=[0];continue;case 7:et=F.ops.pop(),F.trys.pop();continue;default:if(W=F.trys,!(W=W.length>0&&W[W.length-1])&&(et[0]===6||et[0]===2)){F=0;continue}if(et[0]===3&&(!W||et[1]>W[0]&&et[1]<W[3])){F.label=et[1];break}if(et[0]===6&&F.label<W[1]){F.label=W[1],W=et;break}if(W&&F.label<W[2]){F.label=W[2],F.ops.push(et);break}W[2]&&F.ops.pop(),F.trys.pop();continue}et=R.call(z,F)}catch(ct){et=[6,ct],u=0}finally{D=W=0}if(et[0]&5)throw et[1];return{value:et[0]?et[1]:void 0,done:!0}}}var M=Object.create?function(z,R,F,D){D===void 0&&(D=F);var u=Object.getOwnPropertyDescriptor(R,F);(!u||("get"in u?!R.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return R[F]}}),Object.defineProperty(z,D,u)}:function(z,R,F,D){D===void 0&&(D=F),z[D]=R[F]};function P(z,R){for(var F in z)F!=="default"&&!Object.prototype.hasOwnProperty.call(R,F)&&M(R,z,F)}function k(z){var R=typeof Symbol=="function"&&Symbol.iterator,F=R&&z[R],D=0;if(F)return F.call(z);if(z&&typeof z.length=="number")return{next:function(){return z&&D>=z.length&&(z=void 0),{value:z&&z[D++],done:!z}}};throw new TypeError(R?"Object is not iterable.":"Symbol.iterator is not defined.")}function N(z,R){var F=typeof Symbol=="function"&&z[Symbol.iterator];if(!F)return z;var D=F.call(z),u,W=[],it;try{for(;(R===void 0||R-- >0)&&!(u=D.next()).done;)W.push(u.value)}catch(nt){it={error:nt}}finally{try{u&&!u.done&&(F=D.return)&&F.call(D)}finally{if(it)throw it.error}}return W}function V(){for(var z=[],R=0;R<arguments.length;R++)z=z.concat(N(arguments[R]));return z}function $(){for(var z=0,R=0,F=arguments.length;R<F;R++)z+=arguments[R].length;for(var D=Array(z),u=0,R=0;R<F;R++)for(var W=arguments[R],it=0,nt=W.length;it<nt;it++,u++)D[u]=W[it];return D}function Z(z,R,F){if(F||arguments.length===2)for(var D=0,u=R.length,W;D<u;D++)(W||!(D in R))&&(W||(W=Array.prototype.slice.call(R,0,D)),W[D]=R[D]);return z.concat(W||Array.prototype.slice.call(R))}function J(z){return this instanceof J?(this.v=z,this):new J(z)}function lt(z,R,F){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var D=F.apply(z,R||[]),u,W=[];return u={},it("next"),it("throw"),it("return"),u[Symbol.asyncIterator]=function(){return this},u;function it(At){D[At]&&(u[At]=function(ot){return new Promise(function(wt,st){W.push([At,ot,wt,st])>1||nt(At,ot)})})}function nt(At,ot){try{mt(D[At](ot))}catch(wt){Pt(W[0][3],wt)}}function mt(At){At.value instanceof J?Promise.resolve(At.value.v).then(et,ct):Pt(W[0][2],At)}function et(At){nt("next",At)}function ct(At){nt("throw",At)}function Pt(At,ot){At(ot),W.shift(),W.length&&nt(W[0][0],W[0][1])}}function rt(z){var R,F;return R={},D("next"),D("throw",function(u){throw u}),D("return"),R[Symbol.iterator]=function(){return this},R;function D(u,W){R[u]=z[u]?function(it){return(F=!F)?{value:J(z[u](it)),done:!1}:W?W(it):it}:W}}function bt(z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var R=z[Symbol.asyncIterator],F;return R?R.call(z):(z=typeof k=="function"?k(z):z[Symbol.iterator](),F={},D("next"),D("throw"),D("return"),F[Symbol.asyncIterator]=function(){return this},F);function D(W){F[W]=z[W]&&function(it){return new Promise(function(nt,mt){it=z[W](it),u(nt,mt,it.done,it.value)})}}function u(W,it,nt,mt){Promise.resolve(mt).then(function(et){W({value:et,done:nt})},it)}}function Ot(z,R){return Object.defineProperty?Object.defineProperty(z,"raw",{value:R}):z.raw=R,z}var Bt=Object.create?function(z,R){Object.defineProperty(z,"default",{enumerable:!0,value:R})}:function(z,R){z.default=R};function Et(z){if(z&&z.__esModule)return z;var R={};if(z!=null)for(var F in z)F!=="default"&&Object.prototype.hasOwnProperty.call(z,F)&&M(R,z,F);return Bt(R,z),R}function Dt(z){return z&&z.__esModule?z:{default:z}}function It(z,R,F,D){if(F==="a"&&!D)throw new TypeError("Private accessor was defined without a getter");if(typeof R=="function"?z!==R||!D:!R.has(z))throw new TypeError("Cannot read private member from an object whose class did not declare it");return F==="m"?D:F==="a"?D.call(z):D?D.value:R.get(z)}function _t(z,R,F,D,u){if(D==="m")throw new TypeError("Private method is not writable");if(D==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof R=="function"?z!==R||!u:!R.has(z))throw new TypeError("Cannot write private member to an object whose class did not declare it");return D==="a"?u.call(z,F):u?u.value=F:R.set(z,F),F}function Xt(z,R){if(R===null||typeof R!="object"&&typeof R!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof z=="function"?R===z:z.has(R)}},59206:function(gt,S,d){"use strict";d.d(S,{Z:function(){return O}});function y(T){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(C){return C.__proto__||Object.getPrototypeOf(C)},y(T)}function L(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(T){return!1}}var I=d(79320);function O(T){var _=L();return function(){var E=y(T),p;if(_){var w=y(this).constructor;p=Reflect.construct(E,arguments,w)}else p=E.apply(this,arguments);return(0,I.Z)(this,p)}}},81306:function(gt,S,d){"use strict";d.d(S,{Z:function(){return L}});function y(I,O){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,C){return _.__proto__=C,_},y(I,O)}function L(I,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(O&&O.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),Object.defineProperty(I,"prototype",{writable:!1}),O&&y(I,O)}},79320:function(gt,S,d){"use strict";d.d(S,{Z:function(){return I}});var y=d(58954);function L(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function I(O,T){if(T&&((0,y.Z)(T)==="object"||typeof T=="function"))return T;if(T!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L(O)}},70347:function(){},60153:function(gt,S,d){"use strict";d.r(S),d.d(S,{__extends:function(){return L},__assign:function(){return I},__rest:function(){return O},__decorate:function(){return T},__param:function(){return _},__metadata:function(){return C},__awaiter:function(){return E},__generator:function(){return p},__createBinding:function(){return w},__exportStar:function(){return g},__values:function(){return b},__read:function(){return m},__spread:function(){return M},__spreadArrays:function(){return P},__await:function(){return k},__asyncGenerator:function(){return N},__asyncDelegator:function(){return V},__asyncValues:function(){return $},__makeTemplateObject:function(){return Z},__importStar:function(){return J},__importDefault:function(){return lt},__classPrivateFieldGet:function(){return rt},__classPrivateFieldSet:function(){return bt}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var y=function(Bt,Et){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Dt,It){Dt.__proto__=It}||function(Dt,It){for(var _t in It)It.hasOwnProperty(_t)&&(Dt[_t]=It[_t])},y(Bt,Et)};function L(Ot,Bt){y(Ot,Bt);function Et(){this.constructor=Ot}Ot.prototype=Bt===null?Object.create(Bt):(Et.prototype=Bt.prototype,new Et)}var I=function(){return I=Object.assign||function(Et){for(var Dt,It=1,_t=arguments.length;It<_t;It++){Dt=arguments[It];for(var Xt in Dt)Object.prototype.hasOwnProperty.call(Dt,Xt)&&(Et[Xt]=Dt[Xt])}return Et},I.apply(this,arguments)};function O(Ot,Bt){var Et={};for(var Dt in Ot)Object.prototype.hasOwnProperty.call(Ot,Dt)&&Bt.indexOf(Dt)<0&&(Et[Dt]=Ot[Dt]);if(Ot!=null&&typeof Object.getOwnPropertySymbols=="function")for(var It=0,Dt=Object.getOwnPropertySymbols(Ot);It<Dt.length;It++)Bt.indexOf(Dt[It])<0&&Object.prototype.propertyIsEnumerable.call(Ot,Dt[It])&&(Et[Dt[It]]=Ot[Dt[It]]);return Et}function T(Ot,Bt,Et,Dt){var It=arguments.length,_t=It<3?Bt:Dt===null?Dt=Object.getOwnPropertyDescriptor(Bt,Et):Dt,Xt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_t=Reflect.decorate(Ot,Bt,Et,Dt);else for(var z=Ot.length-1;z>=0;z--)(Xt=Ot[z])&&(_t=(It<3?Xt(_t):It>3?Xt(Bt,Et,_t):Xt(Bt,Et))||_t);return It>3&&_t&&Object.defineProperty(Bt,Et,_t),_t}function _(Ot,Bt){return function(Et,Dt){Bt(Et,Dt,Ot)}}function C(Ot,Bt){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(Ot,Bt)}function E(Ot,Bt,Et,Dt){function It(_t){return _t instanceof Et?_t:new Et(function(Xt){Xt(_t)})}return new(Et||(Et=Promise))(function(_t,Xt){function z(D){try{F(Dt.next(D))}catch(u){Xt(u)}}function R(D){try{F(Dt.throw(D))}catch(u){Xt(u)}}function F(D){D.done?_t(D.value):It(D.value).then(z,R)}F((Dt=Dt.apply(Ot,Bt||[])).next())})}function p(Ot,Bt){var Et={label:0,sent:function(){if(_t[0]&1)throw _t[1];return _t[1]},trys:[],ops:[]},Dt,It,_t,Xt;return Xt={next:z(0),throw:z(1),return:z(2)},typeof Symbol=="function"&&(Xt[Symbol.iterator]=function(){return this}),Xt;function z(F){return function(D){return R([F,D])}}function R(F){if(Dt)throw new TypeError("Generator is already executing.");for(;Et;)try{if(Dt=1,It&&(_t=F[0]&2?It.return:F[0]?It.throw||((_t=It.return)&&_t.call(It),0):It.next)&&!(_t=_t.call(It,F[1])).done)return _t;switch(It=0,_t&&(F=[F[0]&2,_t.value]),F[0]){case 0:case 1:_t=F;break;case 4:return Et.label++,{value:F[1],done:!1};case 5:Et.label++,It=F[1],F=[0];continue;case 7:F=Et.ops.pop(),Et.trys.pop();continue;default:if(_t=Et.trys,!(_t=_t.length>0&&_t[_t.length-1])&&(F[0]===6||F[0]===2)){Et=0;continue}if(F[0]===3&&(!_t||F[1]>_t[0]&&F[1]<_t[3])){Et.label=F[1];break}if(F[0]===6&&Et.label<_t[1]){Et.label=_t[1],_t=F;break}if(_t&&Et.label<_t[2]){Et.label=_t[2],Et.ops.push(F);break}_t[2]&&Et.ops.pop(),Et.trys.pop();continue}F=Bt.call(Ot,Et)}catch(D){F=[6,D],It=0}finally{Dt=_t=0}if(F[0]&5)throw F[1];return{value:F[0]?F[1]:void 0,done:!0}}}function w(Ot,Bt,Et,Dt){Dt===void 0&&(Dt=Et),Ot[Dt]=Bt[Et]}function g(Ot,Bt){for(var Et in Ot)Et!=="default"&&!Bt.hasOwnProperty(Et)&&(Bt[Et]=Ot[Et])}function b(Ot){var Bt=typeof Symbol=="function"&&Symbol.iterator,Et=Bt&&Ot[Bt],Dt=0;if(Et)return Et.call(Ot);if(Ot&&typeof Ot.length=="number")return{next:function(){return Ot&&Dt>=Ot.length&&(Ot=void 0),{value:Ot&&Ot[Dt++],done:!Ot}}};throw new TypeError(Bt?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(Ot,Bt){var Et=typeof Symbol=="function"&&Ot[Symbol.iterator];if(!Et)return Ot;var Dt=Et.call(Ot),It,_t=[],Xt;try{for(;(Bt===void 0||Bt-- >0)&&!(It=Dt.next()).done;)_t.push(It.value)}catch(z){Xt={error:z}}finally{try{It&&!It.done&&(Et=Dt.return)&&Et.call(Dt)}finally{if(Xt)throw Xt.error}}return _t}function M(){for(var Ot=[],Bt=0;Bt<arguments.length;Bt++)Ot=Ot.concat(m(arguments[Bt]));return Ot}function P(){for(var Ot=0,Bt=0,Et=arguments.length;Bt<Et;Bt++)Ot+=arguments[Bt].length;for(var Dt=Array(Ot),It=0,Bt=0;Bt<Et;Bt++)for(var _t=arguments[Bt],Xt=0,z=_t.length;Xt<z;Xt++,It++)Dt[It]=_t[Xt];return Dt}function k(Ot){return this instanceof k?(this.v=Ot,this):new k(Ot)}function N(Ot,Bt,Et){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Dt=Et.apply(Ot,Bt||[]),It,_t=[];return It={},Xt("next"),Xt("throw"),Xt("return"),It[Symbol.asyncIterator]=function(){return this},It;function Xt(W){Dt[W]&&(It[W]=function(it){return new Promise(function(nt,mt){_t.push([W,it,nt,mt])>1||z(W,it)})})}function z(W,it){try{R(Dt[W](it))}catch(nt){u(_t[0][3],nt)}}function R(W){W.value instanceof k?Promise.resolve(W.value.v).then(F,D):u(_t[0][2],W)}function F(W){z("next",W)}function D(W){z("throw",W)}function u(W,it){W(it),_t.shift(),_t.length&&z(_t[0][0],_t[0][1])}}function V(Ot){var Bt,Et;return Bt={},Dt("next"),Dt("throw",function(It){throw It}),Dt("return"),Bt[Symbol.iterator]=function(){return this},Bt;function Dt(It,_t){Bt[It]=Ot[It]?function(Xt){return(Et=!Et)?{value:k(Ot[It](Xt)),done:It==="return"}:_t?_t(Xt):Xt}:_t}}function $(Ot){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Bt=Ot[Symbol.asyncIterator],Et;return Bt?Bt.call(Ot):(Ot=typeof b=="function"?b(Ot):Ot[Symbol.iterator](),Et={},Dt("next"),Dt("throw"),Dt("return"),Et[Symbol.asyncIterator]=function(){return this},Et);function Dt(_t){Et[_t]=Ot[_t]&&function(Xt){return new Promise(function(z,R){Xt=Ot[_t](Xt),It(z,R,Xt.done,Xt.value)})}}function It(_t,Xt,z,R){Promise.resolve(R).then(function(F){_t({value:F,done:z})},Xt)}}function Z(Ot,Bt){return Object.defineProperty?Object.defineProperty(Ot,"raw",{value:Bt}):Ot.raw=Bt,Ot}function J(Ot){if(Ot&&Ot.__esModule)return Ot;var Bt={};if(Ot!=null)for(var Et in Ot)Object.hasOwnProperty.call(Ot,Et)&&(Bt[Et]=Ot[Et]);return Bt.default=Ot,Bt}function lt(Ot){return Ot&&Ot.__esModule?Ot:{default:Ot}}function rt(Ot,Bt){if(!Bt.has(Ot))throw new TypeError("attempted to get private field on non-instance");return Bt.get(Ot)}function bt(Ot,Bt,Et){if(!Bt.has(Ot))throw new TypeError("attempted to set private field on non-instance");return Bt.set(Ot,Et),Et}},91894:function(gt,S,d){"use strict";d.d(S,{Z:function(){return lt}});var y=d(96156),L=d(22122),I=d(94184),O=d.n(I),T=d(98423),_=d(67294),C=d(53124),E=d(97647),p=d(90860),w=d(95562),g=function(rt,bt){var Ot={};for(var Bt in rt)Object.prototype.hasOwnProperty.call(rt,Bt)&&bt.indexOf(Bt)<0&&(Ot[Bt]=rt[Bt]);if(rt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Et=0,Bt=Object.getOwnPropertySymbols(rt);Et<Bt.length;Et++)bt.indexOf(Bt[Et])<0&&Object.prototype.propertyIsEnumerable.call(rt,Bt[Et])&&(Ot[Bt[Et]]=rt[Bt[Et]]);return Ot},b=function(bt){var Ot=bt.prefixCls,Bt=bt.className,Et=bt.hoverable,Dt=Et===void 0?!0:Et,It=g(bt,["prefixCls","className","hoverable"]);return _.createElement(C.C,null,function(_t){var Xt=_t.getPrefixCls,z=Xt("card",Ot),R=O()("".concat(z,"-grid"),Bt,(0,y.Z)({},"".concat(z,"-grid-hoverable"),Dt));return _.createElement("div",(0,L.Z)({},It,{className:R}))})},m=b,M=function(rt,bt){var Ot={};for(var Bt in rt)Object.prototype.hasOwnProperty.call(rt,Bt)&&bt.indexOf(Bt)<0&&(Ot[Bt]=rt[Bt]);if(rt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Et=0,Bt=Object.getOwnPropertySymbols(rt);Et<Bt.length;Et++)bt.indexOf(Bt[Et])<0&&Object.prototype.propertyIsEnumerable.call(rt,Bt[Et])&&(Ot[Bt[Et]]=rt[Bt[Et]]);return Ot};function P(rt){var bt=rt.map(function(Ot,Bt){return _.createElement("li",{style:{width:"".concat(100/rt.length,"%")},key:"action-".concat(Bt)},_.createElement("span",null,Ot))});return bt}var k=_.forwardRef(function(rt,bt){var Ot,Bt,Et=_.useContext(C.E_),Dt=Et.getPrefixCls,It=Et.direction,_t=_.useContext(E.Z),Xt=function(gn){var yn;(yn=rt.onTabChange)===null||yn===void 0||yn.call(rt,gn)},z=function(){var gn;return _.Children.forEach(rt.children,function(yn){yn&&yn.type&&yn.type===m&&(gn=!0)}),gn},R=rt.prefixCls,F=rt.className,D=rt.extra,u=rt.headStyle,W=u===void 0?{}:u,it=rt.bodyStyle,nt=it===void 0?{}:it,mt=rt.title,et=rt.loading,ct=rt.bordered,Pt=ct===void 0?!0:ct,At=rt.size,ot=rt.type,wt=rt.cover,st=rt.actions,K=rt.tabList,tt=rt.children,U=rt.activeTabKey,j=rt.defaultActiveTabKey,at=rt.tabBarExtraContent,vt=rt.hoverable,Ft=rt.tabProps,Jt=Ft===void 0?{}:Ft,le=M(rt,["prefixCls","className","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),ge=Dt("card",R),Zt=_.createElement(p.Z,{loading:!0,active:!0,paragraph:{rows:4},title:!1},tt),kt=U!==void 0,zt=(0,L.Z)((0,L.Z)({},Jt),(Ot={},(0,y.Z)(Ot,kt?"activeKey":"defaultActiveKey",kt?U:j),(0,y.Z)(Ot,"tabBarExtraContent",at),Ot)),ne,de=K&&K.length?_.createElement(w.Z,(0,L.Z)({size:"large"},zt,{className:"".concat(ge,"-head-tabs"),onChange:Xt,items:K.map(function(nn){var gn;return{label:nn.tab,key:nn.key,disabled:(gn=nn.disabled)!==null&&gn!==void 0?gn:!1}})})):null;(mt||D||de)&&(ne=_.createElement("div",{className:"".concat(ge,"-head"),style:W},_.createElement("div",{className:"".concat(ge,"-head-wrapper")},mt&&_.createElement("div",{className:"".concat(ge,"-head-title")},mt),D&&_.createElement("div",{className:"".concat(ge,"-extra")},D)),de));var Ce=wt?_.createElement("div",{className:"".concat(ge,"-cover")},wt):null,De=_.createElement("div",{className:"".concat(ge,"-body"),style:nt},et?Zt:tt),ze=st&&st.length?_.createElement("ul",{className:"".concat(ge,"-actions")},P(st)):null,er=(0,T.Z)(le,["onTabChange"]),yr=At||_t,tn=O()(ge,(Bt={},(0,y.Z)(Bt,"".concat(ge,"-loading"),et),(0,y.Z)(Bt,"".concat(ge,"-bordered"),Pt),(0,y.Z)(Bt,"".concat(ge,"-hoverable"),vt),(0,y.Z)(Bt,"".concat(ge,"-contain-grid"),z()),(0,y.Z)(Bt,"".concat(ge,"-contain-tabs"),K&&K.length),(0,y.Z)(Bt,"".concat(ge,"-").concat(yr),yr),(0,y.Z)(Bt,"".concat(ge,"-type-").concat(ot),!!ot),(0,y.Z)(Bt,"".concat(ge,"-rtl"),It==="rtl"),Bt),F);return _.createElement("div",(0,L.Z)({ref:bt},er,{className:tn}),ne,Ce,De,ze)}),N=k,V=function(rt,bt){var Ot={};for(var Bt in rt)Object.prototype.hasOwnProperty.call(rt,Bt)&&bt.indexOf(Bt)<0&&(Ot[Bt]=rt[Bt]);if(rt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Et=0,Bt=Object.getOwnPropertySymbols(rt);Et<Bt.length;Et++)bt.indexOf(Bt[Et])<0&&Object.prototype.propertyIsEnumerable.call(rt,Bt[Et])&&(Ot[Bt[Et]]=rt[Bt[Et]]);return Ot},$=function(bt){return _.createElement(C.C,null,function(Ot){var Bt=Ot.getPrefixCls,Et=bt.prefixCls,Dt=bt.className,It=bt.avatar,_t=bt.title,Xt=bt.description,z=V(bt,["prefixCls","className","avatar","title","description"]),R=Bt("card",Et),F=O()("".concat(R,"-meta"),Dt),D=It?_.createElement("div",{className:"".concat(R,"-meta-avatar")},It):null,u=_t?_.createElement("div",{className:"".concat(R,"-meta-title")},_t):null,W=Xt?_.createElement("div",{className:"".concat(R,"-meta-description")},Xt):null,it=u||W?_.createElement("div",{className:"".concat(R,"-meta-detail")},u,W):null;return _.createElement("div",(0,L.Z)({},z,{className:F}),D,it)})},Z=$,J=N;J.Grid=m,J.Meta=Z;var lt=J},58024:function(gt,S,d){"use strict";var y=d(38663),L=d.n(y),I=d(70347),O=d.n(I),T=d(18446),_=d(18106)},8874:function(gt){"use strict";gt.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},19818:function(gt,S,d){var y=d(8874),L=d(86851),I=Object.hasOwnProperty,O=Object.create(null);for(var T in y)I.call(y,T)&&(O[y[T]]=T);var _=gt.exports={to:{},get:{}};_.get=function(p){var w=p.substring(0,3).toLowerCase(),g,b;switch(w){case"hsl":g=_.get.hsl(p),b="hsl";break;case"hwb":g=_.get.hwb(p),b="hwb";break;default:g=_.get.rgb(p),b="rgb";break}return g?{model:b,value:g}:null},_.get.rgb=function(p){if(!p)return null;var w=/^#([a-f0-9]{3,4})$/i,g=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,b=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,m=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,M=/^(\w+)$/,P=[0,0,0,1],k,N,V;if(k=p.match(g)){for(V=k[2],k=k[1],N=0;N<3;N++){var $=N*2;P[N]=parseInt(k.slice($,$+2),16)}V&&(P[3]=parseInt(V,16)/255)}else if(k=p.match(w)){for(k=k[1],V=k[3],N=0;N<3;N++)P[N]=parseInt(k[N]+k[N],16);V&&(P[3]=parseInt(V+V,16)/255)}else if(k=p.match(b)){for(N=0;N<3;N++)P[N]=parseInt(k[N+1],0);k[4]&&(k[5]?P[3]=parseFloat(k[4])*.01:P[3]=parseFloat(k[4]))}else if(k=p.match(m)){for(N=0;N<3;N++)P[N]=Math.round(parseFloat(k[N+1])*2.55);k[4]&&(k[5]?P[3]=parseFloat(k[4])*.01:P[3]=parseFloat(k[4]))}else return(k=p.match(M))?k[1]==="transparent"?[0,0,0,0]:I.call(y,k[1])?(P=y[k[1]],P[3]=1,P):null:null;for(N=0;N<3;N++)P[N]=C(P[N],0,255);return P[3]=C(P[3],0,1),P},_.get.hsl=function(p){if(!p)return null;var w=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,g=p.match(w);if(g){var b=parseFloat(g[4]),m=(parseFloat(g[1])%360+360)%360,M=C(parseFloat(g[2]),0,100),P=C(parseFloat(g[3]),0,100),k=C(isNaN(b)?1:b,0,1);return[m,M,P,k]}return null},_.get.hwb=function(p){if(!p)return null;var w=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,g=p.match(w);if(g){var b=parseFloat(g[4]),m=(parseFloat(g[1])%360+360)%360,M=C(parseFloat(g[2]),0,100),P=C(parseFloat(g[3]),0,100),k=C(isNaN(b)?1:b,0,1);return[m,M,P,k]}return null},_.to.hex=function(){var p=L(arguments);return"#"+E(p[0])+E(p[1])+E(p[2])+(p[3]<1?E(Math.round(p[3]*255)):"")},_.to.rgb=function(){var p=L(arguments);return p.length<4||p[3]===1?"rgb("+Math.round(p[0])+", "+Math.round(p[1])+", "+Math.round(p[2])+")":"rgba("+Math.round(p[0])+", "+Math.round(p[1])+", "+Math.round(p[2])+", "+p[3]+")"},_.to.rgb.percent=function(){var p=L(arguments),w=Math.round(p[0]/255*100),g=Math.round(p[1]/255*100),b=Math.round(p[2]/255*100);return p.length<4||p[3]===1?"rgb("+w+"%, "+g+"%, "+b+"%)":"rgba("+w+"%, "+g+"%, "+b+"%, "+p[3]+")"},_.to.hsl=function(){var p=L(arguments);return p.length<4||p[3]===1?"hsl("+p[0]+", "+p[1]+"%, "+p[2]+"%)":"hsla("+p[0]+", "+p[1]+"%, "+p[2]+"%, "+p[3]+")"},_.to.hwb=function(){var p=L(arguments),w="";return p.length>=4&&p[3]!==1&&(w=", "+p[3]),"hwb("+p[0]+", "+p[1]+"%, "+p[2]+"%"+w+")"},_.to.keyword=function(p){return O[p.slice(0,3)]};function C(p,w,g){return Math.min(Math.max(w,p),g)}function E(p){var w=Math.round(p).toString(16).toUpperCase();return w.length<2?"0"+w:w}},6767:function(gt,S,d){"use strict";var y=d(19818),L=d(80978),I=[].slice,O=["keyword","gray","hex"],T={};Object.keys(L).forEach(function(M){T[I.call(L[M].labels).sort().join("")]=M});var _={};function C(M,P){if(!(this instanceof C))return new C(M,P);if(P&&P in O&&(P=null),P&&!(P in L))throw new Error("Unknown model: "+P);var k,N;if(M==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(M instanceof C)this.model=M.model,this.color=M.color.slice(),this.valpha=M.valpha;else if(typeof M=="string"){var V=y.get(M);if(V===null)throw new Error("Unable to parse color from string: "+M);this.model=V.model,N=L[this.model].channels,this.color=V.value.slice(0,N),this.valpha=typeof V.value[N]=="number"?V.value[N]:1}else if(M.length){this.model=P||"rgb",N=L[this.model].channels;var $=I.call(M,0,N);this.color=m($,N),this.valpha=typeof M[N]=="number"?M[N]:1}else if(typeof M=="number")M&=16777215,this.model="rgb",this.color=[M>>16&255,M>>8&255,M&255],this.valpha=1;else{this.valpha=1;var Z=Object.keys(M);"alpha"in M&&(Z.splice(Z.indexOf("alpha"),1),this.valpha=typeof M.alpha=="number"?M.alpha:0);var J=Z.sort().join("");if(!(J in T))throw new Error("Unable to parse color from object: "+JSON.stringify(M));this.model=T[J];var lt=L[this.model].labels,rt=[];for(k=0;k<lt.length;k++)rt.push(M[lt[k]]);this.color=m(rt)}if(_[this.model])for(N=L[this.model].channels,k=0;k<N;k++){var bt=_[this.model][k];bt&&(this.color[k]=bt(this.color[k]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}C.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(M){var P=this.model in y.to?this:this.rgb();P=P.round(typeof M=="number"?M:1);var k=P.valpha===1?P.color:P.color.concat(this.valpha);return y.to[P.model](k)},percentString:function(M){var P=this.rgb().round(typeof M=="number"?M:1),k=P.valpha===1?P.color:P.color.concat(this.valpha);return y.to.rgb.percent(k)},array:function(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var M={},P=L[this.model].channels,k=L[this.model].labels,N=0;N<P;N++)M[k[N]]=this.color[N];return this.valpha!==1&&(M.alpha=this.valpha),M},unitArray:function(){var M=this.rgb().color;return M[0]/=255,M[1]/=255,M[2]/=255,this.valpha!==1&&M.push(this.valpha),M},unitObject:function(){var M=this.rgb().object();return M.r/=255,M.g/=255,M.b/=255,this.valpha!==1&&(M.alpha=this.valpha),M},round:function(M){return M=Math.max(M||0,0),new C(this.color.map(p(M)).concat(this.valpha),this.model)},alpha:function(M){return arguments.length?new C(this.color.concat(Math.max(0,Math.min(1,M))),this.model):this.valpha},red:w("rgb",0,g(255)),green:w("rgb",1,g(255)),blue:w("rgb",2,g(255)),hue:w(["hsl","hsv","hsl","hwb","hcg"],0,function(M){return(M%360+360)%360}),saturationl:w("hsl",1,g(100)),lightness:w("hsl",2,g(100)),saturationv:w("hsv",1,g(100)),value:w("hsv",2,g(100)),chroma:w("hcg",1,g(100)),gray:w("hcg",2,g(100)),white:w("hwb",1,g(100)),wblack:w("hwb",2,g(100)),cyan:w("cmyk",0,g(100)),magenta:w("cmyk",1,g(100)),yellow:w("cmyk",2,g(100)),black:w("cmyk",3,g(100)),x:w("xyz",0,g(100)),y:w("xyz",1,g(100)),z:w("xyz",2,g(100)),l:w("lab",0,g(100)),a:w("lab",1),b:w("lab",2),keyword:function(M){return arguments.length?new C(M):L[this.model].keyword(this.color)},hex:function(M){return arguments.length?new C(M):y.to.hex(this.rgb().round().color)},rgbNumber:function(){var M=this.rgb().color;return(M[0]&255)<<16|(M[1]&255)<<8|M[2]&255},luminosity:function(){for(var M=this.rgb().color,P=[],k=0;k<M.length;k++){var N=M[k]/255;P[k]=N<=.03928?N/12.92:Math.pow((N+.055)/1.055,2.4)}return .2126*P[0]+.7152*P[1]+.0722*P[2]},contrast:function(M){var P=this.luminosity(),k=M.luminosity();return P>k?(P+.05)/(k+.05):(k+.05)/(P+.05)},level:function(M){var P=this.contrast(M);return P>=7.1?"AAA":P>=4.5?"AA":""},isDark:function(){var M=this.rgb().color,P=(M[0]*299+M[1]*587+M[2]*114)/1e3;return P<128},isLight:function(){return!this.isDark()},negate:function(){for(var M=this.rgb(),P=0;P<3;P++)M.color[P]=255-M.color[P];return M},lighten:function(M){var P=this.hsl();return P.color[2]+=P.color[2]*M,P},darken:function(M){var P=this.hsl();return P.color[2]-=P.color[2]*M,P},saturate:function(M){var P=this.hsl();return P.color[1]+=P.color[1]*M,P},desaturate:function(M){var P=this.hsl();return P.color[1]-=P.color[1]*M,P},whiten:function(M){var P=this.hwb();return P.color[1]+=P.color[1]*M,P},blacken:function(M){var P=this.hwb();return P.color[2]+=P.color[2]*M,P},grayscale:function(){var M=this.rgb().color,P=M[0]*.3+M[1]*.59+M[2]*.11;return C.rgb(P,P,P)},fade:function(M){return this.alpha(this.valpha-this.valpha*M)},opaquer:function(M){return this.alpha(this.valpha+this.valpha*M)},rotate:function(M){var P=this.hsl(),k=P.color[0];return k=(k+M)%360,k=k<0?360+k:k,P.color[0]=k,P},mix:function(M,P){if(!M||!M.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof M);var k=M.rgb(),N=this.rgb(),V=P===void 0?.5:P,$=2*V-1,Z=k.alpha()-N.alpha(),J=(($*Z==-1?$:($+Z)/(1+$*Z))+1)/2,lt=1-J;return C.rgb(J*k.red()+lt*N.red(),J*k.green()+lt*N.green(),J*k.blue()+lt*N.blue(),k.alpha()*V+N.alpha()*(1-V))}},Object.keys(L).forEach(function(M){if(O.indexOf(M)===-1){var P=L[M].channels;C.prototype[M]=function(){if(this.model===M)return new C(this);if(arguments.length)return new C(arguments,M);var k=typeof arguments[P]=="number"?P:this.valpha;return new C(b(L[this.model][M].raw(this.color)).concat(k),M)},C[M]=function(k){return typeof k=="number"&&(k=m(I.call(arguments),P)),new C(k,M)}}});function E(M,P){return Number(M.toFixed(P))}function p(M){return function(P){return E(P,M)}}function w(M,P,k){return M=Array.isArray(M)?M:[M],M.forEach(function(N){(_[N]||(_[N]=[]))[P]=k}),M=M[0],function(N){var V;return arguments.length?(k&&(N=k(N)),V=this[M](),V.color[P]=N,V):(V=this[M]().color[P],k&&(V=k(V)),V)}}function g(M){return function(P){return Math.max(0,Math.min(M,P))}}function b(M){return Array.isArray(M)?M:[M]}function m(M,P){for(var k=0;k<P;k++)typeof M[k]!="number"&&(M[k]=0);return M}gt.exports=C},12956:function(gt,S,d){var y=d(58900),L={};for(var I in y)y.hasOwnProperty(I)&&(L[y[I]]=I);var O=gt.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var T in O)if(O.hasOwnProperty(T)){if(!("channels"in O[T]))throw new Error("missing channels property: "+T);if(!("labels"in O[T]))throw new Error("missing channel labels property: "+T);if(O[T].labels.length!==O[T].channels)throw new Error("channel and label counts mismatch: "+T);var _=O[T].channels,C=O[T].labels;delete O[T].channels,delete O[T].labels,Object.defineProperty(O[T],"channels",{value:_}),Object.defineProperty(O[T],"labels",{value:C})}O.rgb.hsl=function(p){var w=p[0]/255,g=p[1]/255,b=p[2]/255,m=Math.min(w,g,b),M=Math.max(w,g,b),P=M-m,k,N,V;return M===m?k=0:w===M?k=(g-b)/P:g===M?k=2+(b-w)/P:b===M&&(k=4+(w-g)/P),k=Math.min(k*60,360),k<0&&(k+=360),V=(m+M)/2,M===m?N=0:V<=.5?N=P/(M+m):N=P/(2-M-m),[k,N*100,V*100]},O.rgb.hsv=function(p){var w,g,b,m,M,P=p[0]/255,k=p[1]/255,N=p[2]/255,V=Math.max(P,k,N),$=V-Math.min(P,k,N),Z=function(J){return(V-J)/6/$+1/2};return $===0?m=M=0:(M=$/V,w=Z(P),g=Z(k),b=Z(N),P===V?m=b-g:k===V?m=1/3+w-b:N===V&&(m=2/3+g-w),m<0?m+=1:m>1&&(m-=1)),[m*360,M*100,V*100]},O.rgb.hwb=function(p){var w=p[0],g=p[1],b=p[2],m=O.rgb.hsl(p)[0],M=1/255*Math.min(w,Math.min(g,b));return b=1-1/255*Math.max(w,Math.max(g,b)),[m,M*100,b*100]},O.rgb.cmyk=function(p){var w=p[0]/255,g=p[1]/255,b=p[2]/255,m,M,P,k;return k=Math.min(1-w,1-g,1-b),m=(1-w-k)/(1-k)||0,M=(1-g-k)/(1-k)||0,P=(1-b-k)/(1-k)||0,[m*100,M*100,P*100,k*100]};function E(p,w){return Math.pow(p[0]-w[0],2)+Math.pow(p[1]-w[1],2)+Math.pow(p[2]-w[2],2)}O.rgb.keyword=function(p){var w=L[p];if(w)return w;var g=Infinity,b;for(var m in y)if(y.hasOwnProperty(m)){var M=y[m],P=E(p,M);P<g&&(g=P,b=m)}return b},O.keyword.rgb=function(p){return y[p]},O.rgb.xyz=function(p){var w=p[0]/255,g=p[1]/255,b=p[2]/255;w=w>.04045?Math.pow((w+.055)/1.055,2.4):w/12.92,g=g>.04045?Math.pow((g+.055)/1.055,2.4):g/12.92,b=b>.04045?Math.pow((b+.055)/1.055,2.4):b/12.92;var m=w*.4124+g*.3576+b*.1805,M=w*.2126+g*.7152+b*.0722,P=w*.0193+g*.1192+b*.9505;return[m*100,M*100,P*100]},O.rgb.lab=function(p){var w=O.rgb.xyz(p),g=w[0],b=w[1],m=w[2],M,P,k;return g/=95.047,b/=100,m/=108.883,g=g>.008856?Math.pow(g,1/3):7.787*g+16/116,b=b>.008856?Math.pow(b,1/3):7.787*b+16/116,m=m>.008856?Math.pow(m,1/3):7.787*m+16/116,M=116*b-16,P=500*(g-b),k=200*(b-m),[M,P,k]},O.hsl.rgb=function(p){var w=p[0]/360,g=p[1]/100,b=p[2]/100,m,M,P,k,N;if(g===0)return N=b*255,[N,N,N];b<.5?M=b*(1+g):M=b+g-b*g,m=2*b-M,k=[0,0,0];for(var V=0;V<3;V++)P=w+1/3*-(V-1),P<0&&P++,P>1&&P--,6*P<1?N=m+(M-m)*6*P:2*P<1?N=M:3*P<2?N=m+(M-m)*(2/3-P)*6:N=m,k[V]=N*255;return k},O.hsl.hsv=function(p){var w=p[0],g=p[1]/100,b=p[2]/100,m=g,M=Math.max(b,.01),P,k;return b*=2,g*=b<=1?b:2-b,m*=M<=1?M:2-M,k=(b+g)/2,P=b===0?2*m/(M+m):2*g/(b+g),[w,P*100,k*100]},O.hsv.rgb=function(p){var w=p[0]/60,g=p[1]/100,b=p[2]/100,m=Math.floor(w)%6,M=w-Math.floor(w),P=255*b*(1-g),k=255*b*(1-g*M),N=255*b*(1-g*(1-M));switch(b*=255,m){case 0:return[b,N,P];case 1:return[k,b,P];case 2:return[P,b,N];case 3:return[P,k,b];case 4:return[N,P,b];case 5:return[b,P,k]}},O.hsv.hsl=function(p){var w=p[0],g=p[1]/100,b=p[2]/100,m=Math.max(b,.01),M,P,k;return k=(2-g)*b,M=(2-g)*m,P=g*m,P/=M<=1?M:2-M,P=P||0,k/=2,[w,P*100,k*100]},O.hwb.rgb=function(p){var w=p[0]/360,g=p[1]/100,b=p[2]/100,m=g+b,M,P,k,N;m>1&&(g/=m,b/=m),M=Math.floor(6*w),P=1-b,k=6*w-M,(M&1)!=0&&(k=1-k),N=g+k*(P-g);var V,$,Z;switch(M){default:case 6:case 0:V=P,$=N,Z=g;break;case 1:V=N,$=P,Z=g;break;case 2:V=g,$=P,Z=N;break;case 3:V=g,$=N,Z=P;break;case 4:V=N,$=g,Z=P;break;case 5:V=P,$=g,Z=N;break}return[V*255,$*255,Z*255]},O.cmyk.rgb=function(p){var w=p[0]/100,g=p[1]/100,b=p[2]/100,m=p[3]/100,M,P,k;return M=1-Math.min(1,w*(1-m)+m),P=1-Math.min(1,g*(1-m)+m),k=1-Math.min(1,b*(1-m)+m),[M*255,P*255,k*255]},O.xyz.rgb=function(p){var w=p[0]/100,g=p[1]/100,b=p[2]/100,m,M,P;return m=w*3.2406+g*-1.5372+b*-.4986,M=w*-.9689+g*1.8758+b*.0415,P=w*.0557+g*-.204+b*1.057,m=m>.0031308?1.055*Math.pow(m,1/2.4)-.055:m*12.92,M=M>.0031308?1.055*Math.pow(M,1/2.4)-.055:M*12.92,P=P>.0031308?1.055*Math.pow(P,1/2.4)-.055:P*12.92,m=Math.min(Math.max(0,m),1),M=Math.min(Math.max(0,M),1),P=Math.min(Math.max(0,P),1),[m*255,M*255,P*255]},O.xyz.lab=function(p){var w=p[0],g=p[1],b=p[2],m,M,P;return w/=95.047,g/=100,b/=108.883,w=w>.008856?Math.pow(w,1/3):7.787*w+16/116,g=g>.008856?Math.pow(g,1/3):7.787*g+16/116,b=b>.008856?Math.pow(b,1/3):7.787*b+16/116,m=116*g-16,M=500*(w-g),P=200*(g-b),[m,M,P]},O.lab.xyz=function(p){var w=p[0],g=p[1],b=p[2],m,M,P;M=(w+16)/116,m=g/500+M,P=M-b/200;var k=Math.pow(M,3),N=Math.pow(m,3),V=Math.pow(P,3);return M=k>.008856?k:(M-16/116)/7.787,m=N>.008856?N:(m-16/116)/7.787,P=V>.008856?V:(P-16/116)/7.787,m*=95.047,M*=100,P*=108.883,[m,M,P]},O.lab.lch=function(p){var w=p[0],g=p[1],b=p[2],m,M,P;return m=Math.atan2(b,g),M=m*360/2/Math.PI,M<0&&(M+=360),P=Math.sqrt(g*g+b*b),[w,P,M]},O.lch.lab=function(p){var w=p[0],g=p[1],b=p[2],m,M,P;return P=b/360*2*Math.PI,m=g*Math.cos(P),M=g*Math.sin(P),[w,m,M]},O.rgb.ansi16=function(p){var w=p[0],g=p[1],b=p[2],m=1 in arguments?arguments[1]:O.rgb.hsv(p)[2];if(m=Math.round(m/50),m===0)return 30;var M=30+(Math.round(b/255)<<2|Math.round(g/255)<<1|Math.round(w/255));return m===2&&(M+=60),M},O.hsv.ansi16=function(p){return O.rgb.ansi16(O.hsv.rgb(p),p[2])},O.rgb.ansi256=function(p){var w=p[0],g=p[1],b=p[2];if(w===g&&g===b)return w<8?16:w>248?231:Math.round((w-8)/247*24)+232;var m=16+36*Math.round(w/255*5)+6*Math.round(g/255*5)+Math.round(b/255*5);return m},O.ansi16.rgb=function(p){var w=p%10;if(w===0||w===7)return p>50&&(w+=3.5),w=w/10.5*255,[w,w,w];var g=(~~(p>50)+1)*.5,b=(w&1)*g*255,m=(w>>1&1)*g*255,M=(w>>2&1)*g*255;return[b,m,M]},O.ansi256.rgb=function(p){if(p>=232){var w=(p-232)*10+8;return[w,w,w]}p-=16;var g,b=Math.floor(p/36)/5*255,m=Math.floor((g=p%36)/6)/5*255,M=g%6/5*255;return[b,m,M]},O.rgb.hex=function(p){var w=((Math.round(p[0])&255)<<16)+((Math.round(p[1])&255)<<8)+(Math.round(p[2])&255),g=w.toString(16).toUpperCase();return"000000".substring(g.length)+g},O.hex.rgb=function(p){var w=p.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!w)return[0,0,0];var g=w[0];w[0].length===3&&(g=g.split("").map(function(k){return k+k}).join(""));var b=parseInt(g,16),m=b>>16&255,M=b>>8&255,P=b&255;return[m,M,P]},O.rgb.hcg=function(p){var w=p[0]/255,g=p[1]/255,b=p[2]/255,m=Math.max(Math.max(w,g),b),M=Math.min(Math.min(w,g),b),P=m-M,k,N;return P<1?k=M/(1-P):k=0,P<=0?N=0:m===w?N=(g-b)/P%6:m===g?N=2+(b-w)/P:N=4+(w-g)/P+4,N/=6,N%=1,[N*360,P*100,k*100]},O.hsl.hcg=function(p){var w=p[1]/100,g=p[2]/100,b=1,m=0;return g<.5?b=2*w*g:b=2*w*(1-g),b<1&&(m=(g-.5*b)/(1-b)),[p[0],b*100,m*100]},O.hsv.hcg=function(p){var w=p[1]/100,g=p[2]/100,b=w*g,m=0;return b<1&&(m=(g-b)/(1-b)),[p[0],b*100,m*100]},O.hcg.rgb=function(p){var w=p[0]/360,g=p[1]/100,b=p[2]/100;if(g===0)return[b*255,b*255,b*255];var m=[0,0,0],M=w%1*6,P=M%1,k=1-P,N=0;switch(Math.floor(M)){case 0:m[0]=1,m[1]=P,m[2]=0;break;case 1:m[0]=k,m[1]=1,m[2]=0;break;case 2:m[0]=0,m[1]=1,m[2]=P;break;case 3:m[0]=0,m[1]=k,m[2]=1;break;case 4:m[0]=P,m[1]=0,m[2]=1;break;default:m[0]=1,m[1]=0,m[2]=k}return N=(1-g)*b,[(g*m[0]+N)*255,(g*m[1]+N)*255,(g*m[2]+N)*255]},O.hcg.hsv=function(p){var w=p[1]/100,g=p[2]/100,b=w+g*(1-w),m=0;return b>0&&(m=w/b),[p[0],m*100,b*100]},O.hcg.hsl=function(p){var w=p[1]/100,g=p[2]/100,b=g*(1-w)+.5*w,m=0;return b>0&&b<.5?m=w/(2*b):b>=.5&&b<1&&(m=w/(2*(1-b))),[p[0],m*100,b*100]},O.hcg.hwb=function(p){var w=p[1]/100,g=p[2]/100,b=w+g*(1-w);return[p[0],(b-w)*100,(1-b)*100]},O.hwb.hcg=function(p){var w=p[1]/100,g=p[2]/100,b=1-g,m=b-w,M=0;return m<1&&(M=(b-m)/(1-m)),[p[0],m*100,M*100]},O.apple.rgb=function(p){return[p[0]/65535*255,p[1]/65535*255,p[2]/65535*255]},O.rgb.apple=function(p){return[p[0]/255*65535,p[1]/255*65535,p[2]/255*65535]},O.gray.rgb=function(p){return[p[0]/100*255,p[0]/100*255,p[0]/100*255]},O.gray.hsl=O.gray.hsv=function(p){return[0,0,p[0]]},O.gray.hwb=function(p){return[0,100,p[0]]},O.gray.cmyk=function(p){return[0,0,0,p[0]]},O.gray.lab=function(p){return[p[0],0,0]},O.gray.hex=function(p){var w=Math.round(p[0]/100*255)&255,g=(w<<16)+(w<<8)+w,b=g.toString(16).toUpperCase();return"000000".substring(b.length)+b},O.rgb.gray=function(p){var w=(p[0]+p[1]+p[2])/3;return[w/255*100]}},80978:function(gt,S,d){var y=d(12956),L=d(87774),I={},O=Object.keys(y);function T(C){var E=function(p){return p==null?p:(arguments.length>1&&(p=Array.prototype.slice.call(arguments)),C(p))};return"conversion"in C&&(E.conversion=C.conversion),E}function _(C){var E=function(p){if(p==null)return p;arguments.length>1&&(p=Array.prototype.slice.call(arguments));var w=C(p);if(typeof w=="object")for(var g=w.length,b=0;b<g;b++)w[b]=Math.round(w[b]);return w};return"conversion"in C&&(E.conversion=C.conversion),E}O.forEach(function(C){I[C]={},Object.defineProperty(I[C],"channels",{value:y[C].channels}),Object.defineProperty(I[C],"labels",{value:y[C].labels});var E=L(C),p=Object.keys(E);p.forEach(function(w){var g=E[w];I[C][w]=_(g),I[C][w].raw=T(g)})}),gt.exports=I},87774:function(gt,S,d){var y=d(12956);function L(){for(var _={},C=Object.keys(y),E=C.length,p=0;p<E;p++)_[C[p]]={distance:-1,parent:null};return _}function I(_){var C=L(),E=[_];for(C[_].distance=0;E.length;)for(var p=E.pop(),w=Object.keys(y[p]),g=w.length,b=0;b<g;b++){var m=w[b],M=C[m];M.distance===-1&&(M.distance=C[p].distance+1,M.parent=p,E.unshift(m))}return C}function O(_,C){return function(E){return C(_(E))}}function T(_,C){for(var E=[C[_].parent,_],p=y[C[_].parent][_],w=C[_].parent;C[w].parent;)E.unshift(C[w].parent),p=O(y[C[w].parent][w],p),w=C[w].parent;return p.conversion=E,p}gt.exports=function(_){for(var C=I(_),E={},p=Object.keys(C),w=p.length,g=0;g<w;g++){var b=p[g],m=C[b];m.parent!==null&&(E[b]=T(b,C))}return E}},58900:function(gt){"use strict";gt.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},2650:function(gt,S,d){"use strict";d.d(S,{ZP:function(){return Z},B8:function(){return bt}});function y(F,D,u){F.prototype=D.prototype=u,u.constructor=F}function L(F,D){var u=Object.create(F.prototype);for(var W in D)u[W]=D[W];return u}function I(){}var O=.7,T=1/O,_="\\s*([+-]?\\d+)\\s*",C="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",E="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",p=/^#([0-9a-f]{3,8})$/,w=new RegExp("^rgb\\("+[_,_,_]+"\\)$"),g=new RegExp("^rgb\\("+[E,E,E]+"\\)$"),b=new RegExp("^rgba\\("+[_,_,_,C]+"\\)$"),m=new RegExp("^rgba\\("+[E,E,E,C]+"\\)$"),M=new RegExp("^hsl\\("+[C,E,E]+"\\)$"),P=new RegExp("^hsla\\("+[C,E,E,C]+"\\)$"),k={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};y(I,Z,{copy:function(F){return Object.assign(new this.constructor,this,F)},displayable:function(){return this.rgb().displayable()},hex:N,formatHex:N,formatHsl:V,formatRgb:$,toString:$});function N(){return this.rgb().formatHex()}function V(){return _t(this).formatHsl()}function $(){return this.rgb().formatRgb()}function Z(F){var D,u;return F=(F+"").trim().toLowerCase(),(D=p.exec(F))?(u=D[1].length,D=parseInt(D[1],16),u===6?J(D):u===3?new Ot(D>>8&15|D>>4&240,D>>4&15|D&240,(D&15)<<4|D&15,1):u===8?lt(D>>24&255,D>>16&255,D>>8&255,(D&255)/255):u===4?lt(D>>12&15|D>>8&240,D>>8&15|D>>4&240,D>>4&15|D&240,((D&15)<<4|D&15)/255):null):(D=w.exec(F))?new Ot(D[1],D[2],D[3],1):(D=g.exec(F))?new Ot(D[1]*255/100,D[2]*255/100,D[3]*255/100,1):(D=b.exec(F))?lt(D[1],D[2],D[3],D[4]):(D=m.exec(F))?lt(D[1]*255/100,D[2]*255/100,D[3]*255/100,D[4]):(D=M.exec(F))?It(D[1],D[2]/100,D[3]/100,1):(D=P.exec(F))?It(D[1],D[2]/100,D[3]/100,D[4]):k.hasOwnProperty(F)?J(k[F]):F==="transparent"?new Ot(NaN,NaN,NaN,0):null}function J(F){return new Ot(F>>16&255,F>>8&255,F&255,1)}function lt(F,D,u,W){return W<=0&&(F=D=u=NaN),new Ot(F,D,u,W)}function rt(F){return F instanceof I||(F=Z(F)),F?(F=F.rgb(),new Ot(F.r,F.g,F.b,F.opacity)):new Ot}function bt(F,D,u,W){return arguments.length===1?rt(F):new Ot(F,D,u,W==null?1:W)}function Ot(F,D,u,W){this.r=+F,this.g=+D,this.b=+u,this.opacity=+W}y(Ot,bt,L(I,{brighter:function(F){return F=F==null?T:Math.pow(T,F),new Ot(this.r*F,this.g*F,this.b*F,this.opacity)},darker:function(F){return F=F==null?O:Math.pow(O,F),new Ot(this.r*F,this.g*F,this.b*F,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Bt,formatHex:Bt,formatRgb:Et,toString:Et}));function Bt(){return"#"+Dt(this.r)+Dt(this.g)+Dt(this.b)}function Et(){var F=this.opacity;return F=isNaN(F)?1:Math.max(0,Math.min(1,F)),(F===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(F===1?")":", "+F+")")}function Dt(F){return F=Math.max(0,Math.min(255,Math.round(F)||0)),(F<16?"0":"")+F.toString(16)}function It(F,D,u,W){return W<=0?F=D=u=NaN:u<=0||u>=1?F=D=NaN:D<=0&&(F=NaN),new z(F,D,u,W)}function _t(F){if(F instanceof z)return new z(F.h,F.s,F.l,F.opacity);if(F instanceof I||(F=Z(F)),!F)return new z;if(F instanceof z)return F;F=F.rgb();var D=F.r/255,u=F.g/255,W=F.b/255,it=Math.min(D,u,W),nt=Math.max(D,u,W),mt=NaN,et=nt-it,ct=(nt+it)/2;return et?(D===nt?mt=(u-W)/et+(u<W)*6:u===nt?mt=(W-D)/et+2:mt=(D-u)/et+4,et/=ct<.5?nt+it:2-nt-it,mt*=60):et=ct>0&&ct<1?0:mt,new z(mt,et,ct,F.opacity)}function Xt(F,D,u,W){return arguments.length===1?_t(F):new z(F,D,u,W==null?1:W)}function z(F,D,u,W){this.h=+F,this.s=+D,this.l=+u,this.opacity=+W}y(z,Xt,L(I,{brighter:function(F){return F=F==null?T:Math.pow(T,F),new z(this.h,this.s,this.l*F,this.opacity)},darker:function(F){return F=F==null?O:Math.pow(O,F),new z(this.h,this.s,this.l*F,this.opacity)},rgb:function(){var F=this.h%360+(this.h<0)*360,D=isNaN(F)||isNaN(this.s)?0:this.s,u=this.l,W=u+(u<.5?u:1-u)*D,it=2*u-W;return new Ot(R(F>=240?F-240:F+120,it,W),R(F,it,W),R(F<120?F+240:F-120,it,W),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var F=this.opacity;return F=isNaN(F)?1:Math.max(0,Math.min(1,F)),(F===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(F===1?")":", "+F+")")}}));function R(F,D,u){return(F<60?D+(u-D)*F/60:F<180?u:F<240?D+(u-D)*(240-F)/60:D)*255}},68716:function(gt,S,d){"use strict";d.d(S,{yD:function(){return y},_e:function(){return L},tw:function(){return I}});function y(O){return O*O*O}function L(O){return--O*O*O+1}function I(O){return((O*=2)<=1?O*O*O:(O-=2)*O*O+2)/2}},13681:function(gt,S,d){"use strict";d.r(S),d.d(S,{easeBack:function(){return it},easeBackIn:function(){return u},easeBackInOut:function(){return it},easeBackOut:function(){return W},easeBounce:function(){return R},easeBounceIn:function(){return z},easeBounceInOut:function(){return F},easeBounceOut:function(){return R},easeCircle:function(){return J},easeCircleIn:function(){return $},easeCircleInOut:function(){return J},easeCircleOut:function(){return Z},easeCubic:function(){return T.tw},easeCubicIn:function(){return T.yD},easeCubicInOut:function(){return T.tw},easeCubicOut:function(){return T._e},easeElastic:function(){return Pt},easeElasticIn:function(){return ct},easeElasticInOut:function(){return At},easeElasticOut:function(){return Pt},easeExp:function(){return V},easeExpIn:function(){return k},easeExpInOut:function(){return V},easeExpOut:function(){return N},easeLinear:function(){return y},easePoly:function(){return p},easePolyIn:function(){return C},easePolyInOut:function(){return p},easePolyOut:function(){return E},easeQuad:function(){return O},easeQuadIn:function(){return L},easeQuadInOut:function(){return O},easeQuadOut:function(){return I},easeSin:function(){return M},easeSinIn:function(){return b},easeSinInOut:function(){return M},easeSinOut:function(){return m}});function y(ot){return+ot}function L(ot){return ot*ot}function I(ot){return ot*(2-ot)}function O(ot){return((ot*=2)<=1?ot*ot:--ot*(2-ot)+1)/2}var T=d(68716),_=3,C=function ot(wt){wt=+wt;function st(K){return Math.pow(K,wt)}return st.exponent=ot,st}(_),E=function ot(wt){wt=+wt;function st(K){return 1-Math.pow(1-K,wt)}return st.exponent=ot,st}(_),p=function ot(wt){wt=+wt;function st(K){return((K*=2)<=1?Math.pow(K,wt):2-Math.pow(2-K,wt))/2}return st.exponent=ot,st}(_),w=Math.PI,g=w/2;function b(ot){return+ot==1?1:1-Math.cos(ot*g)}function m(ot){return Math.sin(ot*g)}function M(ot){return(1-Math.cos(w*ot))/2}function P(ot){return(Math.pow(2,-10*ot)-.0009765625)*1.0009775171065494}function k(ot){return P(1-+ot)}function N(ot){return 1-P(ot)}function V(ot){return((ot*=2)<=1?P(1-ot):2-P(ot-1))/2}function $(ot){return 1-Math.sqrt(1-ot*ot)}function Z(ot){return Math.sqrt(1- --ot*ot)}function J(ot){return((ot*=2)<=1?1-Math.sqrt(1-ot*ot):Math.sqrt(1-(ot-=2)*ot)+1)/2}var lt=4/11,rt=6/11,bt=8/11,Ot=3/4,Bt=9/11,Et=10/11,Dt=15/16,It=21/22,_t=63/64,Xt=1/lt/lt;function z(ot){return 1-R(1-ot)}function R(ot){return(ot=+ot)<lt?Xt*ot*ot:ot<bt?Xt*(ot-=rt)*ot+Ot:ot<Et?Xt*(ot-=Bt)*ot+Dt:Xt*(ot-=It)*ot+_t}function F(ot){return((ot*=2)<=1?1-R(1-ot):R(ot-1)+1)/2}var D=1.70158,u=function ot(wt){wt=+wt;function st(K){return(K=+K)*K*(wt*(K-1)+K)}return st.overshoot=ot,st}(D),W=function ot(wt){wt=+wt;function st(K){return--K*K*((K+1)*wt+K)+1}return st.overshoot=ot,st}(D),it=function ot(wt){wt=+wt;function st(K){return((K*=2)<1?K*K*((wt+1)*K-wt):(K-=2)*K*((wt+1)*K+wt)+2)/2}return st.overshoot=ot,st}(D),nt=2*Math.PI,mt=1,et=.3,ct=function ot(wt,st){var K=Math.asin(1/(wt=Math.max(1,wt)))*(st/=nt);function tt(U){return wt*P(- --U)*Math.sin((K-U)/st)}return tt.amplitude=function(U){return ot(U,st*nt)},tt.period=function(U){return ot(wt,U)},tt}(mt,et),Pt=function ot(wt,st){var K=Math.asin(1/(wt=Math.max(1,wt)))*(st/=nt);function tt(U){return 1-wt*P(U=+U)*Math.sin((U+K)/st)}return tt.amplitude=function(U){return ot(U,st*nt)},tt.period=function(U){return ot(wt,U)},tt}(mt,et),At=function ot(wt,st){var K=Math.asin(1/(wt=Math.max(1,wt)))*(st/=nt);function tt(U){return((U=U*2-1)<0?wt*P(-U)*Math.sin((K-U)/st):2-wt*P(U)*Math.sin((K+U)/st))/2}return tt.amplitude=function(U){return ot(U,st*nt)},tt.period=function(U){return ot(wt,U)},tt}(mt,et)},88122:function(gt,S,d){"use strict";d.d(S,{Z:function(){return I},M:function(){return O}});var y=d(21775),L=d(67896);function I(T,_){return((0,L.v)(_)?L.Z:O)(T,_)}function O(T,_){var C=_?_.length:0,E=T?Math.min(C,T.length):0,p=new Array(E),w=new Array(C),g;for(g=0;g<E;++g)p[g]=(0,y.Z)(T[g],_[g]);for(;g<C;++g)w[g]=_[g];return function(b){for(g=0;g<E;++g)w[g]=p[g](b);return w}}},55302:function(gt,S,d){"use strict";d.d(S,{Z:function(){return y}});function y(L){return function(){return L}}},73626:function(gt,S,d){"use strict";d.d(S,{Z:function(){return y}});function y(L,I){return L=+L,I=+I,function(O){return L*(1-O)+I*O}}},67896:function(gt,S,d){"use strict";d.d(S,{Z:function(){return y},v:function(){return L}});function y(I,O){O||(O=[]);var T=I?Math.min(O.length,I.length):0,_=O.slice(),C;return function(E){for(C=0;C<T;++C)_[C]=I[C]*(1-E)+O[C]*E;return _}}function L(I){return ArrayBuffer.isView(I)&&!(I instanceof DataView)}},87765:function(gt,S,d){"use strict";d.d(S,{ZP:function(){return g},hD:function(){return m}});var y=d(2650);function L(P,k,N,V,$){var Z=P*P,J=Z*P;return((1-3*P+3*Z-J)*k+(4-6*Z+3*J)*N+(1+3*P+3*Z-3*J)*V+J*$)/6}function I(P){var k=P.length-1;return function(N){var V=N<=0?N=0:N>=1?(N=1,k-1):Math.floor(N*k),$=P[V],Z=P[V+1],J=V>0?P[V-1]:2*$-Z,lt=V<k-1?P[V+2]:2*Z-$;return L((N-V/k)*k,J,$,Z,lt)}}function O(P){var k=P.length;return function(N){var V=Math.floor(((N%=1)<0?++N:N)*k),$=P[(V+k-1)%k],Z=P[V%k],J=P[(V+1)%k],lt=P[(V+2)%k];return L((N-V/k)*k,$,Z,J,lt)}}var T=d(55302);function _(P,k){return function(N){return P+N*k}}function C(P,k,N){return P=Math.pow(P,N),k=Math.pow(k,N)-P,N=1/N,function(V){return Math.pow(P+V*k,N)}}function E(P,k){var N=k-P;return N?_(P,N>180||N<-180?N-360*Math.round(N/360):N):constant(isNaN(P)?k:P)}function p(P){return(P=+P)==1?w:function(k,N){return N-k?C(k,N,P):(0,T.Z)(isNaN(k)?N:k)}}function w(P,k){var N=k-P;return N?_(P,N):(0,T.Z)(isNaN(P)?k:P)}var g=function P(k){var N=p(k);function V($,Z){var J=N(($=(0,y.B8)($)).r,(Z=(0,y.B8)(Z)).r),lt=N($.g,Z.g),rt=N($.b,Z.b),bt=w($.opacity,Z.opacity);return function(Ot){return $.r=J(Ot),$.g=lt(Ot),$.b=rt(Ot),$.opacity=bt(Ot),$+""}}return V.gamma=P,V}(1);function b(P){return function(k){var N=k.length,V=new Array(N),$=new Array(N),Z=new Array(N),J,lt;for(J=0;J<N;++J)lt=(0,y.B8)(k[J]),V[J]=lt.r||0,$[J]=lt.g||0,Z[J]=lt.b||0;return V=P(V),$=P($),Z=P(Z),lt.opacity=1,function(rt){return lt.r=V(rt),lt.g=$(rt),lt.b=Z(rt),lt+""}}}var m=b(I),M=b(O)},21775:function(gt,S,d){"use strict";d.d(S,{Z:function(){return M}});var y=d(2650),L=d(87765),I=d(88122);function O(P,k){var N=new Date;return P=+P,k=+k,function(V){return N.setTime(P*(1-V)+k*V),N}}var T=d(73626);function _(P,k){var N={},V={},$;(P===null||typeof P!="object")&&(P={}),(k===null||typeof k!="object")&&(k={});for($ in k)$ in P?N[$]=M(P[$],k[$]):V[$]=k[$];return function(Z){for($ in N)V[$]=N[$](Z);return V}}var C=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,E=new RegExp(C.source,"g");function p(P){return function(){return P}}function w(P){return function(k){return P(k)+""}}function g(P,k){var N=C.lastIndex=E.lastIndex=0,V,$,Z,J=-1,lt=[],rt=[];for(P=P+"",k=k+"";(V=C.exec(P))&&($=E.exec(k));)(Z=$.index)>N&&(Z=k.slice(N,Z),lt[J]?lt[J]+=Z:lt[++J]=Z),(V=V[0])===($=$[0])?lt[J]?lt[J]+=$:lt[++J]=$:(lt[++J]=null,rt.push({i:J,x:(0,T.Z)(V,$)})),N=E.lastIndex;return N<k.length&&(Z=k.slice(N),lt[J]?lt[J]+=Z:lt[++J]=Z),lt.length<2?rt[0]?w(rt[0].x):p(k):(k=rt.length,function(bt){for(var Ot=0,Bt;Ot<k;++Ot)lt[(Bt=rt[Ot]).i]=Bt.x(bt);return lt.join("")})}var b=d(55302),m=d(67896);function M(P,k){var N=typeof k,V;return k==null||N==="boolean"?(0,b.Z)(k):(N==="number"?T.Z:N==="string"?(V=(0,y.ZP)(k))?(k=V,L.ZP):g:k instanceof y.ZP?L.ZP:k instanceof Date?O:(0,m.v)(k)?m.Z:Array.isArray(k)?I.M:typeof k.valueOf!="function"&&typeof k.toString!="function"||isNaN(k)?_:T.Z)(P,k)}},56645:function(gt,S){(function(d,y){y(S)})(this,function(d){"use strict";function y(Et,Dt){return L(Et)||I(Et,Dt)||O()}function L(Et){if(Array.isArray(Et))return Et}function I(Et,Dt){var It=[],_t=!0,Xt=!1,z=void 0;try{for(var R=Et[Symbol.iterator](),F;!(_t=(F=R.next()).done)&&(It.push(F.value),!(Dt&&It.length===Dt));_t=!0);}catch(D){Xt=!0,z=D}finally{try{!_t&&R.return!=null&&R.return()}finally{if(Xt)throw z}}return It}function O(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function T(Et,Dt,It,_t){Et=Et.filter(function(et,ct){var Pt=Dt(et,ct),At=It(et,ct);return Pt!=null&&isFinite(Pt)&&At!=null&&isFinite(At)}),_t&&Et.sort(function(et,ct){return Dt(et)-Dt(ct)});for(var Xt=Et.length,z=new Float64Array(Xt),R=new Float64Array(Xt),F=0,D=0,u,W,it,nt=0;nt<Xt;)it=Et[nt],z[nt]=u=+Dt(it,nt,Et),R[nt]=W=+It(it,nt,Et),++nt,F+=(u-F)/nt,D+=(W-D)/nt;for(var mt=0;mt<Xt;++mt)z[mt]-=F,R[mt]-=D;return[z,R,F,D]}function _(Et,Dt,It,_t){for(var Xt=0,z=0,R=Et.length;z<R;z++){var F=Et[z],D=+Dt(F,z,Et),u=+It(F,z,Et);D!=null&&isFinite(D)&&u!=null&&isFinite(u)&&_t(D,u,Xt++)}}function C(Et,Dt,It,_t,Xt){var z=0,R=0;return _(Et,Dt,It,function(F,D){var u=D-Xt(F),W=D-_t;z+=u*u,R+=W*W}),1-z/R}function E(Et){return Math.atan2(Et[1][1]-Et[0][1],Et[1][0]-Et[0][0])*180/Math.PI}function p(Et){return[(Et[0][0]+Et[1][0])/2,(Et[0][1]+Et[1][1])/2]}function w(Et,Dt,It){for(var _t=Math.log(Dt-Et)*Math.LOG10E+1|0,Xt=1*Math.pow(10,-_t/2-1),z=1e4,R=[D(Et),D(Dt)],F=0;u(R)&&F<z;);return R;function D(W){return[W,It(W)]}function u(W){F++;for(var it=W.length,nt=!1,mt=0;mt<it-1;mt++){var et=W[mt],ct=W[mt+1],Pt=p([et,ct]),At=D(Pt[0]),ot=E([et,Pt]),wt=E([et,At]),st=Math.abs(ot-wt);st>Xt&&(W.splice(mt+1,0,At),nt=!0)}return nt}}function g(Et,Dt,It,_t){var Xt=_t-Et*Et,z=Math.abs(Xt)<1e-24?0:(It-Et*Dt)/Xt,R=Dt-z*Et;return[R,z]}function b(){var Et=function(z){return z[0]},Dt=function(z){return z[1]},It;function _t(Xt){var z=0,R=0,F=0,D=0,u=0,W=0,it=It?+It[0]:Infinity,nt=It?+It[1]:-Infinity;_(Xt,Et,Dt,function(wt,st){var K=Math.log(st),tt=wt*st;++z,R+=(st-R)/z,D+=(tt-D)/z,W+=(wt*tt-W)/z,F+=(st*K-F)/z,u+=(tt*K-u)/z,It||(wt<it&&(it=wt),wt>nt&&(nt=wt))});var mt=g(D/R,F/R,u/R,W/R),et=y(mt,2),ct=et[0],Pt=et[1];ct=Math.exp(ct);var At=function(st){return ct*Math.exp(Pt*st)},ot=w(it,nt,At);return ot.a=ct,ot.b=Pt,ot.predict=At,ot.rSquared=C(Xt,Et,Dt,R,At),ot}return _t.domain=function(Xt){return arguments.length?(It=Xt,_t):It},_t.x=function(Xt){return arguments.length?(Et=Xt,_t):Et},_t.y=function(Xt){return arguments.length?(Dt=Xt,_t):Dt},_t}function m(){var Et=function(z){return z[0]},Dt=function(z){return z[1]},It;function _t(Xt){var z=0,R=0,F=0,D=0,u=0,W=It?+It[0]:Infinity,it=It?+It[1]:-Infinity;_(Xt,Et,Dt,function(ot,wt){++z,R+=(ot-R)/z,F+=(wt-F)/z,D+=(ot*wt-D)/z,u+=(ot*ot-u)/z,It||(ot<W&&(W=ot),ot>it&&(it=ot))});var nt=g(R,F,D,u),mt=y(nt,2),et=mt[0],ct=mt[1],Pt=function(wt){return ct*wt+et},At=[[W,Pt(W)],[it,Pt(it)]];return At.a=ct,At.b=et,At.predict=Pt,At.rSquared=C(Xt,Et,Dt,F,Pt),At}return _t.domain=function(Xt){return arguments.length?(It=Xt,_t):It},_t.x=function(Xt){return arguments.length?(Et=Xt,_t):Et},_t.y=function(Xt){return arguments.length?(Dt=Xt,_t):Dt},_t}function M(Et){Et.sort(function(It,_t){return It-_t});var Dt=Et.length/2;return Dt%1==0?(Et[Dt-1]+Et[Dt])/2:Et[Math.floor(Dt)]}var P=2,k=1e-12;function N(){var Et=function(z){return z[0]},Dt=function(z){return z[1]},It=.3;function _t(Xt){for(var z=T(Xt,Et,Dt,!0),R=y(z,4),F=R[0],D=R[1],u=R[2],W=R[3],it=F.length,nt=Math.max(2,~~(It*it)),mt=new Float64Array(it),et=new Float64Array(it),ct=new Float64Array(it).fill(1),Pt=-1;++Pt<=P;){for(var At=[0,nt-1],ot=0;ot<it;++ot){for(var wt=F[ot],st=At[0],K=At[1],tt=wt-F[st]>F[K]-wt?st:K,U=0,j=0,at=0,vt=0,Ft=0,Jt=1/Math.abs(F[tt]-wt||1),le=st;le<=K;++le){var ge=F[le],Zt=D[le],kt=V(Math.abs(wt-ge)*Jt)*ct[le],zt=ge*kt;U+=kt,j+=zt,at+=Zt*kt,vt+=Zt*zt,Ft+=ge*zt}var ne=g(j/U,at/U,vt/U,Ft/U),de=y(ne,2),Ce=de[0],De=de[1];mt[ot]=Ce+De*wt,et[ot]=Math.abs(D[ot]-mt[ot]),$(F,ot+1,At)}if(Pt===P)break;var ze=M(et);if(Math.abs(ze)<k)break;for(var er=0,yr,tn;er<it;++er)yr=et[er]/(6*ze),ct[er]=yr>=1?k:(tn=1-yr*yr)*tn}return Z(F,mt,u,W)}return _t.bandwidth=function(Xt){return arguments.length?(It=Xt,_t):It},_t.x=function(Xt){return arguments.length?(Et=Xt,_t):Et},_t.y=function(Xt){return arguments.length?(Dt=Xt,_t):Dt},_t}function V(Et){return(Et=1-Et*Et*Et)*Et*Et}function $(Et,Dt,It){var _t=Et[Dt],Xt=It[0],z=It[1]+1;if(!(z>=Et.length))for(;Dt>Xt&&Et[z]-_t<=_t-Et[Xt];)It[0]=++Xt,It[1]=z,++z}function Z(Et,Dt,It,_t){for(var Xt=Et.length,z=[],R=0,F=0,D=[],u;R<Xt;++R)u=Et[R]+It,D[0]===u?D[1]+=(Dt[R]-D[1])/++F:(F=0,D[1]+=_t,D=[u,Dt[R]],z.push(D));return D[1]+=_t,z}function J(){var Et=function(R){return R[0]},Dt=function(R){return R[1]},It=Math.E,_t;function Xt(z){var R=0,F=0,D=0,u=0,W=0,it=_t?+_t[0]:Infinity,nt=_t?+_t[1]:-Infinity,mt=Math.log(It);_(z,Et,Dt,function(st,K){var tt=Math.log(st)/mt;++R,F+=(tt-F)/R,D+=(K-D)/R,u+=(tt*K-u)/R,W+=(tt*tt-W)/R,_t||(st<it&&(it=st),st>nt&&(nt=st))});var et=g(F,D,u,W),ct=y(et,2),Pt=ct[0],At=ct[1],ot=function(K){return At*Math.log(K)/mt+Pt},wt=w(it,nt,ot);return wt.a=At,wt.b=Pt,wt.predict=ot,wt.rSquared=C(z,Et,Dt,D,ot),wt}return Xt.domain=function(z){return arguments.length?(_t=z,Xt):_t},Xt.x=function(z){return arguments.length?(Et=z,Xt):Et},Xt.y=function(z){return arguments.length?(Dt=z,Xt):Dt},Xt.base=function(z){return arguments.length?(It=z,Xt):It},Xt}function lt(){var Et=function(z){return z[0]},Dt=function(z){return z[1]},It;function _t(Xt){var z=T(Xt,Et,Dt),R=y(z,4),F=R[0],D=R[1],u=R[2],W=R[3],it=F.length,nt=0,mt=0,et=0,ct=0,Pt=0,At,ot,wt,st;for(At=0;At<it;)ot=F[At],wt=D[At++],st=ot*ot,nt+=(st-nt)/At,mt+=(st*ot-mt)/At,et+=(st*st-et)/At,ct+=(ot*wt-ct)/At,Pt+=(st*wt-Pt)/At;var K=0,tt=0,U=It?+It[0]:Infinity,j=It?+It[1]:-Infinity;_(Xt,Et,Dt,function(kt,zt){tt++,K+=(zt-K)/tt,It||(kt<U&&(U=kt),kt>j&&(j=kt))});var at=et-nt*nt,vt=nt*at-mt*mt,Ft=(Pt*nt-ct*mt)/vt,Jt=(ct*at-Pt*mt)/vt,le=-Ft*nt,ge=function(zt){return zt=zt-u,Ft*zt*zt+Jt*zt+le+W},Zt=w(U,j,ge);return Zt.a=Ft,Zt.b=Jt-2*Ft*u,Zt.c=le-Jt*u+Ft*u*u+W,Zt.predict=ge,Zt.rSquared=C(Xt,Et,Dt,K,ge),Zt}return _t.domain=function(Xt){return arguments.length?(It=Xt,_t):It},_t.x=function(Xt){return arguments.length?(Et=Xt,_t):Et},_t.y=function(Xt){return arguments.length?(Dt=Xt,_t):Dt},_t}function rt(){var Et=function(R){return R[0]},Dt=function(R){return R[1]},It=3,_t;function Xt(z){if(It===1){var R=m().x(Et).y(Dt).domain(_t)(z);return R.coefficients=[R.b,R.a],delete R.a,delete R.b,R}if(It===2){var F=lt().x(Et).y(Dt).domain(_t)(z);return F.coefficients=[F.c,F.b,F.a],delete F.a,delete F.b,delete F.c,F}var D=T(z,Et,Dt),u=y(D,4),W=u[0],it=u[1],nt=u[2],mt=u[3],et=W.length,ct=[],Pt=[],At=It+1,ot=0,wt=0,st=_t?+_t[0]:Infinity,K=_t?+_t[1]:-Infinity;_(z,Et,Dt,function(ge,Zt){++wt,ot+=(Zt-ot)/wt,_t||(ge<st&&(st=ge),ge>K&&(K=ge))});var tt,U,j,at,vt;for(tt=0;tt<At;++tt){for(j=0,at=0;j<et;++j)at+=Math.pow(W[j],tt)*it[j];for(ct.push(at),vt=new Float64Array(At),U=0;U<At;++U){for(j=0,at=0;j<et;++j)at+=Math.pow(W[j],tt+U);vt[U]=at}Pt.push(vt)}Pt.push(ct);var Ft=Ot(Pt),Jt=function(Zt){Zt-=nt;var kt=mt+Ft[0]+Ft[1]*Zt+Ft[2]*Zt*Zt;for(tt=3;tt<At;++tt)kt+=Ft[tt]*Math.pow(Zt,tt);return kt},le=w(st,K,Jt);return le.coefficients=bt(At,Ft,-nt,mt),le.predict=Jt,le.rSquared=C(z,Et,Dt,ot,Jt),le}return Xt.domain=function(z){return arguments.length?(_t=z,Xt):_t},Xt.x=function(z){return arguments.length?(Et=z,Xt):Et},Xt.y=function(z){return arguments.length?(Dt=z,Xt):Dt},Xt.order=function(z){return arguments.length?(It=z,Xt):It},Xt}function bt(Et,Dt,It,_t){var Xt=Array(Et),z,R,F,D;for(z=0;z<Et;++z)Xt[z]=0;for(z=Et-1;z>=0;--z)for(F=Dt[z],D=1,Xt[z]+=F,R=1;R<=z;++R)D*=(z+1-R)/R,Xt[z-R]+=F*Math.pow(It,R)*D;return Xt[0]+=_t,Xt}function Ot(Et){var Dt=Et.length-1,It=[],_t,Xt,z,R,F;for(_t=0;_t<Dt;++_t){for(R=_t,Xt=_t+1;Xt<Dt;++Xt)Math.abs(Et[_t][Xt])>Math.abs(Et[_t][R])&&(R=Xt);for(z=_t;z<Dt+1;++z)F=Et[z][_t],Et[z][_t]=Et[z][R],Et[z][R]=F;for(Xt=_t+1;Xt<Dt;++Xt)for(z=Dt;z>=_t;z--)Et[z][Xt]-=Et[z][_t]*Et[_t][Xt]/Et[_t][_t]}for(Xt=Dt-1;Xt>=0;--Xt){for(F=0,z=Xt+1;z<Dt;++z)F+=Et[z][Xt]*It[z];It[Xt]=(Et[Dt][Xt]-F)/Et[Xt][Xt]}return It}function Bt(){var Et=function(z){return z[0]},Dt=function(z){return z[1]},It;function _t(Xt){var z=0,R=0,F=0,D=0,u=0,W=0,it=It?+It[0]:Infinity,nt=It?+It[1]:-Infinity;_(Xt,Et,Dt,function(wt,st){var K=Math.log(wt),tt=Math.log(st);++z,R+=(K-R)/z,F+=(tt-F)/z,D+=(K*tt-D)/z,u+=(K*K-u)/z,W+=(st-W)/z,It||(wt<it&&(it=wt),wt>nt&&(nt=wt))});var mt=g(R,F,D,u),et=y(mt,2),ct=et[0],Pt=et[1];ct=Math.exp(ct);var At=function(st){return ct*Math.pow(st,Pt)},ot=w(it,nt,At);return ot.a=ct,ot.b=Pt,ot.predict=At,ot.rSquared=C(Xt,Et,Dt,W,At),ot}return _t.domain=function(Xt){return arguments.length?(It=Xt,_t):It},_t.x=function(Xt){return arguments.length?(Et=Xt,_t):Et},_t.y=function(Xt){return arguments.length?(Dt=Xt,_t):Dt},_t}d.regressionExp=b,d.regressionLinear=m,d.regressionLoess=N,d.regressionLog=J,d.regressionPoly=rt,d.regressionPow=Bt,d.regressionQuad=lt,Object.defineProperty(d,"__esModule",{value:!0})})},35374:function(gt,S,d){"use strict";d.d(S,{HT:function(){return P}});var y=0,L=0,I=0,O=1e3,T,_,C=0,E=0,p=0,w=typeof performance=="object"&&performance.now?performance:Date,g=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(J){setTimeout(J,17)};function b(){return E||(g(m),E=w.now()+p)}function m(){E=0}function M(){this._call=this._time=this._next=null}M.prototype=P.prototype={constructor:M,restart:function(J,lt,rt){if(typeof J!="function")throw new TypeError("callback is not a function");rt=(rt==null?b():+rt)+(lt==null?0:+lt),!this._next&&_!==this&&(_?_._next=this:T=this,_=this),this._call=J,this._time=rt,Z()},stop:function(){this._call&&(this._call=null,this._time=Infinity,Z())}};function P(J,lt,rt){var bt=new M;return bt.restart(J,lt,rt),bt}function k(){b(),++y;for(var J=T,lt;J;)(lt=E-J._time)>=0&&J._call.call(null,lt),J=J._next;--y}function N(){E=(C=w.now())+p,y=L=0;try{k()}finally{y=0,$(),E=0}}function V(){var J=w.now(),lt=J-C;lt>O&&(p-=lt,C=J)}function $(){for(var J,lt=T,rt,bt=Infinity;lt;)lt._call?(bt>lt._time&&(bt=lt._time),J=lt,lt=lt._next):(rt=lt._next,lt._next=null,lt=J?J._next=rt:T=rt);_=J,Z(bt)}function Z(J){if(!y){L&&(L=clearTimeout(L));var lt=J-E;lt>24?(J<Infinity&&(L=setTimeout(N,J-w.now()-p)),I&&(I=clearInterval(I))):(I||(C=w.now(),I=setInterval(V,O)),y=1,g(N))}}},70681:function(gt,S,d){gt.exports={graphlib:d(70574),layout:d(98123),debug:d(27570),util:{time:d(11138).time,notime:d(11138).notime},version:d(88177)}},92188:function(gt,S,d){"use strict";var y=d(38436),L=d(74079);gt.exports={run:I,undo:T};function I(_){var C=_.graph().acyclicer==="greedy"?L(_,E(_)):O(_);y.forEach(C,function(p){var w=_.edge(p);_.removeEdge(p),w.forwardName=p.name,w.reversed=!0,_.setEdge(p.w,p.v,w,y.uniqueId("rev"))});function E(p){return function(w){return p.edge(w).weight}}}function O(_){var C=[],E={},p={};function w(g){y.has(p,g)||(p[g]=!0,E[g]=!0,y.forEach(_.outEdges(g),function(b){y.has(E,b.w)?C.push(b):w(b.w)}),delete E[g])}return y.forEach(_.nodes(),w),C}function T(_){y.forEach(_.edges(),function(C){var E=_.edge(C);if(E.reversed){_.removeEdge(C);var p=E.forwardName;delete E.reversed,delete E.forwardName,_.setEdge(C.w,C.v,E,p)}})}},61133:function(gt,S,d){var y=d(38436),L=d(11138);gt.exports=I;function I(T){function _(C){var E=T.children(C),p=T.node(C);if(E.length&&y.forEach(E,_),y.has(p,"minRank")){p.borderLeft=[],p.borderRight=[];for(var w=p.minRank,g=p.maxRank+1;w<g;++w)O(T,"borderLeft","_bl",C,p,w),O(T,"borderRight","_br",C,p,w)}}y.forEach(T.children(),_)}function O(T,_,C,E,p,w){var g={width:0,height:0,rank:w,borderType:_},b=p[_][w-1],m=L.addDummyNode(T,"border",g,C);p[_][w]=m,T.setParent(m,E),b&&T.setEdge(b,m,{weight:1})}},53258:function(gt,S,d){"use strict";var y=d(38436);gt.exports={adjust:L,undo:I};function L(w){var g=w.graph().rankdir.toLowerCase();(g==="lr"||g==="rl")&&O(w)}function I(w){var g=w.graph().rankdir.toLowerCase();(g==="bt"||g==="rl")&&_(w),(g==="lr"||g==="rl")&&(E(w),O(w))}function O(w){y.forEach(w.nodes(),function(g){T(w.node(g))}),y.forEach(w.edges(),function(g){T(w.edge(g))})}function T(w){var g=w.width;w.width=w.height,w.height=g}function _(w){y.forEach(w.nodes(),function(g){C(w.node(g))}),y.forEach(w.edges(),function(g){var b=w.edge(g);y.forEach(b.points,C),y.has(b,"y")&&C(b)})}function C(w){w.y=-w.y}function E(w){y.forEach(w.nodes(),function(g){p(w.node(g))}),y.forEach(w.edges(),function(g){var b=w.edge(g);y.forEach(b.points,p),y.has(b,"x")&&p(b)})}function p(w){var g=w.x;w.x=w.y,w.y=g}},77822:function(gt){gt.exports=S;function S(){var L={};L._next=L._prev=L,this._sentinel=L}S.prototype.dequeue=function(){var L=this._sentinel,I=L._prev;if(I!==L)return d(I),I},S.prototype.enqueue=function(L){var I=this._sentinel;L._prev&&L._next&&d(L),L._next=I._next,I._next._prev=L,I._next=L,L._prev=I},S.prototype.toString=function(){for(var L=[],I=this._sentinel,O=I._prev;O!==I;)L.push(JSON.stringify(O,y)),O=O._prev;return"["+L.join(", ")+"]"};function d(L){L._prev._next=L._next,L._next._prev=L._prev,delete L._next,delete L._prev}function y(L,I){if(L!=="_next"&&L!=="_prev")return I}},27570:function(gt,S,d){var y=d(38436),L=d(11138),I=d(70574).Graph;gt.exports={debugOrdering:O};function O(T){var _=L.buildLayerMatrix(T),C=new I({compound:!0,multigraph:!0}).setGraph({});return y.forEach(T.nodes(),function(E){C.setNode(E,{label:E}),C.setParent(E,"layer"+T.node(E).rank)}),y.forEach(T.edges(),function(E){C.setEdge(E.v,E.w,{},E.name)}),y.forEach(_,function(E,p){var w="layer"+p;C.setNode(w,{rank:"same"}),y.reduce(E,function(g,b){return C.setEdge(g,b,{style:"invis"}),b})}),C}},70574:function(gt,S,d){var y;try{y=d(28282)}catch(L){}y||(y=window.graphlib),gt.exports=y},74079:function(gt,S,d){var y=d(38436),L=d(70574).Graph,I=d(77822);gt.exports=T;var O=y.constant(1);function T(w,g){if(w.nodeCount()<=1)return[];var b=E(w,g||O),m=_(b.graph,b.buckets,b.zeroIdx);return y.flatten(y.map(m,function(M){return w.outEdges(M.v,M.w)}),!0)}function _(w,g,b){for(var m=[],M=g[g.length-1],P=g[0],k;w.nodeCount();){for(;k=P.dequeue();)C(w,g,b,k);for(;k=M.dequeue();)C(w,g,b,k);if(w.nodeCount()){for(var N=g.length-2;N>0;--N)if(k=g[N].dequeue(),k){m=m.concat(C(w,g,b,k,!0));break}}}return m}function C(w,g,b,m,M){var P=M?[]:void 0;return y.forEach(w.inEdges(m.v),function(k){var N=w.edge(k),V=w.node(k.v);M&&P.push({v:k.v,w:k.w}),V.out-=N,p(g,b,V)}),y.forEach(w.outEdges(m.v),function(k){var N=w.edge(k),V=k.w,$=w.node(V);$.in-=N,p(g,b,$)}),w.removeNode(m.v),P}function E(w,g){var b=new L,m=0,M=0;y.forEach(w.nodes(),function(N){b.setNode(N,{v:N,in:0,out:0})}),y.forEach(w.edges(),function(N){var V=b.edge(N.v,N.w)||0,$=g(N),Z=V+$;b.setEdge(N.v,N.w,Z),M=Math.max(M,b.node(N.v).out+=$),m=Math.max(m,b.node(N.w).in+=$)});var P=y.range(M+m+3).map(function(){return new I}),k=m+1;return y.forEach(b.nodes(),function(N){p(P,k,b.node(N))}),{graph:b,buckets:P,zeroIdx:k}}function p(w,g,b){b.out?b.in?w[b.out-b.in+g].enqueue(b):w[w.length-1].enqueue(b):w[0].enqueue(b)}},98123:function(gt,S,d){"use strict";var y=d(38436),L=d(92188),I=d(45995),O=d(78093),T=d(11138).normalizeRanks,_=d(24219),C=d(11138).removeEmptyRanks,E=d(72981),p=d(61133),w=d(53258),g=d(53408),b=d(17873),m=d(11138),M=d(70574).Graph;gt.exports=P;function P(et,ct){var Pt=ct&&ct.debugTiming?m.time:m.notime;Pt("layout",function(){var At=Pt("  buildLayoutGraph",function(){return Bt(et)});Pt("  runLayout",function(){k(At,Pt)}),Pt("  updateInputGraph",function(){N(et,At)})})}function k(et,ct){ct("    makeSpaceForEdgeLabels",function(){Et(et)}),ct("    removeSelfEdges",function(){u(et)}),ct("    acyclic",function(){L.run(et)}),ct("    nestingGraph.run",function(){E.run(et)}),ct("    rank",function(){O(m.asNonCompoundGraph(et))}),ct("    injectEdgeLabelProxies",function(){Dt(et)}),ct("    removeEmptyRanks",function(){C(et)}),ct("    nestingGraph.cleanup",function(){E.cleanup(et)}),ct("    normalizeRanks",function(){T(et)}),ct("    assignRankMinMax",function(){It(et)}),ct("    removeEdgeLabelProxies",function(){_t(et)}),ct("    normalize.run",function(){I.run(et)}),ct("    parentDummyChains",function(){_(et)}),ct("    addBorderSegments",function(){p(et)}),ct("    order",function(){g(et)}),ct("    insertSelfEdges",function(){W(et)}),ct("    adjustCoordinateSystem",function(){w.adjust(et)}),ct("    position",function(){b(et)}),ct("    positionSelfEdges",function(){it(et)}),ct("    removeBorderNodes",function(){D(et)}),ct("    normalize.undo",function(){I.undo(et)}),ct("    fixupEdgeLabelCoords",function(){R(et)}),ct("    undoCoordinateSystem",function(){w.undo(et)}),ct("    translateGraph",function(){Xt(et)}),ct("    assignNodeIntersects",function(){z(et)}),ct("    reversePoints",function(){F(et)}),ct("    acyclic.undo",function(){L.undo(et)})}function N(et,ct){y.forEach(et.nodes(),function(Pt){var At=et.node(Pt),ot=ct.node(Pt);At&&(At.x=ot.x,At.y=ot.y,ct.children(Pt).length&&(At.width=ot.width,At.height=ot.height))}),y.forEach(et.edges(),function(Pt){var At=et.edge(Pt),ot=ct.edge(Pt);At.points=ot.points,y.has(ot,"x")&&(At.x=ot.x,At.y=ot.y)}),et.graph().width=ct.graph().width,et.graph().height=ct.graph().height}var V=["nodesep","edgesep","ranksep","marginx","marginy"],$={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},Z=["acyclicer","ranker","rankdir","align"],J=["width","height"],lt={width:0,height:0},rt=["minlen","weight","width","height","labeloffset"],bt={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},Ot=["labelpos"];function Bt(et){var ct=new M({multigraph:!0,compound:!0}),Pt=mt(et.graph());return ct.setGraph(y.merge({},$,nt(Pt,V),y.pick(Pt,Z))),y.forEach(et.nodes(),function(At){var ot=mt(et.node(At));ct.setNode(At,y.defaults(nt(ot,J),lt)),ct.setParent(At,et.parent(At))}),y.forEach(et.edges(),function(At){var ot=mt(et.edge(At));ct.setEdge(At,y.merge({},bt,nt(ot,rt),y.pick(ot,Ot)))}),ct}function Et(et){var ct=et.graph();ct.ranksep/=2,y.forEach(et.edges(),function(Pt){var At=et.edge(Pt);At.minlen*=2,At.labelpos.toLowerCase()!=="c"&&(ct.rankdir==="TB"||ct.rankdir==="BT"?At.width+=At.labeloffset:At.height+=At.labeloffset)})}function Dt(et){y.forEach(et.edges(),function(ct){var Pt=et.edge(ct);if(Pt.width&&Pt.height){var At=et.node(ct.v),ot=et.node(ct.w),wt={rank:(ot.rank-At.rank)/2+At.rank,e:ct};m.addDummyNode(et,"edge-proxy",wt,"_ep")}})}function It(et){var ct=0;y.forEach(et.nodes(),function(Pt){var At=et.node(Pt);At.borderTop&&(At.minRank=et.node(At.borderTop).rank,At.maxRank=et.node(At.borderBottom).rank,ct=y.max(ct,At.maxRank))}),et.graph().maxRank=ct}function _t(et){y.forEach(et.nodes(),function(ct){var Pt=et.node(ct);Pt.dummy==="edge-proxy"&&(et.edge(Pt.e).labelRank=Pt.rank,et.removeNode(ct))})}function Xt(et){var ct=Number.POSITIVE_INFINITY,Pt=0,At=Number.POSITIVE_INFINITY,ot=0,wt=et.graph(),st=wt.marginx||0,K=wt.marginy||0;function tt(U){var j=U.x,at=U.y,vt=U.width,Ft=U.height;ct=Math.min(ct,j-vt/2),Pt=Math.max(Pt,j+vt/2),At=Math.min(At,at-Ft/2),ot=Math.max(ot,at+Ft/2)}y.forEach(et.nodes(),function(U){tt(et.node(U))}),y.forEach(et.edges(),function(U){var j=et.edge(U);y.has(j,"x")&&tt(j)}),ct-=st,At-=K,y.forEach(et.nodes(),function(U){var j=et.node(U);j.x-=ct,j.y-=At}),y.forEach(et.edges(),function(U){var j=et.edge(U);y.forEach(j.points,function(at){at.x-=ct,at.y-=At}),y.has(j,"x")&&(j.x-=ct),y.has(j,"y")&&(j.y-=At)}),wt.width=Pt-ct+st,wt.height=ot-At+K}function z(et){y.forEach(et.edges(),function(ct){var Pt=et.edge(ct),At=et.node(ct.v),ot=et.node(ct.w),wt,st;Pt.points?(wt=Pt.points[0],st=Pt.points[Pt.points.length-1]):(Pt.points=[],wt=ot,st=At),Pt.points.unshift(m.intersectRect(At,wt)),Pt.points.push(m.intersectRect(ot,st))})}function R(et){y.forEach(et.edges(),function(ct){var Pt=et.edge(ct);if(y.has(Pt,"x"))switch((Pt.labelpos==="l"||Pt.labelpos==="r")&&(Pt.width-=Pt.labeloffset),Pt.labelpos){case"l":Pt.x-=Pt.width/2+Pt.labeloffset;break;case"r":Pt.x+=Pt.width/2+Pt.labeloffset;break}})}function F(et){y.forEach(et.edges(),function(ct){var Pt=et.edge(ct);Pt.reversed&&Pt.points.reverse()})}function D(et){y.forEach(et.nodes(),function(ct){if(et.children(ct).length){var Pt=et.node(ct),At=et.node(Pt.borderTop),ot=et.node(Pt.borderBottom),wt=et.node(y.last(Pt.borderLeft)),st=et.node(y.last(Pt.borderRight));Pt.width=Math.abs(st.x-wt.x),Pt.height=Math.abs(ot.y-At.y),Pt.x=wt.x+Pt.width/2,Pt.y=At.y+Pt.height/2}}),y.forEach(et.nodes(),function(ct){et.node(ct).dummy==="border"&&et.removeNode(ct)})}function u(et){y.forEach(et.edges(),function(ct){if(ct.v===ct.w){var Pt=et.node(ct.v);Pt.selfEdges||(Pt.selfEdges=[]),Pt.selfEdges.push({e:ct,label:et.edge(ct)}),et.removeEdge(ct)}})}function W(et){var ct=m.buildLayerMatrix(et);y.forEach(ct,function(Pt){var At=0;y.forEach(Pt,function(ot,wt){var st=et.node(ot);st.order=wt+At,y.forEach(st.selfEdges,function(K){m.addDummyNode(et,"selfedge",{width:K.label.width,height:K.label.height,rank:st.rank,order:wt+ ++At,e:K.e,label:K.label},"_se")}),delete st.selfEdges})})}function it(et){y.forEach(et.nodes(),function(ct){var Pt=et.node(ct);if(Pt.dummy==="selfedge"){var At=et.node(Pt.e.v),ot=At.x+At.width/2,wt=At.y,st=Pt.x-ot,K=At.height/2;et.setEdge(Pt.e,Pt.label),et.removeNode(ct),Pt.label.points=[{x:ot+2*st/3,y:wt-K},{x:ot+5*st/6,y:wt-K},{x:ot+st,y:wt},{x:ot+5*st/6,y:wt+K},{x:ot+2*st/3,y:wt+K}],Pt.label.x=Pt.x,Pt.label.y=Pt.y}})}function nt(et,ct){return y.mapValues(y.pick(et,ct),Number)}function mt(et){var ct={};return y.forEach(et,function(Pt,At){ct[At.toLowerCase()]=Pt}),ct}},38436:function(gt,S,d){var y;try{y={cloneDeep:d(50361),constant:d(75703),defaults:d(91747),each:d(66073),filter:d(63105),find:d(13311),flatten:d(85564),forEach:d(84486),forIn:d(62620),has:d(18721),isUndefined:d(52353),last:d(10928),map:d(35161),mapValues:d(66604),max:d(6162),merge:d(82492),min:d(53632),minBy:d(22762),now:d(7771),pick:d(78718),range:d(96026),reduce:d(54061),sortBy:d(89734),uniqueId:d(73955),values:d(52628),zipObject:d(7287)}}catch(L){}y||(y=window._),gt.exports=y},72981:function(gt,S,d){var y=d(38436),L=d(11138);gt.exports={run:I,cleanup:C};function I(E){var p=L.addDummyNode(E,"root",{},"_root"),w=T(E),g=y.max(y.values(w))-1,b=2*g+1;E.graph().nestingRoot=p,y.forEach(E.edges(),function(M){E.edge(M).minlen*=b});var m=_(E)+1;y.forEach(E.children(),function(M){O(E,p,b,m,g,w,M)}),E.graph().nodeRankFactor=b}function O(E,p,w,g,b,m,M){var P=E.children(M);if(!P.length){M!==p&&E.setEdge(p,M,{weight:0,minlen:w});return}var k=L.addBorderNode(E,"_bt"),N=L.addBorderNode(E,"_bb"),V=E.node(M);E.setParent(k,M),V.borderTop=k,E.setParent(N,M),V.borderBottom=N,y.forEach(P,function($){O(E,p,w,g,b,m,$);var Z=E.node($),J=Z.borderTop?Z.borderTop:$,lt=Z.borderBottom?Z.borderBottom:$,rt=Z.borderTop?g:2*g,bt=J!==lt?1:b-m[M]+1;E.setEdge(k,J,{weight:rt,minlen:bt,nestingEdge:!0}),E.setEdge(lt,N,{weight:rt,minlen:bt,nestingEdge:!0})}),E.parent(M)||E.setEdge(p,k,{weight:0,minlen:b+m[M]})}function T(E){var p={};function w(g,b){var m=E.children(g);m&&m.length&&y.forEach(m,function(M){w(M,b+1)}),p[g]=b}return y.forEach(E.children(),function(g){w(g,1)}),p}function _(E){return y.reduce(E.edges(),function(p,w){return p+E.edge(w).weight},0)}function C(E){var p=E.graph();E.removeNode(p.nestingRoot),delete p.nestingRoot,y.forEach(E.edges(),function(w){var g=E.edge(w);g.nestingEdge&&E.removeEdge(w)})}},45995:function(gt,S,d){"use strict";var y=d(38436),L=d(11138);gt.exports={run:I,undo:T};function I(_){_.graph().dummyChains=[],y.forEach(_.edges(),function(C){O(_,C)})}function O(_,C){var E=C.v,p=_.node(E).rank,w=C.w,g=_.node(w).rank,b=C.name,m=_.edge(C),M=m.labelRank;if(g!==p+1){_.removeEdge(C);var P,k,N;for(N=0,++p;p<g;++N,++p)m.points=[],k={width:0,height:0,edgeLabel:m,edgeObj:C,rank:p},P=L.addDummyNode(_,"edge",k,"_d"),p===M&&(k.width=m.width,k.height=m.height,k.dummy="edge-label",k.labelpos=m.labelpos),_.setEdge(E,P,{weight:m.weight},b),N===0&&_.graph().dummyChains.push(P),E=P;_.setEdge(E,w,{weight:m.weight},b)}}function T(_){y.forEach(_.graph().dummyChains,function(C){var E=_.node(C),p=E.edgeLabel,w;for(_.setEdge(E.edgeObj,p);E.dummy;)w=_.successors(C)[0],_.removeNode(C),p.points.push({x:E.x,y:E.y}),E.dummy==="edge-label"&&(p.x=E.x,p.y=E.y,p.width=E.width,p.height=E.height),C=w,E=_.node(C)})}},55093:function(gt,S,d){var y=d(38436);gt.exports=L;function L(I,O,T){var _={},C;y.forEach(T,function(E){for(var p=I.parent(E),w,g;p;){if(w=I.parent(p),w?(g=_[w],_[w]=p):(g=C,C=p),g&&g!==p){O.setEdge(g,p);return}p=w}})}},35439:function(gt,S,d){var y=d(38436);gt.exports=L;function L(I,O){return y.map(O,function(T){var _=I.inEdges(T);if(_.length){var C=y.reduce(_,function(E,p){var w=I.edge(p),g=I.node(p.v);return{sum:E.sum+w.weight*g.order,weight:E.weight+w.weight}},{sum:0,weight:0});return{v:T,barycenter:C.sum/C.weight,weight:C.weight}}else return{v:T}})}},23128:function(gt,S,d){var y=d(38436),L=d(70574).Graph;gt.exports=I;function I(T,_,C){var E=O(T),p=new L({compound:!0}).setGraph({root:E}).setDefaultNodeLabel(function(w){return T.node(w)});return y.forEach(T.nodes(),function(w){var g=T.node(w),b=T.parent(w);(g.rank===_||g.minRank<=_&&_<=g.maxRank)&&(p.setNode(w),p.setParent(w,b||E),y.forEach(T[C](w),function(m){var M=m.v===w?m.w:m.v,P=p.edge(M,w),k=y.isUndefined(P)?0:P.weight;p.setEdge(M,w,{weight:T.edge(m).weight+k})}),y.has(g,"minRank")&&p.setNode(w,{borderLeft:g.borderLeft[_],borderRight:g.borderRight[_]}))}),p}function O(T){for(var _;T.hasNode(_=y.uniqueId("_root")););return _}},56630:function(gt,S,d){"use strict";var y=d(38436);gt.exports=L;function L(O,T){for(var _=0,C=1;C<T.length;++C)_+=I(O,T[C-1],T[C]);return _}function I(O,T,_){for(var C=y.zipObject(_,y.map(_,function(m,M){return M})),E=y.flatten(y.map(T,function(m){return y.sortBy(y.map(O.outEdges(m),function(M){return{pos:C[M.w],weight:O.edge(M).weight}}),"pos")}),!0),p=1;p<_.length;)p<<=1;var w=2*p-1;p-=1;var g=y.map(new Array(w),function(){return 0}),b=0;return y.forEach(E.forEach(function(m){var M=m.pos+p;g[M]+=m.weight;for(var P=0;M>0;)M%2&&(P+=g[M+1]),M=M-1>>1,g[M]+=m.weight;b+=m.weight*P})),b}},53408:function(gt,S,d){"use strict";var y=d(38436),L=d(2588),I=d(56630),O=d(61026),T=d(23128),_=d(55093),C=d(70574).Graph,E=d(11138);gt.exports=p;function p(m){var M=E.maxRank(m),P=w(m,y.range(1,M+1),"inEdges"),k=w(m,y.range(M-1,-1,-1),"outEdges"),N=L(m);b(m,N);for(var V=Number.POSITIVE_INFINITY,$,Z=0,J=0;J<4;++Z,++J){g(Z%2?P:k,Z%4>=2),N=E.buildLayerMatrix(m);var lt=I(m,N);lt<V&&(J=0,$=y.cloneDeep(N),V=lt)}b(m,$)}function w(m,M,P){return y.map(M,function(k){return T(m,k,P)})}function g(m,M){var P=new C;y.forEach(m,function(k){var N=k.graph().root,V=O(k,N,P,M);y.forEach(V.vs,function($,Z){k.node($).order=Z}),_(k,P,V.vs)})}function b(m,M){y.forEach(M,function(P){y.forEach(P,function(k,N){m.node(k).order=N})})}},2588:function(gt,S,d){"use strict";var y=d(38436);gt.exports=L;function L(I){var O={},T=y.filter(I.nodes(),function(w){return!I.children(w).length}),_=y.max(y.map(T,function(w){return I.node(w).rank})),C=y.map(y.range(_+1),function(){return[]});function E(w){if(!y.has(O,w)){O[w]=!0;var g=I.node(w);C[g.rank].push(w),y.forEach(I.successors(w),E)}}var p=y.sortBy(T,function(w){return I.node(w).rank});return y.forEach(p,E),C}},83678:function(gt,S,d){"use strict";var y=d(38436);gt.exports=L;function L(T,_){var C={};y.forEach(T,function(p,w){var g=C[p.v]={indegree:0,in:[],out:[],vs:[p.v],i:w};y.isUndefined(p.barycenter)||(g.barycenter=p.barycenter,g.weight=p.weight)}),y.forEach(_.edges(),function(p){var w=C[p.v],g=C[p.w];!y.isUndefined(w)&&!y.isUndefined(g)&&(g.indegree++,w.out.push(C[p.w]))});var E=y.filter(C,function(p){return!p.indegree});return I(E)}function I(T){var _=[];function C(w){return function(g){g.merged||(y.isUndefined(g.barycenter)||y.isUndefined(w.barycenter)||g.barycenter>=w.barycenter)&&O(w,g)}}function E(w){return function(g){g.in.push(w),--g.indegree==0&&T.push(g)}}for(;T.length;){var p=T.pop();_.push(p),y.forEach(p.in.reverse(),C(p)),y.forEach(p.out,E(p))}return y.map(y.filter(_,function(w){return!w.merged}),function(w){return y.pick(w,["vs","i","barycenter","weight"])})}function O(T,_){var C=0,E=0;T.weight&&(C+=T.barycenter*T.weight,E+=T.weight),_.weight&&(C+=_.barycenter*_.weight,E+=_.weight),T.vs=_.vs.concat(T.vs),T.barycenter=C/E,T.weight=E,T.i=Math.min(_.i,T.i),_.merged=!0}},61026:function(gt,S,d){var y=d(38436),L=d(35439),I=d(83678),O=d(87304);gt.exports=T;function T(E,p,w,g){var b=E.children(p),m=E.node(p),M=m?m.borderLeft:void 0,P=m?m.borderRight:void 0,k={};M&&(b=y.filter(b,function(lt){return lt!==M&&lt!==P}));var N=L(E,b);y.forEach(N,function(lt){if(E.children(lt.v).length){var rt=T(E,lt.v,w,g);k[lt.v]=rt,y.has(rt,"barycenter")&&C(lt,rt)}});var V=I(N,w);_(V,k);var $=O(V,g);if(M&&($.vs=y.flatten([M,$.vs,P],!0),E.predecessors(M).length)){var Z=E.node(E.predecessors(M)[0]),J=E.node(E.predecessors(P)[0]);y.has($,"barycenter")||($.barycenter=0,$.weight=0),$.barycenter=($.barycenter*$.weight+Z.order+J.order)/($.weight+2),$.weight+=2}return $}function _(E,p){y.forEach(E,function(w){w.vs=y.flatten(w.vs.map(function(g){return p[g]?p[g].vs:g}),!0)})}function C(E,p){y.isUndefined(E.barycenter)?(E.barycenter=p.barycenter,E.weight=p.weight):(E.barycenter=(E.barycenter*E.weight+p.barycenter*p.weight)/(E.weight+p.weight),E.weight+=p.weight)}},87304:function(gt,S,d){var y=d(38436),L=d(11138);gt.exports=I;function I(_,C){var E=L.partition(_,function(k){return y.has(k,"barycenter")}),p=E.lhs,w=y.sortBy(E.rhs,function(k){return-k.i}),g=[],b=0,m=0,M=0;p.sort(T(!!C)),M=O(g,w,M),y.forEach(p,function(k){M+=k.vs.length,g.push(k.vs),b+=k.barycenter*k.weight,m+=k.weight,M=O(g,w,M)});var P={vs:y.flatten(g,!0)};return m&&(P.barycenter=b/m,P.weight=m),P}function O(_,C,E){for(var p;C.length&&(p=y.last(C)).i<=E;)C.pop(),_.push(p.vs),E++;return E}function T(_){return function(C,E){return C.barycenter<E.barycenter?-1:C.barycenter>E.barycenter?1:_?E.i-C.i:C.i-E.i}}},24219:function(gt,S,d){var y=d(38436);gt.exports=L;function L(T){var _=O(T);y.forEach(T.graph().dummyChains,function(C){for(var E=T.node(C),p=E.edgeObj,w=I(T,_,p.v,p.w),g=w.path,b=w.lca,m=0,M=g[m],P=!0;C!==p.w;){if(E=T.node(C),P){for(;(M=g[m])!==b&&T.node(M).maxRank<E.rank;)m++;M===b&&(P=!1)}if(!P){for(;m<g.length-1&&T.node(M=g[m+1]).minRank<=E.rank;)m++;M=g[m]}T.setParent(C,M),C=T.successors(C)[0]}})}function I(T,_,C,E){var p=[],w=[],g=Math.min(_[C].low,_[E].low),b=Math.max(_[C].lim,_[E].lim),m,M;m=C;do m=T.parent(m),p.push(m);while(m&&(_[m].low>g||b>_[m].lim));for(M=m,m=E;(m=T.parent(m))!==M;)w.push(m);return{path:p.concat(w.reverse()),lca:M}}function O(T){var _={},C=0;function E(p){var w=C;y.forEach(T.children(p),E),_[p]={low:w,lim:C++}}return y.forEach(T.children(),E),_}},3573:function(gt,S,d){"use strict";var y=d(38436),L=d(70574).Graph,I=d(11138);gt.exports={positionX:P,findType1Conflicts:O,findType2Conflicts:T,addConflict:C,hasConflict:E,verticalAlignment:p,horizontalCompaction:w,alignCoordinates:m,findSmallestWidthAlignment:b,balance:M};function O(V,$){var Z={};function J(lt,rt){var bt=0,Ot=0,Bt=lt.length,Et=y.last(rt);return y.forEach(rt,function(Dt,It){var _t=_(V,Dt),Xt=_t?V.node(_t).order:Bt;(_t||Dt===Et)&&(y.forEach(rt.slice(Ot,It+1),function(z){y.forEach(V.predecessors(z),function(R){var F=V.node(R),D=F.order;(D<bt||Xt<D)&&!(F.dummy&&V.node(z).dummy)&&C(Z,R,z)})}),Ot=It+1,bt=Xt)}),rt}return y.reduce($,J),Z}function T(V,$){var Z={};function J(rt,bt,Ot,Bt,Et){var Dt;y.forEach(y.range(bt,Ot),function(It){Dt=rt[It],V.node(Dt).dummy&&y.forEach(V.predecessors(Dt),function(_t){var Xt=V.node(_t);Xt.dummy&&(Xt.order<Bt||Xt.order>Et)&&C(Z,_t,Dt)})})}function lt(rt,bt){var Ot=-1,Bt,Et=0;return y.forEach(bt,function(Dt,It){if(V.node(Dt).dummy==="border"){var _t=V.predecessors(Dt);_t.length&&(Bt=V.node(_t[0]).order,J(bt,Et,It,Ot,Bt),Et=It,Ot=Bt)}J(bt,Et,bt.length,Bt,rt.length)}),bt}return y.reduce($,lt),Z}function _(V,$){if(V.node($).dummy)return y.find(V.predecessors($),function(Z){return V.node(Z).dummy})}function C(V,$,Z){if($>Z){var J=$;$=Z,Z=J}var lt=V[$];lt||(V[$]=lt={}),lt[Z]=!0}function E(V,$,Z){if($>Z){var J=$;$=Z,Z=J}return y.has(V[$],Z)}function p(V,$,Z,J){var lt={},rt={},bt={};return y.forEach($,function(Ot){y.forEach(Ot,function(Bt,Et){lt[Bt]=Bt,rt[Bt]=Bt,bt[Bt]=Et})}),y.forEach($,function(Ot){var Bt=-1;y.forEach(Ot,function(Et){var Dt=J(Et);if(Dt.length){Dt=y.sortBy(Dt,function(R){return bt[R]});for(var It=(Dt.length-1)/2,_t=Math.floor(It),Xt=Math.ceil(It);_t<=Xt;++_t){var z=Dt[_t];rt[Et]===Et&&Bt<bt[z]&&!E(Z,Et,z)&&(rt[z]=Et,rt[Et]=lt[Et]=lt[z],Bt=bt[z])}}})}),{root:lt,align:rt}}function w(V,$,Z,J,lt){var rt={},bt=g(V,$,Z,lt),Ot=lt?"borderLeft":"borderRight";function Bt(It,_t){for(var Xt=bt.nodes(),z=Xt.pop(),R={};z;)R[z]?It(z):(R[z]=!0,Xt.push(z),Xt=Xt.concat(_t(z))),z=Xt.pop()}function Et(It){rt[It]=bt.inEdges(It).reduce(function(_t,Xt){return Math.max(_t,rt[Xt.v]+bt.edge(Xt))},0)}function Dt(It){var _t=bt.outEdges(It).reduce(function(z,R){return Math.min(z,rt[R.w]-bt.edge(R))},Number.POSITIVE_INFINITY),Xt=V.node(It);_t!==Number.POSITIVE_INFINITY&&Xt.borderType!==Ot&&(rt[It]=Math.max(rt[It],_t))}return Bt(Et,bt.predecessors.bind(bt)),Bt(Dt,bt.successors.bind(bt)),y.forEach(J,function(It){rt[It]=rt[Z[It]]}),rt}function g(V,$,Z,J){var lt=new L,rt=V.graph(),bt=k(rt.nodesep,rt.edgesep,J);return y.forEach($,function(Ot){var Bt;y.forEach(Ot,function(Et){var Dt=Z[Et];if(lt.setNode(Dt),Bt){var It=Z[Bt],_t=lt.edge(It,Dt);lt.setEdge(It,Dt,Math.max(bt(V,Et,Bt),_t||0))}Bt=Et})}),lt}function b(V,$){return y.minBy(y.values($),function(Z){var J=Number.NEGATIVE_INFINITY,lt=Number.POSITIVE_INFINITY;return y.forIn(Z,function(rt,bt){var Ot=N(V,bt)/2;J=Math.max(rt+Ot,J),lt=Math.min(rt-Ot,lt)}),J-lt})}function m(V,$){var Z=y.values($),J=y.min(Z),lt=y.max(Z);y.forEach(["u","d"],function(rt){y.forEach(["l","r"],function(bt){var Ot=rt+bt,Bt=V[Ot],Et;if(Bt!==$){var Dt=y.values(Bt);Et=bt==="l"?J-y.min(Dt):lt-y.max(Dt),Et&&(V[Ot]=y.mapValues(Bt,function(It){return It+Et}))}})})}function M(V,$){return y.mapValues(V.ul,function(Z,J){if($)return V[$.toLowerCase()][J];var lt=y.sortBy(y.map(V,J));return(lt[1]+lt[2])/2})}function P(V){var $=I.buildLayerMatrix(V),Z=y.merge(O(V,$),T(V,$)),J={},lt;y.forEach(["u","d"],function(bt){lt=bt==="u"?$:y.values($).reverse(),y.forEach(["l","r"],function(Ot){Ot==="r"&&(lt=y.map(lt,function(It){return y.values(It).reverse()}));var Bt=(bt==="u"?V.predecessors:V.successors).bind(V),Et=p(V,lt,Z,Bt),Dt=w(V,lt,Et.root,Et.align,Ot==="r");Ot==="r"&&(Dt=y.mapValues(Dt,function(It){return-It})),J[bt+Ot]=Dt})});var rt=b(V,J);return m(J,rt),M(J,V.graph().align)}function k(V,$,Z){return function(J,lt,rt){var bt=J.node(lt),Ot=J.node(rt),Bt=0,Et;if(Bt+=bt.width/2,y.has(bt,"labelpos"))switch(bt.labelpos.toLowerCase()){case"l":Et=-bt.width/2;break;case"r":Et=bt.width/2;break}if(Et&&(Bt+=Z?Et:-Et),Et=0,Bt+=(bt.dummy?$:V)/2,Bt+=(Ot.dummy?$:V)/2,Bt+=Ot.width/2,y.has(Ot,"labelpos"))switch(Ot.labelpos.toLowerCase()){case"l":Et=Ot.width/2;break;case"r":Et=-Ot.width/2;break}return Et&&(Bt+=Z?Et:-Et),Et=0,Bt}}function N(V,$){return V.node($).width}},17873:function(gt,S,d){"use strict";var y=d(38436),L=d(11138),I=d(3573).positionX;gt.exports=O;function O(_){_=L.asNonCompoundGraph(_),T(_),y.forEach(I(_),function(C,E){_.node(E).x=C})}function T(_){var C=L.buildLayerMatrix(_),E=_.graph().ranksep,p=0;y.forEach(C,function(w){var g=y.max(y.map(w,function(b){return _.node(b).height}));y.forEach(w,function(b){_.node(b).y=p+g/2}),p+=g+E})}},20300:function(gt,S,d){"use strict";var y=d(38436),L=d(70574).Graph,I=d(76681).slack;gt.exports=O;function O(E){var p=new L({directed:!1}),w=E.nodes()[0],g=E.nodeCount();p.setNode(w,{});for(var b,m;T(p,E)<g;)b=_(p,E),m=p.hasNode(b.v)?I(E,b):-I(E,b),C(p,E,m);return p}function T(E,p){function w(g){y.forEach(p.nodeEdges(g),function(b){var m=b.v,M=g===m?b.w:m;!E.hasNode(M)&&!I(p,b)&&(E.setNode(M,{}),E.setEdge(g,M,{}),w(M))})}return y.forEach(E.nodes(),w),E.nodeCount()}function _(E,p){return y.minBy(p.edges(),function(w){if(E.hasNode(w.v)!==E.hasNode(w.w))return I(p,w)})}function C(E,p,w){y.forEach(E.nodes(),function(g){p.node(g).rank+=w})}},78093:function(gt,S,d){"use strict";var y=d(76681),L=y.longestPath,I=d(20300),O=d(42472);gt.exports=T;function T(p){switch(p.graph().ranker){case"network-simplex":E(p);break;case"tight-tree":C(p);break;case"longest-path":_(p);break;default:E(p)}}var _=L;function C(p){L(p),I(p)}function E(p){O(p)}},42472:function(gt,S,d){"use strict";var y=d(38436),L=d(20300),I=d(76681).slack,O=d(76681).longestPath,T=d(70574).alg.preorder,_=d(70574).alg.postorder,C=d(11138).simplify;gt.exports=E,E.initLowLimValues=b,E.initCutValues=p,E.calcCutValue=g,E.leaveEdge=M,E.enterEdge=P,E.exchangeEdges=k;function E(Z){Z=C(Z),O(Z);var J=L(Z);b(J),p(J,Z);for(var lt,rt;lt=M(J);)rt=P(J,Z,lt),k(J,Z,lt,rt)}function p(Z,J){var lt=_(Z,Z.nodes());lt=lt.slice(0,lt.length-1),y.forEach(lt,function(rt){w(Z,J,rt)})}function w(Z,J,lt){var rt=Z.node(lt),bt=rt.parent;Z.edge(lt,bt).cutvalue=g(Z,J,lt)}function g(Z,J,lt){var rt=Z.node(lt),bt=rt.parent,Ot=!0,Bt=J.edge(lt,bt),Et=0;return Bt||(Ot=!1,Bt=J.edge(bt,lt)),Et=Bt.weight,y.forEach(J.nodeEdges(lt),function(Dt){var It=Dt.v===lt,_t=It?Dt.w:Dt.v;if(_t!==bt){var Xt=It===Ot,z=J.edge(Dt).weight;if(Et+=Xt?z:-z,V(Z,lt,_t)){var R=Z.edge(lt,_t).cutvalue;Et+=Xt?-R:R}}}),Et}function b(Z,J){arguments.length<2&&(J=Z.nodes()[0]),m(Z,{},1,J)}function m(Z,J,lt,rt,bt){var Ot=lt,Bt=Z.node(rt);return J[rt]=!0,y.forEach(Z.neighbors(rt),function(Et){y.has(J,Et)||(lt=m(Z,J,lt,Et,rt))}),Bt.low=Ot,Bt.lim=lt++,bt?Bt.parent=bt:delete Bt.parent,lt}function M(Z){return y.find(Z.edges(),function(J){return Z.edge(J).cutvalue<0})}function P(Z,J,lt){var rt=lt.v,bt=lt.w;J.hasEdge(rt,bt)||(rt=lt.w,bt=lt.v);var Ot=Z.node(rt),Bt=Z.node(bt),Et=Ot,Dt=!1;Ot.lim>Bt.lim&&(Et=Bt,Dt=!0);var It=y.filter(J.edges(),function(_t){return Dt===$(Z,Z.node(_t.v),Et)&&Dt!==$(Z,Z.node(_t.w),Et)});return y.minBy(It,function(_t){return I(J,_t)})}function k(Z,J,lt,rt){var bt=lt.v,Ot=lt.w;Z.removeEdge(bt,Ot),Z.setEdge(rt.v,rt.w,{}),b(Z),p(Z,J),N(Z,J)}function N(Z,J){var lt=y.find(Z.nodes(),function(bt){return!J.node(bt).parent}),rt=T(Z,lt);rt=rt.slice(1),y.forEach(rt,function(bt){var Ot=Z.node(bt).parent,Bt=J.edge(bt,Ot),Et=!1;Bt||(Bt=J.edge(Ot,bt),Et=!0),J.node(bt).rank=J.node(Ot).rank+(Et?Bt.minlen:-Bt.minlen)})}function V(Z,J,lt){return Z.hasEdge(J,lt)}function $(Z,J,lt){return lt.low<=J.lim&&J.lim<=lt.lim}},76681:function(gt,S,d){"use strict";var y=d(38436);gt.exports={longestPath:L,slack:I};function L(O){var T={};function _(C){var E=O.node(C);if(y.has(T,C))return E.rank;T[C]=!0;var p=y.min(y.map(O.outEdges(C),function(w){return _(w.w)-O.edge(w).minlen}));return(p===Number.POSITIVE_INFINITY||p===void 0||p===null)&&(p=0),E.rank=p}y.forEach(O.sources(),_)}function I(O,T){return O.node(T.w).rank-O.node(T.v).rank-O.edge(T).minlen}},11138:function(gt,S,d){"use strict";var y=d(38436),L=d(70574).Graph;gt.exports={addDummyNode:I,simplify:O,asNonCompoundGraph:T,successorWeights:_,predecessorWeights:C,intersectRect:E,buildLayerMatrix:p,normalizeRanks:w,removeEmptyRanks:g,addBorderNode:b,maxRank:m,partition:M,time:P,notime:k};function I(N,V,$,Z){var J;do J=y.uniqueId(Z);while(N.hasNode(J));return $.dummy=V,N.setNode(J,$),J}function O(N){var V=new L().setGraph(N.graph());return y.forEach(N.nodes(),function($){V.setNode($,N.node($))}),y.forEach(N.edges(),function($){var Z=V.edge($.v,$.w)||{weight:0,minlen:1},J=N.edge($);V.setEdge($.v,$.w,{weight:Z.weight+J.weight,minlen:Math.max(Z.minlen,J.minlen)})}),V}function T(N){var V=new L({multigraph:N.isMultigraph()}).setGraph(N.graph());return y.forEach(N.nodes(),function($){N.children($).length||V.setNode($,N.node($))}),y.forEach(N.edges(),function($){V.setEdge($,N.edge($))}),V}function _(N){var V=y.map(N.nodes(),function($){var Z={};return y.forEach(N.outEdges($),function(J){Z[J.w]=(Z[J.w]||0)+N.edge(J).weight}),Z});return y.zipObject(N.nodes(),V)}function C(N){var V=y.map(N.nodes(),function($){var Z={};return y.forEach(N.inEdges($),function(J){Z[J.v]=(Z[J.v]||0)+N.edge(J).weight}),Z});return y.zipObject(N.nodes(),V)}function E(N,V){var $=N.x,Z=N.y,J=V.x-$,lt=V.y-Z,rt=N.width/2,bt=N.height/2;if(!J&&!lt)throw new Error("Not possible to find intersection inside of the rectangle");var Ot,Bt;return Math.abs(lt)*rt>Math.abs(J)*bt?(lt<0&&(bt=-bt),Ot=bt*J/lt,Bt=bt):(J<0&&(rt=-rt),Ot=rt,Bt=rt*lt/J),{x:$+Ot,y:Z+Bt}}function p(N){var V=y.map(y.range(m(N)+1),function(){return[]});return y.forEach(N.nodes(),function($){var Z=N.node($),J=Z.rank;y.isUndefined(J)||(V[J][Z.order]=$)}),V}function w(N){var V=y.min(y.map(N.nodes(),function($){return N.node($).rank}));y.forEach(N.nodes(),function($){var Z=N.node($);y.has(Z,"rank")&&(Z.rank-=V)})}function g(N){var V=y.min(y.map(N.nodes(),function(lt){return N.node(lt).rank})),$=[];y.forEach(N.nodes(),function(lt){var rt=N.node(lt).rank-V;$[rt]||($[rt]=[]),$[rt].push(lt)});var Z=0,J=N.graph().nodeRankFactor;y.forEach($,function(lt,rt){y.isUndefined(lt)&&rt%J!=0?--Z:Z&&y.forEach(lt,function(bt){N.node(bt).rank+=Z})})}function b(N,V,$,Z){var J={width:0,height:0};return arguments.length>=4&&(J.rank=$,J.order=Z),I(N,"border",J,V)}function m(N){return y.max(y.map(N.nodes(),function(V){var $=N.node(V).rank;if(!y.isUndefined($))return $}))}function M(N,V){var $={lhs:[],rhs:[]};return y.forEach(N,function(Z){V(Z)?$.lhs.push(Z):$.rhs.push(Z)}),$}function P(N,V){var $=y.now();try{return V()}finally{console.log(N+" time: "+(y.now()-$)+"ms")}}function k(N,V){return V()}},88177:function(gt){gt.exports="0.8.5"},43631:function(gt,S,d){"use strict";d.r(S),d.d(S,{BrowserInfo:function(){return I},NodeInfo:function(){return O},SearchBotDeviceInfo:function(){return T},BotInfo:function(){return _},ReactNativeInfo:function(){return C},detect:function(){return m},browserName:function(){return P},parseUserAgent:function(){return k},detectOS:function(){return N},getNodeVersion:function(){return V}});var y=d(34155),L=function(Z,J,lt){if(lt||arguments.length===2)for(var rt=0,bt=J.length,Ot;rt<bt;rt++)(Ot||!(rt in J))&&(Ot||(Ot=Array.prototype.slice.call(J,0,rt)),Ot[rt]=J[rt]);return Z.concat(Ot||Array.prototype.slice.call(J))},I=function(){function Z(J,lt,rt){this.name=J,this.version=lt,this.os=rt,this.type="browser"}return Z}(),O=function(){function Z(J){this.version=J,this.type="node",this.name="node",this.os=y.platform}return Z}(),T=function(){function Z(J,lt,rt,bt){this.name=J,this.version=lt,this.os=rt,this.bot=bt,this.type="bot-device"}return Z}(),_=function(){function Z(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return Z}(),C=function(){function Z(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return Z}(),E=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,p=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,w=3,g=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",E]],b=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function m(Z){return Z?k(Z):typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"?new C:typeof navigator!="undefined"?k(navigator.userAgent):V()}function M(Z){return Z!==""&&g.reduce(function(J,lt){var rt=lt[0],bt=lt[1];if(J)return J;var Ot=bt.exec(Z);return!!Ot&&[rt,Ot]},!1)}function P(Z){var J=M(Z);return J?J[0]:null}function k(Z){var J=M(Z);if(!J)return null;var lt=J[0],rt=J[1];if(lt==="searchbot")return new _;var bt=rt[1]&&rt[1].split(".").join("_").split("_").slice(0,3);bt?bt.length<w&&(bt=L(L([],bt,!0),$(w-bt.length),!0)):bt=[];var Ot=bt.join("."),Bt=N(Z),Et=p.exec(Z);return Et&&Et[1]?new T(lt,Ot,Bt,Et[1]):new I(lt,Ot,Bt)}function N(Z){for(var J=0,lt=b.length;J<lt;J++){var rt=b[J],bt=rt[0],Ot=rt[1],Bt=Ot.exec(Z);if(Bt)return bt}return null}function V(){var Z=typeof y!="undefined"&&y.version;return Z?new O(y.version.slice(1)):null}function $(Z){for(var J=[],lt=0;lt<Z;lt++)J.push("0");return J}},19432:function(gt,S,d){"use strict";d.r(S),d.d(S,{assign:function(){return w},format:function(){return It},parse:function(){return _t},defaultI18n:function(){return P},setGlobalDateI18n:function(){return N},setGlobalDateMasks:function(){return Dt}});var y=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,L="\\d\\d?",I="\\d\\d",O="\\d{3}",T="\\d{4}",_="[^\\s]+",C=/\[([^]*?)\]/gm;function E(z,R){for(var F=[],D=0,u=z.length;D<u;D++)F.push(z[D].substr(0,R));return F}var p=function(z){return function(R,F){var D=F[z].map(function(W){return W.toLowerCase()}),u=D.indexOf(R.toLowerCase());return u>-1?u:null}};function w(z){for(var R=[],F=1;F<arguments.length;F++)R[F-1]=arguments[F];for(var D=0,u=R;D<u.length;D++){var W=u[D];for(var it in W)z[it]=W[it]}return z}var g=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],b=["January","February","March","April","May","June","July","August","September","October","November","December"],m=E(b,3),M=E(g,3),P={dayNamesShort:M,dayNames:g,monthNamesShort:m,monthNames:b,amPm:["am","pm"],DoFn:function(z){return z+["th","st","nd","rd"][z%10>3?0:(z-z%10!=10?1:0)*z%10]}},k=w({},P),N=function(z){return k=w(k,z)},V=function(z){return z.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},$=function(z,R){for(R===void 0&&(R=2),z=String(z);z.length<R;)z="0"+z;return z},Z={D:function(z){return String(z.getDate())},DD:function(z){return $(z.getDate())},Do:function(z,R){return R.DoFn(z.getDate())},d:function(z){return String(z.getDay())},dd:function(z){return $(z.getDay())},ddd:function(z,R){return R.dayNamesShort[z.getDay()]},dddd:function(z,R){return R.dayNames[z.getDay()]},M:function(z){return String(z.getMonth()+1)},MM:function(z){return $(z.getMonth()+1)},MMM:function(z,R){return R.monthNamesShort[z.getMonth()]},MMMM:function(z,R){return R.monthNames[z.getMonth()]},YY:function(z){return $(String(z.getFullYear()),4).substr(2)},YYYY:function(z){return $(z.getFullYear(),4)},h:function(z){return String(z.getHours()%12||12)},hh:function(z){return $(z.getHours()%12||12)},H:function(z){return String(z.getHours())},HH:function(z){return $(z.getHours())},m:function(z){return String(z.getMinutes())},mm:function(z){return $(z.getMinutes())},s:function(z){return String(z.getSeconds())},ss:function(z){return $(z.getSeconds())},S:function(z){return String(Math.round(z.getMilliseconds()/100))},SS:function(z){return $(Math.round(z.getMilliseconds()/10),2)},SSS:function(z){return $(z.getMilliseconds(),3)},a:function(z,R){return z.getHours()<12?R.amPm[0]:R.amPm[1]},A:function(z,R){return z.getHours()<12?R.amPm[0].toUpperCase():R.amPm[1].toUpperCase()},ZZ:function(z){var R=z.getTimezoneOffset();return(R>0?"-":"+")+$(Math.floor(Math.abs(R)/60)*100+Math.abs(R)%60,4)},Z:function(z){var R=z.getTimezoneOffset();return(R>0?"-":"+")+$(Math.floor(Math.abs(R)/60),2)+":"+$(Math.abs(R)%60,2)}},J=function(z){return+z-1},lt=[null,L],rt=[null,_],bt=["isPm",_,function(z,R){var F=z.toLowerCase();return F===R.amPm[0]?0:F===R.amPm[1]?1:null}],Ot=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(z){var R=(z+"").match(/([+-]|\d\d)/gi);if(R){var F=+R[1]*60+parseInt(R[2],10);return R[0]==="+"?F:-F}return 0}],Bt={D:["day",L],DD:["day",I],Do:["day",L+_,function(z){return parseInt(z,10)}],M:["month",L,J],MM:["month",I,J],YY:["year",I,function(z){var R=new Date,F=+(""+R.getFullYear()).substr(0,2);return+(""+(+z>68?F-1:F)+z)}],h:["hour",L,void 0,"isPm"],hh:["hour",I,void 0,"isPm"],H:["hour",L],HH:["hour",I],m:["minute",L],mm:["minute",I],s:["second",L],ss:["second",I],YYYY:["year",T],S:["millisecond","\\d",function(z){return+z*100}],SS:["millisecond",I,function(z){return+z*10}],SSS:["millisecond",O],d:lt,dd:lt,ddd:rt,dddd:rt,MMM:["month",_,p("monthNamesShort")],MMMM:["month",_,p("monthNames")],a:bt,A:bt,ZZ:Ot,Z:Ot},Et={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},Dt=function(z){return w(Et,z)},It=function(z,R,F){if(R===void 0&&(R=Et.default),F===void 0&&(F={}),typeof z=="number"&&(z=new Date(z)),Object.prototype.toString.call(z)!=="[object Date]"||isNaN(z.getTime()))throw new Error("Invalid Date pass to format");R=Et[R]||R;var D=[];R=R.replace(C,function(W,it){return D.push(it),"@@@"});var u=w(w({},k),F);return R=R.replace(y,function(W){return Z[W](z,u)}),R.replace(/@@@/g,function(){return D.shift()})};function _t(z,R,F){if(F===void 0&&(F={}),typeof R!="string")throw new Error("Invalid format in fecha parse");if(R=Et[R]||R,z.length>1e3)return null;var D=new Date,u={year:D.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},W=[],it=[],nt=R.replace(C,function(at,vt){return it.push(V(vt)),"@@@"}),mt={},et={};nt=V(nt).replace(y,function(at){var vt=Bt[at],Ft=vt[0],Jt=vt[1],le=vt[3];if(mt[Ft])throw new Error("Invalid format. "+Ft+" specified twice in format");return mt[Ft]=!0,le&&(et[le]=!0),W.push(vt),"("+Jt+")"}),Object.keys(et).forEach(function(at){if(!mt[at])throw new Error("Invalid format. "+at+" is required in specified format")}),nt=nt.replace(/@@@/g,function(){return it.shift()});var ct=z.match(new RegExp(nt,"i"));if(!ct)return null;for(var Pt=w(w({},k),F),At=1;At<ct.length;At++){var ot=W[At-1],wt=ot[0],st=ot[2],K=st?st(ct[At],Pt):+ct[At];if(K==null)return null;u[wt]=K}u.isPm===1&&u.hour!=null&&+u.hour!=12?u.hour=+u.hour+12:u.isPm===0&&+u.hour==12&&(u.hour=0);var tt;if(u.timezoneOffset==null){tt=new Date(u.year,u.month,u.day,u.hour,u.minute,u.second,u.millisecond);for(var U=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],At=0,j=U.length;At<j;At++)if(mt[U[At][0]]&&u[U[At][0]]!==tt[U[At][1]]())return null}else if(tt=new Date(Date.UTC(u.year,u.month,u.day,u.hour,u.minute-u.timezoneOffset,u.second,u.millisecond)),u.month>11||u.month<0||u.day>31||u.day<1||u.hour>23||u.hour<0||u.minute>59||u.minute<0||u.second>59||u.second<0)return null;return tt}var Xt={format:It,parse:_t,defaultI18n:P,setGlobalDateI18n:N,setGlobalDateMasks:Dt};S.default=Xt},49685:function(gt,S,d){"use strict";d.d(S,{Ib:function(){return y},WT:function(){return L},FD:function(){return I}});var y=1e-6,L=typeof Float32Array!="undefined"?Float32Array:Array,I=Math.random;function O(E){L=E}var T=Math.PI/180;function _(E){return E*T}function C(E,p){return Math.abs(E-p)<=y*Math.max(1,Math.abs(E),Math.abs(p))}Math.hypot||(Math.hypot=function(){for(var E=0,p=arguments.length;p--;)E+=arguments[p]*arguments[p];return Math.sqrt(E)})},35600:function(gt,S,d){"use strict";d.r(S),d.d(S,{create:function(){return L},fromMat4:function(){return I},clone:function(){return O},copy:function(){return T},fromValues:function(){return _},set:function(){return C},identity:function(){return E},transpose:function(){return p},invert:function(){return w},adjoint:function(){return g},determinant:function(){return b},multiply:function(){return m},translate:function(){return M},rotate:function(){return P},scale:function(){return k},fromTranslation:function(){return N},fromRotation:function(){return V},fromScaling:function(){return $},fromMat2d:function(){return Z},fromQuat:function(){return J},normalFromMat4:function(){return lt},projection:function(){return rt},str:function(){return bt},frob:function(){return Ot},add:function(){return Bt},subtract:function(){return Et},multiplyScalar:function(){return Dt},multiplyScalarAndAdd:function(){return It},exactEquals:function(){return _t},equals:function(){return Xt},mul:function(){return z},sub:function(){return R}});var y=d(49685);function L(){var F=new y.WT(9);return y.WT!=Float32Array&&(F[1]=0,F[2]=0,F[3]=0,F[5]=0,F[6]=0,F[7]=0),F[0]=1,F[4]=1,F[8]=1,F}function I(F,D){return F[0]=D[0],F[1]=D[1],F[2]=D[2],F[3]=D[4],F[4]=D[5],F[5]=D[6],F[6]=D[8],F[7]=D[9],F[8]=D[10],F}function O(F){var D=new y.WT(9);return D[0]=F[0],D[1]=F[1],D[2]=F[2],D[3]=F[3],D[4]=F[4],D[5]=F[5],D[6]=F[6],D[7]=F[7],D[8]=F[8],D}function T(F,D){return F[0]=D[0],F[1]=D[1],F[2]=D[2],F[3]=D[3],F[4]=D[4],F[5]=D[5],F[6]=D[6],F[7]=D[7],F[8]=D[8],F}function _(F,D,u,W,it,nt,mt,et,ct){var Pt=new y.WT(9);return Pt[0]=F,Pt[1]=D,Pt[2]=u,Pt[3]=W,Pt[4]=it,Pt[5]=nt,Pt[6]=mt,Pt[7]=et,Pt[8]=ct,Pt}function C(F,D,u,W,it,nt,mt,et,ct,Pt){return F[0]=D,F[1]=u,F[2]=W,F[3]=it,F[4]=nt,F[5]=mt,F[6]=et,F[7]=ct,F[8]=Pt,F}function E(F){return F[0]=1,F[1]=0,F[2]=0,F[3]=0,F[4]=1,F[5]=0,F[6]=0,F[7]=0,F[8]=1,F}function p(F,D){if(F===D){var u=D[1],W=D[2],it=D[5];F[1]=D[3],F[2]=D[6],F[3]=u,F[5]=D[7],F[6]=W,F[7]=it}else F[0]=D[0],F[1]=D[3],F[2]=D[6],F[3]=D[1],F[4]=D[4],F[5]=D[7],F[6]=D[2],F[7]=D[5],F[8]=D[8];return F}function w(F,D){var u=D[0],W=D[1],it=D[2],nt=D[3],mt=D[4],et=D[5],ct=D[6],Pt=D[7],At=D[8],ot=At*mt-et*Pt,wt=-At*nt+et*ct,st=Pt*nt-mt*ct,K=u*ot+W*wt+it*st;return K?(K=1/K,F[0]=ot*K,F[1]=(-At*W+it*Pt)*K,F[2]=(et*W-it*mt)*K,F[3]=wt*K,F[4]=(At*u-it*ct)*K,F[5]=(-et*u+it*nt)*K,F[6]=st*K,F[7]=(-Pt*u+W*ct)*K,F[8]=(mt*u-W*nt)*K,F):null}function g(F,D){var u=D[0],W=D[1],it=D[2],nt=D[3],mt=D[4],et=D[5],ct=D[6],Pt=D[7],At=D[8];return F[0]=mt*At-et*Pt,F[1]=it*Pt-W*At,F[2]=W*et-it*mt,F[3]=et*ct-nt*At,F[4]=u*At-it*ct,F[5]=it*nt-u*et,F[6]=nt*Pt-mt*ct,F[7]=W*ct-u*Pt,F[8]=u*mt-W*nt,F}function b(F){var D=F[0],u=F[1],W=F[2],it=F[3],nt=F[4],mt=F[5],et=F[6],ct=F[7],Pt=F[8];return D*(Pt*nt-mt*ct)+u*(-Pt*it+mt*et)+W*(ct*it-nt*et)}function m(F,D,u){var W=D[0],it=D[1],nt=D[2],mt=D[3],et=D[4],ct=D[5],Pt=D[6],At=D[7],ot=D[8],wt=u[0],st=u[1],K=u[2],tt=u[3],U=u[4],j=u[5],at=u[6],vt=u[7],Ft=u[8];return F[0]=wt*W+st*mt+K*Pt,F[1]=wt*it+st*et+K*At,F[2]=wt*nt+st*ct+K*ot,F[3]=tt*W+U*mt+j*Pt,F[4]=tt*it+U*et+j*At,F[5]=tt*nt+U*ct+j*ot,F[6]=at*W+vt*mt+Ft*Pt,F[7]=at*it+vt*et+Ft*At,F[8]=at*nt+vt*ct+Ft*ot,F}function M(F,D,u){var W=D[0],it=D[1],nt=D[2],mt=D[3],et=D[4],ct=D[5],Pt=D[6],At=D[7],ot=D[8],wt=u[0],st=u[1];return F[0]=W,F[1]=it,F[2]=nt,F[3]=mt,F[4]=et,F[5]=ct,F[6]=wt*W+st*mt+Pt,F[7]=wt*it+st*et+At,F[8]=wt*nt+st*ct+ot,F}function P(F,D,u){var W=D[0],it=D[1],nt=D[2],mt=D[3],et=D[4],ct=D[5],Pt=D[6],At=D[7],ot=D[8],wt=Math.sin(u),st=Math.cos(u);return F[0]=st*W+wt*mt,F[1]=st*it+wt*et,F[2]=st*nt+wt*ct,F[3]=st*mt-wt*W,F[4]=st*et-wt*it,F[5]=st*ct-wt*nt,F[6]=Pt,F[7]=At,F[8]=ot,F}function k(F,D,u){var W=u[0],it=u[1];return F[0]=W*D[0],F[1]=W*D[1],F[2]=W*D[2],F[3]=it*D[3],F[4]=it*D[4],F[5]=it*D[5],F[6]=D[6],F[7]=D[7],F[8]=D[8],F}function N(F,D){return F[0]=1,F[1]=0,F[2]=0,F[3]=0,F[4]=1,F[5]=0,F[6]=D[0],F[7]=D[1],F[8]=1,F}function V(F,D){var u=Math.sin(D),W=Math.cos(D);return F[0]=W,F[1]=u,F[2]=0,F[3]=-u,F[4]=W,F[5]=0,F[6]=0,F[7]=0,F[8]=1,F}function $(F,D){return F[0]=D[0],F[1]=0,F[2]=0,F[3]=0,F[4]=D[1],F[5]=0,F[6]=0,F[7]=0,F[8]=1,F}function Z(F,D){return F[0]=D[0],F[1]=D[1],F[2]=0,F[3]=D[2],F[4]=D[3],F[5]=0,F[6]=D[4],F[7]=D[5],F[8]=1,F}function J(F,D){var u=D[0],W=D[1],it=D[2],nt=D[3],mt=u+u,et=W+W,ct=it+it,Pt=u*mt,At=W*mt,ot=W*et,wt=it*mt,st=it*et,K=it*ct,tt=nt*mt,U=nt*et,j=nt*ct;return F[0]=1-ot-K,F[3]=At-j,F[6]=wt+U,F[1]=At+j,F[4]=1-Pt-K,F[7]=st-tt,F[2]=wt-U,F[5]=st+tt,F[8]=1-Pt-ot,F}function lt(F,D){var u=D[0],W=D[1],it=D[2],nt=D[3],mt=D[4],et=D[5],ct=D[6],Pt=D[7],At=D[8],ot=D[9],wt=D[10],st=D[11],K=D[12],tt=D[13],U=D[14],j=D[15],at=u*et-W*mt,vt=u*ct-it*mt,Ft=u*Pt-nt*mt,Jt=W*ct-it*et,le=W*Pt-nt*et,ge=it*Pt-nt*ct,Zt=At*tt-ot*K,kt=At*U-wt*K,zt=At*j-st*K,ne=ot*U-wt*tt,de=ot*j-st*tt,Ce=wt*j-st*U,De=at*Ce-vt*de+Ft*ne+Jt*zt-le*kt+ge*Zt;return De?(De=1/De,F[0]=(et*Ce-ct*de+Pt*ne)*De,F[1]=(ct*zt-mt*Ce-Pt*kt)*De,F[2]=(mt*de-et*zt+Pt*Zt)*De,F[3]=(it*de-W*Ce-nt*ne)*De,F[4]=(u*Ce-it*zt+nt*kt)*De,F[5]=(W*zt-u*de-nt*Zt)*De,F[6]=(tt*ge-U*le+j*Jt)*De,F[7]=(U*Ft-K*ge-j*vt)*De,F[8]=(K*le-tt*Ft+j*at)*De,F):null}function rt(F,D,u){return F[0]=2/D,F[1]=0,F[2]=0,F[3]=0,F[4]=-2/u,F[5]=0,F[6]=-1,F[7]=1,F[8]=1,F}function bt(F){return"mat3("+F[0]+", "+F[1]+", "+F[2]+", "+F[3]+", "+F[4]+", "+F[5]+", "+F[6]+", "+F[7]+", "+F[8]+")"}function Ot(F){return Math.hypot(F[0],F[1],F[2],F[3],F[4],F[5],F[6],F[7],F[8])}function Bt(F,D,u){return F[0]=D[0]+u[0],F[1]=D[1]+u[1],F[2]=D[2]+u[2],F[3]=D[3]+u[3],F[4]=D[4]+u[4],F[5]=D[5]+u[5],F[6]=D[6]+u[6],F[7]=D[7]+u[7],F[8]=D[8]+u[8],F}function Et(F,D,u){return F[0]=D[0]-u[0],F[1]=D[1]-u[1],F[2]=D[2]-u[2],F[3]=D[3]-u[3],F[4]=D[4]-u[4],F[5]=D[5]-u[5],F[6]=D[6]-u[6],F[7]=D[7]-u[7],F[8]=D[8]-u[8],F}function Dt(F,D,u){return F[0]=D[0]*u,F[1]=D[1]*u,F[2]=D[2]*u,F[3]=D[3]*u,F[4]=D[4]*u,F[5]=D[5]*u,F[6]=D[6]*u,F[7]=D[7]*u,F[8]=D[8]*u,F}function It(F,D,u,W){return F[0]=D[0]+u[0]*W,F[1]=D[1]+u[1]*W,F[2]=D[2]+u[2]*W,F[3]=D[3]+u[3]*W,F[4]=D[4]+u[4]*W,F[5]=D[5]+u[5]*W,F[6]=D[6]+u[6]*W,F[7]=D[7]+u[7]*W,F[8]=D[8]+u[8]*W,F}function _t(F,D){return F[0]===D[0]&&F[1]===D[1]&&F[2]===D[2]&&F[3]===D[3]&&F[4]===D[4]&&F[5]===D[5]&&F[6]===D[6]&&F[7]===D[7]&&F[8]===D[8]}function Xt(F,D){var u=F[0],W=F[1],it=F[2],nt=F[3],mt=F[4],et=F[5],ct=F[6],Pt=F[7],At=F[8],ot=D[0],wt=D[1],st=D[2],K=D[3],tt=D[4],U=D[5],j=D[6],at=D[7],vt=D[8];return Math.abs(u-ot)<=y.Ib*Math.max(1,Math.abs(u),Math.abs(ot))&&Math.abs(W-wt)<=y.Ib*Math.max(1,Math.abs(W),Math.abs(wt))&&Math.abs(it-st)<=y.Ib*Math.max(1,Math.abs(it),Math.abs(st))&&Math.abs(nt-K)<=y.Ib*Math.max(1,Math.abs(nt),Math.abs(K))&&Math.abs(mt-tt)<=y.Ib*Math.max(1,Math.abs(mt),Math.abs(tt))&&Math.abs(et-U)<=y.Ib*Math.max(1,Math.abs(et),Math.abs(U))&&Math.abs(ct-j)<=y.Ib*Math.max(1,Math.abs(ct),Math.abs(j))&&Math.abs(Pt-at)<=y.Ib*Math.max(1,Math.abs(Pt),Math.abs(at))&&Math.abs(At-vt)<=y.Ib*Math.max(1,Math.abs(At),Math.abs(vt))}var z=m,R=Et},31437:function(gt,S,d){"use strict";d.r(S),d.d(S,{create:function(){return L},clone:function(){return I},fromValues:function(){return O},copy:function(){return T},set:function(){return _},add:function(){return C},subtract:function(){return E},multiply:function(){return p},divide:function(){return w},ceil:function(){return g},floor:function(){return b},min:function(){return m},max:function(){return M},round:function(){return P},scale:function(){return k},scaleAndAdd:function(){return N},distance:function(){return V},squaredDistance:function(){return $},length:function(){return Z},squaredLength:function(){return J},negate:function(){return lt},inverse:function(){return rt},normalize:function(){return bt},dot:function(){return Ot},cross:function(){return Bt},lerp:function(){return Et},random:function(){return Dt},transformMat2:function(){return It},transformMat2d:function(){return _t},transformMat3:function(){return Xt},transformMat4:function(){return z},rotate:function(){return R},angle:function(){return F},zero:function(){return D},str:function(){return u},exactEquals:function(){return W},equals:function(){return it},len:function(){return nt},sub:function(){return mt},mul:function(){return et},div:function(){return ct},dist:function(){return Pt},sqrDist:function(){return At},sqrLen:function(){return ot},forEach:function(){return wt}});var y=d(49685);function L(){var st=new y.WT(2);return y.WT!=Float32Array&&(st[0]=0,st[1]=0),st}function I(st){var K=new y.WT(2);return K[0]=st[0],K[1]=st[1],K}function O(st,K){var tt=new y.WT(2);return tt[0]=st,tt[1]=K,tt}function T(st,K){return st[0]=K[0],st[1]=K[1],st}function _(st,K,tt){return st[0]=K,st[1]=tt,st}function C(st,K,tt){return st[0]=K[0]+tt[0],st[1]=K[1]+tt[1],st}function E(st,K,tt){return st[0]=K[0]-tt[0],st[1]=K[1]-tt[1],st}function p(st,K,tt){return st[0]=K[0]*tt[0],st[1]=K[1]*tt[1],st}function w(st,K,tt){return st[0]=K[0]/tt[0],st[1]=K[1]/tt[1],st}function g(st,K){return st[0]=Math.ceil(K[0]),st[1]=Math.ceil(K[1]),st}function b(st,K){return st[0]=Math.floor(K[0]),st[1]=Math.floor(K[1]),st}function m(st,K,tt){return st[0]=Math.min(K[0],tt[0]),st[1]=Math.min(K[1],tt[1]),st}function M(st,K,tt){return st[0]=Math.max(K[0],tt[0]),st[1]=Math.max(K[1],tt[1]),st}function P(st,K){return st[0]=Math.round(K[0]),st[1]=Math.round(K[1]),st}function k(st,K,tt){return st[0]=K[0]*tt,st[1]=K[1]*tt,st}function N(st,K,tt,U){return st[0]=K[0]+tt[0]*U,st[1]=K[1]+tt[1]*U,st}function V(st,K){var tt=K[0]-st[0],U=K[1]-st[1];return Math.hypot(tt,U)}function $(st,K){var tt=K[0]-st[0],U=K[1]-st[1];return tt*tt+U*U}function Z(st){var K=st[0],tt=st[1];return Math.hypot(K,tt)}function J(st){var K=st[0],tt=st[1];return K*K+tt*tt}function lt(st,K){return st[0]=-K[0],st[1]=-K[1],st}function rt(st,K){return st[0]=1/K[0],st[1]=1/K[1],st}function bt(st,K){var tt=K[0],U=K[1],j=tt*tt+U*U;return j>0&&(j=1/Math.sqrt(j)),st[0]=K[0]*j,st[1]=K[1]*j,st}function Ot(st,K){return st[0]*K[0]+st[1]*K[1]}function Bt(st,K,tt){var U=K[0]*tt[1]-K[1]*tt[0];return st[0]=st[1]=0,st[2]=U,st}function Et(st,K,tt,U){var j=K[0],at=K[1];return st[0]=j+U*(tt[0]-j),st[1]=at+U*(tt[1]-at),st}function Dt(st,K){K=K||1;var tt=y.FD()*2*Math.PI;return st[0]=Math.cos(tt)*K,st[1]=Math.sin(tt)*K,st}function It(st,K,tt){var U=K[0],j=K[1];return st[0]=tt[0]*U+tt[2]*j,st[1]=tt[1]*U+tt[3]*j,st}function _t(st,K,tt){var U=K[0],j=K[1];return st[0]=tt[0]*U+tt[2]*j+tt[4],st[1]=tt[1]*U+tt[3]*j+tt[5],st}function Xt(st,K,tt){var U=K[0],j=K[1];return st[0]=tt[0]*U+tt[3]*j+tt[6],st[1]=tt[1]*U+tt[4]*j+tt[7],st}function z(st,K,tt){var U=K[0],j=K[1];return st[0]=tt[0]*U+tt[4]*j+tt[12],st[1]=tt[1]*U+tt[5]*j+tt[13],st}function R(st,K,tt,U){var j=K[0]-tt[0],at=K[1]-tt[1],vt=Math.sin(U),Ft=Math.cos(U);return st[0]=j*Ft-at*vt+tt[0],st[1]=j*vt+at*Ft+tt[1],st}function F(st,K){var tt=st[0],U=st[1],j=K[0],at=K[1],vt=Math.sqrt(tt*tt+U*U)*Math.sqrt(j*j+at*at),Ft=vt&&(tt*j+U*at)/vt;return Math.acos(Math.min(Math.max(Ft,-1),1))}function D(st){return st[0]=0,st[1]=0,st}function u(st){return"vec2("+st[0]+", "+st[1]+")"}function W(st,K){return st[0]===K[0]&&st[1]===K[1]}function it(st,K){var tt=st[0],U=st[1],j=K[0],at=K[1];return Math.abs(tt-j)<=y.Ib*Math.max(1,Math.abs(tt),Math.abs(j))&&Math.abs(U-at)<=y.Ib*Math.max(1,Math.abs(U),Math.abs(at))}var nt=Z,mt=E,et=p,ct=w,Pt=V,At=$,ot=J,wt=function(){var st=L();return function(K,tt,U,j,at,vt){var Ft,Jt;for(tt||(tt=2),U||(U=0),j?Jt=Math.min(j*tt+U,K.length):Jt=K.length,Ft=U;Ft<Jt;Ft+=tt)st[0]=K[Ft],st[1]=K[Ft+1],at(st,st,vt),K[Ft]=st[0],K[Ft+1]=st[1];return K}}()},77160:function(gt,S,d){"use strict";d.r(S),d.d(S,{create:function(){return L},clone:function(){return I},length:function(){return O},fromValues:function(){return T},copy:function(){return _},set:function(){return C},add:function(){return E},subtract:function(){return p},multiply:function(){return w},divide:function(){return g},ceil:function(){return b},floor:function(){return m},min:function(){return M},max:function(){return P},round:function(){return k},scale:function(){return N},scaleAndAdd:function(){return V},distance:function(){return $},squaredDistance:function(){return Z},squaredLength:function(){return J},negate:function(){return lt},inverse:function(){return rt},normalize:function(){return bt},dot:function(){return Ot},cross:function(){return Bt},lerp:function(){return Et},hermite:function(){return Dt},bezier:function(){return It},random:function(){return _t},transformMat4:function(){return Xt},transformMat3:function(){return z},transformQuat:function(){return R},rotateX:function(){return F},rotateY:function(){return D},rotateZ:function(){return u},angle:function(){return W},zero:function(){return it},str:function(){return nt},exactEquals:function(){return mt},equals:function(){return et},sub:function(){return ct},mul:function(){return Pt},div:function(){return At},dist:function(){return ot},sqrDist:function(){return wt},len:function(){return st},sqrLen:function(){return K},forEach:function(){return tt}});var y=d(49685);function L(){var U=new y.WT(3);return y.WT!=Float32Array&&(U[0]=0,U[1]=0,U[2]=0),U}function I(U){var j=new y.WT(3);return j[0]=U[0],j[1]=U[1],j[2]=U[2],j}function O(U){var j=U[0],at=U[1],vt=U[2];return Math.hypot(j,at,vt)}function T(U,j,at){var vt=new y.WT(3);return vt[0]=U,vt[1]=j,vt[2]=at,vt}function _(U,j){return U[0]=j[0],U[1]=j[1],U[2]=j[2],U}function C(U,j,at,vt){return U[0]=j,U[1]=at,U[2]=vt,U}function E(U,j,at){return U[0]=j[0]+at[0],U[1]=j[1]+at[1],U[2]=j[2]+at[2],U}function p(U,j,at){return U[0]=j[0]-at[0],U[1]=j[1]-at[1],U[2]=j[2]-at[2],U}function w(U,j,at){return U[0]=j[0]*at[0],U[1]=j[1]*at[1],U[2]=j[2]*at[2],U}function g(U,j,at){return U[0]=j[0]/at[0],U[1]=j[1]/at[1],U[2]=j[2]/at[2],U}function b(U,j){return U[0]=Math.ceil(j[0]),U[1]=Math.ceil(j[1]),U[2]=Math.ceil(j[2]),U}function m(U,j){return U[0]=Math.floor(j[0]),U[1]=Math.floor(j[1]),U[2]=Math.floor(j[2]),U}function M(U,j,at){return U[0]=Math.min(j[0],at[0]),U[1]=Math.min(j[1],at[1]),U[2]=Math.min(j[2],at[2]),U}function P(U,j,at){return U[0]=Math.max(j[0],at[0]),U[1]=Math.max(j[1],at[1]),U[2]=Math.max(j[2],at[2]),U}function k(U,j){return U[0]=Math.round(j[0]),U[1]=Math.round(j[1]),U[2]=Math.round(j[2]),U}function N(U,j,at){return U[0]=j[0]*at,U[1]=j[1]*at,U[2]=j[2]*at,U}function V(U,j,at,vt){return U[0]=j[0]+at[0]*vt,U[1]=j[1]+at[1]*vt,U[2]=j[2]+at[2]*vt,U}function $(U,j){var at=j[0]-U[0],vt=j[1]-U[1],Ft=j[2]-U[2];return Math.hypot(at,vt,Ft)}function Z(U,j){var at=j[0]-U[0],vt=j[1]-U[1],Ft=j[2]-U[2];return at*at+vt*vt+Ft*Ft}function J(U){var j=U[0],at=U[1],vt=U[2];return j*j+at*at+vt*vt}function lt(U,j){return U[0]=-j[0],U[1]=-j[1],U[2]=-j[2],U}function rt(U,j){return U[0]=1/j[0],U[1]=1/j[1],U[2]=1/j[2],U}function bt(U,j){var at=j[0],vt=j[1],Ft=j[2],Jt=at*at+vt*vt+Ft*Ft;return Jt>0&&(Jt=1/Math.sqrt(Jt)),U[0]=j[0]*Jt,U[1]=j[1]*Jt,U[2]=j[2]*Jt,U}function Ot(U,j){return U[0]*j[0]+U[1]*j[1]+U[2]*j[2]}function Bt(U,j,at){var vt=j[0],Ft=j[1],Jt=j[2],le=at[0],ge=at[1],Zt=at[2];return U[0]=Ft*Zt-Jt*ge,U[1]=Jt*le-vt*Zt,U[2]=vt*ge-Ft*le,U}function Et(U,j,at,vt){var Ft=j[0],Jt=j[1],le=j[2];return U[0]=Ft+vt*(at[0]-Ft),U[1]=Jt+vt*(at[1]-Jt),U[2]=le+vt*(at[2]-le),U}function Dt(U,j,at,vt,Ft,Jt){var le=Jt*Jt,ge=le*(2*Jt-3)+1,Zt=le*(Jt-2)+Jt,kt=le*(Jt-1),zt=le*(3-2*Jt);return U[0]=j[0]*ge+at[0]*Zt+vt[0]*kt+Ft[0]*zt,U[1]=j[1]*ge+at[1]*Zt+vt[1]*kt+Ft[1]*zt,U[2]=j[2]*ge+at[2]*Zt+vt[2]*kt+Ft[2]*zt,U}function It(U,j,at,vt,Ft,Jt){var le=1-Jt,ge=le*le,Zt=Jt*Jt,kt=ge*le,zt=3*Jt*ge,ne=3*Zt*le,de=Zt*Jt;return U[0]=j[0]*kt+at[0]*zt+vt[0]*ne+Ft[0]*de,U[1]=j[1]*kt+at[1]*zt+vt[1]*ne+Ft[1]*de,U[2]=j[2]*kt+at[2]*zt+vt[2]*ne+Ft[2]*de,U}function _t(U,j){j=j||1;var at=y.FD()*2*Math.PI,vt=y.FD()*2-1,Ft=Math.sqrt(1-vt*vt)*j;return U[0]=Math.cos(at)*Ft,U[1]=Math.sin(at)*Ft,U[2]=vt*j,U}function Xt(U,j,at){var vt=j[0],Ft=j[1],Jt=j[2],le=at[3]*vt+at[7]*Ft+at[11]*Jt+at[15];return le=le||1,U[0]=(at[0]*vt+at[4]*Ft+at[8]*Jt+at[12])/le,U[1]=(at[1]*vt+at[5]*Ft+at[9]*Jt+at[13])/le,U[2]=(at[2]*vt+at[6]*Ft+at[10]*Jt+at[14])/le,U}function z(U,j,at){var vt=j[0],Ft=j[1],Jt=j[2];return U[0]=vt*at[0]+Ft*at[3]+Jt*at[6],U[1]=vt*at[1]+Ft*at[4]+Jt*at[7],U[2]=vt*at[2]+Ft*at[5]+Jt*at[8],U}function R(U,j,at){var vt=at[0],Ft=at[1],Jt=at[2],le=at[3],ge=j[0],Zt=j[1],kt=j[2],zt=Ft*kt-Jt*Zt,ne=Jt*ge-vt*kt,de=vt*Zt-Ft*ge,Ce=Ft*de-Jt*ne,De=Jt*zt-vt*de,ze=vt*ne-Ft*zt,er=le*2;return zt*=er,ne*=er,de*=er,Ce*=2,De*=2,ze*=2,U[0]=ge+zt+Ce,U[1]=Zt+ne+De,U[2]=kt+de+ze,U}function F(U,j,at,vt){var Ft=[],Jt=[];return Ft[0]=j[0]-at[0],Ft[1]=j[1]-at[1],Ft[2]=j[2]-at[2],Jt[0]=Ft[0],Jt[1]=Ft[1]*Math.cos(vt)-Ft[2]*Math.sin(vt),Jt[2]=Ft[1]*Math.sin(vt)+Ft[2]*Math.cos(vt),U[0]=Jt[0]+at[0],U[1]=Jt[1]+at[1],U[2]=Jt[2]+at[2],U}function D(U,j,at,vt){var Ft=[],Jt=[];return Ft[0]=j[0]-at[0],Ft[1]=j[1]-at[1],Ft[2]=j[2]-at[2],Jt[0]=Ft[2]*Math.sin(vt)+Ft[0]*Math.cos(vt),Jt[1]=Ft[1],Jt[2]=Ft[2]*Math.cos(vt)-Ft[0]*Math.sin(vt),U[0]=Jt[0]+at[0],U[1]=Jt[1]+at[1],U[2]=Jt[2]+at[2],U}function u(U,j,at,vt){var Ft=[],Jt=[];return Ft[0]=j[0]-at[0],Ft[1]=j[1]-at[1],Ft[2]=j[2]-at[2],Jt[0]=Ft[0]*Math.cos(vt)-Ft[1]*Math.sin(vt),Jt[1]=Ft[0]*Math.sin(vt)+Ft[1]*Math.cos(vt),Jt[2]=Ft[2],U[0]=Jt[0]+at[0],U[1]=Jt[1]+at[1],U[2]=Jt[2]+at[2],U}function W(U,j){var at=U[0],vt=U[1],Ft=U[2],Jt=j[0],le=j[1],ge=j[2],Zt=Math.sqrt(at*at+vt*vt+Ft*Ft),kt=Math.sqrt(Jt*Jt+le*le+ge*ge),zt=Zt*kt,ne=zt&&Ot(U,j)/zt;return Math.acos(Math.min(Math.max(ne,-1),1))}function it(U){return U[0]=0,U[1]=0,U[2]=0,U}function nt(U){return"vec3("+U[0]+", "+U[1]+", "+U[2]+")"}function mt(U,j){return U[0]===j[0]&&U[1]===j[1]&&U[2]===j[2]}function et(U,j){var at=U[0],vt=U[1],Ft=U[2],Jt=j[0],le=j[1],ge=j[2];return Math.abs(at-Jt)<=y.Ib*Math.max(1,Math.abs(at),Math.abs(Jt))&&Math.abs(vt-le)<=y.Ib*Math.max(1,Math.abs(vt),Math.abs(le))&&Math.abs(Ft-ge)<=y.Ib*Math.max(1,Math.abs(Ft),Math.abs(ge))}var ct=p,Pt=w,At=g,ot=$,wt=Z,st=O,K=J,tt=function(){var U=L();return function(j,at,vt,Ft,Jt,le){var ge,Zt;for(at||(at=3),vt||(vt=0),Ft?Zt=Math.min(Ft*at+vt,j.length):Zt=j.length,ge=vt;ge<Zt;ge+=at)U[0]=j[ge],U[1]=j[ge+1],U[2]=j[ge+2],Jt(U,U,le),j[ge]=U[0],j[ge+1]=U[1],j[ge+2]=U[2];return j}}()},28282:function(gt,S,d){var y=d(82354);gt.exports={Graph:y.Graph,json:d(28974),alg:d(12440),version:y.version}},2842:function(gt,S,d){var y=d(89126);gt.exports=L;function L(I){var O={},T=[],_;function C(E){y.has(O,E)||(O[E]=!0,_.push(E),y.each(I.successors(E),C),y.each(I.predecessors(E),C))}return y.each(I.nodes(),function(E){_=[],C(E),_.length&&T.push(_)}),T}},53984:function(gt,S,d){var y=d(89126);gt.exports=L;function L(O,T,_){y.isArray(T)||(T=[T]);var C=(O.isDirected()?O.successors:O.neighbors).bind(O),E=[],p={};return y.each(T,function(w){if(!O.hasNode(w))throw new Error("Graph does not have node: "+w);I(O,w,_==="post",p,C,E)}),E}function I(O,T,_,C,E,p){y.has(C,T)||(C[T]=!0,_||p.push(T),y.each(E(T),function(w){I(O,w,_,C,E,p)}),_&&p.push(T))}},84847:function(gt,S,d){var y=d(63763),L=d(89126);gt.exports=I;function I(O,T,_){return L.transform(O.nodes(),function(C,E){C[E]=y(O,E,T,_)},{})}},63763:function(gt,S,d){var y=d(89126),L=d(75639);gt.exports=O;var I=y.constant(1);function O(_,C,E,p){return T(_,String(C),E||I,p||function(w){return _.outEdges(w)})}function T(_,C,E,p){var w={},g=new L,b,m,M=function(P){var k=P.v!==b?P.v:P.w,N=w[k],V=E(P),$=m.distance+V;if(V<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+P+" Weight: "+V);$<N.distance&&(N.distance=$,N.predecessor=b,g.decrease(k,$))};for(_.nodes().forEach(function(P){var k=P===C?0:Number.POSITIVE_INFINITY;w[P]={distance:k},g.add(P,k)});g.size()>0&&(b=g.removeMin(),m=w[b],m.distance!==Number.POSITIVE_INFINITY);)p(b).forEach(M);return w}},9096:function(gt,S,d){var y=d(89126),L=d(5023);gt.exports=I;function I(O){return y.filter(L(O),function(T){return T.length>1||T.length===1&&O.hasEdge(T[0],T[0])})}},38924:function(gt,S,d){var y=d(89126);gt.exports=I;var L=y.constant(1);function I(T,_,C){return O(T,_||L,C||function(E){return T.outEdges(E)})}function O(T,_,C){var E={},p=T.nodes();return p.forEach(function(w){E[w]={},E[w][w]={distance:0},p.forEach(function(g){w!==g&&(E[w][g]={distance:Number.POSITIVE_INFINITY})}),C(w).forEach(function(g){var b=g.v===w?g.w:g.v,m=_(g);E[w][b]={distance:m,predecessor:w}})}),p.forEach(function(w){var g=E[w];p.forEach(function(b){var m=E[b];p.forEach(function(M){var P=m[w],k=g[M],N=m[M],V=P.distance+k.distance;V<N.distance&&(N.distance=V,N.predecessor=k.predecessor)})})}),E}},12440:function(gt,S,d){gt.exports={components:d(2842),dijkstra:d(63763),dijkstraAll:d(84847),findCycles:d(9096),floydWarshall:d(38924),isAcyclic:d(62707),postorder:d(58828),preorder:d(92648),prim:d(80514),tarjan:d(5023),topsort:d(2166)}},62707:function(gt,S,d){var y=d(2166);gt.exports=L;function L(I){try{y(I)}catch(O){if(O instanceof y.CycleException)return!1;throw O}return!0}},58828:function(gt,S,d){var y=d(53984);gt.exports=L;function L(I,O){return y(I,O,"post")}},92648:function(gt,S,d){var y=d(53984);gt.exports=L;function L(I,O){return y(I,O,"pre")}},80514:function(gt,S,d){var y=d(89126),L=d(30771),I=d(75639);gt.exports=O;function O(T,_){var C=new L,E={},p=new I,w;function g(m){var M=m.v===w?m.w:m.v,P=p.priority(M);if(P!==void 0){var k=_(m);k<P&&(E[M]=w,p.decrease(M,k))}}if(T.nodeCount()===0)return C;y.each(T.nodes(),function(m){p.add(m,Number.POSITIVE_INFINITY),C.setNode(m)}),p.decrease(T.nodes()[0],0);for(var b=!1;p.size()>0;){if(w=p.removeMin(),y.has(E,w))C.setEdge(w,E[w]);else{if(b)throw new Error("Input graph is not connected: "+T);b=!0}T.nodeEdges(w).forEach(g)}return C}},5023:function(gt,S,d){var y=d(89126);gt.exports=L;function L(I){var O=0,T=[],_={},C=[];function E(p){var w=_[p]={onStack:!0,lowlink:O,index:O++};if(T.push(p),I.successors(p).forEach(function(m){y.has(_,m)?_[m].onStack&&(w.lowlink=Math.min(w.lowlink,_[m].index)):(E(m),w.lowlink=Math.min(w.lowlink,_[m].lowlink))}),w.lowlink===w.index){var g=[],b;do b=T.pop(),_[b].onStack=!1,g.push(b);while(p!==b);C.push(g)}}return I.nodes().forEach(function(p){y.has(_,p)||E(p)}),C}},2166:function(gt,S,d){var y=d(89126);gt.exports=L,L.CycleException=I;function L(O){var T={},_={},C=[];function E(p){if(y.has(_,p))throw new I;y.has(T,p)||(_[p]=!0,T[p]=!0,y.each(O.predecessors(p),E),delete _[p],C.push(p))}if(y.each(O.sinks(),E),y.size(T)!==O.nodeCount())throw new I;return C}function I(){}I.prototype=new Error},75639:function(gt,S,d){var y=d(89126);gt.exports=L;function L(){this._arr=[],this._keyIndices={}}L.prototype.size=function(){return this._arr.length},L.prototype.keys=function(){return this._arr.map(function(I){return I.key})},L.prototype.has=function(I){return y.has(this._keyIndices,I)},L.prototype.priority=function(I){var O=this._keyIndices[I];if(O!==void 0)return this._arr[O].priority},L.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},L.prototype.add=function(I,O){var T=this._keyIndices;if(I=String(I),!y.has(T,I)){var _=this._arr,C=_.length;return T[I]=C,_.push({key:I,priority:O}),this._decrease(C),!0}return!1},L.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var I=this._arr.pop();return delete this._keyIndices[I.key],this._heapify(0),I.key},L.prototype.decrease=function(I,O){var T=this._keyIndices[I];if(O>this._arr[T].priority)throw new Error("New priority is greater than current priority. Key: "+I+" Old: "+this._arr[T].priority+" New: "+O);this._arr[T].priority=O,this._decrease(T)},L.prototype._heapify=function(I){var O=this._arr,T=2*I,_=T+1,C=I;T<O.length&&(C=O[T].priority<O[C].priority?T:C,_<O.length&&(C=O[_].priority<O[C].priority?_:C),C!==I&&(this._swap(I,C),this._heapify(C)))},L.prototype._decrease=function(I){for(var O=this._arr,T=O[I].priority,_;I!==0&&(_=I>>1,!(O[_].priority<T));)this._swap(I,_),I=_},L.prototype._swap=function(I,O){var T=this._arr,_=this._keyIndices,C=T[I],E=T[O];T[I]=E,T[O]=C,_[E.key]=I,_[C.key]=O}},30771:function(gt,S,d){"use strict";var y=d(89126);gt.exports=T;var L="\0",I="\0",O="";function T(g){this._isDirected=y.has(g,"directed")?g.directed:!0,this._isMultigraph=y.has(g,"multigraph")?g.multigraph:!1,this._isCompound=y.has(g,"compound")?g.compound:!1,this._label=void 0,this._defaultNodeLabelFn=y.constant(void 0),this._defaultEdgeLabelFn=y.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[I]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}T.prototype._nodeCount=0,T.prototype._edgeCount=0,T.prototype.isDirected=function(){return this._isDirected},T.prototype.isMultigraph=function(){return this._isMultigraph},T.prototype.isCompound=function(){return this._isCompound},T.prototype.setGraph=function(g){return this._label=g,this},T.prototype.graph=function(){return this._label},T.prototype.setDefaultNodeLabel=function(g){return y.isFunction(g)||(g=y.constant(g)),this._defaultNodeLabelFn=g,this},T.prototype.nodeCount=function(){return this._nodeCount},T.prototype.nodes=function(){return y.keys(this._nodes)},T.prototype.sources=function(){var g=this;return y.filter(this.nodes(),function(b){return y.isEmpty(g._in[b])})},T.prototype.sinks=function(){var g=this;return y.filter(this.nodes(),function(b){return y.isEmpty(g._out[b])})},T.prototype.setNodes=function(g,b){var m=arguments,M=this;return y.each(g,function(P){m.length>1?M.setNode(P,b):M.setNode(P)}),this},T.prototype.setNode=function(g,b){return y.has(this._nodes,g)?(arguments.length>1&&(this._nodes[g]=b),this):(this._nodes[g]=arguments.length>1?b:this._defaultNodeLabelFn(g),this._isCompound&&(this._parent[g]=I,this._children[g]={},this._children[I][g]=!0),this._in[g]={},this._preds[g]={},this._out[g]={},this._sucs[g]={},++this._nodeCount,this)},T.prototype.node=function(g){return this._nodes[g]},T.prototype.hasNode=function(g){return y.has(this._nodes,g)},T.prototype.removeNode=function(g){var b=this;if(y.has(this._nodes,g)){var m=function(M){b.removeEdge(b._edgeObjs[M])};delete this._nodes[g],this._isCompound&&(this._removeFromParentsChildList(g),delete this._parent[g],y.each(this.children(g),function(M){b.setParent(M)}),delete this._children[g]),y.each(y.keys(this._in[g]),m),delete this._in[g],delete this._preds[g],y.each(y.keys(this._out[g]),m),delete this._out[g],delete this._sucs[g],--this._nodeCount}return this},T.prototype.setParent=function(g,b){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(y.isUndefined(b))b=I;else{b+="";for(var m=b;!y.isUndefined(m);m=this.parent(m))if(m===g)throw new Error("Setting "+b+" as parent of "+g+" would create a cycle");this.setNode(b)}return this.setNode(g),this._removeFromParentsChildList(g),this._parent[g]=b,this._children[b][g]=!0,this},T.prototype._removeFromParentsChildList=function(g){delete this._children[this._parent[g]][g]},T.prototype.parent=function(g){if(this._isCompound){var b=this._parent[g];if(b!==I)return b}},T.prototype.children=function(g){if(y.isUndefined(g)&&(g=I),this._isCompound){var b=this._children[g];if(b)return y.keys(b)}else{if(g===I)return this.nodes();if(this.hasNode(g))return[]}},T.prototype.predecessors=function(g){var b=this._preds[g];if(b)return y.keys(b)},T.prototype.successors=function(g){var b=this._sucs[g];if(b)return y.keys(b)},T.prototype.neighbors=function(g){var b=this.predecessors(g);if(b)return y.union(b,this.successors(g))},T.prototype.isLeaf=function(g){var b;return this.isDirected()?b=this.successors(g):b=this.neighbors(g),b.length===0},T.prototype.filterNodes=function(g){var b=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});b.setGraph(this.graph());var m=this;y.each(this._nodes,function(k,N){g(N)&&b.setNode(N,k)}),y.each(this._edgeObjs,function(k){b.hasNode(k.v)&&b.hasNode(k.w)&&b.setEdge(k,m.edge(k))});var M={};function P(k){var N=m.parent(k);return N===void 0||b.hasNode(N)?(M[k]=N,N):N in M?M[N]:P(N)}return this._isCompound&&y.each(b.nodes(),function(k){b.setParent(k,P(k))}),b},T.prototype.setDefaultEdgeLabel=function(g){return y.isFunction(g)||(g=y.constant(g)),this._defaultEdgeLabelFn=g,this},T.prototype.edgeCount=function(){return this._edgeCount},T.prototype.edges=function(){return y.values(this._edgeObjs)},T.prototype.setPath=function(g,b){var m=this,M=arguments;return y.reduce(g,function(P,k){return M.length>1?m.setEdge(P,k,b):m.setEdge(P,k),k}),this},T.prototype.setEdge=function(){var g,b,m,M,P=!1,k=arguments[0];typeof k=="object"&&k!==null&&"v"in k?(g=k.v,b=k.w,m=k.name,arguments.length===2&&(M=arguments[1],P=!0)):(g=k,b=arguments[1],m=arguments[3],arguments.length>2&&(M=arguments[2],P=!0)),g=""+g,b=""+b,y.isUndefined(m)||(m=""+m);var N=E(this._isDirected,g,b,m);if(y.has(this._edgeLabels,N))return P&&(this._edgeLabels[N]=M),this;if(!y.isUndefined(m)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(g),this.setNode(b),this._edgeLabels[N]=P?M:this._defaultEdgeLabelFn(g,b,m);var V=p(this._isDirected,g,b,m);return g=V.v,b=V.w,Object.freeze(V),this._edgeObjs[N]=V,_(this._preds[b],g),_(this._sucs[g],b),this._in[b][N]=V,this._out[g][N]=V,this._edgeCount++,this},T.prototype.edge=function(g,b,m){var M=arguments.length===1?w(this._isDirected,arguments[0]):E(this._isDirected,g,b,m);return this._edgeLabels[M]},T.prototype.hasEdge=function(g,b,m){var M=arguments.length===1?w(this._isDirected,arguments[0]):E(this._isDirected,g,b,m);return y.has(this._edgeLabels,M)},T.prototype.removeEdge=function(g,b,m){var M=arguments.length===1?w(this._isDirected,arguments[0]):E(this._isDirected,g,b,m),P=this._edgeObjs[M];return P&&(g=P.v,b=P.w,delete this._edgeLabels[M],delete this._edgeObjs[M],C(this._preds[b],g),C(this._sucs[g],b),delete this._in[b][M],delete this._out[g][M],this._edgeCount--),this},T.prototype.inEdges=function(g,b){var m=this._in[g];if(m){var M=y.values(m);return b?y.filter(M,function(P){return P.v===b}):M}},T.prototype.outEdges=function(g,b){var m=this._out[g];if(m){var M=y.values(m);return b?y.filter(M,function(P){return P.w===b}):M}},T.prototype.nodeEdges=function(g,b){var m=this.inEdges(g,b);if(m)return m.concat(this.outEdges(g,b))};function _(g,b){g[b]?g[b]++:g[b]=1}function C(g,b){--g[b]||delete g[b]}function E(g,b,m,M){var P=""+b,k=""+m;if(!g&&P>k){var N=P;P=k,k=N}return P+O+k+O+(y.isUndefined(M)?L:M)}function p(g,b,m,M){var P=""+b,k=""+m;if(!g&&P>k){var N=P;P=k,k=N}var V={v:P,w:k};return M&&(V.name=M),V}function w(g,b){return E(g,b.v,b.w,b.name)}},82354:function(gt,S,d){gt.exports={Graph:d(30771),version:d(49631)}},28974:function(gt,S,d){var y=d(89126),L=d(30771);gt.exports={write:I,read:_};function I(C){var E={options:{directed:C.isDirected(),multigraph:C.isMultigraph(),compound:C.isCompound()},nodes:O(C),edges:T(C)};return y.isUndefined(C.graph())||(E.value=y.clone(C.graph())),E}function O(C){return y.map(C.nodes(),function(E){var p=C.node(E),w=C.parent(E),g={v:E};return y.isUndefined(p)||(g.value=p),y.isUndefined(w)||(g.parent=w),g})}function T(C){return y.map(C.edges(),function(E){var p=C.edge(E),w={v:E.v,w:E.w};return y.isUndefined(E.name)||(w.name=E.name),y.isUndefined(p)||(w.value=p),w})}function _(C){var E=new L(C.options).setGraph(C.value);return y.each(C.nodes,function(p){E.setNode(p.v,p.value),p.parent&&E.setParent(p.v,p.parent)}),y.each(C.edges,function(p){E.setEdge({v:p.v,w:p.w,name:p.name},p.value)}),E}},89126:function(gt,S,d){var y;try{y={clone:d(66678),constant:d(75703),each:d(66073),filter:d(63105),has:d(18721),isArray:d(1469),isEmpty:d(41609),isFunction:d(23560),isUndefined:d(52353),keys:d(3674),map:d(35161),reduce:d(54061),size:d(84238),transform:d(68718),union:d(93386),values:d(52628)}}catch(L){}y||(y=window._),gt.exports=y},49631:function(gt){gt.exports="2.1.8"},38186:function(gt){var S=[],d=[],y="insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).";function L(O,T){if(T=T||{},O===void 0)throw new Error(y);var _=T.prepend===!0?"prepend":"append",C=T.container!==void 0?T.container:document.querySelector("head"),E=S.indexOf(C);E===-1&&(E=S.push(C)-1,d[E]={});var p;return d[E]!==void 0&&d[E][_]!==void 0?p=d[E][_]:(p=d[E][_]=I(),_==="prepend"?C.insertBefore(p,C.childNodes[0]):C.appendChild(p)),O.charCodeAt(0)===65279&&(O=O.substr(1,O.length)),p.styleSheet?p.styleSheet.cssText+=O:p.textContent+=O,p}function I(){var O=document.createElement("style");return O.setAttribute("type","text/css"),O}gt.exports=L,gt.exports.insertCss=L},47443:function(gt,S,d){var y=d(42118);function L(I,O){var T=I==null?0:I.length;return!!T&&y(I,O,0)>-1}gt.exports=L},1196:function(gt){function S(d,y,L){for(var I=-1,O=d==null?0:d.length;++I<O;)if(L(y,d[I]))return!0;return!1}gt.exports=S},62663:function(gt){function S(d,y,L,I){var O=-1,T=d==null?0:d.length;for(I&&T&&(L=d[++O]);++O<T;)L=y(L,d[O],O,d);return L}gt.exports=S},56029:function(gt,S,d){var y=d(33448);function L(I,O,T){for(var _=-1,C=I.length;++_<C;){var E=I[_],p=O(E);if(p!=null&&(w===void 0?p===p&&!y(p):T(p,w)))var w=p,g=E}return g}gt.exports=L},80760:function(gt,S,d){var y=d(89881);function L(I,O){var T=[];return y(I,function(_,C,E){O(_,C,E)&&T.push(_)}),T}gt.exports=L},41848:function(gt){function S(d,y,L,I){for(var O=d.length,T=L+(I?1:-1);I?T--:++T<O;)if(y(d[T],T,d))return T;return-1}gt.exports=S},21078:function(gt,S,d){var y=d(62488),L=d(37285);function I(O,T,_,C,E){var p=-1,w=O.length;for(_||(_=L),E||(E=[]);++p<w;){var g=O[p];T>0&&_(g)?T>1?I(g,T-1,_,C,E):y(E,g):C||(E[E.length]=g)}return E}gt.exports=I},53325:function(gt){function S(d,y){return d>y}gt.exports=S},78565:function(gt){var S=Object.prototype,d=S.hasOwnProperty;function y(L,I){return L!=null&&d.call(L,I)}gt.exports=y},42118:function(gt,S,d){var y=d(41848),L=d(62722),I=d(42351);function O(T,_,C){return _===_?I(T,_,C):y(T,L,C)}gt.exports=O},62722:function(gt){function S(d){return d!==d}gt.exports=S},70433:function(gt){function S(d,y){return d<y}gt.exports=S},82689:function(gt,S,d){var y=d(29932),L=d(97786),I=d(67206),O=d(69199),T=d(71131),_=d(7518),C=d(85022),E=d(6557),p=d(1469);function w(g,b,m){b.length?b=y(b,function(k){return p(k)?function(N){return L(N,k.length===1?k[0]:k)}:k}):b=[E];var M=-1;b=y(b,_(I));var P=O(g,function(k,N,V){var $=y(b,function(Z){return Z(k)});return{criteria:$,index:++M,value:k}});return T(P,function(k,N){return C(k,N,m)})}gt.exports=w},25970:function(gt,S,d){var y=d(63012),L=d(79095);function I(O,T){return y(O,T,function(_,C){return L(O,C)})}gt.exports=I},63012:function(gt,S,d){var y=d(97786),L=d(10611),I=d(71811);function O(T,_,C){for(var E=-1,p=_.length,w={};++E<p;){var g=_[E],b=y(T,g);C(b,g)&&L(w,I(g,T),b)}return w}gt.exports=O},40098:function(gt){var S=Math.ceil,d=Math.max;function y(L,I,O,T){for(var _=-1,C=d(S((I-L)/(O||1)),0),E=Array(C);C--;)E[T?C:++_]=L,L+=O;return E}gt.exports=y},10107:function(gt){function S(d,y,L,I,O){return O(d,function(T,_,C){L=I?(I=!1,T):y(L,T,_,C)}),L}gt.exports=S},10611:function(gt,S,d){var y=d(34865),L=d(71811),I=d(65776),O=d(13218),T=d(40327);function _(C,E,p,w){if(!O(C))return C;E=L(E,C);for(var g=-1,b=E.length,m=b-1,M=C;M!=null&&++g<b;){var P=T(E[g]),k=p;if(P==="__proto__"||P==="constructor"||P==="prototype")return C;if(g!=m){var N=M[P];k=w?w(N,P,M):void 0,k===void 0&&(k=O(N)?N:I(E[g+1])?[]:{})}y(M,P,k),M=M[P]}return C}gt.exports=_},71131:function(gt){function S(d,y){var L=d.length;for(d.sort(y);L--;)d[L]=d[L].value;return d}gt.exports=S},45652:function(gt,S,d){var y=d(88668),L=d(47443),I=d(1196),O=d(74757),T=d(23593),_=d(21814),C=200;function E(p,w,g){var b=-1,m=L,M=p.length,P=!0,k=[],N=k;if(g)P=!1,m=I;else if(M>=C){var V=w?null:T(p);if(V)return _(V);P=!1,m=O,N=new y}else N=w?[]:k;t:for(;++b<M;){var $=p[b],Z=w?w($):$;if($=g||$!==0?$:0,P&&Z===Z){for(var J=N.length;J--;)if(N[J]===Z)continue t;w&&N.push(Z),k.push($)}else m(N,Z,g)||(N!==k&&N.push(Z),k.push($))}return k}gt.exports=E},47415:function(gt,S,d){var y=d(29932);function L(I,O){return y(O,function(T){return I[T]})}gt.exports=L},1757:function(gt){function S(d,y,L){for(var I=-1,O=d.length,T=y.length,_={};++I<O;){var C=I<T?y[I]:void 0;L(_,d[I],C)}return _}gt.exports=S},26393:function(gt,S,d){var y=d(33448);function L(I,O){if(I!==O){var T=I!==void 0,_=I===null,C=I===I,E=y(I),p=O!==void 0,w=O===null,g=O===O,b=y(O);if(!w&&!b&&!E&&I>O||E&&p&&g&&!w&&!b||_&&p&&g||!T&&g||!C)return 1;if(!_&&!E&&!b&&I<O||b&&T&&C&&!_&&!E||w&&T&&C||!p&&C||!g)return-1}return 0}gt.exports=L},85022:function(gt,S,d){var y=d(26393);function L(I,O,T){for(var _=-1,C=I.criteria,E=O.criteria,p=C.length,w=T.length;++_<p;){var g=y(C[_],E[_]);if(g){if(_>=w)return g;var b=T[_];return g*(b=="desc"?-1:1)}}return I.index-O.index}gt.exports=L},67740:function(gt,S,d){var y=d(67206),L=d(98612),I=d(3674);function O(T){return function(_,C,E){var p=Object(_);if(!L(_)){var w=y(C,3);_=I(_),C=function(b){return w(p[b],b,p)}}var g=T(_,C,E);return g>-1?p[w?_[g]:g]:void 0}}gt.exports=O},47445:function(gt,S,d){var y=d(40098),L=d(16612),I=d(18601);function O(T){return function(_,C,E){return E&&typeof E!="number"&&L(_,C,E)&&(C=E=void 0),_=I(_),C===void 0?(C=_,_=0):C=I(C),E=E===void 0?_<C?1:-1:I(E),y(_,C,E,T)}}gt.exports=O},23593:function(gt,S,d){var y=d(58525),L=d(50308),I=d(21814),O=1/0,T=y&&1/I(new y([,-0]))[1]==O?function(_){return new y(_)}:L;gt.exports=T},99021:function(gt,S,d){var y=d(85564),L=d(45357),I=d(30061);function O(T){return I(L(T,void 0,y),T+"")}gt.exports=O},37285:function(gt,S,d){var y=d(62705),L=d(35694),I=d(1469),O=y?y.isConcatSpreadable:void 0;function T(_){return I(_)||L(_)||!!(O&&_&&_[O])}gt.exports=T},42351:function(gt){function S(d,y,L){for(var I=L-1,O=d.length;++I<O;)if(d[I]===y)return I;return-1}gt.exports=S},66678:function(gt,S,d){var y=d(85990),L=4;function I(O){return y(O,L)}gt.exports=I},91747:function(gt,S,d){var y=d(5976),L=d(77813),I=d(16612),O=d(81704),T=Object.prototype,_=T.hasOwnProperty,C=y(function(E,p){E=Object(E);var w=-1,g=p.length,b=g>2?p[2]:void 0;for(b&&I(p[0],p[1],b)&&(g=1);++w<g;)for(var m=p[w],M=O(m),P=-1,k=M.length;++P<k;){var N=M[P],V=E[N];(V===void 0||L(V,T[N])&&!_.call(E,N))&&(E[N]=m[N])}return E});gt.exports=C},63105:function(gt,S,d){var y=d(34963),L=d(80760),I=d(67206),O=d(1469);function T(_,C){var E=O(_)?y:L;return E(_,I(C,3))}gt.exports=T},13311:function(gt,S,d){var y=d(67740),L=d(30998),I=y(L);gt.exports=I},30998:function(gt,S,d){var y=d(41848),L=d(67206),I=d(40554),O=Math.max;function T(_,C,E){var p=_==null?0:_.length;if(!p)return-1;var w=E==null?0:I(E);return w<0&&(w=O(p+w,0)),y(_,L(C,3),w)}gt.exports=T},85564:function(gt,S,d){var y=d(21078);function L(I){var O=I==null?0:I.length;return O?y(I,1):[]}gt.exports=L},62620:function(gt,S,d){var y=d(28483),L=d(54290),I=d(81704);function O(T,_){return T==null?T:y(T,L(_),I)}gt.exports=O},18721:function(gt,S,d){var y=d(78565),L=d(222);function I(O,T){return O!=null&&L(O,T,y)}gt.exports=I},41609:function(gt,S,d){var y=d(280),L=d(64160),I=d(35694),O=d(1469),T=d(98612),_=d(44144),C=d(25726),E=d(36719),p="[object Map]",w="[object Set]",g=Object.prototype,b=g.hasOwnProperty;function m(M){if(M==null)return!0;if(T(M)&&(O(M)||typeof M=="string"||typeof M.splice=="function"||_(M)||E(M)||I(M)))return!M.length;var P=L(M);if(P==p||P==w)return!M.size;if(C(M))return!y(M).length;for(var k in M)if(b.call(M,k))return!1;return!0}gt.exports=m},52353:function(gt){function S(d){return d===void 0}gt.exports=S},10928:function(gt){function S(d){var y=d==null?0:d.length;return y?d[y-1]:void 0}gt.exports=S},66604:function(gt,S,d){var y=d(89465),L=d(47816),I=d(67206);function O(T,_){var C={};return _=I(_,3),L(T,function(E,p,w){y(C,p,_(E,p,w))}),C}gt.exports=O},6162:function(gt,S,d){var y=d(56029),L=d(53325),I=d(6557);function O(T){return T&&T.length?y(T,I,L):void 0}gt.exports=O},53632:function(gt,S,d){var y=d(56029),L=d(70433),I=d(6557);function O(T){return T&&T.length?y(T,I,L):void 0}gt.exports=O},22762:function(gt,S,d){var y=d(56029),L=d(67206),I=d(70433);function O(T,_){return T&&T.length?y(T,L(_,2),I):void 0}gt.exports=O},50308:function(gt){function S(){}gt.exports=S},78718:function(gt,S,d){var y=d(25970),L=d(99021),I=L(function(O,T){return O==null?{}:y(O,T)});gt.exports=I},96026:function(gt,S,d){var y=d(47445),L=y();gt.exports=L},54061:function(gt,S,d){var y=d(62663),L=d(89881),I=d(67206),O=d(10107),T=d(1469);function _(C,E,p){var w=T(C)?y:O,g=arguments.length<3;return w(C,I(E,4),p,g,L)}gt.exports=_},84238:function(gt,S,d){var y=d(280),L=d(64160),I=d(98612),O=d(47037),T=d(88016),_="[object Map]",C="[object Set]";function E(p){if(p==null)return 0;if(I(p))return O(p)?T(p):p.length;var w=L(p);return w==_||w==C?p.size:y(p).length}gt.exports=E},89734:function(gt,S,d){var y=d(21078),L=d(82689),I=d(5976),O=d(16612),T=I(function(_,C){if(_==null)return[];var E=C.length;return E>1&&O(_,C[0],C[1])?C=[]:E>2&&O(C[0],C[1],C[2])&&(C=[C[0]]),L(_,y(C,1),[])});gt.exports=T},68718:function(gt,S,d){var y=d(77412),L=d(3118),I=d(47816),O=d(67206),T=d(85924),_=d(1469),C=d(44144),E=d(23560),p=d(13218),w=d(36719);function g(b,m,M){var P=_(b),k=P||C(b)||w(b);if(m=O(m,4),M==null){var N=b&&b.constructor;k?M=P?new N:[]:p(b)?M=E(N)?L(T(b)):{}:M={}}return(k?y:I)(b,function(V,$,Z){return m(M,V,$,Z)}),M}gt.exports=g},93386:function(gt,S,d){var y=d(21078),L=d(5976),I=d(45652),O=d(29246),T=L(function(_){return I(y(_,1,O,!0))});gt.exports=T},73955:function(gt,S,d){var y=d(79833),L=0;function I(O){var T=++L;return y(O)+T}gt.exports=I},52628:function(gt,S,d){var y=d(47415),L=d(3674);function I(O){return O==null?[]:y(O,L(O))}gt.exports=I},7287:function(gt,S,d){var y=d(34865),L=d(1757);function I(O,T){return L(O||[],T||[],y)}gt.exports=I},86851:function(gt,S,d){"use strict";var y=d(89594),L=Array.prototype.concat,I=Array.prototype.slice,O=gt.exports=function(_){for(var C=[],E=0,p=_.length;E<p;E++){var w=_[E];y(w)?C=L.call(C,I.call(w)):C.push(w)}return C};O.wrap=function(T){return function(){return T(O(arguments))}}},89594:function(gt){gt.exports=function(d){return!d||typeof d=="string"?!1:d instanceof Array||Array.isArray(d)||d.length>=0&&(d.splice instanceof Function||Object.getOwnPropertyDescriptor(d,d.length-1)&&d.constructor.name!=="String")}},91496:function(gt){typeof Object.create=="function"?gt.exports=function(d,y){d.super_=y,d.prototype=Object.create(y.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}})}:gt.exports=function(d,y){d.super_=y;var L=function(){};L.prototype=y.prototype,d.prototype=new L,d.prototype.constructor=d}},20384:function(gt){gt.exports=function(d){return d&&typeof d=="object"&&typeof d.copy=="function"&&typeof d.fill=="function"&&typeof d.readUInt8=="function"}},89539:function(gt,S,d){var y=d(34155),L=Object.getOwnPropertyDescriptors||function(nt){for(var mt=Object.keys(nt),et={},ct=0;ct<mt.length;ct++)et[mt[ct]]=Object.getOwnPropertyDescriptor(nt,mt[ct]);return et},I=/%[sdj%]/g;S.format=function(it){if(!J(it)){for(var nt=[],mt=0;mt<arguments.length;mt++)nt.push(_(arguments[mt]));return nt.join(" ")}for(var mt=1,et=arguments,ct=et.length,Pt=String(it).replace(I,function(ot){if(ot==="%%")return"%";if(mt>=ct)return ot;switch(ot){case"%s":return String(et[mt++]);case"%d":return Number(et[mt++]);case"%j":try{return JSON.stringify(et[mt++])}catch(wt){return"[Circular]"}default:return ot}}),At=et[mt];mt<ct;At=et[++mt])V(At)||!Ot(At)?Pt+=" "+At:Pt+=" "+_(At);return Pt},S.deprecate=function(it,nt){if(typeof y!="undefined"&&y.noDeprecation===!0)return it;if(typeof y=="undefined")return function(){return S.deprecate(it,nt).apply(this,arguments)};var mt=!1;function et(){if(!mt){if(y.throwDeprecation)throw new Error(nt);y.traceDeprecation?console.trace(nt):console.error(nt),mt=!0}return it.apply(this,arguments)}return et};var O={},T;S.debuglog=function(it){if(rt(T)&&(T={NODE_ENV:"production"}.NODE_DEBUG||""),it=it.toUpperCase(),!O[it])if(new RegExp("\\b"+it+"\\b","i").test(T)){var nt=y.pid;O[it]=function(){var mt=S.format.apply(S,arguments);console.error("%s %d: %s",it,nt,mt)}}else O[it]=function(){};return O[it]};function _(it,nt){var mt={seen:[],stylize:E};return arguments.length>=3&&(mt.depth=arguments[2]),arguments.length>=4&&(mt.colors=arguments[3]),N(nt)?mt.showHidden=nt:nt&&S._extend(mt,nt),rt(mt.showHidden)&&(mt.showHidden=!1),rt(mt.depth)&&(mt.depth=2),rt(mt.colors)&&(mt.colors=!1),rt(mt.customInspect)&&(mt.customInspect=!0),mt.colors&&(mt.stylize=C),w(mt,it,mt.depth)}S.inspect=_,_.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},_.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function C(it,nt){var mt=_.styles[nt];return mt?"["+_.colors[mt][0]+"m"+it+"["+_.colors[mt][1]+"m":it}function E(it,nt){return it}function p(it){var nt={};return it.forEach(function(mt,et){nt[mt]=!0}),nt}function w(it,nt,mt){if(it.customInspect&&nt&&Dt(nt.inspect)&&nt.inspect!==S.inspect&&!(nt.constructor&&nt.constructor.prototype===nt)){var et=nt.inspect(mt,it);return J(et)||(et=w(it,et,mt)),et}var ct=g(it,nt);if(ct)return ct;var Pt=Object.keys(nt),At=p(Pt);if(it.showHidden&&(Pt=Object.getOwnPropertyNames(nt)),Et(nt)&&(Pt.indexOf("message")>=0||Pt.indexOf("description")>=0))return b(nt);if(Pt.length===0){if(Dt(nt)){var ot=nt.name?": "+nt.name:"";return it.stylize("[Function"+ot+"]","special")}if(bt(nt))return it.stylize(RegExp.prototype.toString.call(nt),"regexp");if(Bt(nt))return it.stylize(Date.prototype.toString.call(nt),"date");if(Et(nt))return b(nt)}var wt="",st=!1,K=["{","}"];if(k(nt)&&(st=!0,K=["[","]"]),Dt(nt)){var tt=nt.name?": "+nt.name:"";wt=" [Function"+tt+"]"}if(bt(nt)&&(wt=" "+RegExp.prototype.toString.call(nt)),Bt(nt)&&(wt=" "+Date.prototype.toUTCString.call(nt)),Et(nt)&&(wt=" "+b(nt)),Pt.length===0&&(!st||nt.length==0))return K[0]+wt+K[1];if(mt<0)return bt(nt)?it.stylize(RegExp.prototype.toString.call(nt),"regexp"):it.stylize("[Object]","special");it.seen.push(nt);var U;return st?U=m(it,nt,mt,At,Pt):U=Pt.map(function(j){return M(it,nt,mt,At,j,st)}),it.seen.pop(),P(U,wt,K)}function g(it,nt){if(rt(nt))return it.stylize("undefined","undefined");if(J(nt)){var mt="'"+JSON.stringify(nt).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return it.stylize(mt,"string")}if(Z(nt))return it.stylize(""+nt,"number");if(N(nt))return it.stylize(""+nt,"boolean");if(V(nt))return it.stylize("null","null")}function b(it){return"["+Error.prototype.toString.call(it)+"]"}function m(it,nt,mt,et,ct){for(var Pt=[],At=0,ot=nt.length;At<ot;++At)F(nt,String(At))?Pt.push(M(it,nt,mt,et,String(At),!0)):Pt.push("");return ct.forEach(function(wt){wt.match(/^\d+$/)||Pt.push(M(it,nt,mt,et,wt,!0))}),Pt}function M(it,nt,mt,et,ct,Pt){var At,ot,wt;if(wt=Object.getOwnPropertyDescriptor(nt,ct)||{value:nt[ct]},wt.get?wt.set?ot=it.stylize("[Getter/Setter]","special"):ot=it.stylize("[Getter]","special"):wt.set&&(ot=it.stylize("[Setter]","special")),F(et,ct)||(At="["+ct+"]"),ot||(it.seen.indexOf(wt.value)<0?(V(mt)?ot=w(it,wt.value,null):ot=w(it,wt.value,mt-1),ot.indexOf(`
`)>-1&&(Pt?ot=ot.split(`
`).map(function(st){return"  "+st}).join(`
`).substr(2):ot=`
`+ot.split(`
`).map(function(st){return"   "+st}).join(`
`))):ot=it.stylize("[Circular]","special")),rt(At)){if(Pt&&ct.match(/^\d+$/))return ot;At=JSON.stringify(""+ct),At.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(At=At.substr(1,At.length-2),At=it.stylize(At,"name")):(At=At.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),At=it.stylize(At,"string"))}return At+": "+ot}function P(it,nt,mt){var et=0,ct=it.reduce(function(Pt,At){return et++,At.indexOf(`
`)>=0&&et++,Pt+At.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ct>60?mt[0]+(nt===""?"":nt+`
 `)+" "+it.join(`,
  `)+" "+mt[1]:mt[0]+nt+" "+it.join(", ")+" "+mt[1]}function k(it){return Array.isArray(it)}S.isArray=k;function N(it){return typeof it=="boolean"}S.isBoolean=N;function V(it){return it===null}S.isNull=V;function $(it){return it==null}S.isNullOrUndefined=$;function Z(it){return typeof it=="number"}S.isNumber=Z;function J(it){return typeof it=="string"}S.isString=J;function lt(it){return typeof it=="symbol"}S.isSymbol=lt;function rt(it){return it===void 0}S.isUndefined=rt;function bt(it){return Ot(it)&&_t(it)==="[object RegExp]"}S.isRegExp=bt;function Ot(it){return typeof it=="object"&&it!==null}S.isObject=Ot;function Bt(it){return Ot(it)&&_t(it)==="[object Date]"}S.isDate=Bt;function Et(it){return Ot(it)&&(_t(it)==="[object Error]"||it instanceof Error)}S.isError=Et;function Dt(it){return typeof it=="function"}S.isFunction=Dt;function It(it){return it===null||typeof it=="boolean"||typeof it=="number"||typeof it=="string"||typeof it=="symbol"||typeof it=="undefined"}S.isPrimitive=It,S.isBuffer=d(20384);function _t(it){return Object.prototype.toString.call(it)}function Xt(it){return it<10?"0"+it.toString(10):it.toString(10)}var z=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function R(){var it=new Date,nt=[Xt(it.getHours()),Xt(it.getMinutes()),Xt(it.getSeconds())].join(":");return[it.getDate(),z[it.getMonth()],nt].join(" ")}S.log=function(){console.log("%s - %s",R(),S.format.apply(S,arguments))},S.inherits=d(91496),S._extend=function(it,nt){if(!nt||!Ot(nt))return it;for(var mt=Object.keys(nt),et=mt.length;et--;)it[mt[et]]=nt[mt[et]];return it};function F(it,nt){return Object.prototype.hasOwnProperty.call(it,nt)}var D=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;S.promisify=function(nt){if(typeof nt!="function")throw new TypeError('The "original" argument must be of type Function');if(D&&nt[D]){var mt=nt[D];if(typeof mt!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(mt,D,{value:mt,enumerable:!1,writable:!1,configurable:!0}),mt}function mt(){for(var et,ct,Pt=new Promise(function(wt,st){et=wt,ct=st}),At=[],ot=0;ot<arguments.length;ot++)At.push(arguments[ot]);At.push(function(wt,st){wt?ct(wt):et(st)});try{nt.apply(this,At)}catch(wt){ct(wt)}return Pt}return Object.setPrototypeOf(mt,Object.getPrototypeOf(nt)),D&&Object.defineProperty(mt,D,{value:mt,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(mt,L(nt))},S.promisify.custom=D;function u(it,nt){if(!it){var mt=new Error("Promise was rejected with a falsy value");mt.reason=it,it=mt}return nt(it)}function W(it){if(typeof it!="function")throw new TypeError('The "original" argument must be of type Function');function nt(){for(var mt=[],et=0;et<arguments.length;et++)mt.push(arguments[et]);var ct=mt.pop();if(typeof ct!="function")throw new TypeError("The last argument must be of type Function");var Pt=this,At=function(){return ct.apply(Pt,arguments)};it.apply(this,mt).then(function(ot){y.nextTick(At,null,ot)},function(ot){y.nextTick(u,ot,At)})}return Object.setPrototypeOf(nt,Object.getPrototypeOf(it)),Object.defineProperties(nt,L(it)),nt}S.callbackify=W},42473:function(gt){"use strict";var S=!1,d=function(){};if(S){var y=function(I,O){var T=arguments.length;O=new Array(T>1?T-1:0);for(var _=1;_<T;_++)O[_-1]=arguments[_];var C=0,E="Warning: "+I.replace(/%s/g,function(){return O[C++]});typeof console!="undefined"&&console.error(E);try{throw new Error(E)}catch(p){}};d=function(L,I,O){var T=arguments.length;O=new Array(T>2?T-2:0);for(var _=2;_<T;_++)O[_-2]=arguments[_];if(I===void 0)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");L||y.apply(null,[I].concat(O))}}gt.exports=d}}]);
